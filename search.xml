<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¦‚ä½•åˆ©ç”¨Seleniumå®ç°æ›´åŠ é«˜æ•ˆçš„çˆ¬è™«</title>
      <link href="/2021/07/10/yuque/kdo456/"/>
      <url>/2021/07/10/yuque/kdo456/</url>
      
        <content type="html"><![CDATA[<h1 id="1-å¯¼è¯­"><a href="#1-å¯¼è¯­" class="headerlink" title="1. å¯¼è¯­"></a>1. å¯¼è¯­</h1><p>Selenium ä½œä¸ºæµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œç”±äºå…¶å¯ä»¥ç›´æ¥æ‰§è¡Œ js ä»£ç çš„ä¼˜è¶Šæ€§ï¼Œç»å¸¸è¢«ç”¨åšçˆ¬è™«å·¥å…·ã€‚ä½†æ˜¯ï¼Œæ¯•ç«Ÿéœ€è¦æ§åˆ¶æµè§ˆå™¨ï¼Œä½æ•ˆç‡é«˜å†…å­˜å§‹ç»ˆæ˜¯å…¶éš¾ä»¥ç”©æ‰çš„æ ‡ç­¾ã€‚åœ¨æˆ‘ä¸ªäººçˆ¬è™«å¼€å‘ä¸­ï¼Œå¯¹å¦‚ä½•é«˜æ•ˆåˆ©ç”¨ selenium æœ‰äº†ä¸€å¥—ä¸ªäººçš„ç†è§£ã€‚</p><h1 id="2-ç”¨-js-æ³¨å…¥ä»£æ›¿-selenium-åŸç”Ÿæ“ä½œ"><a href="#2-ç”¨-js-æ³¨å…¥ä»£æ›¿-selenium-åŸç”Ÿæ“ä½œ" class="headerlink" title="2. ç”¨ js æ³¨å…¥ä»£æ›¿ selenium åŸç”Ÿæ“ä½œ"></a>2. ç”¨ js æ³¨å…¥ä»£æ›¿ selenium åŸç”Ÿæ“ä½œ</h1><p>selenium åº“æä¾›çš„ execute_script æ–¹æ³•ä½¿ js æ³¨å…¥æˆä¸ºå¯èƒ½ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª js æ³¨å…¥çš„ä¾‹å­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">js=<span class="string">&quot;document.getElementsByClassName(&#x27;form-control&#x27;)[0].value=&#x27;%s&#x27;;&quot;</span>%(requestCode[i][<span class="number">0</span>].value)</span><br><span class="line">driver.execute_script(js)</span><br></pre></td></tr></table></figure><p>ä»¥ selenium å¡«å†™è¡¨å•ä¸ºä¾‹ï¼Œpython ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vorname = driver.find_element_by_name(<span class="string">&#x27;vorname&#x27;</span>)</span><br><span class="line">vorname.send_keys(<span class="string">&#x27;vorname&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ selenium å¡«å†™è¡¨å•ï¼Œæ‰§è¡Œé€Ÿåº¦æ˜¯ç›¸å½“æ…¢çš„ï¼Œå½“ input æ ‡ç­¾å¾ˆå¤šçš„æ—¶å€™ï¼Œselenium ä¼šä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œè¡¨å•å¡«å†™ï¼Œè¿™å°±ä¼šå¯¼è‡´åœ¨å¡«å†™å®Œæ•´çš„è¡¨å•æ—¶ï¼Œå¡«å†™æ—¶é—´å…¶å®æ¯”äººä¸ºé€šè¿‡æµè§ˆå™¨ autocomplete å¿«ä¸äº†å¤šå°‘ï¼Œç”šè‡³æ›´æ…¢ã€‚<br>ä½¿ç”¨ js æ¥æ‰§è¡Œè¡¨å•å¡«å†™ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fill_form_script = <span class="string">&quot;bsform.vorname.value=&#x27;vorname&#x27;;bsform.submit()&quot;</span></span><br><span class="line">driver.execute_script(fill_form_script)</span><br></pre></td></tr></table></figure><p>bsform ä¸º form æ ‡ç­¾çš„ name å±æ€§ï¼Œvorname ä¸º input æ ‡ç­¾çš„ name å±æ€§ï¼Œé€šè¿‡ bsform.vorname.value ä»£ç å¿«é€Ÿå¡«å†™è¡¨å•ï¼Œå¤šä¸ª input å‡ ä¹æ˜¯åŒæ—¶å®Œæˆï¼Œåœ¨è°ƒç”¨ submit()æ–¹æ³•æäº¤è¡¨å•ï¼Œç”šè‡³å¯ä»¥ç›´æ¥ç»•è¿‡æµè§ˆå™¨çš„è¡¨å•éªŒè¯ã€‚ç›¸æ¯” selenium æ¨¡æ‹Ÿæ“ä½œæ›´å¿«ï¼Œä»£ç ä¹Ÿæ›´åŠ ç®€ä»‹ã€‚</p><h1 id="3-åˆ©ç”¨-ajax-ä»£æ›¿-selenium-æ‰“å¼€å¤šä¸ªçª—å£"><a href="#3-åˆ©ç”¨-ajax-ä»£æ›¿-selenium-æ‰“å¼€å¤šä¸ªçª—å£" class="headerlink" title="3. åˆ©ç”¨ ajax ä»£æ›¿ selenium æ‰“å¼€å¤šä¸ªçª—å£"></a>3. åˆ©ç”¨ ajax ä»£æ›¿ selenium æ‰“å¼€å¤šä¸ªçª—å£</h1><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ selenium æ—¶ï¼Œæœ€ä¸»è¦è¿˜æ˜¯çœ‹é‡ï¼Œå®ƒç›´æ¥å¯ä»¥æ‰§è¡Œç½‘é¡µä¸­çš„ jsï¼Œè€Œæ— éœ€åœ¨å»åˆ†æ js ä»£ç çš„ç‰¹ç‚¹ã€‚ä½†æ˜¯å—é™äºï¼Œå…¶é«˜å†…å­˜å ç”¨çš„ç¼ºç‚¹ï¼Œå¾ˆéš¾åœ¨å¤šçº¿ç¨‹æ—¶æ‰§è¡Œçˆ¬è™«ä»»åŠ¡ã€‚åˆ©ç”¨ js æ³¨å…¥å¯ä»¥åœ¨ç½‘é¡µä¸­æ‰§è¡Œ js ä»£ç ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œé‚£æ˜¯å¦å¯ä»¥æ³¨å…¥ js ç›´æ¥ç”¨ ajax æ¥è¯·æ±‚ç½‘é¡µï¼Œå¦‚æœå¯ä»¥ï¼Œç›¸æ¯”è¾ƒäºåˆ©ç”¨ requests åº“ï¼Œè¿™æ ·å¯ä»¥æå¤§çš„é¿å…è¢«ç½‘é¡µæœåŠ¡å™¨çš„åçˆ¬è™«æœºåˆ¶æ£€æµ‹åˆ°ï¼Œä¹Ÿèƒ½ç»•å¼€åˆ†æ js æ¥è·å–ä¸€äº›å‚æ•°ï¼Œç”šè‡³ ajax å¯ä»¥è‡ªåŠ¨çš„ä¸ºæˆ‘ä»¬çš„è¯·æ±‚æ·»åŠ  cookieï¼Œä¹Ÿé¿å…æ¯æ¬¡éƒ½éœ€è¦å»ä¿å­˜ cookie çš„çƒ¦æ¼ã€‚ã€‚äº‹å®ä¸Šï¼Œselenium ä¸ºäº†é¿å…å…¶è¢«æ»¥ç”¨ï¼Œå¹¶æ²¡æœ‰æä¾› ajax çš„æ‹¦æˆªåŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä¾¿æˆ‘ä»¬é€šè¿‡ js å‘èµ·äº†è¯·æ±‚ï¼Œä¹Ÿä¸èƒ½é€šè¿‡ selenium ç›´æ¥è·å–åˆ°è¿”å›çš„æ•°æ®ã€‚<br>å¯¹æ­¤ï¼Œå¯ä»¥åˆ©ç”¨ js ä»£ç ï¼Œå°† ajax è¿”å›çš„æ•°æ®æ¸²æŸ“åˆ°ç½‘é¡µä¸­ï¼Œå†é€šè¿‡ selenium æå–ç½‘é¡µæ•°æ®æ¥è·å– ajax è¿”å›çš„æ•°æ®ï¼Œè·å–åå†å°†ç½‘é¡µæ¢å¤åŸçŠ¶ã€‚è¿™æ ·ç›¸æ¯”äºï¼Œæ¯æ‰“å¼€ä¸€ä¸ªç½‘é¡µå°±æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œå¯¹å†…å­˜çš„å ç”¨å°±å°äº†å¾ˆå¤šã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Selenium </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå¦‚ä½•å‡†ç¡®çš„è®¡ç®—Httpè¯·æ±‚ä¸­çš„Content Length</title>
      <link href="/2021/06/14/yuque/bsbcfh/"/>
      <url>/2021/06/14/yuque/bsbcfh/</url>
      
        <content type="html"><![CDATA[<p>Content Length è¡¨ç¤ºçš„æ˜¯ http è¯·æ±‚ä¸­çš„æ•°æ®é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯ requests ä¸­çš„ data å¯¹åº”é•¿åº¦ã€‚<br>é€šå¸¸æˆ‘ä»¬ç»™ requests ä¼ é€’çš„ data æ˜¯å­—å…¸æ ¼å¼çš„ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ len(data)æ˜¯æ— æ³•è·å¾—å‡†ç¡®çš„ content length çš„ã€‚<br>â€‹</p><p>åœ¨ http ä¸­ï¼Œdata æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä¼ é€’çš„ã€‚é‚£ä¹ˆä»¥ä¸‹çš„å­—å…¸æ ¼å¼çš„ data å¯¹åº”çš„å­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line"><span class="string">&#x27;fid&#x27;</span>: <span class="string">&#x27;df05ef96b6407055f8690b5f30322b58db776ecc7ef099197f03353e&#x27;</span></span><br><span class="line"><span class="string">&#x27;BS_Termin_2021-06-14&#x27;</span>: <span class="string">&#x27;buchen&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å¯¹åº”çš„åœ¨ tcp ä¼ è¾“ä¸­çš„å­—ç¬¦ä¸²æ˜¯</p><blockquote><p>fid=df05ef96b6407055f8690b5f30322b58db776ecc7ef099197f03353e&amp;BS_Termin_2021-06-14=buchen</p></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œé”®å’Œå€¼ä»¥â€™=â€™è¿æ¥ï¼Œå¤šä¸ªå‚æ•°ä»¥â€™&amp;â€™è¿æ¥ã€‚ä¸‹é¢ä½¿ç”¨ python ä»£ç è®¡ç®—æ•´ä¸ªå­—ç¬¦ä¸²é•¿åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_content_length</span>(<span class="params">data</span>):</span></span><br><span class="line">    <span class="comment">#è®¡ç®—=å’Œ&amp;çš„å­—èŠ‚æ•°</span></span><br><span class="line">    length = len(data.keys()) * <span class="number">2</span> - <span class="number">1</span></span><br><span class="line">    <span class="comment">#è®¡ç®—é”®å€¼çš„å­—èŠ‚æ•°ã€‚æœ€åçš„encodeæ˜¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œutfç¼–ç ï¼Œ</span></span><br><span class="line">    <span class="comment">#å¦‚æœé”®å€¼åŒ…å«ä¸­æ–‡ï¼Œé‚£ä¹ˆä¸€ä¸ªæ±‰å­—å­—ç¬¦å¯¹åº”ä¸‰ä¸ªå­—èŠ‚ï¼Œlen()æ–¹æ³•åªèƒ½è®¡ç®—å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">#è€Œcontent lengthæ˜¯å­—èŠ‚æ•°</span></span><br><span class="line">    total = <span class="string">&#x27;&#x27;</span>.join(list(data.keys()) + list(data.values())).encode()</span><br><span class="line">    length += len(total)</span><br><span class="line">    <span class="keyword">return</span> str(length)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Content Length </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç ´è§£å›¾ç‰‡ç­‰èµ„æºè·¨åŸŸå’Œé˜²ç›—é“¾é˜»æ‹¦</title>
      <link href="/2021/02/26/yuque/lupgvk/"/>
      <url>/2021/02/26/yuque/lupgvk/</url>
      
        <content type="html"><![CDATA[<p>å¦‚æœ A ç«™ç‚¹æƒ³å°† B ç«™ç‚¹çš„ img ç­‰èµ„æºæ”¾åˆ° A ç«™ç‚¹ï¼Œé€šå¸¸ä¼šå—åˆ°å¯¹æ–¹ç«™ç‚¹é˜²ç›—é“¾çš„é˜»æ‹¦ã€‚è¿™é‡Œæ˜¯æˆ‘æä¾›çš„ä¸€ä¸ªæ€è·¯ï¼Œåˆ©ç”¨è…¾è®¯äº‘å‡½æ•°çš„å…è´¹èµ„æºï¼Œå®Œç¾ç»•å¼€é˜²ç›—é“¾ã€‚å› ä¸ºå›¾ç‰‡ä¸ä¼šå—åˆ°æµè§ˆå™¨çš„è·¨åŸŸé˜»æ‹¦ï¼Œå…¶ä»–èµ„æºçš„è·¨åŸŸé—®é¢˜ä¹Ÿèƒ½é€šè¿‡è¿™ä¸ªæ–¹æ³•è§£å†³ã€‚</p><h1 id="1ï¼šä»€ä¹ˆæ˜¯é˜²ç›—é“¾ï¼Ÿ"><a href="#1ï¼šä»€ä¹ˆæ˜¯é˜²ç›—é“¾ï¼Ÿ" class="headerlink" title="1ï¼šä»€ä¹ˆæ˜¯é˜²ç›—é“¾ï¼Ÿ"></a>1ï¼šä»€ä¹ˆæ˜¯é˜²ç›—é“¾ï¼Ÿ</h1><p>é˜²ç›—é“¾æ˜¯ç”±å¯¹æ–¹ç«™ç‚¹è®¾ç½®çš„ï¼Œé˜²æ­¢æœªå—è®¸å¯çš„ç«™ç‚¹ç›´æ¥å¼•ç”¨å¯¹æ–¹ç«™ç‚¹çš„èµ„æºã€‚æ¯”å¦‚è¿™é‡Œæœ‰ä¸€ä¸ª <code>https://www.baidu.com/abc.jpg</code>Â  å›¾ç‰‡é“¾æ¥ï¼Œå¦‚æœä½ æƒ³å°†å®ƒæ”¾åˆ° <code>www.yourweb.com</code>Â  ç«™ç‚¹çš„ img æ ‡ç­¾ src ä¸­ï¼Œå°†å—åˆ°é˜²ç›—é“¾çš„é˜»æŒ¡ï¼Œæµè§ˆå™¨å°†æ— æ³•åŠ è½½æ­¤å›¾ç‰‡ã€‚<br>é˜²ç›—é“¾æ˜¯å› ä¸ºæµè§ˆå™¨åœ¨å‘èµ·è·¨åŸŸè¯·æ±‚æ—¶æºå¸¦äº†ï¼Œreferrer è¯·æ±‚å¤´ï¼Œæ­¤è¯·æ±‚å¤´å«æœ‰ä½ çš„ç«™ç‚¹ä¸»æœºï¼Œå¯¹æ–¹è¯†åˆ«åˆ°ä½ éè®¸å¯ç«™ç‚¹ï¼Œå› æ­¤æ‹’ç»è¿”å›ç»™ä½ å›¾ç‰‡èµ„æºã€‚<br>æˆ‘åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›è§£å†³é˜²ç›—é“¾çš„åŠæ³•ï¼Œæ¯”å¦‚ï¼Œè®¾ç½® meta æ ‡ç­¾ä¸º no-referrerï¼Œä½¿ç”¨ iframeï¼Œåå‘ä»£ç†ç­‰ã€‚å…¶ä¸­ï¼Œé’ˆå¯¹ B ç«™é˜²ç›—é“¾çš„ meta æ ‡ç­¾æ— æ•ˆï¼Œiframe è¿‡äºè‡ƒè‚¿ï¼Œä¸é€‚åˆè®¾ç½®ï¼Œè€Œåå‘ä»£ç†åˆ™éœ€è¦ä¸€å°æœåŠ¡å™¨ï¼Œä»·æ ¼ä¸ç¾ä¸½ï¼Œæˆ‘ç›´æ¥ç”¨åˆ«äººç½‘ç«™ä¸Šçš„èµ„æºï¼Œä¸å°±æ˜¯ä¸ºäº†ç™½å«–å—ï¼Ÿ<br>å¯¹æ­¤æˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªï¼Œå…è´¹ç ´è§£é˜²ç›—é“¾çš„æ–¹æ³•ã€‚</p><h1 id="2ï¼šç ´è§£é˜²ç›—é“¾"><a href="#2ï¼šç ´è§£é˜²ç›—é“¾" class="headerlink" title="2ï¼šç ´è§£é˜²ç›—é“¾"></a>2ï¼šç ´è§£é˜²ç›—é“¾</h1><p>æˆ‘åœ¨è…¾è®¯äº‘å‡½æ•°ä¸Šå†™äº†ä¸€ä¸ª python ç¨‹åºï¼Œæ­¤ç¨‹åºï¼Œå°†å›¾ç‰‡èµ„æºç›´å¾„è½¬ä¸º base64 æ•°æ®ï¼Œç„¶åè¿”å›ç»™è¯·æ±‚è€…ã€‚<br>ä¸ºä»€ä¹ˆè…¾è®¯äº‘å‡½æ•°ï¼Ÿ<br>è…¾è®¯äº‘å‡½æ•°æ¯ä¸ªæœˆæœ‰å…è´¹çš„é¢åº¦ï¼Œå…¶ä¸­ 100 ä¸‡æ¬¡ api è°ƒç”¨ï¼Œ40 ä¸‡ GBs çš„å‡½æ•°è¿è¡Œæ—¶é•¿(1GBs è¡¨ç¤ºï¼Œå†…å­˜ 1GB è¿è¡Œ 1 ç§’)ï¼Œè¿˜æœ‰å¤§æ¦‚å‡ ä¸ª G çš„å¤–ç½‘æµå‡ºæµé‡ã€‚è¿™ç¾ä¸½çš„å…è´¹é‡ï¼Œè¶³å¤Ÿæˆ‘ä»¬åšå›¾ç‰‡ä»£ç†äº†ã€‚<br>ä¸ºä»€ä¹ˆè½¬ base64ï¼Ÿ<br>é¦–å…ˆï¼Œè…¾è®¯äº‘å‡½æ•°ä¸æ”¯æŒç›´æ¥è¿”å›äºŒè¿›åˆ¶æˆ–è€…å›¾ç‰‡èµ„æºï¼Œå®ƒåªèƒ½è¿”å›çº¯å­—ç¬¦ä¸²æ–‡æœ¬ï¼Œæˆ–è€… json æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚python å¯ä»¥åˆ©ç”¨ base64 åº“ï¼Œå°†å›¾ç‰‡è½¬ä¸º base64 å­—èŠ‚æµï¼Œç„¶åå¯¹å…¶è§£ç ç”Ÿæˆå­—ç¬¦ä¸²ã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œbase64 æ ¼å¼çš„å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥æ”¾å…¥ img æ ‡ç­¾çš„ src ä¸­ï¼Œè€Œæ— éœ€å†è½¬ä¸º blobã€‚<br>python ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ç›´æ¥æ”¾åˆ°imgæ ‡ç­¾srcä¸­</span></span><br><span class="line"><span class="comment">#img_urlå›¾ç‰‡çš„url</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getImgtoBase64</span>(<span class="params">img_url</span>):</span></span><br><span class="line">    resp = requests.get(img_url)</span><br><span class="line">    img_bytes=base64.b64encode(BytesIO(resp.content).read())</span><br><span class="line">    img_str = img_bytes.decode()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;data:image/&#x27;</span>+os.path.basename(img_url)+<span class="string">&#x27;;base64,&#x27;</span>+img_str</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåªæœ‰å…³é”®ä»£ç ï¼Œå¦‚ä½•é€šè¿‡äº‘å‡½æ•° api å‘äº‘å‡½æ•°ä¸­ä¼ å…¥ imgurlï¼Œéœ€è¦é¢å¤–çš„ç¨‹åºï¼Œæ¯”å¦‚ post è¯·æ±‚ä¸­æ·»åŠ  url å‚æ•°ï¼Œæˆ–è€… get è¯·æ±‚å‚æ•°ä¸­æ”¾å…¥ unicode ç¼–ç åçš„ urlã€‚<br>æ›´å¤šçš„è§£å†³åŠæ³•ï¼Œéœ€è¦è‡ªè¡Œäº†è§£äº‘å‡½æ•°ã€‚å› ä¸ºæˆ‘çš„ imgurl æ˜¯ç›´æ¥åœ¨ python ç¨‹åºä¸­é€šè¿‡çˆ¬è™«çˆ¬å–çš„ï¼Œæ²¡æœ‰é€šè¿‡å‰ç«¯å‘é€ imgurl æ‰€ä»¥æ²¡æœ‰å†è´´å‡ºæ¥ã€‚è¿™é‡Œè´´å‡ºä¸€äº›äº‘å‡½æ•°çš„å¯èƒ½è¿”å›æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‰ç«¯è¯·æ±‚æ—¶å°†urlç¼–ç </span></span><br><span class="line"><span class="comment">#é€šè¿‡getè¯·æ±‚ä¼ å…¥imgurlå‚æ•°ï¼Œhttps://serverless-api.com/?imgurl=www.baidu.com%2fabc.jpg</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_handler</span>(<span class="params">event,context</span>):</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&#x27;imgurl&#x27;</span> <span class="keyword">in</span> event[<span class="string">&#x27;queryString&#x27;</span>]):</span><br><span class="line">        imgurl = event[<span class="string">&#x27;queryString&#x27;</span>][<span class="string">&#x27;imgurl&#x27;</span>]</span><br><span class="line">        <span class="comment">#TODO å°†imgurlè¿›è¡Œurlè§£ç </span></span><br><span class="line">     <span class="comment">#imgurl_decoded=</span></span><br><span class="line">        img_str = getImgtoBase64(imgurl_decoded)</span><br><span class="line">        <span class="comment">#è¿”å›jsonæ ¼å¼çš„å†…å®¹</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;isBase64Encoded&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">        <span class="string">&quot;statusCode&quot;</span>: <span class="number">200</span>,</span><br><span class="line">        <span class="string">&quot;headers&quot;</span>: &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>:<span class="string">&#x27;*&#x27;</span>&#125;,</span><br><span class="line">        <span class="string">&quot;body&quot;</span>: &#123;<span class="string">&#x27;imgstr&#x27;</span>:img_str&#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯å›¾ç‰‡èµ„æºï¼ŒåŠ å…¥<code>Access-Control-Allow-Origin</code>Â  å¯ä»¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Serverless </tag>
            
            <tag> è·¨åŸŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Selenium-Webdriveræ¥å£</title>
      <link href="/2021/02/23/yuque/fc448d/"/>
      <url>/2021/02/23/yuque/fc448d/</url>
      
        <content type="html"><![CDATA[<p>è¶Šæ¥è¶Šå¤šçš„äººå¼€å§‹ä½¿ç”¨ Serverless æ„æ¶æ­å»ºè‡ªå·±çš„åº”ç”¨ï¼Œè€Œ Serverless çš„ç¼ºç‚¹æ˜¾è€Œæ˜“è§ï¼Œå¾ˆéš¾è‡ªå®šä¹‰è¿è¡Œæ—¶ã€‚å½“æˆ‘å°è¯•åœ¨äº‘å‡½æ•°æ­å»ºä¸€ä¸ªåŸºäº Webdriver çš„çˆ¬è™«ç¨‹åºæ—¶ï¼Œæˆ‘äº†è§£åˆ°ï¼ŒåŸºäº python çš„ Selenium åº”ç”¨è¿˜æ— æ³•åœ¨äº‘å‡½æ•°ä¸Šè¿è¡Œï¼Œè¿™æ˜¯ç”±äºäº‘å‡½æ•°å¹¶æ²¡æœ‰å®‰è£… chrome æµè§ˆå™¨ã€‚<br>å¦‚æœæƒ³åœ¨äº‘å‡½æ•°ä¸Šè¿è¡Œ Seleniumï¼Œåˆ™å¿…é¡»ä½¿ç”¨ node.js 8.10 ç‰ˆæœ¬+puppeteer æ’ä»¶ã€‚å¯¹äº node.js å¹¶ä¸ç†Ÿæ‚‰çš„æˆ‘ï¼Œéœ€è¦é‡æ–°å­¦ä¹ è¿™æ¬¾ç¨‹åºã€‚<br>æˆ‘ç›¸ä¿¡ï¼Œéšç€ Serverless çš„å‘å±•ï¼Œä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„äººè·Ÿæˆ‘ä¸€æ ·ï¼Œå¸Œæœ›é€šè¿‡äº‘å‡½æ•°åŸºäº Python å®ç° Selenium çˆ¬è™«ã€‚å› æ­¤ï¼Œæˆ‘å°†åœ¨æ­¤æ–¹å‘ä¸Šï¼Œè¿ˆå‡ºä¸€æ­¥ï¼Œæ„å»ºä¸€ä¸ª Selenium çš„ apiã€‚æ­¤åº”ç”¨ï¼Œåº”å½“ä»¥ url ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ç»™ç”¨æˆ· js å¤„ç†åçš„ html ä»£ç ã€‚æˆ‘å¸Œæœ›å®ƒæ˜¯è¿è¡Œåœ¨äº‘å‡½æ•°ä¸Šçš„ã€‚<br>ä¹Ÿè®¸å®ƒèƒ½å¤Ÿæˆä¸ºï¼Œåå‘ä»£ç†çš„ä¸€ç§æ–¹å¼ã€‚é‚£ä¹ˆç°åœ¨å¼€å§‹å­¦ä¹  Nodjs å§ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æ„æƒ³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Selenium </tag>
            
            <tag> Serverless </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºServerlessçš„éŸ³ä¹ä¸‹è½½å·¥å…·</title>
      <link href="/2021/02/22/yuque/nnzrrl/"/>
      <url>/2021/02/22/yuque/nnzrrl/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šä½¿ç”¨æ‰‹å†Œ"><a href="#1ï¼šä½¿ç”¨æ‰‹å†Œ" class="headerlink" title="1ï¼šä½¿ç”¨æ‰‹å†Œ"></a>1ï¼šä½¿ç”¨æ‰‹å†Œ</h1><p>ä¸€ä¸ªåŸºäº pythonï¼Œæ­å»ºåœ¨ Serverless äº‘å‡½æ•°ä¸Šçš„å…è´¹éŸ³ä¹ä¸‹è½½ç¨‹åºã€‚å¯å‰¥ç¦»äº‘å‡½æ•°æœ¬åœ°è¿è¡Œã€‚<br>é€šè¿‡æ„é€ å½¢å¦‚<code>[https://m.sci.ci/](https://m.sci.ci/)éŸ³ä¹ç›¸å…³ä¿¡æ¯</code>è¿™æ ·çš„ç½‘å€ï¼Œå°±å¯åœ¨æµè§ˆå™¨ä¸Šä¸‹è½½å–œæ¬¢çš„éŸ³ä¹äº†ã€‚</p><h2 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h2><p>ç®€å•çš„ä¾‹å­ï¼Œæƒ³å¬çˆ±çš„ä¾›å…»ï¼Ÿ<br>å°è¯•åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥<code>m.sci.ci/çˆ±çš„ä¾›å…»</code><br>ç°åœ¨è¯•è¯• ğŸ‘‰<a href="https://m.sci.ci/%E7%88%B1%E7%9A%84%E4%BE%9B%E5%85%BB">m.sci.ci/çˆ±çš„ä¾›å…»</a><br>è¿”å›çš„éŸ³ä¹æ–‡ä»¶æ˜¯æ¨å¹‚ç‰ˆæœ¬çš„ï¼Œä¸å–œæ¬¢ï¼Ÿ<br>å°è¯•é‡æ–°æ„é€ é“¾æ¥<code>m.sci.ci/å¼ é“é¢–å¼ æ°çˆ±çš„ä¾›å…»</code><br>ç°åœ¨è¿”å›çš„å°±æ˜¯å¼ æ°å’Œå¼ é“é¢–åˆå”±ç‰ˆå•¦ï¼<br>æ­Œæ›²ä¸‹è½½é“¾æ¥ä»…èƒ½ä¿å­˜ä¸€å¤©ï¼éŸ³ä¹æ–‡ä»¶ä»¥ä½ çš„æœç´¢å†…å®¹ä¸ºåã€‚æ¯”å¦‚<code>å¼ é“é¢–å¼ æ°çˆ±çš„ä¾›å…».mp3</code>è€Œä¸æ˜¯åŸæ¥çš„åç§°ï¼Œæ–‡ä»¶ä¸­æ­Œæ›²çš„ä¸“è¾‘ã€æ­Œè¯ç­‰ç›¸å…³ä¿¡æ¯ä¹Ÿæ˜¯æ²¡æœ‰çš„ã€‚</p><h1 id="2ï¼šæ­å»ºè‡ªå·±çš„æœåŠ¡"><a href="#2ï¼šæ­å»ºè‡ªå·±çš„æœåŠ¡" class="headerlink" title="2ï¼šæ­å»ºè‡ªå·±çš„æœåŠ¡"></a>2ï¼šæ­å»ºè‡ªå·±çš„æœåŠ¡</h1><p>Serverless åˆç§°æ— æœåŠ¡ã€äº‘å‡½æ•°ï¼Œå¯é€šè¿‡ä¸€ä¸ª api è§¦å‘ä½ å†™å¥½çš„ç¨‹åºï¼Œå¹¶è¿”å›æ•°æ®ç»™è¯·æ±‚è€…ã€‚<br>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/xieqifei/free-music">https://github.com/xieqifei/free-music</a></p><h2 id="2-1-ä¾èµ–"><a href="#2-1-ä¾èµ–" class="headerlink" title="2.1 ä¾èµ–"></a>2.1 ä¾èµ–</h2><ol><li><code>youtube-dl</code>Â  æä¾›é€šè¿‡ youtube è§†é¢‘ urlï¼Œä¸‹è½½è§†é¢‘æˆ– mp3 éŸ³ä¹æ–‡ä»¶ï¼Œéœ€è¦é€šè¿‡ pip å®‰è£…</li><li><code>qiniu</code>Â  æä¾›éŸ³ä¹å‚¨å­˜æœåŠ¡ï¼Œéœ€è¦é€šè¿‡ pip å®‰è£…</li><li><code>requests</code>Â  å‘é€ç½‘ç»œè¯·æ±‚</li><li><code>json</code>Â  è§£æ json æ•°æ®</li></ol><p>éœ€è¦åœ¨è°·æ­Œäº‘å‡½æ•° <code>requrements.txt</code>Â  ä¸­å¡«å†™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">qiniu&#x3D;&#x3D;7.3.1</span><br><span class="line">requests&#x3D;&#x3D;2.22.0</span><br><span class="line">youtube-dl&#x3D;&#x3D;2021.1.16</span><br></pre></td></tr></table></figure><h2 id="2-2-éŸ³é¢‘æå–å’Œå‚¨å­˜"><a href="#2-2-éŸ³é¢‘æå–å’Œå‚¨å­˜" class="headerlink" title="2.2 éŸ³é¢‘æå–å’Œå‚¨å­˜"></a>2.2 éŸ³é¢‘æå–å’Œå‚¨å­˜</h2><p>ä»¥ä¸‹ç¨‹åºè¿è¡Œåœ¨è°·æ­Œ Serverless æœåŠ¡ä¸Šã€‚éœ€è¦ä½ æ·»åŠ è‡ªå·±çš„ä¸ƒç‰›äº‘å‚¨å­˜æ¡¶ï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œå¯ä»¥ä½¿ç”¨è°·æ­Œæä¾›çš„å…è´¹ youtube api è·å–æœç´¢ç»“æœï¼Œç¨‹åºä¼šä¼˜å…ˆä½¿ç”¨çˆ¬è™«è·å–æœç´¢ç»“æœï¼Œå½“ç¨‹åºé¢‘ç¹è¿è¡Œæ—¶ï¼Œçˆ¬è™«ä¼šå¤±æ•ˆï¼Œä¸ºäº†æé«˜å®¹é”™ï¼Œå»ºè®®æ·»åŠ è°·æ­Œ apiï¼Œæ­¤ api æ¯å¤©å¯ä»¥å‘èµ· 100 æ¬¡è¯·æ±‚æ¥è·å– youtube æœç´¢ç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@file_name    :lambda_function.py</span></span><br><span class="line"><span class="string">@description  :</span></span><br><span class="line"><span class="string">@time         :2021/02/02 22:20:14</span></span><br><span class="line"><span class="string">@author       :Qifei</span></span><br><span class="line"><span class="string">@version      :1.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> youtube_dl</span><br><span class="line"><span class="keyword">from</span> qiniu <span class="keyword">import</span> Auth</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> qiniu.services.storage.bucket <span class="keyword">import</span> BucketManager</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸ƒç‰›äº‘å¯¹è±¡å‚¨å­˜AKå’ŒSKï¼Œä»¥åŠå‚¨å­˜æ¡¶å,å‚¨å­˜æ¡¶çš„cdnåŸŸå</span></span><br><span class="line">access_key = <span class="string">&#x27;&#x27;</span></span><br><span class="line">secret_key = <span class="string">&#x27;&#x27;</span></span><br><span class="line">bucket_name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">qnurl = <span class="string">&quot;https://qn.xieqifei.com/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è°·æ­Œapiï¼Œç”¨äºè·å–youtubeæœç´¢ç»“æœ</span></span><br><span class="line">google_appKey=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">q = Auth(access_key, secret_key)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handler</span>(<span class="params">request</span>):</span></span><br><span class="line">    musicname =  request.url.split(<span class="string">&quot;/&quot;</span>)[<span class="number">-1</span>]</span><br><span class="line">    video_url = get_video_url_in_youtube_from_crawler(musicname)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#éµå¾ªåŒæºcorsåè®®ï¼Œå¯è·¨åŸŸè®¿é—®</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="string">&#x27;*&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> video_url == <span class="number">500</span>:</span><br><span class="line">        <span class="comment">#çˆ¬è™«å¤±æ•ˆï¼Œåˆ‡æ¢api</span></span><br><span class="line">        video_url = get_video_url_in_youtube_form_api(google_appKey,musicname)</span><br><span class="line">        <span class="keyword">if</span> video_url == <span class="number">500</span>:</span><br><span class="line">            <span class="keyword">return</span> (<span class="string">&quot;error&quot;</span>,<span class="number">400</span>,headers)</span><br><span class="line">    filename = dl_mp3(musicname,video_url)</span><br><span class="line">    localpath = <span class="string">&quot;/tmp&quot;</span></span><br><span class="line">    dl_url = uploadfile(localpath,filename)</span><br><span class="line">    <span class="keyword">return</span> (dl_url, <span class="number">200</span>, headers)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†æ–‡ä»¶ä¸Šä¼ åˆ°ä¸ƒç‰›</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">uploadfile</span>(<span class="params">localpath,filename</span>):</span></span><br><span class="line">    <span class="comment">#ä¸Šä¼ åä¿å­˜çš„æ–‡ä»¶å</span></span><br><span class="line">    key = filename</span><br><span class="line">    <span class="comment">#ç”Ÿæˆä¸Šä¼  Tokenï¼Œå¯ä»¥æŒ‡å®šè¿‡æœŸæ—¶é—´ç­‰</span></span><br><span class="line">    token = q.upload_token(bucket_name, key, <span class="number">3600</span>)</span><br><span class="line">    url = <span class="string">&#x27;https://upload-z2.qiniup.com&#x27;</span></span><br><span class="line">    files = &#123;<span class="string">&#x27;file&#x27;</span>: open(localpath+<span class="string">&quot;/&quot;</span>+filename, <span class="string">&#x27;rb&#x27;</span>)&#125;</span><br><span class="line">    data = &#123;<span class="string">&#x27;token&#x27;</span>:token,<span class="string">&#x27;fileName&#x27;</span>:filename,<span class="string">&#x27;key&#x27;</span>:key&#125;</span><br><span class="line">    response = requests.post(url, files=files, data=data)</span><br><span class="line">    set_liftime(filename)</span><br><span class="line">    url=qnurl+filename</span><br><span class="line">    delete_tmp(filename)</span><br><span class="line">    <span class="keyword">return</span> url</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®ä¿å­˜åœ¨ä¸ƒç‰›äº‘ä¸Šçš„éŸ³ä¹æ–‡ä»¶1å¤©åè‡ªåŠ¨åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_liftime</span>(<span class="params">musicname</span>):</span></span><br><span class="line">    <span class="comment">#åˆå§‹åŒ–BucketManager</span></span><br><span class="line">    bucket = BucketManager(q)</span><br><span class="line">    <span class="comment">#ä½ è¦æµ‹è¯•çš„ç©ºé—´ï¼Œ å¹¶ä¸”è¿™ä¸ªkeyåœ¨ä½ ç©ºé—´ä¸­å­˜åœ¨</span></span><br><span class="line">    key = musicname</span><br><span class="line">    <span class="comment">#æ‚¨è¦æ›´æ–°çš„ç”Ÿå‘½å‘¨æœŸ</span></span><br><span class="line">    days = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    ret, info = bucket.delete_after_days(bucket_name, key, days)</span><br><span class="line">    print(info)</span><br><span class="line"></span><br><span class="line"><span class="comment">##ä¸‹è½½mp3æ ¼å¼æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dl_mp3</span>(<span class="params">musicname,url</span>):</span></span><br><span class="line">    ydl_opts = &#123;</span><br><span class="line">    <span class="string">&#x27;format&#x27;</span>: <span class="string">&#x27;bestaudio/best&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;postprocessors&#x27;</span>: [&#123;</span><br><span class="line">        <span class="string">&#x27;key&#x27;</span>: <span class="string">&#x27;FFmpegExtractAudio&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;preferredcodec&#x27;</span>: <span class="string">&#x27;mp3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;preferredquality&#x27;</span>: <span class="string">&#x27;192&#x27;</span>,</span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="string">&#x27;outtmpl&#x27;</span>: <span class="string">&#x27;/tmp/&#123;&#125;.mp3&#x27;</span>.format(musicname),</span><br><span class="line">    <span class="string">&#x27;quiet&#x27;</span>: <span class="literal">False</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">with</span> youtube_dl.YoutubeDL(ydl_opts) <span class="keyword">as</span> ydl:</span><br><span class="line">        ydl.download([url])</span><br><span class="line">        <span class="comment"># info = ydl.extract_info(url, download=False)</span></span><br><span class="line">        filename = <span class="string">&quot;&#123;&#125;.mp3&quot;</span>.format(musicname)</span><br><span class="line">    <span class="keyword">return</span> filename</span><br><span class="line"></span><br><span class="line"><span class="comment">#è°ƒç”¨è°·æ­Œapiè·å–youtubeæœç´¢ç»“æœï¼Œè¿”å›åŒ¹é…åº¦æœ€é«˜çš„è§†é¢‘é“¾æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_url_in_youtube_form_api</span>(<span class="params">appKey,music_name</span>):</span></span><br><span class="line">    print(<span class="string">&quot;ä»google apiè·å–æ•°æ®&quot;</span>)</span><br><span class="line">    url = <span class="string">&quot;https://youtube.googleapis.com/youtube/v3/search?q=&quot;</span>+music_name+<span class="string">&quot;&amp;key=&quot;</span>+appKey</span><br><span class="line">    resp = requests.get(url)</span><br><span class="line">    resp_json = resp.json()</span><br><span class="line">    <span class="keyword">if</span> resp.status_code ==<span class="number">200</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;https://www.youtube.com/watch?v=&quot;</span>+resp_json[<span class="string">&#x27;items&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;id&#x27;</span>][<span class="string">&#x27;videoId&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ©ç”¨çˆ¬è™«è·å–youtubeæœç´¢ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_url_in_youtube_from_crawler</span>(<span class="params">keyword</span>):</span></span><br><span class="line">    url=<span class="string">&quot;https://m.youtube.com/results?search_query=&quot;</span>+keyword</span><br><span class="line">    print(<span class="string">&quot;é€šè¿‡çˆ¬è™«è·å–æ•°æ®&quot;</span>)</span><br><span class="line">    resp = requests.get(url)</span><br><span class="line">    <span class="keyword">if</span> resp.status_code==<span class="number">200</span>:</span><br><span class="line">        result_json = re.findall(<span class="string">r&#x27;ytInitialData = (.*);&lt;/script&gt;&#x27;</span>, resp.text)[<span class="number">0</span>]</span><br><span class="line">        result_obj = json.loads(result_json)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            video_url = <span class="string">&quot;https://www.youtube.com/watch?v=&quot;</span>+result_obj[<span class="string">&#x27;contents&#x27;</span>][<span class="string">&#x27;twoColumnSearchResultsRenderer&#x27;</span>][<span class="string">&#x27;primaryContents&#x27;</span>][<span class="string">&#x27;sectionListRenderer&#x27;</span>][<span class="string">&#x27;contents&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;itemSectionRenderer&#x27;</span>][<span class="string">&#x27;contents&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;videoRenderer&#x27;</span>][<span class="string">&#x27;videoId&#x27;</span>]</span><br><span class="line">        <span class="keyword">except</span> KeyError:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">500</span></span><br><span class="line">        <span class="keyword">return</span> video_url</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_tmp</span>(<span class="params">filename</span>):</span></span><br><span class="line">    os.system(<span class="string">&quot;rm -f  /tmp/&quot;</span>+filename)</span><br><span class="line">    print(<span class="string">&quot;ä»tmpåˆ é™¤&quot;</span>+filename)</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ï¼Œä¼šæå–è°·æ­Œè¯·æ±‚è·¯å¾„ä¸­çš„æœ€åä¸€ä¸ªåœ°å€ä½œä¸ºæœç´¢å†…å®¹ï¼Œæ¯”å¦‚ <code>https://service-azkac26i-1258461674.hk.apigw.tencentcs.com/release/APIGWH-1612290368/çˆ±çš„ä¾›å…»</code>Â  é‚£ä¹ˆçˆ±çš„ä¾›å…»å°†ä½œä¸ºæœç´¢å…³é”®è¯ï¼Œä¸‹è½½çˆ±çš„ä¾›å…»æœ€åŒ¹é…çš„è§†é¢‘çš„éŸ³é¢‘ ï¼Œå†ä¿å­˜åˆ°ä¸ƒç‰›äº‘å¯¹è±¡å‚¨å­˜æ¡¶ä¸­ã€‚</p><blockquote><p>æ­¤ä»£ç ä»…èƒ½ç”¨äºè°·æ­Œ serverlessï¼Œç”±äºæƒé™é—®é¢˜ï¼Œåœ¨å…¶ä»– serverlessï¼Œæ¯”å¦‚è…¾è®¯ã€äºšé©¬é€Šä¸Šï¼Œåœ¨å°†ä¸‹è½½çš„è§†é¢‘æå–éŸ³é¢‘æ—¶ï¼Œffmpeg æ²¡æœ‰å¯¹è§†é¢‘çš„å†™æƒé™ï¼Œåªæœ‰è°·æ­Œæ— æœåŠ¡æ¡†æ¶æ”¯æŒã€‚æ‰€ä»¥åªèƒ½åœ¨è°·æ­Œä¸Šè¿è¡Œã€‚</p></blockquote><p>ç”±äºè°·æ­Œ Serverless ä¸æ”¯æŒè‡ªå®šä¹‰ api ç½‘å€ï¼Œè€Œè°·æ­Œçš„åŸŸååœ¨å›½å†…åˆæ— æ³•è®¿é—®ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨è…¾è®¯çš„é¦™æ¸¯ serverless å†æ„å»ºä¸€ä¸ªäº‘å‡½æ•°ã€‚è…¾è®¯äº‘å‡½æ•°æ”¯æŒè‡ªå®šä¹‰ apiã€‚<br>æˆ‘ç›¸ä¿¡é€šè¿‡ä¸€å®šçš„ä»£ç ä¿®æ”¹ï¼Œffmpeg æ˜¯æœ‰åŠæ³•å¤„ç†ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶çš„ï¼Œä½†æ˜¯ç”±äºæ—¶é—´å…³ç³»ï¼Œæˆ‘ä¸æ„¿æ„å†å»åšå°è¯•ï¼›é¢ï¼Œè¿™é‡Œå°±ç›´æ¥ç”¨äº†è°·æ­Œ Serverless åšè§†é¢‘å¤„ç†ï¼Œå†é€šè¿‡è…¾è®¯ serverless è‡ªå®šä¹‰ api å¹¶è¿”å›ç»™ç”¨æˆ·ä¸€ä¸ªç½‘é¡µï¼Œç½‘é¡µé‡Œæç¤ºç”¨æˆ·ç­‰å¾…éŸ³é¢‘å¤„ç†ï¼Œå¹¶å‘é€ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ç»™è°·æ­Œäº‘å‡½æ•°ï¼Œå½“éŸ³é¢‘å¤„ç†å®Œæ¯•ï¼Œè°·æ­Œäº‘å‡½æ•°è¿”å›ç»™ç½‘é¡µï¼ŒéŸ³é¢‘æ–‡ä»¶åœ¨ä¸ƒç‰›äº‘å‚¨å­˜æ¡¶çš„ä¿å­˜åœ°å€ã€‚</p><h2 id="2-3-ç½‘é¡µæ„å»º"><a href="#2-3-ç½‘é¡µæ„å»º" class="headerlink" title="2.3 ç½‘é¡µæ„å»º"></a>2.3 ç½‘é¡µæ„å»º</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@file_name    :scf.py</span></span><br><span class="line"><span class="string">@description  :ç”¨äºè…¾è®¯äº‘å‡½æ•°ï¼Œè‡ªå®šä¹‰åŸŸåï¼Œè¿”å›ä¸€ä¸ªé™æ€é¡µé¢ï¼Œé¡µé¢å¼‚æ­¥è¯·æ±‚è°·æ­Œäº‘å‡½æ•°ï¼Œè°·æ­Œä¸‹è½½å¹¶å¤„ç†éŸ³ä¹ã€‚ç„¶åè¿”å›é“¾æ¥ç»™é™æ€é¡µé¢</span></span><br><span class="line"><span class="string">@time         :2021/02/03 00:49:36</span></span><br><span class="line"><span class="string">@author       :Qifei</span></span><br><span class="line"><span class="string">@version      :1.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handler</span>(<span class="params">event,context</span>):</span></span><br><span class="line">    musicname =  event[<span class="string">&#x27;path&#x27;</span>].split(<span class="string">&quot;/&quot;</span>)[<span class="number">-1</span>]</span><br><span class="line">    html=<span class="string">&#x27;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;title&gt;å¤„ç†ä¸­&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;&lt;strong&gt;æœåŠ¡å™¨æ­£åœ¨å¤„ç†ä½ çš„è¯·æ±‚ï¼Œè¯·ä¸è¦å…³é—­é¡µé¢ï¼ŒéŸ³ä¹å°†åœ¨å€’è®¡æ•°ç»“æŸå‰æŠµè¾¾ã€‚ã€‚&lt;/strong&gt;&lt;/h1&gt;&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;&lt;h1 id=&quot;show&quot; name=&quot;n1&quot; &gt;&lt;/h1&gt;&lt;img src=&quot;https://qn.xieqifei.com/tipps.png&quot; alt=&quot;tipps&quot; width=&quot;300&quot;/&gt;&lt;script&gt;var xhr=new XMLHttpRequest();xhr.onload=function()&#123;window.location.replace(xhr.responseText);&#125;;xhr.onerror=function()&#123;document.getElementById(&quot;demo&quot;).innerHTML=&quot;è¯·æ±‚å‡ºé”™&quot;&#125;;xhr.open(&quot;GET&quot;,&quot;https://service-azkac26i-1258461674.hk.apigw.tencentcs.com/release/APIGWHtmlDemo-1612290368/&#x27;</span>+musicname+<span class="string">&#x27;&quot;,true);xhr.send();function countdown() &#123;var n = 20;var interval;if (n &gt; 0) &#123;interval = setInterval(() =&gt; &#123;n--;document.getElementById(&quot;show&quot;).innerHTML = n;if (n&lt;= 0) &#123;clearInterval(interval)&#125;&#125;, 1000)&#125; &#125; countdown();&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;isBase64Encoded&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">        <span class="string">&quot;statusCode&quot;</span>: <span class="number">200</span>,</span><br><span class="line">        <span class="string">&quot;headers&quot;</span>: &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span>,<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>:<span class="string">&#x27;*&#x27;</span>&#125;,</span><br><span class="line">        <span class="string">&quot;body&quot;</span>: html</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥çœ‹çœ‹ç½‘é¡µéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°ä»£ç ä¸­çš„ html å˜é‡ï¼Œæ ¼å¼åŒ–å</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>å¤„ç†ä¸­<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span></span></span><br><span class="line"><span class="tag">        &gt;</span>æœåŠ¡å™¨æ­£åœ¨å¤„ç†ä½ çš„è¯·æ±‚ï¼Œè¯·ä¸è¦å…³é—­é¡µé¢ï¼ŒéŸ³ä¹å°†åœ¨å€’è®¡æ•°ç»“æŸå‰æŠµè¾¾ã€‚ã€‚<span class="tag">&lt;/<span class="name">strong</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;show&quot;</span> <span class="attr">name</span>=<span class="string">&quot;n1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://qn.xieqifei.com/tipps.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;tipps&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">      xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">window</span>.location.replace(xhr.responseText);</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      xhr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = <span class="string">&quot;è¯·æ±‚å‡ºé”™&quot;</span></span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      xhr.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;https://service-azkac26i-1258461674.hk.apigw.tencentcs.com/release/APIGWH12290368/&#x27;+musicname+&#x27;&quot;</span>, <span class="literal">true</span>);</span></span><br><span class="line">      xhr.send();</span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">countdown</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> n = <span class="number">20</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> interval;</span></span><br><span class="line">          if (n &gt; 0) &#123;</span><br><span class="line"><span class="javascript">              interval = <span class="built_in">setInterval</span>(() = &gt;&#123;</span></span><br><span class="line">                  n--;</span><br><span class="line"><span class="javascript">                  <span class="built_in">document</span>.getElementById(<span class="string">&quot;show&quot;</span>).innerHTML = n;</span></span><br><span class="line">                  if (n &lt;= 0) &#123;</span><br><span class="line"><span class="javascript">                      <span class="built_in">clearInterval</span>(interval)</span></span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;,</span><br><span class="line">              1000)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      countdown();</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç½‘é¡µä¼šæœ‰ä¸€ä¸ªæ–‡å­—æé†’ï¼Œå¹¶æœ‰ä¸€ä¸ª 20 ç§’å€’è®¡æ—¶çš„æ ‡ç­¾ï¼Œé€šå¸¸è§†é¢‘çš„ä¸‹è½½å’Œå¤„ç†éƒ½ä¼šåœ¨åå‡ ç§’å†…å®Œæˆï¼Œå½“è°·æ­Œä¸Šçš„äº‘å‡½æ•°å¤„ç†å®ŒéŸ³é¢‘åï¼Œä¼šç›´æ¥è¿”å›ç»™ç½‘é¡µéŸ³é¢‘åœ°å€ï¼Œè€Œç½‘é¡µé€šè¿‡ js ç›´æ¥è·³è½¬åˆ°éŸ³ä¹çš„å‚¨å­˜é“¾æ¥ï¼Œå¯ä»¥ç›´æ¥æ’­æ”¾ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½ã€‚</p><h2 id="2-4-ä¸­è½¬èŠ‚ç‚¹"><a href="#2-4-ä¸­è½¬èŠ‚ç‚¹" class="headerlink" title="2.4 ä¸­è½¬èŠ‚ç‚¹"></a>2.4 ä¸­è½¬èŠ‚ç‚¹</h2><p>æ­£å¦‚ 2.2 èŠ‚æ‰€è®²ï¼Œè°·æ­Œäº‘å‡½æ•°çš„ api åœ¨å›½å†…æ˜¯æ— æ³•è®¿é—®çš„ã€‚å½“ 2.3 èŠ‚çš„ç½‘é¡µå‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨æ—¶ï¼Œè°·æ­Œäº‘å‡½æ•° api æ˜¯æœ¬åœ°å‘èµ·çš„è¯·æ±‚ï¼Œå¦‚æœç”¨æˆ·åœ¨å›½å†…ï¼Œé‚£ä¹ˆè¯·æ±‚å°†è¢«é•¿åŸé˜²ç«å¢™æ‹¦æˆªï¼Œå¯¼è‡´è¯·æ±‚å¤±è´¥ã€‚ä¸ºäº†è®©å…¨çƒç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è…¾è®¯é¦™æ¸¯äº‘å‡½æ•°ä¸Šæ­å»ºä¸€ä¸ªä¸­è½¬èŠ‚ç‚¹ã€‚æ­¤èŠ‚ç‚¹ç”¨äºæ¥æ”¶ç½‘é¡µçš„å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶è½¬å‘åˆ°è°·æ­Œäº‘å‡½æ•°ï¼Œæ¿€æ´»éŸ³ä¹ä¸‹è½½æœåŠ¡ï¼Œå¹¶è½¬å‘ç»“æœç»™ç½‘é¡µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@file_name    :scf_node.py</span></span><br><span class="line"><span class="string">@description  :è§£å†³å›½å†…ç”¨æˆ·æ— æ³•ç›´æ¥è¯·æ±‚è°·æ­Œapié—®é¢˜</span></span><br><span class="line"><span class="string">@time         :2021/02/06 12:16:35</span></span><br><span class="line"><span class="string">@author       :Qifei</span></span><br><span class="line"><span class="string">@version      :1.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handler</span>(<span class="params">event,context</span>):</span></span><br><span class="line">    musicname =  event[<span class="string">&#x27;path&#x27;</span>].split(<span class="string">&quot;/&quot;</span>)[<span class="number">-1</span>]</span><br><span class="line">    resp = requests.get(<span class="string">&quot;https://asia-east2-you*******ch-303517.cloudfunctions.net/music/&quot;</span>+musicname)</span><br><span class="line">    <span class="keyword">if</span>(resp.status_code == <span class="number">200</span>):</span><br><span class="line">        mscurl = resp.text</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;isBase64Encoded&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">            <span class="string">&quot;statusCode&quot;</span>: <span class="number">200</span>,</span><br><span class="line">            <span class="string">&quot;headers&quot;</span>: &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html; charset=&quot;UTF-8&#x27;</span>,<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>:<span class="string">&#x27;*&#x27;</span>&#125;,</span><br><span class="line">            <span class="string">&quot;body&quot;</span>: mscurl</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;isBase64Encoded&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">            <span class="string">&quot;statusCode&quot;</span>: <span class="number">500</span>,</span><br><span class="line">            <span class="string">&quot;headers&quot;</span>: &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/plain&#x27;</span>,<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>:<span class="string">&#x27;*&#x27;</span>&#125;,</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h1 id="3ï¼šç»“è¯­"><a href="#3ï¼šç»“è¯­" class="headerlink" title="3ï¼šç»“è¯­"></a>3ï¼šç»“è¯­</h1><p>é‡æ–°æ¢³ç†ä¸€éæ•´ä¸ªè¿‡ç¨‹ã€‚</p><ol><li>æˆ‘ä»¬åœ¨è°·æ­Œäº‘å‡½æ•°ä¸Šæ­å»ºäº†ä¸€ä¸ª youtube è§†é¢‘ä¸‹è½½å¹¶æå–å…¶éŸ³é¢‘çš„æœåŠ¡ã€‚</li><li>ç„¶åæ„å»ºäº†ä¸€ä¸ªç½‘é¡µï¼Œè¿™ä¸ªç½‘é¡µç”¨äºå‘è°·æ­Œäº‘å‡½æ•°å‘èµ·è¯·æ±‚ã€‚è¿™ä¸ªç½‘é¡µç”±ä¸€ä¸ªè…¾è®¯äº‘å‡½æ•°ä¸‹å‘ç»™ç”¨æˆ·ã€‚</li><li>å› ä¸ºç½‘é¡µçš„è¯·æ±‚æ˜¯ç”¨æˆ·å‘èµ·çš„ï¼Œé‚£ä¹ˆå›½å†…ç”¨æˆ·æ— æ³•è®¿é—®è°·æ­Œäº‘å‡½æ•°çš„ apiï¼Œæˆ‘ä»¬åˆåœ¨è…¾è®¯äº‘å‡½æ•°é¦™æ¸¯ä¸Šæ­å»ºäº†ä¸€ä¸ªä¸­ä¸“æœåŠ¡å‡½æ•°ï¼Œæ­¤å‡½æ•°ç”¨äºæ¥æ”¶ç½‘é¡µè¯·æ±‚ï¼Œä»£ç½‘é¡µè¯·æ±‚è°·æ­Œå¹¶è¿”å›éŸ³ä¹ä¸‹è½½é“¾æ¥ç»™ç½‘é¡µã€‚</li></ol><p>å¦‚æœä½ çš„æœåŠ¡å¯¹è±¡æ˜¯å›½å¤–ç”¨æˆ·ï¼Œé‚£ä¹ˆä¸­ä¸“èŠ‚ç‚¹æ˜¯ä¸éœ€è¦çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Serverless </tag>
            
            <tag> Youtube-dl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ifvodä¸Šçˆ¬å–m3u8æ’­æ”¾é“¾æ¥</title>
      <link href="/2021/02/21/yuque/rs5ytp/"/>
      <url>/2021/02/21/yuque/rs5ytp/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šç»ª"><a href="#0ï¼šç»ª" class="headerlink" title="0ï¼šç»ª"></a>0ï¼šç»ª</h1><p>åœ¨ä¸Šä¸ªæœˆï¼Œæˆ‘é€šè¿‡çˆ¬å– youtube è§†é¢‘ï¼Œæå– mp3ï¼Œåˆ¶ä½œäº†ä¸€ä¸ªåŸºäºäº‘å‡½æ•°çš„æœç´¢éŸ³ä¹ç½‘ç«™ã€‚åæ¥ï¼Œæˆ‘æŠ±ç€è§£å†³ ifvod å¹¿å‘Šçš„æƒ³æ³•ï¼Œé˜…è¯»äº† ifvod çš„ç½‘ç«™æºç ï¼Œå¹¶ä¸”é€šè¿‡ä¿®æ”¹ js ä»£ç ï¼ŒæˆåŠŸåˆ é™¤äº† ifvod çš„å¹¿å‘Šã€‚å—ä¸Šè¿°ä¸¤ä¸ªè¿‡ç¨‹çš„å¯å‘ï¼Œæˆ‘æƒ³ï¼Œé€šè¿‡æå– ifvod ä¸Šçš„è§†é¢‘ m3u8 é“¾æ¥æ¥åˆ¶ä½œä¸€ä¸ªåŸºäºäº‘å‡½æ•°çš„è§†é¢‘æœç´¢ç½‘ç«™ã€‚</p><h1 id="1ï¼šä»€ä¹ˆæ˜¯-m3u8"><a href="#1ï¼šä»€ä¹ˆæ˜¯-m3u8" class="headerlink" title="1ï¼šä»€ä¹ˆæ˜¯ m3u8"></a>1ï¼šä»€ä¹ˆæ˜¯ m3u8</h1><p>m3u8 æ–‡ä»¶æ˜¯ä¸€ç§æ–‡æœ¬æ–‡ä»¶ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#EXTM3U</span><br><span class="line">#EXT-X-VERSION:3</span><br><span class="line">#EXT-X-TARGETDURATION:18</span><br><span class="line">#EXTINF:10.677,</span><br><span class="line">media_0.ts?dnvodendtime&#x3D;1613939123&amp;dnvodhash&#x3D;LMkLRmsUktNRN4h-OrHuElRGhV71N32vV4nueFAQJXw%3D&amp;dnvodCustomParameter&#x3D;0_2003%3Ae3%3Af2f%3A5700%3A8417%3Aeeca%3A9a8e%3A1d35_1&amp;lb&#x3D;3c19337f6084516e1517490ee377c4b9&amp;us&#x3D;1&amp;vv&#x3D;4e5dcf3b2432cd03dd525e0489d72248&amp;pub&#x3D;1613766323672</span><br><span class="line">#EXTINF:14.515,</span><br><span class="line">media_1.ts?dnvodendtime&#x3D;1613939123&amp;dnvodhash&#x3D;LMkLRmsUktNRN4h-OrHuElRGhV71N32vV4nueFAQJXw%3D&amp;dnvodCustomParameter&#x3D;0_2003%3Ae3%3Af2f%3A5700%3A8417%3Aeeca%3A9a8e%3A1d35_1&amp;lb&#x3D;3c19337f6084516e1517490ee377c4b9&amp;us&#x3D;1&amp;vv&#x3D;4e5dcf3b2432cd03dd525e0489d72248&amp;pub&#x3D;1613766323672</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªæ–‡æœ¬ä¸­ï¼Œè®°å½•äº†è§†é¢‘çš„æºåœ°å€ã€‚ã€‚æˆ‘ä»¬å¸¸è§çš„è§†é¢‘æ ¼å¼æ¯”å¦‚ mp4ï¼Œmp4 æ–‡ä»¶ç›´æ¥å‚¨å­˜äº†è§†é¢‘çš„å…¨éƒ¨ä¿¡æ¯ã€‚å¯ç›´æ¥ä½¿ç”¨æ’­æ”¾å™¨æ’­æ”¾ã€‚è€Œ m3u åˆç§°æµåª’ä½“ï¼Œè¿™ç§æ–¹æ³•ï¼Œæ˜¯å°†åŸæ¥å®Œæ•´çš„è§†é¢‘ï¼Œåˆ‡å‰²æˆå‡ ç§’åˆ°åå‡ ç§’ä¸ç­‰çš„ï¼Œts æ ¼å¼çš„è§†é¢‘ç‰‡æ®µï¼Œå°†æ¯ä¸ªç‰‡æ®µä½œä¸ºä¸€ä¸ªè§†é¢‘å†…å®¹å‚¨å­˜åœ¨æœåŠ¡å™¨ï¼Œè€Œ m3u8 æ–‡ä»¶å‚¨å­˜çš„å°±æ˜¯æ¯ä¸ªç‰‡æ®µçš„ url åœ°å€ã€‚html5 æ’­æ”¾å™¨é€šè¿‡æ£€ç´¢ m3u8 æ–‡ä»¶çš„å†…å®¹ï¼Œé€ä¸ªä¸‹è½½è§†é¢‘ç‰‡æ®µï¼Œå¹¶æ’­æ”¾ã€‚å¦‚ä»Šæœ‰è®¸å¤šè½¯ä»¶æ”¯æŒï¼Œæ ¹æ® m3u8 æ–‡ä»¶ä¸‹è½½æˆ–æ’­æ”¾è§†é¢‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰äº† m3u8 æ–‡ä»¶çš„ urlï¼Œå°±å¯ä»¥åœ¨ç½‘ç«™å¤–ä¸‹è½½å’Œæ’­æ”¾è§†é¢‘äº†ã€‚</p><h1 id="2ï¼šæ„é€ -json-è¯·æ±‚é“¾æ¥"><a href="#2ï¼šæ„é€ -json-è¯·æ±‚é“¾æ¥" class="headerlink" title="2ï¼šæ„é€  json è¯·æ±‚é“¾æ¥"></a>2ï¼šæ„é€  json è¯·æ±‚é“¾æ¥</h1><p>é€šè¿‡åˆ†æ ifvod ç½‘ç«™è¿”å›çš„æ•°æ®ï¼Œå¯ä»¥å‘ç°ã€‚åœ¨ä¸€ä¸ªè¯·æ±‚è¿”å›çš„ json æ•°æ®ä¸­ï¼ŒåŒ…å«äº†æˆ‘ä»¬æƒ³è¦çš„è§†é¢‘åœ°å€ï¼Œè¯·æ±‚æ˜¯</p><blockquote><p><a href="https://m8.ifvod.tv/api/video/play?cinema=1&id=xcql1mznpF0&region=DE&device=1&ispath=true&usersign=1&vv=ad4bee064a3af6c8a41cda35111966fd&pub=1613905710379">https://m8.ifvod.tv/api/video/play?cinema=1&amp;id=xcql1mznpF0&amp;region=DE&amp;device=1&amp;ispath=true&amp;usersign=1&amp;vv=ad4bee064a3af6c8a41cda35111966fd&amp;pub=1613905710379</a></p></blockquote><p>åˆ†æè¿™ä¸ªè¯·æ±‚ urlï¼Œå¯ä»¥å‘ç°ï¼Œå…¶ä¸­ id æ˜¯è§†é¢‘çš„ idï¼Œç›´æ¥å‡ºç°åœ¨è§†é¢‘æ’­æ”¾çš„åœ°å€æ ä¸­ï¼Œvv å’Œ pub æ˜¯ç­¾åå’Œå…¬é’¥ï¼Œæœ‰äº†è¿™ä¸‰ä¸ªæ•°æ®ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è§†é¢‘çš„ id æ¥è·å–è§†é¢‘çš„ m3u8 åœ°å€äº†ã€‚<br>å°è¯•è¯·æ±‚è¿™ä¸ªå¯ä»¥çœ‹åˆ°è¿”å›çš„æ•°æ®æ˜¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;ret&quot;</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;info&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="number">625223</span>,</span><br><span class="line">        <span class="attr">&quot;vl&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;add_date&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;post_Year&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;channel&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;videoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;contxt&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;updateweekly&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;commentNumber&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;isVideoFavrited&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">&quot;taxis&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;flvPathList&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://s1-a1.dnvodcdn.me/fast/423B3C813853-70244.mp4&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPI%26d%3d1169%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://s1-a1.dnvodcdn.me/fast/A0B67356-87371.mp4&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPI%26d%3d1230%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://s1-a1.dnvodcdn.me/fast/F709860823-88837.mp4&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPI%26i%3d575%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://hss8.dnvodcdn.me/ppot/_definst_/mp4:s8/gvod/xj-fllyssx-480p-03656717C.mp4/chunklist.m3u8?dnvodendtime=1614078950&amp;dnvodhash=c7O8AgFsLq6N1O8ysAfNyp6SlvOLrVniVvvW2PEz8zU=&amp;dnvodCustomParameter=0_2003%3ae3%3af2f%3a5700%3a8417%3aeeca%3a9a8e%3a1d35_1&amp;lb=1f4a12a7923561331e23eee32ad4be8a&amp;us=1&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="string">&quot;https://hss8.dnvodcdn.me/ppot/_definst_/mp4:s8/gvod/xj-fllyssx-480p-03656717C.mp4/chunklist.m3u8?dnvodendtime=1614078950&amp;dnvodhash=c7O8AgFsLq6N1O8ysAfNyp6SlvOLrVniVvvW2PEz8zU=&amp;dnvodCustomParameter=0_2003%3ae3%3af2f%3a5700%3a8417%3aeeca%3a9a8e%3a1d35_1&amp;lb=1f4a12a7923561331e23eee32ad4be8a&amp;us=1&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;480P&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;imgPath&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;unlockGold&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;playRecordURL&quot;</span>: <span class="string">&quot;//counter.timegate.vip/api/Counter/PlusOne?key=AddHitToMovie&amp;id=27212&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;favrateNumber&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;filterGold&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;puamPfe8zf7&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;cid&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;commentStatus&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;shareCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;pinfenRate&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line">        <span class="attr">&quot;renqiRate&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line">        <span class="attr">&quot;customData&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;isGuestHasMore&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">&quot;link&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;isVIPHasMore&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">&quot;pauseData&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://ppt.ifvod.tv/upload/video/202010020923422328455s.jpg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPZ%26d%3d1174%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://ppt.ifvod.tv/upload/video/202012140947004731731s.jpg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPZ%26d%3d1173%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://ppt.ifvod.tv/upload/video/202011032259305913218s.jpg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPZ%26d%3d2145%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://ppt.ifvod.tv/upload/video/202102191325542507558s.jpg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPZ%26d%3d2373%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;isHls&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;result&quot;</span>: <span class="string">&quot;https://ppt.ifvod.tv/upload/video/202102120906530682725s.jpg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;validator&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;link&quot;</span>: <span class="string">&quot;http://ppt.ifvod.tv/c/c?position%3dPZ%26d%3d1179%26r%3d7&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;broker&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;backup&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;rtmp&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;needSign&quot;</span>: <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;startData&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;guestSeriesList&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;vipSeriesList&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;commentList&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;languageList&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;downloadList&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;videoServer&quot;</span>: &#123; <span class="attr">&quot;status&quot;</span>: <span class="number">0</span>, <span class="attr">&quot;info&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="attr">&quot;isMp4Available&quot;</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">        <span class="attr">&quot;copyRightInfo&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;publisher&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;previewFormat&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;uniqueKey&quot;</span>: <span class="string">&quot;27212_625221&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;starImg&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;starID&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;starBgColor&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;age&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;isSpecialArea&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ flvPathList é”®æ”¾çš„å­˜æ”¾ç€å¹¿å‘Šå’Œè§†é¢‘çš„åœ°å€ã€‚<br>ç°åœ¨åˆ†æï¼Œvv å’Œ pub å‚æ•°ã€‚<br>é€šå¸¸ï¼Œä¸ºäº†ä¿è¯è¯·æ±‚é“¾æ¥ä¸è¢«ç¯¡æ”¹ï¼Œå¹¶ä¸”ï¼Œè¯·æ±‚è¿æ¥ä¸èƒ½é•¿æœŸæœ‰æ•ˆï¼Œéƒ½ä¼šç»™è¯·æ±‚è¿æ¥æ·»åŠ ä¸€ä¸ªç­¾åï¼Œä»¥ä¿è¯å®ƒéšæ—¶å˜åŒ–ä¸”ä¸è¢«ç¯¡æ”¹ã€‚pub æ˜¯ publickey çš„ç®€å†™ï¼Œä¹Ÿå°±æ˜¯å…¬é’¥ï¼Œç›¸å¯¹åº”çš„ï¼Œä»–è¿˜æœ‰ç§é’¥ privatekeyã€‚è¿™ä¸¤ä¸ªå€¼ï¼Œé€šå¸¸éƒ½æ˜¯ç”±æœåŠ¡å™¨æŒ‡å®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬éƒ½æ˜¯å¯å˜çš„ã€‚ã€‚åˆ†æ js æºç ï¼Œå¯ä»¥å‘ç°ï¼Œpubkey æ˜¯ç”± js ç”Ÿæˆçš„å½“å‰æ¯«ç§’æ—¶é—´æˆ³ã€‚ã€‚ç§é’¥æ˜¯é€šè¿‡ pubkey ç»è¿‡ä¸€æ®µè¿ç®—ï¼Œåœ¨ 7 ä¸ªç§é’¥åˆ—è¡¨ä¸­é€‰æ‹©çš„ä¸€ä¸ªã€‚è¿™ç§ç®—æ³•æ˜¯å¯ç¬‘çš„ï¼Œå› ä¸ºé€šå¸¸å…¬é’¥åº”è¯¥é€šè¿‡ç§é’¥æ¥ç”Ÿæˆã€‚ç§é’¥æ›´ä¸å¯èƒ½å‚¨å­˜åœ¨æœ¬åœ°ã€‚<br>ç„¶åæ˜¯ vv å‚æ•°ï¼Œvv å‚æ•°æ˜¯ä¸Šè¿°è¯·æ±‚çš„ url å‚æ•°åŠ ä¸Šå…¬é’¥å’Œç§é’¥ï¼Œå†é€šè¿‡ md5 ç¼–ç ï¼Œè¿”å›çš„ 32 ä½å­—ç¬¦ä¸²ã€‚<br>æˆ‘ä½¿ç”¨ python ä¹¦å†™äº†ä¸€ä¸ªé€šè¿‡åŸå§‹ urlï¼Œæ¥è·å–ç­¾åå’Œæ·»åŠ å…¬é’¥åçš„ url çš„ç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Signurl</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, url: str, publicKey: int</span>):</span></span><br><span class="line">        self.publicKey = publicKey</span><br><span class="line">        self.privateKey = [<span class="string">&quot;version001&quot;</span>, <span class="string">&quot;vers1on001&quot;</span>, <span class="string">&quot;vers1on00i&quot;</span>,</span><br><span class="line">                           <span class="string">&quot;bersion001&quot;</span>, <span class="string">&quot;vcrsion001&quot;</span>, <span class="string">&quot;versi0n001&quot;</span>, <span class="string">&quot;versio_001&quot;</span>, <span class="string">&quot;version0o1&quot;</span>]</span><br><span class="line">        self.oldUrl = url</span><br><span class="line">        self.newUrl = self._getSignUrl()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_getSignUrl</span>(<span class="params">self</span>):</span></span><br><span class="line">        paramsStr = self._getParamsStr()</span><br><span class="line">        r = str(self.publicKey) + <span class="string">&quot;&amp;&quot;</span> + paramsStr + <span class="string">&quot;&amp;&quot;</span> + self._getPrivateKey()</span><br><span class="line">        hl = hashlib.md5()</span><br><span class="line">        hl.update(r.encode())</span><br><span class="line">        newUrl = self.oldUrl+<span class="string">&quot;&amp;vv=&quot;</span>+hl.hexdigest()+<span class="string">&quot;&amp;pub=&quot;</span>+str(self.publicKey)</span><br><span class="line">        <span class="keyword">return</span> newUrl</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_getParamsStr</span>(<span class="params">self</span>) -&gt; str:</span></span><br><span class="line">        paramsStr = <span class="string">&quot;&quot;</span></span><br><span class="line">        params = parse.parse_qs(parse.urlparse(self.oldUrl).query)</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> params:</span><br><span class="line">            paramsStr += key + <span class="string">&quot;=&quot;</span> + params[key][<span class="number">0</span>]</span><br><span class="line">            paramsStr += <span class="string">&quot;&amp;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> paramsStr[<span class="number">0</span>:<span class="number">-1</span>].lower()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_getPrivateKey</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.privateKey[self.publicKey % len(self.privateKey)]</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ publickey å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç ç”Ÿæˆï¼ŒpublicKeyÂ =Â int(time.time()*1000)</p><h1 id="3ï¼šæå–-m3u8-é“¾æ¥"><a href="#3ï¼šæå–-m3u8-é“¾æ¥" class="headerlink" title="3ï¼šæå– m3u8 é“¾æ¥"></a>3ï¼šæå– m3u8 é“¾æ¥</h1><p>åœ¨è·å–äº†ï¼Œjson æ•°æ®åï¼Œæå–å‡º m3u8 çš„é“¾æ¥ï¼š</p><blockquote><p><a href="https://hss8.dnvodcdn.me/ppot/_definst_/mp4:s8/gvod/xj-fllyssx-480p-03656717C.mp4/chunklist.m3u8?dnvodendtime=1614078521&dnvodhash=0KnVagh-3RIHR_0fE_qVTS3X_t1ogc9iRTbuUYK5GYI=&dnvodCustomParameter=0_2003:e3:f2f:5700:8417:eeca:9a8e:1d35_1&lb=1f4a12a7923561331e23eee32ad4be8a&us=1">https://hss8.dnvodcdn.me/ppot/<em>definst</em>/mp4:s8/gvod/xj-fllyssx-480p-03656717C.mp4/chunklist.m3u8?dnvodendtime=1614078521&amp;dnvodhash=0KnVagh-3RIHR_0fE_qVTS3X_t1ogc9iRTbuUYK5GYI=&amp;dnvodCustomParameter=0_2003%3ae3%3af2f%3a5700%3a8417%3aeeca%3a9a8e%3a1d35_1&amp;lb=1f4a12a7923561331e23eee32ad4be8a&amp;us=1</a></p></blockquote><p>ç›´æ¥è¯·æ±‚è¿™ä¸ªé“¾æ¥æ˜¯ï¼Œæ— æ³•è·å–åˆ° m3u8 æ–‡ä»¶çš„ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡å®ƒé‡æ–°æ„é€ è¯·æ±‚ï¼ŒåŒæ ·æ˜¯ä½¿ç”¨ 2 ç« èŠ‚æ‰€ç”¨çš„ Signurl ç±»ï¼Œå¯¹æ­¤ url ç­¾åã€‚ä¼šå¢åŠ  vv å’Œ pub å‚æ•°åœ¨ä¸Šè¿° url æœ«å°¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Video</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, id: str</span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        self.publicKey = int(time.time()*<span class="number">1000</span>)</span><br><span class="line">        self.id = id</span><br><span class="line">        self.dataUrl = <span class="string">&quot;https://m8.ifvod.tv/api/video/play?cinema=1&amp;id=&quot;</span> + \</span><br><span class="line">            id+<span class="string">&quot;&amp;region=DE&amp;device=1&amp;usersign=1&quot;</span></span><br><span class="line">        self.playUrl = self._getM3u8Url()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_getM3u8Url</span>(<span class="params">self</span>) -&gt; str:</span></span><br><span class="line">        m3u8url = self._getData()</span><br><span class="line">        <span class="keyword">if</span> m3u8url:</span><br><span class="line">            <span class="keyword">return</span> Signurl(m3u8url, self.publicKey).newUrl</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_getData</span>(<span class="params">self</span>):</span></span><br><span class="line">        reqUrl = Signurl(self.dataUrl, self.publicKey).newUrl</span><br><span class="line">        rep = requests.get(reqUrl)</span><br><span class="line">        <span class="keyword">if</span> rep.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> rep.json()[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;info&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;flvPathList&#x27;</span>][<span class="number">-1</span>][<span class="string">&#x27;result&#x27;</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">print(Video(<span class="string">&quot;WdS12xLwXh6&quot;</span>).playUrl)</span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°ä¸¤ç«¯ä»£ç æ”¾åˆ°åŒä¸€ä¸ª py æ–‡ä»¶ä¸­æ‰§è¡Œï¼Œå°±å¯ä»¥è·å– m3u8 çš„æ’­æ”¾é“¾æ¥äº†ã€‚</p><h1 id="4ï¼šç»“è¯­"><a href="#4ï¼šç»“è¯­" class="headerlink" title="4ï¼šç»“è¯­"></a>4ï¼šç»“è¯­</h1><p>æˆ‘å°è¯•å°†æ­¤é“¾æ¥é€šè¿‡åœ¨çº¿ m3u8 æ’­æ”¾å™¨è¿›è¡Œæ’­æ”¾ï¼Œé‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœè¿™ä¸ªè§†é¢‘æ’­æ”¾äº†ä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆåœ¨ç½‘é¡µæ’­æ”¾å™¨ä¸­ï¼Œé€šè¿‡ m3u8 åªèƒ½æ’­æ”¾åˆ° ifvod ç½‘é¡µä¸Šçš„ä½ç½®ã€‚é€šè¿‡åˆ†æï¼Œæˆ‘æ¨æµ‹ï¼Œifvod å¯¹ m3u8 é“¾æ¥çš„è¯·æ±‚åšäº†é˜²ç›—é“¾è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å…¶ä»–ç½‘ç«™ä¸Šæ’­æ”¾è¿™ä¸ª m3u8 è§†é¢‘ï¼Œæ˜¯æ— æ³•æ’­æ”¾çš„ï¼Œä¹‹æ‰€ä»¥å‡ºç°éƒ¨åˆ†ç‰‡æ®µèƒ½å¤Ÿæ’­æ”¾ï¼Œæ˜¯å› ä¸º ifvod æ’­æ”¾è¿‡çš„ç‰‡æ®µä¼šç»è¿‡ cdnï¼Œåœ¨ cdn ä¸Šæ˜¯æ²¡æœ‰é˜²ç›—é“¾çš„ã€‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæƒ³é€šè¿‡åœ¨çº¿ m3u8 æ’­æ”¾å™¨å’Œé€šè¿‡ serverless æœåŠ¡æ­å»ºä¸€ä¸ªæ’­æ”¾å™¨çš„æƒ³æ³•æ˜¯ä¸èƒ½å®ç°çš„ã€‚<br>ä¸ºæ­¤ï¼Œæˆ‘èŠ±äº†è®¸å¤šæ—¶é—´æ¥å°è¯•å’Œæœç´¢ç ´è§£æ–¹æ³•ã€‚å…¶ä¸­ï¼Œiframe ä¸­æ·»åŠ  referrerpolicyï¼Œç½‘é¡µä¸­æ·»åŠ  meta æ ‡ç­¾å¹¶ä¿®æ”¹ä½ no-referrer å‡æ— æ³•ä½¿è§†é¢‘æ’­æ”¾ã€‚<br>å”¯ä¸€çš„åŠæ³•æ˜¯ä½¿ç”¨åå‘ä»£ç†ï¼Œæˆ‘åœ¨æˆ‘ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ nginx åå‘ä»£ç†ï¼Œå®ç°äº†è¿™ä¸€è¿‡ç¨‹ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä»£ä»·å¤ªå¤§äº†ï¼Œé¦–å…ˆï¼Œserverless æ˜¯æœ‰å…è´¹é¢åº¦çš„ã€‚è€ŒæœåŠ¡å™¨éœ€è¦è‡ªå·±æè…°åŒ…ã€‚é€šè¿‡ä»£ç†ï¼Œæµé‡ä¼šç»è¿‡æœåŠ¡å™¨æ”¶è´¹ã€‚ç›¸å½“ä¸åˆ’ç®—ã€‚æ²¡æœ‰å®ç°çš„ä»·å€¼ã€‚<br>å¦‚æœä¸é€šè¿‡è‡ªå·±çš„ç½‘ç«™ï¼Œæ¯”å¦‚ä½¿ç”¨ chrome æµè§ˆå™¨æ’ä»¶ï¼ŒPlay HLS M3u8ï¼Œå¯ä»¥ç›´æ¥åœ¨æœ¬åœ°æ’­æ”¾ m3u è§†é¢‘ï¼ŒåŸºäºæ­¤ï¼Œå¯ä»¥è‡ªå·±åšä¸€ä¸ªæ’ä»¶ï¼Œé€šè¿‡æœç´¢ï¼Œåœ¨æœ¬åœ°æ’­æ”¾ï¼Œå› ä¸ºæµè§ˆå™¨æ’ä»¶æ˜¯å¯ä»¥ä¿®æ”¹ referer çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
            <tag> m3u8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯­é›€+æœ¬åœ°hexoåšå®¢ä¹¦å†™</title>
      <link href="/2021/02/21/yuque/fo0ngh/"/>
      <url>/2021/02/21/yuque/fo0ngh/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ç§æ›¿ä»£ Typoraï¼Œèƒ½å¤Ÿå®ç°åœ¨çº¿ä¹¦å†™ä¸ªäººåšå®¢çš„æ–¹æ³•ã€‚ä¸€æ¬¡å¶ç„¶çš„é˜…è¯»ï¼Œæˆ‘äº†è§£äº†è¯­é›€ã€‚åœ¨ç½‘ä¸Šæ£€ç´¢åå‘ç°ï¼Œå·²ç»æœ‰ä¸å°‘æ•™ç¨‹è®²è§£å¦‚ä½•é€šè¿‡è¯­é›€çš„é’©å­+Github Action+äº‘å‡½æ•°çš„æ–¹æ³•ï¼Œåœ¨çº¿åŒæ­¥è¯­é›€æ–‡ç« åˆ° github åšå®¢ã€‚åœ¨è¿™ç‰‡æ–‡ç« é‡Œï¼Œæˆ‘æ€»ç»“äº†ï¼Œä»Šå¤©æ­å»ºè¯­é›€è¿‡ç¨‹ä¸­é‡åˆ°çš„å‘ï¼Œå’Œè§£å†³è¿‡ç¨‹ã€‚çœ‹è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œä½ åº”è¯¥å·²ç»åœ¨æ­å»ºè¯­é›€åšå®¢åŒæ­¥è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸å°‘é˜»ç¢å§ã€‚<br>æˆ‘æœ¬äººæŒ‰ç…§ã€Š<a href="https://www.kikohk.top/article/3899/">Hexo+GitHub+Action+è…¾è®¯äº‘å‡½æ•°+è¯­é›€æ­å»ºè‡ªåŠ¨åŒ–ä¸ªäººåšå®¢</a>ã€‹æ–‡ç« çš„æ•™ç¨‹è¿›è¡Œæ­å»ºï¼Œæ‰€ä»¥ç»†èŠ‚ä¸å†èµ˜è¿°ã€‚é‡åˆ°çš„å‘ï¼Œå°†åœ¨ä¸‹é¢è¯´è¯´ã€‚</p><h1 id="1ï¼šHexo-æœ¬åœ°åšå®¢"><a href="#1ï¼šHexo-æœ¬åœ°åšå®¢" class="headerlink" title="1ï¼šHexo æœ¬åœ°åšå®¢"></a>1ï¼šHexo æœ¬åœ°åšå®¢</h1><p>æˆ‘å¾ˆæ—©å°±å¼€å§‹åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šä½¿ç”¨ Typora+markdown å†™åšå®¢äº†ã€‚æ—©å·²ä¹ æƒ¯äº† Typora çš„é£æ ¼å’Œå¿«æ·é”®ã€‚é€šè¿‡ win+shift+s æˆªå±ï¼Œç„¶åç›´æ¥ç²˜è´´åˆ° markdown ä¸­ï¼ŒTypora é€šè¿‡è®¾ç½®è¿æ¥å›¾ä¼ ï¼Œè‡ªåŠ¨ä¸Šä¼ ï¼Œå¯¹äºå›¾ç‰‡çš„ç²˜è´´éå¸¸å‹å¥½ã€‚ã€‚ç›®å‰è¿˜ä¸çŸ¥é“è¯­é›€æ˜¯å¦èƒ½å¤Ÿåšåˆ°ã€‚<br>å°† Hexo åšå®¢å®‰è£…åˆ°æœ¬åœ°ï¼Œæ˜¯ä¸ºäº†è·å–åšå®¢æ–‡ä»¶ç›®å½•ï¼Œä¿®æ”¹ä¸»é¢˜ï¼Œå®‰è£…æ’ä»¶ç­‰ç­‰ã€‚åŒæ—¶ä¹Ÿèƒ½å¤Ÿæœ¬åœ°å†™ä½œã€‚<br>å®‰è£… yuque-hexo æ’ä»¶åï¼Œéœ€è¦åœ¨ package.json ä¸­æ·»åŠ æ’ä»¶é…ç½®ã€‚åŸæ–‡æ¨èå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;yuqueConfig&quot;:</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;:</span> <span class="string">&quot;https://www.yuque.com/api/v2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;login&quot;:</span> <span class="string">&quot;è¯­é›€çš„id&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;repo&quot;:</span> <span class="string">&quot;è¯­é›€çŸ¥è¯†åº“åç§°&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;mdNameFormat&quot;:</span> <span class="string">&quot;title&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;postPath&quot;:</span> <span class="string">&quot;source/_posts&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;onlyPublished&quot;:</span> <span class="literal">false</span>,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™ä¸ªé…ç½®ï¼Œä¼šå°†æˆ‘ä»¬æœ¬åœ°ç¼–å†™çš„åšå®¢è¦†ç›–æ‰ï¼Œå¦‚æœä½ è¿‡å»åœ¨ hexo æœ¬åœ°ç¼–å†™è¿‡ï¼Œé‚£ä½ åº”è¯¥çŸ¥é“ï¼Œæœ¬åœ°åšæ–‡åŒæ ·å‚¨å­˜åœ¨<strong>source/_posts</strong>ã€‚ä¸ºäº†é¿å…è¯­é›€åŒæ­¥åï¼Œè¦†ç›–åŸæœ¬åœ°æ–‡ç« ï¼Œéœ€è¦å°†ä¸Šè¿°é…ç½®ä¸­çš„**â€postPathâ€: â€œsource/_postsâ€<strong>ï¼Œä¿®æ”¹ä¸º</strong>â€œpostPathâ€: â€œsource/_posts/yuqueâ€ã€‚**</p><h1 id="2ï¼šHexo-åŒæ­¥-Github-ä»“åº“"><a href="#2ï¼šHexo-åŒæ­¥-Github-ä»“åº“" class="headerlink" title="2ï¼šHexo åŒæ­¥ Github ä»“åº“"></a>2ï¼šHexo åŒæ­¥ Github ä»“åº“</h1><p>å°†æ•´ä¸ªåšå®¢ç›®å½•åŒæ­¥åˆ° Github ä»“åº“ï¼Œè¿™æ ·åšå®¢çš„è®¸å¤šé‡è¦é…ç½®æ–‡ä»¶ï¼Œä¸»é¢˜è®¾ç½®ï¼Œæ–‡ç«  mdï¼Œé¡µé¢è®¾ç½®éƒ½å°†å¾—åˆ°ä¿å­˜ï¼ŒåŒæ—¶å¯ä»¥è°ƒç”¨è¿™ä¸ªä»“åº“çš„ actions åŠŸèƒ½ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå°†åšå®¢é¡µé¢åŒæ­¥åˆ° github pagesã€‚ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒGithub å…è´¹ä»“åº“æ˜¯å…¬å¼€çš„ï¼Œä½ ä¿å­˜åœ¨ä»“åº“çš„ token å°†ä¼šè¢«åˆ«äººçŸ¥é“ï¼Œè¿™ä¼šç»™åšå®¢ä¸€äº›ä¾èµ– token åŠŸèƒ½ï¼Œæ¯”å¦‚è¯„è®ºã€ç™¾åº¦ seo å¸¦æ¥å¨èƒï¼Œå½“ç„¶æˆ‘ä»¬å¸Œæœ›äººä»¬æ€»æ˜¯å–„è‰¯çš„ã€‚<br>å…³äºåŒæ­¥ï¼Œåœ¨é…ç½®**.gitignore<strong>æ–‡ä»¶æ—¶ï¼Œå»ºè®®æ·»åŠ </strong>public<strong>å’Œ</strong>node_modules<strong>è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œpublic æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œnode_module æ˜¯ hexo ä¾èµ–ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€ç”Ÿæˆï¼Œactions éƒ½èƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆï¼Œå› æ­¤ä¸éœ€è¦é¢å¤–åŒæ­¥ä¸Šå»ã€‚<br>themes æ–‡ä»¶å¤¹ä¸‹ï¼Œæ˜¯åšå®¢çš„ä¸»é¢˜ï¼Œä¸»é¢˜é€šå¸¸æ˜¯ä»ä¸€ä¸ª github ä»“åº“å…‹éš†è¿‡æ¥çš„ï¼Œåœ¨åŒæ­¥ hexo åšå®¢æ—¶ï¼Œå¦‚æœä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹å­˜åœ¨.git æ–‡ä»¶å¤¹ï¼Œåˆ™è¿™ä¸ªæ–‡ä»¶å¤¹å°†è¢«è®¤ä¸ºæ˜¯åšå®¢ä»“åº“çš„å­ä»“åº“ï¼Œå› æ­¤ä¸ä¼šè¢«ä¸Šä¼ ã€‚åœ¨ github ä»“åº“ä¸­æ˜¾ç¤ºä¸º</strong>ä¸€ä¸ªå¸¦å³ç®­å¤´çš„æ–‡ä»¶å¤¹**ã€‚<br>å¦‚æœè¦å°†ä¸»é¢˜ä¸Šä¼ åˆ° githubï¼Œéœ€è¦åˆ é™¤ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„.git æ–‡ä»¶å¤¹ã€‚<br>æ­¤å¤–è¿è¡Œ git æŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cache .</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤æ¸…é™¤ git ç¼“å­˜<br>åœ¨ push çš„æ—¶å€™ä½¿ç”¨å¼ºåˆ¶ push</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f</span><br></pre></td></tr></table></figure><h1 id="3ï¼šAction"><a href="#3ï¼šAction" class="headerlink" title="3ï¼šAction"></a>3ï¼šAction</h1><p>é€šè¿‡ Actionï¼Œgithub å¯ä»¥å¾ªè¡Œ hexo æŒ‡ä»¤ï¼Œæ¯”å¦‚å°†è¯­é›€æ–‡ç« åŒæ­¥åˆ° source/_post/yuqueï¼Œç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä¸Šä¼  github pages ç­‰ç­‰ã€‚<br>ç›®å‰è¿™ä¸ª action ç¨‹åºï¼Œè¿˜æ²¡æœ‰å®ç°å°†è¯­é›€æ–‡ç« åŒæ­¥åˆ° github å‚¨å­˜åº“çš„èƒ½åŠ›ï¼Œåªèƒ½æœ¬åœ°åŒæ­¥ï¼Œå†æœ¬åœ°åŒæ­¥åˆ° githubã€‚å¸Œæœ›åäººèƒ½å¤Ÿè¡¥å…¨åŠŸèƒ½ã€‚</p><h1 id="4ï¼šäº‘å‡½æ•°"><a href="#4ï¼šäº‘å‡½æ•°" class="headerlink" title="4ï¼šäº‘å‡½æ•°"></a>4ï¼šäº‘å‡½æ•°</h1><p>æ— è®ºæ˜¯è…¾è®¯äº‘ã€é˜¿é‡Œäº‘è¿˜æ˜¯è°·æ­Œäºšé©¬é€Šï¼Œéƒ½æœ‰äº‘å‡½æ•°è¿™ä¸ªåŠŸèƒ½ï¼Œä½¿ç”¨ä¸Šé¢ä¹Ÿæ˜¯å¤§åŒå°å¼‚ã€‚äº‘å‡½æ•°çš„åŠŸèƒ½ï¼Œåœ¨è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†æ¥æ”¶è¯­é›€çš„å›è°ƒï¼Œæ¢å¥è¯è¯´ï¼Œæ¯å½“æˆ‘ä»¬æ›´æ–°åˆ é™¤æ–°å»ºçŸ¥è¯†åº“æ–‡ç« æ—¶ï¼Œè¯­é›€å°±ä¼šå‘ä¸€ä¸ªæŒ‡å®šçš„ url å‘èµ·è¯·æ±‚ï¼Œäº‘å‡½æ•°å°±ç”¨æ¥æ¥æ”¶è¿™ä¸ªè¯·æ±‚ã€‚<br>äº‘å‡½æ•°æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè°ƒç”¨ github çš„ apiï¼Œè¿è¡Œ actionï¼Œaction å†æ‰§è¡Œ hexo æŒ‡ä»¤éƒ¨ç½²åšå®¢ã€‚<br>äº‘å‡½æ•°å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_handler</span>(<span class="params">event, context</span>):</span></span><br><span class="line">    r = requests.post(<span class="string">&quot;https://api.github.com/repos/ä½ çš„githubç”¨æˆ·å/æºç ä»“åº“å/dispatches&quot;</span>,</span><br><span class="line">    json = &#123;<span class="string">&quot;event_type&quot;</span>: <span class="string">&quot;start&quot;</span>&#125;,</span><br><span class="line">    headers = &#123;<span class="string">&quot;User-Agent&quot;</span>:<span class="string">&#x27;curl/7.52.1&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/vnd.github.everest-preview+json&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;token githubçš„token&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> r.status_code == <span class="number">204</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This&#x27;s OK!&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> r.status_code</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒÂ <strong>â€˜Authorizationâ€™: â€˜token github çš„ tokenâ€™**å…¶ä¸­ token æ˜¯ä¸€ä¸²ä¹±åºå­—ç¬¦ä¸²ï¼Œåœ¨è¿™ä¸²å­—ç¬¦ä¸²å‰å¿…é¡»æœ‰â€œ</strong>token **â€è¿™ä¸ªå­—ä¸²ï¼Œå¦åˆ™æµ‹è¯•æ—¶ä¼šè¿”å› 404ã€‚</p><blockquote><p>â€˜Authorizationâ€™: â€˜token 77ed8fdca6<strong>*a00f0***</strong>d73239790c6323ddâ€™</p></blockquote><h1 id="5ï¼šè¯­é›€è½¬-markdown"><a href="#5ï¼šè¯­é›€è½¬-markdown" class="headerlink" title="5ï¼šè¯­é›€è½¬ markdown"></a>5ï¼šè¯­é›€è½¬ markdown</h1><p>ä»è¯­é›€åŒæ­¥æ–‡ç« åˆ°æœ¬åœ°æ—¶ï¼Œæ–‡ç« ä¼šè‡ªåŠ¨è½¬ä¸º markdown æ ¼å¼ï¼Œè€Œé€šå¸¸è¿™ä¸ªæ–‡ç« æ˜¯æ²¡æœ‰åˆ†ç±»å’Œæ ‡ç­¾çš„ï¼Œä¸ºäº†èƒ½å¤Ÿè®©æ–‡ç« åŒæ­¥åˆ°åšå®¢æ—¶ï¼Œæ›´åŠ èæ´½ï¼Œéœ€è¦åœ¨ç¼–å†™è¯­é›€æ–‡ç« æ—¶ï¼Œæ·»åŠ è¯­é›€æ’ä»¶è‡ªå¸¦çš„ Font-matter æ’ä»¶çš„å¤´éƒ¨æ ¼å¼ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦åœ¨è¯­é›€ç¼–è¾‘å™¨ä¸­ï¼Œæ ‡é¢˜ä¸€ä¸‹ï¼Œæ­£æ–‡ä»¥ä¸Šçš„éƒ¨ä½ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tags:</span> [<span class="string">è¯­é›€</span>, <span class="string">travis</span>, <span class="string">serverless</span>]</span><br><span class="line"><span class="attr">categories:</span> [<span class="string">è¯­é›€</span>]</span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿ä¹¦å†™ï¼Œå»ºè®®ä¸ºæ­¤çŸ¥è¯†åº“å»ºç«‹ä¸€ä¸ªæ¨¡æ¿ï¼Œæ¯æ¬¡å†™æ–‡ç« éƒ½åº”ç”¨æ­¤æ¨¡æ¿ã€‚ä¹¦å†™æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚</p><h1 id="6ï¼šå‚è€ƒèµ„æ–™"><a href="#6ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="6ï¼šå‚è€ƒèµ„æ–™"></a>6ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://www.kikohk.top/article/3899/">Hexo+GitHub+Action+è…¾è®¯äº‘å‡½æ•°+è¯­é›€æ­å»ºè‡ªåŠ¨åŒ–ä¸ªäººåšå®¢</a>ã€‹<br>ã€Š<a href="https://www.yuque.com/gavinluo/blog/yuque-auto-2-hexo">è¯­é›€äº‘ç¼–è¾‘è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢</a><strong>ã€‹</strong><br><strong>ã€Š</strong><a href="https://cloud.tencent.com/developer/article/1665753">è¯­é›€è‡ªåŠ¨åŒæ­¥åˆ° hexo åšå®¢</a><strong>ã€‹</strong><br><strong>ã€Š</strong><a href="https://www.tangruiping.com/post/yque-serverless-github-actions-hexo.html">è¯­é›€æ–‡ç« ç”¨ Serverless è‡ªåŠ¨éƒ¨ç½²åˆ° Hexo åšå®¢</a><strong>ã€‹</strong></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Serverless </tag>
            
            <tag> è¯­é›€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ifvodå»é™¤å¹¿å‘Š</title>
      <link href="/2021/02/16/ifvod%E5%8E%BB%E9%99%A4%E5%B9%BF%E5%91%8A/"/>
      <url>/2021/02/16/ifvod%E5%8E%BB%E9%99%A4%E5%B9%BF%E5%91%8A/</url>
      
        <content type="html"><![CDATA[<p>ifvodè§†é¢‘ä¼šåœ¨è§†é¢‘çš„å¼€å§‹ã€25åˆ†é’Ÿã€50åˆ†é’Ÿçš„æ—¶å€™æ’å…¥å¹¿å‘Šï¼Œç°åœ¨ä»…éœ€ç®€å•çš„ä¸¤æ­¥ï¼Œå°±èƒ½å»é™¤ifvodæ’­æ”¾å¹¿å‘Šã€‚</p><h1 id="1ï¼šå®‰è£…æµè§ˆå™¨æ’ä»¶"><a href="#1ï¼šå®‰è£…æµè§ˆå™¨æ’ä»¶" class="headerlink" title="1ï¼šå®‰è£…æµè§ˆå™¨æ’ä»¶"></a>1ï¼šå®‰è£…æµè§ˆå™¨æ’ä»¶</h1><p>ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥ï¼Œå°†ReResæ’ä»¶<code>æ·»åŠ è‡³Chrome</code>ã€‚</p><p><a href="https://chrome.google.com/webstore/detail/reres/gieocpkbblidnocefjakldecahgeeica">https://chrome.google.com/webstore/detail/reres/gieocpkbblidnocefjakldecahgeeica</a></p><p>å®‰è£…å¥½åï¼Œåœ¨æµè§ˆå™¨æ‹“å±•ç¨‹åºä¸­ï¼Œå°†å‡ºç°ReResæ’ä»¶ã€‚</p><p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome:&#x2F;&#x2F;extensions&#x2F;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ’ä»¶ï¼Œç¡®ä¿æ’ä»¶å·²ç»æ¿€æ´»ï¼Œæ¿€æ´»æ—¶ï¼Œå³ä¸‹è§’çš„<code>æ»‘åŠ¨æŒ‰é’®</code>çŠ¶æ€å¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://i.loli.net/2021/02/16/JsmNcldYvGoenX9.png" class="lazyload" data-srcset="https://i.loli.net/2021/02/16/JsmNcldYvGoenX9.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210216094238426"></p><p>ç‚¹å‡»æµè§ˆå™¨çª—å£å³ä¸Šè§’çš„ReReså›¾æ ‡ï¼Œåº”è¯¥ä¼šå‡ºç°ä¸‹å›¾æ‰€ç¤ºçš„å¼¹çª—ã€‚å½“ç„¶æ­¤æ—¶åº”å½“è¿˜æ²¡æœ‰ä»»ä½•è§„åˆ™ã€‚</p><p><img src="https://i.loli.net/2021/02/16/3OHyDYPJz1WrvCb.png" class="lazyload" data-srcset="https://i.loli.net/2021/02/16/3OHyDYPJz1WrvCb.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210216093951914"></p><h1 id="2ï¼šæ·»åŠ è§„åˆ™"><a href="#2ï¼šæ·»åŠ è§„åˆ™" class="headerlink" title="2ï¼šæ·»åŠ è§„åˆ™"></a>2ï¼šæ·»åŠ è§„åˆ™</h1><p>å¦‚å›¾æ‰€ç¤ºï¼Œç‚¹å‡»<code>æ·»åŠ è§„åˆ™</code>æŒ‰é’®</p><p><img src="https://i.loli.net/2021/02/16/guW3XIzaKTricwv.png" class="lazyload" data-srcset="https://i.loli.net/2021/02/16/guW3XIzaKTricwv.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210216094503703"></p><p>åœ¨<code>If URL match:</code>ä¸€æ å¡«å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.ifvod.tv&#x2F;7-es2015.5cef6194389ec0967828.js</span><br></pre></td></tr></table></figure><p>åœ¨<code>Response:</code>ä¸€æ å¡«å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;qn.xieqifei.com&#x2F;7-es2015.5cef6194389ec0967828.js</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»ä¿å­˜ã€‚</p><p><strong>è‡³æ­¤ï¼Œä½ åœ¨ifvodè§‚çœ‹è§†é¢‘ï¼Œå°†ä¸ä¼šæœ‰ä»»ä½•è§†é¢‘å¹¿å‘Šæ’å…¥ã€‚</strong></p><h1 id="3ï¼šåŸç†"><a href="#3ï¼šåŸç†" class="headerlink" title="3ï¼šåŸç†"></a>3ï¼šåŸç†</h1><p>ifvodå¹¿å‘Šæ˜¯é€šè¿‡jsä»£ç åµŒå…¥åˆ°æ’­æ”¾å™¨ä¸­çš„ã€‚æˆ‘ä»”ç»†é˜…è¯»äº†ï¼Œå®ƒçš„æ’­æ”¾å™¨ä»£ç ï¼Œä¹Ÿå°±æ˜¯ï¼Œä¸Šé¢æ›¿æ¢æ‰çš„jsæ–‡ä»¶ï¼Œæˆ‘ä¿®æ”¹äº†å…¶ä¸­ï¼Œå…³äºå¹¿å‘ŠæŠ•æ”¾éƒ¨åˆ†çš„ä»£ç ã€‚ã€‚</p><p>ReResæ’ä»¶æ˜¯æˆ‘åœ¨ç½‘ä¸Šéšä¾¿æ‰¾çš„ä¸€ä¸ªæ’ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œå½“æµè§ˆå™¨è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œå¦‚æœå®ƒç¬¦åˆæˆ‘åœ¨ReResä¸Šè®¾å®šçš„urlè§„åˆ™ï¼Œå°±å°†å®ƒé‡å®šå‘åˆ°å¦ä¸€ä¸ªèµ„æºæ–‡ä»¶ã€‚è¿™æ ·å°±èƒ½å®ç°ç¯¡æ”¹ifvodçš„æ’­æ”¾å™¨æºä»£ç ã€‚</p><p>ä¹Ÿè®¸ä½ å¯ä»¥é€šè¿‡å¯¹æ¯”ä¿®æ”¹å‰åçš„jsæ–‡ä»¶ï¼Œæ¥äº†è§£æˆ‘å…·ä½“æ˜¯å¦‚ä½•ä¿®æ”¹çš„ã€‚ã€‚ä¸è¿‡ï¼Œæˆ‘å¹¶ä¸æ¨èä½ é˜…è¯»è¿™ä¸ªä¸¤ä¸‡è¡Œä»£ç çš„æ–‡ä»¶ï¼Œå®ƒä¼šè®©ä½ å´©æºƒã€‚ã€‚æˆ‘ä¹Ÿæ²¡æœ‰å®Œå…¨é˜…è¯»è¿™äº›ä»£ç ï¼Œè€Œæ˜¯é€šè¿‡ä¸€äº›é€†å‘å·¥ç¨‹çš„æ¨æ–­ï¼Œæ¥æ‰¾åˆ°æ ¸å¿ƒä»£ç ï¼Œè¿™éœ€è¦ä¸€äº›è€å¿ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬å–Youtubeæœç´¢ç»“æœ</title>
      <link href="/2021/02/06/%E7%88%AC%E5%8F%96Youtube%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C/"/>
      <url>/2021/02/06/%E7%88%AC%E5%8F%96Youtube%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šç»ª"><a href="#1ï¼šç»ª" class="headerlink" title="1ï¼šç»ª"></a>1ï¼šç»ª</h1><p>æœ€è¿‘åœ¨åšä¸€ä¸ªéŸ³ä¹ä¸‹è½½è½¯ä»¶ï¼Œé€šè¿‡æœç´¢éŸ³ä¹åç§°ï¼Œä¸‹è½½youtubeä¸Šä¿¡æ¯åŒ¹é…åº¦æœ€é«˜çš„è§†é¢‘ï¼Œæå–å…¶ä¸­çš„éŸ³é¢‘ï¼Œæ¥è·å–éŸ³ä¹ã€‚å¼€æºè½¯ä»¶youtube-dlå·²ç»å®Œæˆäº†è§†é¢‘ä¸‹è½½å’ŒéŸ³é¢‘æå–çš„å…¨éƒ¨å·¥ä½œï¼Œæˆ‘è¦åšçš„å°±æ˜¯ï¼Œè·å–ç›®æ ‡è§†é¢‘çš„idæˆ–è€…è§†é¢‘é“¾æ¥ï¼Œç„¶åè°ƒç”¨youtube-dlä¸‹è½½ã€‚</p><h1 id="2ï¼šæ¥å£"><a href="#2ï¼šæ¥å£" class="headerlink" title="2ï¼šæ¥å£"></a>2ï¼šæ¥å£</h1><p>è°·æ­Œå®˜æ–¹å…¶å®å·²ç»æä¾›äº†è·å–YouTubeæœç´¢ç»“æœçš„apiï¼Œç›´æ¥è°ƒç”¨å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è°ƒç”¨è°·æ­Œapiè·å–youtubeæœç´¢ç»“æœï¼Œè¿”å›åŒ¹é…åº¦æœ€é«˜çš„è§†é¢‘é“¾æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_url_in_youtube_form_api</span>(<span class="params">appKey,music_name</span>):</span></span><br><span class="line">    print(<span class="string">&quot;ä»google apiè·å–æ•°æ®&quot;</span>)</span><br><span class="line">    url = <span class="string">&quot;https://youtube.googleapis.com/youtube/v3/search?q=&quot;</span>+music_name+<span class="string">&quot;&amp;key=&quot;</span>+appKey</span><br><span class="line">    resp = requests.get(url)</span><br><span class="line">    resp_json = resp.json()</span><br><span class="line">    <span class="keyword">if</span> resp.status_code ==<span class="number">200</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;https://www.youtube.com/watch?v=&quot;</span>+resp_json[<span class="string">&#x27;items&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;id&#x27;</span>][<span class="string">&#x27;videoId&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">500</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œè°·æ­Œapiæ˜¯æœ‰è°ƒç”¨ä¸Šé™çš„ï¼Œä¹Ÿå°±æ˜¯10000ä¸ªå•ä½ï¼Œæ¯æ¬¡æœç´¢å°†æ¶ˆè€—100ä¸ªå•ä½ã€‚é‚£ä¹ˆæˆ‘ä»¬æ€»å…±å¯ä»¥é€šè¿‡apiè·å–æœç´¢ç»“æœçš„æ¬¡æ•°å°±æ˜¯100ä¸ªã€‚è¿™å¯¹äºä¸ªäººæ¥è¯´ï¼Œå®é™…ä¸Šå·²ç»è¶³å¤Ÿäº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœè¦å‘ä»–äººæä¾›æœåŠ¡ï¼Œå°±ä¸å¤Ÿäº†ã€‚</p><p>é‚£ä¹ˆå°±åªèƒ½ä¸Šæ‰‹çˆ¬è™«äº†ã€‚</p><h1 id="3ï¼šçˆ¬å–æœç´¢ç»“æœ"><a href="#3ï¼šçˆ¬å–æœç´¢ç»“æœ" class="headerlink" title="3ï¼šçˆ¬å–æœç´¢ç»“æœ"></a>3ï¼šçˆ¬å–æœç´¢ç»“æœ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ©ç”¨çˆ¬è™«è·å–youtubeæœç´¢ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_url_in_youtube_from_crawler</span>(<span class="params">keyword</span>):</span></span><br><span class="line">    url=<span class="string">&quot;https://m.youtube.com/results?search_query=&quot;</span>+keyword</span><br><span class="line">    print(<span class="string">&quot;é€šè¿‡çˆ¬è™«è·å–æ•°æ®&quot;</span>)</span><br><span class="line">    resp = requests.get(url)</span><br><span class="line">    <span class="keyword">if</span> resp.status_code==<span class="number">200</span>:</span><br><span class="line">        result_json = re.findall(<span class="string">r&#x27;ytInitialData = (.*);&lt;/script&gt;&#x27;</span>, resp.text)[<span class="number">0</span>]</span><br><span class="line">        result_obj = json.loads(result_json)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            video_url = <span class="string">&quot;https://www.youtube.com/watch?v=&quot;</span>+result_obj[<span class="string">&#x27;contents&#x27;</span>][<span class="string">&#x27;twoColumnSearchResultsRenderer&#x27;</span>][<span class="string">&#x27;primaryContents&#x27;</span>][<span class="string">&#x27;sectionListRenderer&#x27;</span>][<span class="string">&#x27;contents&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;itemSectionRenderer&#x27;</span>][<span class="string">&#x27;contents&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;videoRenderer&#x27;</span>][<span class="string">&#x27;videoId&#x27;</span>]</span><br><span class="line">        <span class="keyword">except</span> KeyError:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">500</span></span><br><span class="line">        <span class="keyword">return</span> video_url</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">500</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€šè¿‡urlå’Œæœç´¢å€¼ï¼Œæ„é€ æœç´¢é“¾æ¥ã€‚è·å–è¿”å›çš„htmlä»£ç ã€‚å¯¹htmlæ ¼å¼åŒ–åï¼Œå¯ä»¥å‘ç°ï¼Œæœ‰ä¸€ä¸²åŒ…å«æœç´¢ç»“æœçš„jsonæ•°æ®ï¼Œè—åœ¨ä¸€ä¸ªjsä»£ç ä¸­é—´ï¼Œé€šè¿‡æ­£åˆ™ï¼Œå°†å®ƒæå–å‡ºæ¥ã€‚</p><p>è°·æ­Œæ˜¯æœ‰åçˆ¬è™«çš„æœºåˆ¶çš„ï¼Œå°±æ˜¯è¯´ï¼Œå¦‚æœé¢‘ç¹é€šè¿‡ä¸Šè¿°ç¨‹åºè¯·æ±‚æ•°æ®ï¼Œè·å–åˆ°çš„jsonä¸ä¸€å®šèƒ½è·å¾—æƒ³è¦çš„å†…å®¹ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨Exceptionæ¥é¿å…æŠ¥é”™ï¼Œå‡å¦‚çˆ¬å–å¤±è´¥ï¼Œåº”å½“å†è°ƒç”¨apiã€‚å¦‚æœæœ‰ä»£ç†éš§é“ï¼Œé‚£ä¹ˆçˆ¬è™«å°±æ›´å¥½äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP8266ä»0åˆ°1</title>
      <link href="/2020/11/26/ESP8266%E4%BB%8E0%E5%88%B01/"/>
      <url>/2020/11/26/ESP8266%E4%BB%8E0%E5%88%B01/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šå‰è¯­"><a href="#0ï¼šå‰è¯­" class="headerlink" title="0ï¼šå‰è¯­"></a>0ï¼šå‰è¯­</h1><p>æ¨è<a href="http://www.taichi-maker.com/">å¤ªæåˆ›å®¢</a>ï¼Œå­¦ä¹ ESP8266æ¨¡å—çš„æ›´å¤šçŸ¥è¯†ã€‚</p><h1 id="1ï¼šè¿çº¿"><a href="#1ï¼šè¿çº¿" class="headerlink" title="1ï¼šè¿çº¿"></a>1ï¼šè¿çº¿</h1><p>ESP8266é€šè¿‡ä¸²å£ä¸ç”µè„‘æˆ–è€…å…¶ä»–å•ç‰‡æœºå®ç°äº¤äº’ï¼Œä¸²å£çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ã€‚ä»¥æœ€ç®€å•çš„ESP8266æ¨¡å—ä¸ºä¾‹è¿›è¡Œä»‹ç»ã€‚å…¶ä»–æ¨¡å—å¯èƒ½å·²ç»æœ‰äº†usb type-cæˆ–è€…å…¶ä»–æ¥å£ï¼Œå°±ç›´æ¥ç”¨å¯¹åº”æ¥å£çš„çº¿å’Œè®¾å¤‡è¿æ¥å°±å¯ä»¥äº†ã€‚ä¸‹å›¾çš„æ¨¡å—ï¼Œæ²¡æœ‰usbæ¥å£ï¼Œå› æ­¤éœ€è¦æˆ‘ä»¬è‡ªå·±è¿çº¿ã€‚</p><p><img src="https://i.loli.net/2020/11/25/1BzINH4M5urOPnQ.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/25/1BzINH4M5urOPnQ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ¨¡å—å…±å¼•å‡ºäº†8ä¸ªå¼•è„šï¼Œå…¶ä¸­ï¼Œ</p><p>VCCï¼šæ¥3.3Vç”µå‹ï¼Œä¸ºæ¨¡å—ä¾›ç”µã€‚</p><p>GUDï¼šæ¥åœ°</p><p>GPIO0ï¼šå¹³æ—¶ç›´æ¥æ‚¬ç©ºã€‚éœ€è¦åˆ·å›ºä»¶çš„æ—¶å€™æ¥åœ°ã€‚</p><p>CH_PDï¼šé€šè¿‡ä¸€ä¸ª10Kç”µé˜»æ¥3.3Vç”µå‹ï¼Œè¡¨ç¤ºæ¨¡å—å¤„äºå·¥ä½œçŠ¶æ€ã€‚å¦åˆ™å°†ä¸å·¥ä½œã€‚</p><p>ä¸²å£é€šä¿¡å¼•è„šï¼Œ</p><p>RXDï¼šä¸²å£è¾“å…¥ï¼Œè¡¨ç¤ºè¿™ä¸ªå¼•è„šä¼šæ¥æ”¶å…¶ä»–æ¨¡å—ä¼ å…¥çš„ä¿¡æ¯ã€‚ä¸å…¶ä»–æ¨¡å—çš„TXå¼•è„šç›¸è¿ã€‚</p><p>TXDï¼šä¸²å£è¾“å‡ºï¼Œæ¥å…¶ä»–æ¨¡å—çš„RXå¼•è„šï¼ŒæŠŠæ•°æ®ä¼ ç»™å…¶ä»–æ¨¡å—ã€‚</p><p>é€šè¿‡FTDI USB to TTLæ¨¡å—ï¼Œå¯ä»¥å°†ESPç›´æ¥å’Œç”µè„‘è¿æ¥ã€‚åªéœ€è¦å°†å¯¹åº”å¼•è„šä¸FTDIæ¨¡å—ç›¸è¿å³å¯ã€‚</p><h1 id="2ï¼šç®€å•å¼€å§‹"><a href="#2ï¼šç®€å•å¼€å§‹" class="headerlink" title="2ï¼šç®€å•å¼€å§‹"></a>2ï¼šç®€å•å¼€å§‹</h1><p>ä¸‹å›¾ä¸ºä¸€ä¸ªFTDIæ¨¡å—ã€‚å°†å…¶å¼•è„šä¸ESPæ¨¡å—å„å¼•è„šç›¸è¿ã€‚</p><p>ä¸‹è½½FTDIæ¨¡å—çš„èŠ¯ç‰‡é©±åŠ¨ï¼Œç›´æ¥æœç´¢å¯¹åº”èŠ¯ç‰‡å°±èƒ½æ‰¾åˆ°ã€‚å®‰è£…é©±åŠ¨åï¼Œå°†è¿æ¥å¥½çš„FTDIæ¨¡å—æ’å…¥ç”µè„‘ï¼Œåœ¨ç”µè„‘è®¾å¤‡ç®¡ç†å™¨ä¸­ï¼Œèƒ½æ‰¾åˆ°ç«¯å£ä¸€æ ï¼Œå¤šäº†è¿™ä¸ªæ¨¡å—çš„ç«¯å£æ¯”å¦‚(COM6)</p><p><img src="https://i.loli.net/2020/11/27/o96CQ28riWtsUSv.jpg" class="lazyload" data-srcset="https://i.loli.net/2020/11/27/o96CQ28riWtsUSv.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>éšæ„ä¸‹è½½ä¸€ä¸ªä¸²å£åŠ©æ‰‹ï¼Œé€‰æ‹©FTDIæ¨¡å—çš„ç«¯å£ï¼Œè®¾ç½®æ³¢ç‰¹ç‡ä¸º115200ï¼Œç»“æŸç¬¦ä¸ºNLå’ŒCRã€‚å…¶ä»–çš„é»˜è®¤ã€‚</p><p>åœ¨ä¸²å£åŠ©æ‰‹ä¸Šå‘é€ï¼šAT</p><p>ä¸²å£åŠ©æ‰‹çš„çª—å£ä¼šè¿”å›ï¼šOKï¼Œæˆ–è€…ERRORã€‚</p><p>å¦‚æœè¿”å›OKï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ATæŒ‡ä»¤æ“ä½œESPèŠ¯ç‰‡è¿æ¥WIFIæˆ–è€…ä½œä¸ºAPè®©åˆ«äººè¿wifiäº†ã€‚</p><p>å¦‚æœè¿”å›ERRORï¼Œé‚£ä¹ˆå°±éœ€è¦æ›´æ–°å›ºä»¶ï¼Œä»¥è®©ESPæ”¯æŒATæŒ‡ä»¤ã€‚</p><blockquote><p>æœªå¿…ä¸€å®šè¦ç›´æ¥å°†ESPä¸ç”µè„‘è¿æ¥ï¼Œä¹Ÿå¯ä»¥å’Œå…¶ä»–å•ç‰‡æœºè¿æ¥ï¼Œé€šè¿‡å¯¹å…¶ä»–å•ç‰‡æœºç¼–ç¨‹ï¼Œå‘ESPå‘é€ATæŒ‡ä»¤ã€‚é‡è¦çš„æ˜¯ï¼Œç†è§£ESPçš„å·¥ä½œæ–¹å¼ã€‚</p></blockquote><h1 id="3ï¼šæ›´æ–°å›ºä»¶"><a href="#3ï¼šæ›´æ–°å›ºä»¶" class="headerlink" title="3ï¼šæ›´æ–°å›ºä»¶"></a>3ï¼šæ›´æ–°å›ºä»¶</h1><p>å¦‚æœä½ ä¸å°å¿ƒå°†ESPé…ç½®é”™äº†ï¼Œåˆä¸çŸ¥é“æ€ä¹ˆå»å°†å®ƒå‡ºå‚è®¾ç½®ï¼Œæˆ–è€…ä½ å‘é€ATæŒ‡ä»¤æ€»æ˜¯è¿”å›ERRORï¼Œé‚£ä¹ˆä½ å°±éœ€è¦å­¦ä¹ å¦‚ä½•æ›´æ–°èŠ¯ç‰‡å›ºä»¶ã€‚</p><p>æ›´æ–°å›ºä»¶éœ€è¦ç”¨åˆ°FTDIæ¨¡å—ï¼Œå°†FTDIå’ŒESPè¿æ¥ï¼ŒFTDIè¿æ¥ç”µè„‘ã€‚</p><p>é¦–å…ˆä¸‹è½½<a href="https://www.espressif.com/zh-hans/support/download/other-tools">Flashä¸‹è½½å·¥å…·</a>ã€‚åªæœ‰Windowsç³»ç»Ÿèƒ½ç”¨ã€‚</p><p>ç„¶åä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„<a href="https://www.espressif.com/zh-hans/products/socs/esp8266ex/resources">ESP8266 NONOS SDK</a>ã€‚å¹¶è§£å‹ã€‚</p><p>æ¥çº¿ï¼Œéœ€è¦æ³¨æ„ï¼Œ<strong>GPIO0å¼•è„šå¿…é¡»æ¥åœ°</strong>ã€‚</p><table><thead><tr><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><strong>åºå·</strong></td><td><strong>å¼•è„šåç§°</strong></td><td><strong>I/O</strong></td><td><strong>æè¿°</strong></td><td><strong>DCç‰¹æ€§</strong></td><td><strong>å¤‡æ³¨</strong></td></tr><tr><td>1</td><td>UTXD</td><td></td><td>AT ä¸²å£å‘é€è¾“å‡º</td><td>3.3V</td><td>å¼€æœºæ—¶ç¦æ­¢ä¸‹æ‹‰</td></tr><tr><td>2</td><td>GND</td><td></td><td>åœ°</td><td></td><td></td></tr><tr><td>3</td><td>CH_PD(EN)</td><td></td><td>æ¨¡å—æ–­ç”µä¿¡å·</td><td>3.3V</td><td>1ï¼‰é«˜ç”µå¹³å·¥ä½œï¼› 2ï¼‰ä½ç”µå¹³æ¨¡å—ä¾›ç”µå…³æ‰ï¼›</td></tr><tr><td>4</td><td>GPIO2</td><td></td><td>é¢„ç•™ï¼Œé»˜è®¤æ‚¬ç©º</td><td>3.3V</td><td>å¼€æœºä¸Šç”µæ—¶å¿…é¡»ä¸ºé«˜ç”µå¹³ï¼Œç¦æ­¢ç¡¬ä»¶ä¸‹æ‹‰ï¼›å†…éƒ¨é»˜è®¤å·²æ‹‰é«˜</td></tr><tr><td>5</td><td>GPIO16</td><td>I</td><td>å¤ä½ä¿¡å·(RESET)</td><td>3.3V</td><td>ä½ç”µå¹³å¤ä½ï¼Œé«˜ç”µå¹³å·¥ä½œï¼ˆé»˜è®¤é«˜ï¼‰ï¼›</td></tr><tr><td>6</td><td>GPIO0</td><td></td><td>æ¨¡å—çŠ¶æ€ç¯/å·¥ä½œæ¨¡å¼é€‰æ‹©</td><td>3.3V</td><td>1ï¼‰é»˜è®¤WiFiStatusï¼šWiFiå·¥ä½œçŠ¶æ€æŒ‡ç¤ºç¯æ§åˆ¶ä¿¡å·ï¼›2ï¼‰å·¥ä½œæ¨¡å¼é€‰æ‹©ï¼šä¸Šæ‹‰ï¼šFlashBootï¼Œå·¥ä½œæ¨¡å¼ï¼›ä¸‹æ‹‰ï¼šUARTDownloadï¼Œä¸‹è½½æ¨¡å¼ï¼ˆä¸‹è½½å›ºä»¶ï¼‰ï¼›</td></tr><tr><td>7</td><td>VCC</td><td>I</td><td>æ¨¡å—é‡‡ç”¨å•ç”µæºä¾›ç”µï¼Œé€šè¿‡ 1 ä¸ªVCC ç”µæºå¼•è„šä¾›ç”µï¼Œç”µå‹èŒƒå›´ï¼š3.0V-3.6V,ç”µæµ&gt;600mA</td><td>Vmax=3.6VVmin=3.0VVnorm=3.3V</td><td>ç”µæºä¾›ç”µèƒ½åŠ›è¯·å¤§äº600mA;å¦åˆ™å¯èƒ½ä¼šå¼•èµ·æ¨¡å—å·¥ä½œå¼‚å¸¸ï¼Œæˆ–è€…æ— çº¿æ€§èƒ½ä¸å¥½ã€‚</td></tr><tr><td>8</td><td>URXD</td><td></td><td>AT ä¸²å£å‘é€è¾“å…¥</td><td>3.3V</td><td></td></tr></tbody></table><p><img src="https://i.loli.net/2020/11/27/a6YnuPe1fNhdBsm.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/27/a6YnuPe1fNhdBsm.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ‰“å¼€flash_download_tool_v3.8.5.exeã€‚é€‰æ‹©Developeræ¨¡å¼ã€‚</p><p>é€‰æ‹©8266èŠ¯ç‰‡</p><p><img src="https://i.loli.net/2020/11/27/cTbj4kOs6VIr5mi.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/27/cTbj4kOs6VIr5mi.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç„¶ååœ¨ä¹‹å‰è§£å‹çš„SDKä¸­æ‰¾åˆ°<code>C:\Usersâ€¦â€¦\ESP8266_NONOS_SDK-3.0.4\bin\boot_v1.6.bin</code>æ–‡ä»¶åˆ·å…¥åœ°å€0x00000ä¸­</p><p><img src="https://i.loli.net/2020/11/27/o8Ug96EyxarKh2n.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/27/o8Ug96EyxarKh2n.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç„¶åç‚¹å‡»STARTæŒ‰é’®å¼€å§‹ï¼Œå¦‚æœæ˜¾ç¤º<code>ç­‰å¾…ä¸Šç”µ</code>ï¼Œåœ¨ä¿è¯GPIO0æ¥åœ°çš„æƒ…å†µä¸‹ï¼Œå°†RSTå¼•è„šæ¥åœ°å†æ–­å¼€ã€‚</p><p>è‡³æ­¤å›ºä»¶ç­‰å¾…åˆ·æ–°å®Œæ¯•ã€‚</p><h1 id="4ï¼šATæŒ‡ä»¤"><a href="#4ï¼šATæŒ‡ä»¤" class="headerlink" title="4ï¼šATæŒ‡ä»¤"></a>4ï¼šATæŒ‡ä»¤</h1><p>å®Œæ•´çš„<a href="https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_cn.pdf">ATæŒ‡ä»¤PDF</a></p><p>å¸¸è§çš„æŒ‡ä»¤ï¼š</p><h2 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h2><ul><li>æµ‹è¯•ï¼šAT</li><li>å¤ä½ï¼šAT+RST</li><li>æ¢å¤å‡ºå‚è®¾ç½®ï¼šAT+RESTORE</li><li>æŸ¥è¯¢æœ¬æœºIPå’ŒMACï¼šAT+CIFSR</li></ul><h2 id="æ¨¡å¼å‘½ä»¤"><a href="#æ¨¡å¼å‘½ä»¤" class="headerlink" title="æ¨¡å¼å‘½ä»¤"></a>æ¨¡å¼å‘½ä»¤</h2><ul><li>æŸ¥è¯¢æ¨¡å¼ï¼šAT+CWMODE?</li><li>è®¾ç½®æ¨¡å¼ 1:STA 2:AP 3:bothï¼šAT+CWMODE=1</li><li>ï¼ˆSTAï¼‰æŸ¥è¯¢å½“å‰å¯ç”¨AP ï¼šAT+CWLAP</li><li>ï¼ˆSTAï¼‰åŠ å…¥å¯ç”¨AP ï¼šAT+CWJAP=â€œssidâ€,â€œpswâ€</li><li>ï¼ˆSTAï¼‰é€€å‡ºå½“å‰AP ï¼šAT+CWQAP</li><li>ï¼ˆAPï¼‰è®¾ç½®APå‚æ•°ï¼Œssid+psw+chn+ecn+n+01 ï¼šAT+CWSAP=â€œå“ˆå“ˆâ€,â€œ12345678â€,3,3,4,0</li><li>ï¼ˆAPï¼‰æŸ¥è¯¢APå‚æ•°ï¼šAT+CWSAP?</li></ul><h2 id="å®¢æˆ·ç«¯-æœåŠ¡å™¨è®¾ç½®"><a href="#å®¢æˆ·ç«¯-æœåŠ¡å™¨è®¾ç½®" class="headerlink" title="å®¢æˆ·ç«¯|æœåŠ¡å™¨è®¾ç½®"></a>å®¢æˆ·ç«¯|æœåŠ¡å™¨è®¾ç½®</h2><ul><li>æŸ¥è¯¢æ˜¯å¦å¤šè¿æ¥ æ˜¯1ï¼Œå¦0 ï¼šAT+CIPMUX?</li><li>è®¾ç½®å¯åŠ¨å¤šè¿æ¥1ï¼Œå•é“¾æ¥0ï¼ˆé‡å¯åé»˜è®¤0ï¼‰ï¼šAT+CIPMUX=1</li><li>ï¼ˆå¤šè¿æ¥ï¼‰å…³é—­æœåŠ¡å™¨ï¼Œå°±æ˜¯å¼€å¯å¤šè¿æ¥å®¢æˆ·ç«¯ï¼Œé»˜è®¤æ˜¯0 ï¼šAT+CIPSERVER=0</li><li>ï¼ˆå¤šè¿æ¥ï¼‰å¼€å¯æœåŠ¡å™¨,:å¼€å¯+ç«¯å£å·portã€‚ æ­¤æ—¶å®¢æˆ·ç«¯è¦è¿æœ¬æœºï¼Œè¿œç¨‹åœ°å€ä¸º IP+Port ï¼šAT+CIPSERVER=1,8080</li><li>ï¼ˆå¤šè¿æ¥ï¼‰å‘é€æ•°æ® id+Byteï¼šAT+CIPSEND=0,10</li><li>ï¼ˆå¤šè¿æ¥ï¼‰å…³é—­TCP/UDPè¿æ¥ï¼Œidï¼šAT+CIPCLOSE=0</li><li>ï¼ˆå®¢æˆ·ç«¯å•è¿æ¥ï¼‰å»ºç«‹TCP/UDPè¿æ¥ï¼šAT+CIPSTART=â€œTCPâ€,â€œ192.168.4.2â€,100</li><li>ï¼ˆå®¢æˆ·ç«¯å•è¿æ¥ï¼‰å‘é€æ•°æ®ï¼ŒByte ï¼šAT+CIPSEND=10</li><li>ï¼ˆå®¢æˆ·ç«¯å•è¿æ¥ï¼‰ä½¿èƒ½ç©¿é€æ¨¡å¼ï¼šAT+CIPMODE=1</li><li>ï¼ˆå®¢æˆ·ç«¯å•è¿æ¥ï¼‰è¿›å…¥é€ä¼ æ¨¡å¼å‘é€ï¼šAT+CIPSEND</li><li>ï¼ˆå®¢æˆ·ç«¯å•è¿æ¥ï¼‰é€€å‡ºé€ä¼ ï¼š+++</li><li>ï¼ˆå®¢æˆ·ç«¯å•è¿æ¥ï¼‰å…³é—­TCP/UDPè¿æ¥ï¼šAT+CIPCLOSE</li><li>ï¼ˆå®¢æˆ·ç«¯å¤šè¿æ¥ï¼‰å»ºç«‹TCP/UDPè¿æ¥ï¼Œidï¼ŒTCP/UDPï¼ŒIPï¼Œç«¯å£ï¼šAT+CIPSTART=0,â€œTCPâ€,â€œ192.168.4.2â€,100</li></ul><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>å¦‚æœéœ€è¦ç”¨åˆ°ESPé€šè¿‡è½¯ä¸²å£è¿æ¥Arduinoå•ç‰‡æœºï¼Œå°±éœ€è¦ä¿®æ”¹ESPçš„æ³¢ç‰¹ç‡ï¼ŒESPé»˜è®¤æ³¢ç‰¹ç‡æ˜¯115200ï¼Œè€Œè½¯ä¸²å£åªèƒ½æ˜¯9600ï¼Œä¿®æ”¹æ³¢ç‰¹ç‡ATæŒ‡ä»¤</p><p>AT+CIOBAUD=9600</p><p>å¦‚æœè¿”å›ERRORï¼Œå¯ä»¥å°è¯•</p><p>AT+UART=9600,8,1,0,0</p><h1 id="5ï¼šä½¿ç”¨Arduino-IDEç¼–å†™ç¨‹åº"><a href="#5ï¼šä½¿ç”¨Arduino-IDEç¼–å†™ç¨‹åº" class="headerlink" title="5ï¼šä½¿ç”¨Arduino IDEç¼–å†™ç¨‹åº"></a>5ï¼šä½¿ç”¨Arduino IDEç¼–å†™ç¨‹åº</h1><p>ESP8266æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨Arduino IDEä¸Šçƒ§å½•ç¨‹åºçš„ã€‚ä¸ºäº†åœ¨Arduino IDEä¸Šç›´æ¥ç¼–å†™ç¨‹åºï¼Œé¦–å…ˆéœ€è¦å¯¼å…¥ESP8266çš„åº“ã€‚</p><ol><li>åœ¨IDEçš„æ–‡ä»¶-&gt;é¦–é€‰é¡¹é‡Œè¾¹çš„é™„åŠ å¼€å‘æ¿ç®¡ç†ç½‘å€è¾“å…¥<a href="https://github.com/esp8266/Arduino/releases/download/2.5.0/package_esp8266com_index.json">https://github.com/esp8266/Arduino/releases/download/2.5.0/package_esp8266com_index.json</a></li></ol><p>æˆ–è€…<a href="http://arduino.esp8266.com/stable/package_esp8266com_index.json">http://arduino.esp8266.com/stable/package_esp8266com_index.json</a></p><p>ä¹‹åç‚¹å‡»å¥½ã€‚</p><p><img src="https://i.loli.net/2020/11/28/nfQaI8zcKqG3imS.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/nfQaI8zcKqG3imS.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="2"><li>åœ¨ å·¥å…·-&gt;å¼€å‘æ¿é€‰æ‹©æœ€ä¸Šæ–¹å¼€å‘æ¿ç®¡ç†å™¨ï¼Œä¹‹åæœç´¢espå³å¯å‡ºç°esp8266ï¼Œé€‰æ‹©ç‰ˆæœ¬ä¹‹åè¿›è¡Œå®‰è£…å³å¯ã€‚</li></ol><p><img src="https://i.loli.net/2020/11/28/17fGHoFmrZyERPV.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/17fGHoFmrZyERPV.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li>åœ¨Arduino IDE èœå•&gt;å·¥å…·&gt;å¼€å‘æ¿&gt;å¼€å‘æ¿ç®¡ç†å™¨ ä¸­é€‰æ‹©ä½ æ­£åœ¨ä½¿ç”¨çš„8266å¼€å‘æ¿ã€‚</li></ol><p>å¦‚æœä½ ä¸æ¸…æ¥šè‡ªå·±ä½¿ç”¨çš„æ˜¯å“ªä¸ªå¼€å‘æ¿ï¼Œå¯ä»¥é€‰æ‹©generic esp8266 moduleï¼Œè¿™æ˜¯é€šç”¨æ¿å­ã€‚</p><ol start="4"><li>é€‰æ‹©æ­£ç¡®çš„ç«¯å£ã€‚å¦‚æœä¸çŸ¥é“è‡ªå·±æ¿å­è¿æ¥ç”µè„‘ä¸Šçš„æ˜¯å“ªä¸ªç«¯å£ï¼Œå¯ä»¥æ‰“å¼€ç”µè„‘çš„<code>è®¾å¤‡ç®¡ç†å™¨</code>ï¼Œå…¶ä¸­æœ‰ç«¯å£ä¸€æ ï¼Œæœ‰è¯¦ç»†ä¿¡æ¯ã€‚</li><li>ä¸Šè½½ç¨‹åºå‰ï¼Œå°†GPIO0å¼•è„šä¸‹æ‹‰æ¥åœ°ï¼Œå¹¶å°†RSTå¼•è„šæ¥åœ°åœ¨æ”¾å¼€ï¼Œä¸Šè½½ç¨‹åºæ—¶ï¼ŒGPIO0å¼•è„šéœ€ä¿æŒæ¥åœ°çŠ¶æ€ã€‚ä¸Šè½½å®Œæ¯•ï¼Œå°†GPIO0å¼•è„šæ”¾ç©ºï¼Œå¹¶å†æ¬¡å°†RSTå¼•è„šæ¥åœ°æ”¾å¼€ï¼Œåˆ‡æ¢åˆ°è¿è¡ŒçŠ¶æ€ã€‚</li></ol><h1 id="6ï¼šHttpsè¯·æ±‚ç¨‹åº"><a href="#6ï¼šHttpsè¯·æ±‚ç¨‹åº" class="headerlink" title="6ï¼šHttpsè¯·æ±‚ç¨‹åº"></a>6ï¼šHttpsè¯·æ±‚ç¨‹åº</h1><p>è¿™é‡Œä»¥ä¼ä¸šå¾®ä¿¡apiå‘é€åº”ç”¨æ¶ˆæ¯ä¸ºä¾‹ï¼Œç®€è¿°httpsè¯·æ±‚ä¸­çš„getå’Œpostè¯·æ±‚ã€‚httpè¯·æ±‚æ›´ä¸ºç®€å•ã€‚ç½‘ä¸Šèµ„æ–™ä¹Ÿæ›´å¤šã€‚</p><p>è¦è°ƒå–ä¼ä¸šå¾®ä¿¡apié¦–å…ˆéœ€è¦ä»”ç»†é˜…è¯»å…¶<a href="https://work.weixin.qq.com/api/doc/90000/90135/91039">å¼€å‘æ–‡æ¡£</a>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ESP8266WiFi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ESP8266HTTPClient.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;WiFiClientSecureBearSSL.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ArduinoJson.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//WiFiè¿æ¥ä¿¡æ¯ï¼ˆæ³¨æ„ï¼šéœ€è¦è‡ªè¡Œä¿®æ”¹ä»¥ä¸‹å†…å®¹å¦åˆ™ESP8266æ— æ³•è¿æ¥WiFiï¼‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ssid <span class="meta-string">&quot;SSID&quot;</span>   <span class="comment">//WiFiåç§° </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> password <span class="meta-string">&quot;PASSWORD&quot;</span>  <span class="comment">//WiFiå¯†ç </span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//https://qyapi.weixin.qq.comç½‘ç«™çš„æŒ‡çº¹ã€‚</span></span><br><span class="line"><span class="comment">//espé€šè¿‡httpsè®¿é—®ç½‘ç«™ï¼Œéƒ½éœ€è¦è‡ªå·±é€šè¿‡æµè§ˆå™¨è·å–æŒ‡çº¹ï¼Œè·å–æ–¹æ³•å¯è‡ªè¡Œæœç´¢ï¼Œåœ¨å‚è€ƒèµ„æ–™ä¸­ä¹Ÿæœ‰æ–‡ç« ï¼ŒæŒ‡çº¹ä¸€èˆ¬å‡ ä¸ªæœˆå°±éœ€è¦æ›´æ–°ä¸€æ¬¡ã€‚æµè§ˆå™¨æ‰“å¼€https://qyapi.weixin.qq.com/cgi-bin/gettokenè·å–æŒ‡çº¹ï¼Œè€Œä¸åªæ˜¯åªæœ‰ä¸»æœºåã€‚</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> fingerprint[] PROGMEM = <span class="string">&quot;790e6e32485bb89503ac6da87d948f5e634322a7&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//HTTPSç«¯å£443</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> httpsPort = <span class="number">443</span>;  </span><br><span class="line"><span class="comment">// ä¼ä¸šå¾®ä¿¡apiç›¸å…³</span></span><br><span class="line"><span class="keyword">String</span> tokenUrl = <span class="string">&quot;https://qyapi.weixin.qq.com/cgi-bin/gettoken&quot;</span>;</span><br><span class="line"><span class="keyword">String</span> sendMsgUrl = <span class="string">&quot;https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=&quot;</span>;</span><br><span class="line"><span class="comment">//ä»¥ä¸‹ä¿¡æ¯éœ€è¦æ›¿æ¢ï¼Œè¿™é‡Œçš„å‡ä¸å¯ç”¨</span></span><br><span class="line"><span class="keyword">String</span> corpid = <span class="string">&quot;ww98b3k1b63788a7ad&quot;</span>;<span class="comment">//ä½ çš„ä¼ä¸šid</span></span><br><span class="line"><span class="keyword">String</span> corpsecret = <span class="string">&quot;Kh8asfasfaTrbSwRBGK5H0osnfasakjkmSYCqV3Tgcs&quot;</span>;<span class="comment">//ä½ çš„ä¼ä¸šåº”ç”¨å¯†é’¥</span></span><br><span class="line"><span class="keyword">String</span> agentid = <span class="string">&quot;1000002&quot;</span>;<span class="comment">//ä½ çš„ä¼ä¸šåº”ç”¨id</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–ä¼ä¸šå¾®ä¿¡access_token</span></span><br><span class="line"><span class="function"><span class="keyword">String</span> <span class="title">get_token</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">String</span> token = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">  <span class="keyword">String</span> requestUrl = tokenUrl + <span class="string">&quot;?corpid=&quot;</span>+corpid+<span class="string">&quot;&amp;corpsecret=&quot;</span>+corpsecret;</span><br><span class="line">  <span class="comment">//httpséœ€è¦åˆ›å»ºä¸€ä¸ªåŠ å¯†è·¯å¾„</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;BearSSL::WiFiClientSecure&gt;client(<span class="keyword">new</span> BearSSL::WiFiClientSecure);</span><br><span class="line">  client-&gt;setFingerprint(fingerprint);</span><br><span class="line">  <span class="comment">//åˆ›å»ºä¸€ä¸ªHTTPå®¢æˆ·ç«¯</span></span><br><span class="line">  HTTPClient https;</span><br><span class="line">  <span class="comment">//httpå’Œhttpsçš„åŒºåˆ«å°±æ˜¯https.beginä¸­çš„*clientã€‚å¦‚æœæ²¡æœ‰*client,é‚£ä¹ˆå‘é€å‡ºå»çš„å°±æ˜¯httpè¯·æ±‚</span></span><br><span class="line">  <span class="comment">//å»ºç«‹è¿æ¥</span></span><br><span class="line">  <span class="keyword">if</span> (https.<span class="built_in">begin</span>(*client, requestUrl)) &#123;  <span class="comment">// HTTPS</span></span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;[HTTPS] GET...\n&quot;</span>);</span><br><span class="line">      <span class="comment">// å‘é€getè¯·æ±‚</span></span><br><span class="line">      <span class="keyword">int</span> httpCode = https.GET();</span><br><span class="line">  <span class="comment">//å¦‚æœhttpCodeå°äºé›¶åˆ™è¿æ¥é”™è¯¯</span></span><br><span class="line">      <span class="keyword">if</span> (httpCode &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">printf</span>(<span class="string">&quot;[HTTPS] GET... code: %d\n&quot;</span>, httpCode);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// file found at server</span></span><br><span class="line">        <span class="keyword">if</span> (httpCode == HTTP_CODE_OK || httpCode == HTTP_CODE_MOVED_PERMANENTLY) &#123;</span><br><span class="line">          <span class="comment">//å°†è¿”å›çš„jsonåºåˆ—ï¼Œæ”¾åˆ°jsonå˜é‡</span></span><br><span class="line">          <span class="keyword">String</span> json = https.getString();</span><br><span class="line">          <span class="built_in">Serial</span>.<span class="built_in">println</span>(json);</span><br><span class="line">          <span class="comment">// åˆ›å»ºDynamicJsonDocumentå¯¹è±¡ï¼Œjsonä¸­çš„å‚æ•°ä¸º4ä¸ªã€‚</span></span><br><span class="line">          <span class="keyword">const</span> <span class="keyword">size_t</span> capacity = JSON_OBJECT_SIZE(<span class="number">4</span>) + <span class="number">290</span>;</span><br><span class="line">          <span class="function">DynamicJsonDocument <span class="title">doc</span><span class="params">(capacity)</span></span>;</span><br><span class="line">          <span class="comment">//ååºåˆ—åŒ–æ•°æ®</span></span><br><span class="line">          deserializeJson(doc, json);</span><br><span class="line">          <span class="keyword">if</span>(doc[<span class="string">&quot;errcode&quot;</span>].as&lt;<span class="keyword">int</span>&gt;()==<span class="number">0</span>)&#123;</span><br><span class="line">              token = doc[<span class="string">&quot;access_token&quot;</span>].as&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">printf</span>(<span class="string">&quot;[HTTPS] GET... failed, error: %s\n&quot;</span>, https.errorToString(httpCode).c_str());</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      https.<span class="built_in">end</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">printf</span>(<span class="string">&quot;[HTTPS] Unable to connect\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> token;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//è°ƒç”¨ä¼ä¸šå¾®ä¿¡apiï¼Œå‘é€ä¿¡æ¯ã€‚</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">send_msg</span><span class="params">(<span class="keyword">String</span> msg)</span></span>&#123;</span><br><span class="line">   <span class="comment">//è°ƒç”¨get_tokenå‡½æ•°ï¼Œè·å–token</span></span><br><span class="line">   <span class="keyword">String</span> token = get_token();</span><br><span class="line">   <span class="comment">//token=123è¡¨ç¤ºget_token()å‡½æ•°è¯·æ±‚tokenå¤±è´¥ã€‚</span></span><br><span class="line">   <span class="comment">//å¦‚æœå¤±è´¥ï¼Œå¯èƒ½è¿˜éœ€è¦å…¶ä»–æ­¥éª¤ï¼Œæ¯”å¦‚é‡æ–°è·å–ã€‚è¿™é‡Œæ²¡æœ‰å®Œå–„ã€‚</span></span><br><span class="line">   <span class="keyword">if</span> (token == <span class="string">&quot;123&quot;</span>)&#123;</span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;not get token&quot;</span>);</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;got token&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">//æ„é€ è¯·æ±‚url</span></span><br><span class="line">   <span class="keyword">String</span> requestUrl = sendMsgUrl + token;</span><br><span class="line">   <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;BearSSL::WiFiClientSecure&gt;client(<span class="keyword">new</span> BearSSL::WiFiClientSecure);</span><br><span class="line">   client-&gt;setFingerprint(fingerprint);</span><br><span class="line">   HTTPClient httpClient;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//ä¸å¾®ä¿¡æœåŠ¡å™¨å»ºç«‹è¿æ¥</span></span><br><span class="line">   httpClient.<span class="built_in">begin</span>(*client,requestUrl);</span><br><span class="line">   <span class="comment">//æ„å»ºjsonæ•°æ®ï¼Œç”¨äºå‘é€è¯·æ±‚å†…å®¹</span></span><br><span class="line">   <span class="keyword">String</span> json = <span class="string">&quot;&#123;\&quot;touser\&quot;:\&quot;@all\&quot;,\&quot;msgtype\&quot;:\&quot;text\&quot;,\&quot;agentid\&quot;:1000002,\&quot;text\&quot;:&#123;\&quot;content\&quot;:\&quot;&quot;</span>+msg+<span class="string">&quot;\&quot;&#125;,\&quot;safe\&quot;:0,\&quot;enable_id_trans\&quot;:0,\&quot;enable_duplicate_check\&quot;:0,\&quot;duplicate_check_interval\&quot;:1800&#125;&quot;</span>;</span><br><span class="line">   <span class="comment">//å‘é€è¯·æ±‚å†…å®¹</span></span><br><span class="line">   <span class="built_in">Serial</span>.<span class="built_in">println</span>(json);</span><br><span class="line">   <span class="comment">//å°†è¯·æ±‚æ•°æ®æ”¾åˆ°POST()ä¸­ã€‚</span></span><br><span class="line">   <span class="keyword">int</span> httpCode = httpClient.POST(json);</span><br><span class="line">   <span class="comment">//è¿™é‡Œæ²¡æœ‰è¯»å–æœåŠ¡å™¨è¿”å›çš„jsonæ•°æ®ï¼Œæœ€å¥½è¿˜æ˜¯æå–å‡ºæ¥ï¼Œåˆ¤æ–­æ˜¯å¦å‘é€æˆåŠŸã€‚å¯è‡ªè¡Œæ·»åŠ ä»£ç </span></span><br><span class="line">   <span class="keyword">if</span> (httpCode &gt; <span class="number">0</span>) &#123;</span><br><span class="line">     <span class="comment">//å°†æœåŠ¡å™¨å“åº”å¤´æ‰“å°åˆ°ä¸²å£</span></span><br><span class="line">     <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;[HTTP] POST... code:&quot;</span>+ httpCode);</span><br><span class="line">     <span class="comment">//å°†ä»æœåŠ¡å™¨è·å–çš„æ•°æ®æ‰“å°åˆ°ä¸²å£</span></span><br><span class="line">     <span class="keyword">if</span> (httpCode == HTTP_CODE_OK) &#123;</span><br><span class="line">       <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;Send success&quot;</span>);</span><br><span class="line">       <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;return str:&quot;</span>+httpClient.getString());</span><br><span class="line">     &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;send failure&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//å…³é—­ESP8266ä¸æœåŠ¡å™¨è¿æ¥</span></span><br><span class="line">   httpClient.<span class="built_in">end</span>();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Wifi init</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wifi_init</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">  <span class="built_in">WiFi</span>.mode(WIFI_STA);        <span class="comment">//è®¾ç½®ESP8266ä¸ºæ— çº¿ç»ˆç«¯å·¥ä½œæ¨¡å¼</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">WiFi</span>.<span class="built_in">begin</span>(ssid, password); <span class="comment">//è¿æ¥WiFi</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;Connecting&quot;</span>); <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç­‰å¾…è¿æ¥</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">WiFi</span>.status() != WL_CONNECTED) &#123;</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//æˆåŠŸè¿æ¥åé€šè¿‡ä¸²å£ç›‘è§†å™¨æ˜¾ç¤ºWiFiåç§°ä»¥åŠESP8266çš„IPåœ°å€ã€‚</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;Connected to &quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(ssid);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;IP address: &quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="built_in">WiFi</span>.<span class="built_in">localIP</span>()); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  wifi_init();</span><br><span class="line">  send_msg(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ArduinoJSONåº“éœ€è¦åœ¨IDEåº“ç®¡ç†ä¸­æœç´¢å®‰è£…ï¼Œ</p><p>å…¶ä»–åº“éƒ½æ˜¯éšESP8266åº“ä¸€èµ·å®‰è£…çš„ã€‚</p></blockquote><p>jsonæ ¼å¼åŒ–å’Œè½¬ä¹‰ï¼š<a href="http://www.bejson.com/">http://www.bejson.com/</a></p><p>ArduinoJson Assistantï¼š<a href="https://arduinojson.org/v6/assistant/">https://arduinojson.org/v6/assistant/</a></p><p>å…³äºArduinoJSONè¯¦ç»†æ•™ç¨‹å¯è§å‚è€ƒèµ„æ–™ç« èŠ‚</p><h1 id="7ï¼šä½åŠŸè€—æ–¹æ¡ˆ"><a href="#7ï¼šä½åŠŸè€—æ–¹æ¡ˆ" class="headerlink" title="7ï¼šä½åŠŸè€—æ–¹æ¡ˆ"></a>7ï¼šä½åŠŸè€—æ–¹æ¡ˆ</h1><p>ESP8266æä¾›ä¸‰ç§çœç”µæ¨¡å¼ã€‚</p><p><img src="https://i.loli.net/2020/11/28/ISEmNwO87xsL2uJ.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/ISEmNwO87xsL2uJ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å½“æˆ‘ä»¬çš„ç¨‹åºåœ¨æŸä¸ªæ—¶é—´æ®µä¸éœ€è¦ä½¿ç”¨wifiæ¨¡å—æ—¶ï¼Œå¯è®©å®ƒè¿›å…¥ç¡çœ æ¨¡å¼ï¼Œ</p><p>Modem-Sleepæ¨¡å¼ï¼šwifiä¸è·¯ç”±å™¨ä¿æŒè¿æ¥ï¼Œåªåœ¨é—´æ–­çš„æ—¶é—´é‡Œå‘é€ä¸€ä¸ªæ¶ˆæ¯ä»¥ä¿æŒè¿æ¥ã€‚</p><p>Light-Sleepæ¨¡å¼ï¼šåœ¨Modem-Sleepçš„åŸºç¡€ä¸Šï¼Œå…³é—­CPUã€‚åœ¨espå¾ªç¯ä»»åŠ¡é•¿æ—¶é—´ä¸éœ€è¦espå·¥ä½œæ—¶ï¼Œä¼šè‡ªåŠ¨è¿›å…¥æ­¤æ¨¡å¼ã€‚</p><p>Deep-Sleepæ¨¡å¼ï¼šæ–­å¼€wifiã€‚å¯ç”¨æˆ·é…ç½®ã€‚</p><p>deepsleepæ¨¡å¼æä¾›å®šæ—¶å™¨å”¤é†’å’Œå¤–éƒ¨IOå”¤é†’ä¸¤ç§æ–¹æ¡ˆã€‚</p><ol><li>å®šæ—¶å™¨å”¤é†’</li></ol><p>å°†RSTå¼•è„šæ¥GPIO16ã€‚</p><p><img src="https://i.loli.net/2020/11/28/fLxZXFoKgtsji9k.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/fLxZXFoKgtsji9k.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ESP8266 Deep sleep mode example</span></span><br><span class="line"><span class="comment"> * Rui Santos </span></span><br><span class="line"><span class="comment"> * Complete Project Details https://randomnerdtutorials.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">setTimeout</span>(<span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Wait for serial to initialize.</span></span><br><span class="line">  <span class="keyword">while</span>(!<span class="built_in">Serial</span>) &#123; &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Deep sleep mode for 30 seconds, the ESP8266 wakes up by itself when GPIO 16 (D0 in NodeMCU board) is connected to the RESET pin</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;I&#x27;m awake, but I&#x27;m going into deep sleep mode for 30 seconds&quot;</span>);</span><br><span class="line">  ESP.deepSleep(<span class="number">30e6</span>); </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ESP-01èŠ¯ç‰‡ï¼ŒGPIO16å¼•è„šå¹¶æ²¡æœ‰å¼•å‡ºï¼Œæ‰€ä»¥ï¼Œå¾ˆéš¾å°†RSTå¼•è„šä¸å…¶ç›¸æ¥ã€‚</p><p><img src="https://i.loli.net/2020/11/28/t1DKzIw8EcpknCy.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/t1DKzIw8EcpknCy.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="2"><li>å¤–éƒ¨å”¤é†’ã€‚</li></ol><p>å°†RSTä¸å¤–éƒ¨å•ç‰‡æœºçš„IOå£ç›¸æ¥ï¼Œå½“å¤–éƒ¨IOç»™RSTä¸€ä¸ªä½ç”µå¹³æ—¶ï¼ŒèŠ¯ç‰‡å°†é‡å¯æ¿€æ´»ã€‚</p><p>ä¾‹å¦‚ä½¿ç”¨æŒ‰é’®æ¥æä¾›ä½ç”µå¹³</p><p><img src="https://i.loli.net/2020/11/28/HuzF2oGUgDsN4Sl.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/HuzF2oGUgDsN4Sl.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="https://i.loli.net/2020/11/28/aS3wmf4FZR5plv7.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/28/aS3wmf4FZR5plv7.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ESP8266 Deep sleep mode example</span></span><br><span class="line"><span class="comment"> * Rui Santos </span></span><br><span class="line"><span class="comment"> * Complete Project Details https://randomnerdtutorials.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">setTimeout</span>(<span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Wait for serial to initialize.</span></span><br><span class="line">  <span class="keyword">while</span>(!<span class="built_in">Serial</span>) &#123; &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// Deep sleep mode until RESET pin is connected to a LOW signal (for example pushbutton or magnetic reed switch)</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;I&#x27;m awake, but I&#x27;m going into deep sleep mode until RESET pin is connected to a LOW signal&quot;</span>);</span><br><span class="line">  ESP.deepSleep(<span class="number">0</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>æœ‰çš„ESPæ¨¡å—ä¸Šé¢å¸¦æœ‰LEDç¯ï¼Œé‡‡ç”¨ä½åŠŸè€—æ–¹æ¡ˆï¼ŒåŠ¡å¿…å°†LEDç§»é™¤ã€‚</li></ol><h1 id="8ï¼šä¸å…¶ä»–å•ç‰‡æœºé€šè®¯"><a href="#8ï¼šä¸å…¶ä»–å•ç‰‡æœºé€šè®¯" class="headerlink" title="8ï¼šä¸å…¶ä»–å•ç‰‡æœºé€šè®¯"></a>8ï¼šä¸å…¶ä»–å•ç‰‡æœºé€šè®¯</h1><p>ESPé€šè¿‡ä¸²å£å¯ä¸å…¶ä»–å•ç‰‡æœºä¼ é€’ä¿¡æ¯ï¼Œå°†ESPçš„TXå¼•è„šè¿æ¥å…¶ä»–å•ç‰‡æœºRXå¼•è„šï¼ŒESPçš„RXè¿æ¥å…¶ä»–å•ç‰‡æœºçš„TXã€‚</p><blockquote><p>æ³¨æ„ï¼ŒESP8266æ˜¯3.3Vä¾›ç”µï¼ŒVCCéœ€è¦æ¥3.3Vã€‚å¦‚æœå…¶ä»–å•ç‰‡æœºæ˜¯5Vä¾›ç”µï¼ŒESPçš„RXå¼•è„šéœ€è¦åˆ†å‹ä¹‹åè¿æ¥å…¶ä»–å•ç‰‡æœºçš„TXï¼Œå¦åˆ™è¿›å…¥ESPçš„5Vç”µå‹ä¼šçƒ§åèŠ¯ç‰‡ã€‚ESPçš„TXåˆ™ä¸ç”¨åˆ†å‹ã€‚</p></blockquote><p>ä¸‹å›¾ä¸ºESPè¿æ¥Arduino Nanoçš„æ¥çº¿å›¾ï¼Œé€”ä¸­ï¼ŒESP RXå¼•è„šï¼Œé€šè¿‡1Kå’Œ2Kçš„ç”µé˜»åˆ†å‹ï¼Œå…¶å®ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ESP TXå¼•è„šå’Œå•ç‰‡æœºRXå¼•è„šä¹‹é—´è¿æ¥ä¸€ä¸ª550å·¦å³çš„ç”µé˜»ã€‚</p><p><img src="https://i.loli.net/2020/11/27/u2Ggy1z9U87fV3i.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/27/u2Ggy1z9U87fV3i.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h1 id="9ï¼šå‚è€ƒèµ„æ–™"><a href="#9ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="9ï¼šå‚è€ƒèµ„æ–™"></a>9ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="http://www.piaoyi.org/iot/espressif-ESP8266-MQTT-AT.html">ä¹é‘«ESP8266çƒ§å½•å›ºä»¶ã€å‡çº§æœ€æ–°å›ºä»¶ã€åˆ·MQTTå›ºä»¶</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/weixin_44713763/article/details/104755899">ESP8266 WIFIæ¨¡å—å¸¸ç”¨ATæŒ‡ä»¤æ±‡æ€»</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/qq_34020487/article/details/102766314">Arduinoå®‰è£…ESP8266çš„å¼€å‘ç¯å¢ƒ</a>ã€‹</p><p>ã€Š<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-client/esp8266-json-parse/">ESP8266 JSONè§£æ</a>ã€‹</p><p>ã€Š<a href="http://www.taichi-maker.com/homepage/iot-development/iot-dev-reference/esp8266-c-plus-plus-reference/http-client-secure/certificate-fingerprint/">ç‰©è”ç½‘å¼€å‘å®ç”¨çŸ¥è¯† â€“ æŸ¥çœ‹ç½‘ç«™è¯ä¹¦æŒ‡çº¹</a>ã€‹</p><p>ã€Š<a href="https://randomnerdtutorials.com/esp8266-deep-sleep-with-arduino-ide/">ESP8266 Deep Sleep with Arduino IDE (NodeMCU)</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESP8266 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºESP8266WIFIæ¨¡å—å’ŒMPU6050ä¼ æ„Ÿå™¨åœ¨Arduinoä¸Šå¼€å‘æ™ºèƒ½ä¿¡ç®±</title>
      <link href="/2020/11/24/%E5%9F%BA%E4%BA%8EESP8266WIFI%E6%A8%A1%E5%9D%97%E5%92%8CMPU6050%E5%8A%A0%E9%80%9F%E5%BA%A6%E8%AE%A1%E5%9C%A8Arduino%E4%B8%8A%E5%BC%80%E5%8F%91%E6%99%BA%E8%83%BD%E4%BF%A1%E7%AE%B1/"/>
      <url>/2020/11/24/%E5%9F%BA%E4%BA%8EESP8266WIFI%E6%A8%A1%E5%9D%97%E5%92%8CMPU6050%E5%8A%A0%E9%80%9F%E5%BA%A6%E8%AE%A1%E5%9C%A8Arduino%E4%B8%8A%E5%BC%80%E5%8F%91%E6%99%BA%E8%83%BD%E4%BF%A1%E7%AE%B1/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šå¼€ç¯‡"><a href="#1ï¼šå¼€ç¯‡" class="headerlink" title="1ï¼šå¼€ç¯‡"></a>1ï¼šå¼€ç¯‡</h1><p>åœ¨å¾·å›½ï¼Œæ¯å®¶æ¯æˆ·éƒ½æœ‰ä¸€ä¸ªä¿¡ç®±ï¼Œå®¶åº­çš„ç”µæ°”æš–è´¦å•ï¼Œäº²äººçš„é—®å€™ï¼Œä¸ªäººçš„ä¿¡ä»¶éƒ½ä¼šè£…åˆ°è¿™ä¸ªå°å°çš„ç®±å­é‡Œã€‚ã€‚ç›¸è¾ƒäºé€è´§åˆ°äººçš„å¿«é€’ï¼Œä¿¡ä»¶å¾€å¾€è¢«æˆ‘ä»¬æ‰€å¿½ç•¥ï¼Œå¸¸å®…åœ¨å®¶çš„æˆ‘ï¼Œä¸€ä¸¤ä¸ªæ˜ŸæœŸæ‰ä¼šæ£€æŸ¥ä¸€æ¬¡ä¿¡ç®±ã€‚è™½ç„¶ä¿¡ä»¶é€šå¸¸ä¸é‡è¦ï¼Œä½†æ£€æŸ¥ä¿¡ç®±è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ã€‚äºæ˜¯ï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ªå°å°çš„æ¨¡å—ï¼Œè®©å®ƒä»£æ›¿æˆ‘æ£€æŸ¥ä¿¡ç®±ï¼Œæ¯å½“æœ‰æ–°çš„ä¿¡ä»¶è¿›å…¥ä¿¡ç®±ï¼Œå®ƒå°±å‘é€ä¸€æ¡å¾®ä¿¡æ¶ˆæ¯ï¼Œæé†’æˆ‘å–ä¿¡ä»¶ã€‚</p><h2 id="1-1-ESP8266-01-Wifiæ¨¡å—"><a href="#1-1-ESP8266-01-Wifiæ¨¡å—" class="headerlink" title="1.1 ESP8266-01 Wifiæ¨¡å—"></a>1.1 ESP8266-01 Wifiæ¨¡å—</h2><p>wifiæ¨¡å—æ˜¯ç‰©è”ç½‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡å®ƒè¿ä¸Šå®¶é‡Œçš„wifiï¼Œå‘ç½‘ç»œå‘é€è¯·æ±‚ã€‚è°ƒç”¨ä¼ä¸šå¾®ä¿¡apiï¼Œæ¥å‘é€å¾®ä¿¡æ¶ˆæ¯ã€‚</p><p><img src="https://i.loli.net/2020/11/25/1BzINH4M5urOPnQ.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/25/1BzINH4M5urOPnQ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ESP8266é€šè¿‡ä¸²å£é€šä¿¡ä¸Arduinoå•ç‰‡æœºé€šä¿¡ï¼Œç”±3.3Vç›´æµç”µå‹ä¾›ç”µã€‚</p><h2 id="1-2-GY-521æ¨¡å—"><a href="#1-2-GY-521æ¨¡å—" class="headerlink" title="1.2 GY-521æ¨¡å—"></a>1.2 GY-521æ¨¡å—</h2><p>GY-521æŒ‡å›´ç»•MPU6050èŠ¯ç‰‡æ‰€è®¾è®¡çš„ç”µè·¯æ¿ã€‚</p><p>MPU6050èŠ¯ç‰‡é›†æˆäº†åŠ é€Ÿåº¦è®¡ã€é™€èºä»ªã€æ¸©åº¦ä¼ æ„Ÿå™¨ã€‚é€šè¿‡i2cä¸Arduinoå•ç‰‡æœºé€šä¿¡ã€‚å·¥ä½œç”µå‹ä¸º5Vã€‚</p><p><img src="https://i.loli.net/2020/11/25/SW2d3zAYn6Cmv7P.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/25/SW2d3zAYn6Cmv7P.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä½¿ç”¨MPU6050æ£€æµ‹ä¿¡ç®±å£çš„è¿åŠ¨çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æ–°çš„ä¿¡ä»¶æŠ•å…¥ã€‚</p><h2 id="1-3-Arduino"><a href="#1-3-Arduino" class="headerlink" title="1.3 Arduino"></a>1.3 Arduino</h2><p>Arduinoæ˜¯ç›®å‰éå¸¸ç«çš„å¼€æºå•ç‰‡æœºï¼Œå…¶å‘¨è¾¹å¼€å‘æ¿å¤§å¤šå¼€æºï¼Œå› æ­¤ï¼Œä¸€å—Arduinoå¼€å‘æ¿ä»·æ ¼éå¸¸ä¾¿å®œï¼ŒArduino pro miniä»…åå—é’±ã€‚æˆ‘é‡‡ç”¨çš„æ˜¯Arduino nanoã€‚å…¶å¸¦æœ‰usbæ¥å£ï¼Œæ¯”è¾ƒæ–¹ä¾¿è°ƒè¯•ã€‚ä½†æ˜¯è€—ç”µä¼šæ¯”pro minié«˜ã€‚</p><p><img src="https://i.loli.net/2020/11/25/5eMrPLpqKmb3FG1.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/25/5eMrPLpqKmb3FG1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>åœ¨æŠ•å…¥ä½¿ç”¨æ—¶ï¼Œè€ƒè™‘åˆ°ç”µæ± ä¼˜åŒ–ï¼Œå»ºè®®ä½¿ç”¨pro miniã€‚è¿™æ ·æ•´ä¸ªç³»ç»Ÿçš„è¿è¡Œæ—¶é•¿ä¼šæ›´ä¹…ã€‚</p><p>æ­¤å¤–ï¼ŒArduinoæ‹¥æœ‰åºå¤§çš„ç¤¾åŒºï¼Œå¤§éƒ¨åˆ†ä¼ æ„Ÿå™¨æ¨¡å—éƒ½æœ‰å…¶é€‚é…æ”¯æŒçš„å¼€æºåº“ã€‚å¼€å‘æ›´åŠ å®¹æ˜“ï¼Œä¸”ä¸ç”¨èŠ±è´¹å¤§é‡æ—¶é—´é˜…è¯»ç¡¬ä»¶è¯´æ˜ä¹¦ã€‚å¯¹äºè¿½æ±‚æ€§èƒ½ä¼˜åŒ–è€Œä¸æ˜¯ä»…åŠŸèƒ½å®è·µçš„äººæ¥è¯´ï¼Œè¿˜æ˜¯æœ‰å¿…è¦é˜…è¯»ä¼ æ„Ÿå™¨æ•°æ®æ‰‹å†Œçš„ã€‚</p><p>Arduinoç”¨äºæ¥æ”¶ä¼ æ„Ÿå™¨çš„æ•°æ®ï¼Œå¹¶å¤„ç†è®¡ç®—ï¼Œåˆ¤æ–­æ˜¯å¦ä¿¡ç®±å£æœ‰åŠ¨ä½œï¼Œå¦‚æœæœ‰ï¼Œåˆ™é€šè¿‡wifiæ¨¡å—å‘é€å¾®ä¿¡ã€‚</p><h1 id="2ï¼šç”µè·¯è®¾è®¡"><a href="#2ï¼šç”µè·¯è®¾è®¡" class="headerlink" title="2ï¼šç”µè·¯è®¾è®¡"></a>2ï¼šç”µè·¯è®¾è®¡</h1><p>è¿™é‡Œåªæ˜¯ç®€å•çš„ç”»äº†ä¸€ä¸ªç”µè·¯è®¾è®¡å›¾ï¼Œå› ä¸ºä¸éœ€è¦å†å»åˆ¶ä½œPCBæ¿ï¼Œä¹Ÿå°±ä¸ç”¨è®¾è®¡PCBæ¿å›¾ã€‚åªè¦è´­ä¹°ç›¸åº”çš„æ¨¡å—ï¼Œç„¶åå¯¹ç…§ç”µè·¯å›¾è¿çº¿å³å¯ã€‚</p><p><img src="https://i.loli.net/2020/11/30/JZrCeHhQS2W4tDR.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/30/JZrCeHhQS2W4tDR.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>é¢åŒ…æ¿å›¾</p><p><img src="https://i.loli.net/2020/11/30/9ZDSA3qTaPJ1tVe.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/30/9ZDSA3qTaPJ1tVe.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="2-1-ç”µæºè®¾è®¡"><a href="#2-1-ç”µæºè®¾è®¡" class="headerlink" title="2.1 ç”µæºè®¾è®¡"></a>2.1 ç”µæºè®¾è®¡</h2><ul><li>5Vç”µæº</li></ul><p>é€šè¿‡4ä¸ªAAç”µæ± ä¸²è”ï¼Œè·å¾—ä¸€ä¸ª4x1.5Vçš„ç›´æµç”µï¼Œç†è®ºç”µå‹ä¸º6Vï¼Œè€Œå®é™…ä¸Šéƒ½ä¼šå°äº6Vã€‚å› ä¸ºå•ç‰‡æœºä¾›ç”µè¦æ±‚åœ¨4.5~5.5Vä¹‹é—´ï¼Œå¦‚æœ‰å¿…è¦å¯åœ¨ç”µæ± æ­£ææ¥ä¸€ä¸ªç¨³å‹äºŒæç®¡ã€‚ç¨³å‹äºŒæç®¡ç”±ç¡…ææ–™åˆ¶æˆï¼Œå…¶æ­£å‘å¯¼é€šæ—¶ï¼Œåœ¨PNç»“ä¹‹é—´äº§ç”Ÿä¸€ä¸ª0.7Vå·¦å³çš„å‹é™ã€‚å› æ­¤ä»ç¨³å‹äºŒæç®¡è¾“å‡ºçš„ç”µå‹å°±èƒ½å¤Ÿæ»¡è¶³å•ç‰‡æœºä¾›ç”µéœ€æ±‚ã€‚æˆ‘ç›´æ¥è¿æ¥VCCä¾›ç”µæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨9~12Vçš„ç”µæºè¿æ¥VINæ¥å£ä¾›ç”µï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨å……ç”µå®ï¼Œé€šè¿‡usbæ¥å£ä¾›ç”µã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œusbä¾›ç”µä¼šé¢å¤–å¢åŠ ç”µèƒ½æŸè€—ã€‚</p><ul><li>3V3ç”µæº</li></ul><p>ESP8266æ¨¡å—ä½¿ç”¨3V3ç”µæºï¼Œ4ä¸ªå¹²ç”µæ± ï¼Œæ— æ³•æä¾›3Vç”µæºï¼Œä½¿ç”¨LM1117-3.3èŠ¯ç‰‡å°†5Vé™å‹ä¸º3Vã€‚è¾“å…¥å’Œè¾“å‡ºå£å„åŠ ä¸€ä¸ª2.2uFçš„ç”µå®¹ï¼Œç”¨äºç¨³å‹ã€‚</p><h2 id="2-2-å„æ¨¡å—æ¥çº¿"><a href="#2-2-å„æ¨¡å—æ¥çº¿" class="headerlink" title="2.2 å„æ¨¡å—æ¥çº¿"></a>2.2 å„æ¨¡å—æ¥çº¿</h2><p>GY521æ¨¡å—SCLã€SDAåˆ†åˆ«ä¸ºI2Cçš„æ—¶é’Ÿå’Œæ•°æ®æ€»çº¿ï¼Œä¸ArduinoSCLå’ŒSDAç›¸è¿ã€‚GY521 Intå¼•è„šæ¥Arduino D2(INT0)å¼•è„šã€‚</p><p>Arduino D6å¼•è„šï¼Œè¾“å‡ºæ§åˆ¶ç”µå¹³ï¼Œé€šè¿‡ä¸€ä¸ªç¨³å‹äºŒæç®¡ï¼Œå°†5Vé«˜ç”µå¹³è½¬3Vé«˜ç”µå¹³ã€‚</p><h1 id="3ï¼šç¨‹åºè®¾è®¡"><a href="#3ï¼šç¨‹åºè®¾è®¡" class="headerlink" title="3ï¼šç¨‹åºè®¾è®¡"></a>3ï¼šç¨‹åºè®¾è®¡</h1><h2 id="3-1-wifiæ¨¡å—"><a href="#3-1-wifiæ¨¡å—" class="headerlink" title="3.1 wifiæ¨¡å—"></a>3.1 wifiæ¨¡å—</h2><p>å½“WIFIæ¨¡å—å¯åŠ¨æ—¶ï¼Œä¼šå‘é€ä¸€æ¡å¾®ä¿¡æ¶ˆæ¯ã€‚ç„¶åè¿›å…¥ç¡çœ ï¼Œå½“RSTå¼•è„šæ¥æ”¶åˆ°ä½ç”µå¹³-&gt;é«˜ç”µå¹³æ—¶ï¼ŒWIFIæ¨¡å—å°†è¢«å”¤é†’ã€‚</p><p>æˆ‘çŒœæµ‹æˆ‘çš„WIFIæ¨¡å—æ˜¯å­˜åœ¨æŸç§é—®é¢˜çš„ï¼Œå½“å®ƒè¢«å”¤é†’æ—¶ï¼Œå¹¶ä¸ä¼šè¿›è¡Œè¿è¡Œloopä¸­çš„å†…å®¹ï¼Œè€Œæ˜¯è¿›è¡Œäº†æœªçŸ¥æ“ä½œã€‚å› æ­¤ï¼Œæˆ‘åœ¨Arduinoä¸­ä¸å¾—ä¸ï¼Œå‘RSTå¼•è„šå‘å‡ºä¸¤æ¬¡ä½ç”µå¹³ï¼Œç¬¬ä¸€æ¬¡ç”¨äºæ¿€æ´»WIFIæ¨¡å—ï¼Œç¬¬äºŒæ¬¡é‡ç½®WIFIæ¨¡å—ï¼Œå› ä¸ºå®ƒé‡å¯çš„æ—¶å€™ï¼Œå°±ä¼šå‘é€ä¸€æ¡å¾®ä¿¡æ¶ˆæ¯ã€‚æ‰€ä»¥ä¹Ÿèƒ½å®ç°æ—¢å®šåŠŸèƒ½ã€‚</p><p>ESP8266å‘é€httpsè¯·æ±‚æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨è·å–æœåŠ¡å™¨è¯ä¹¦ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±ä»æœåŠ¡å™¨å»è·å–ï¼Œå¯ä»¥ç›´æ¥ä»æµè§ˆå™¨æ‹·è´ä¸‹æ¥ã€‚è¿™é‡Œæ²¡æœ‰ä½¿ç”¨è¯ä¹¦ï¼Œè€Œæ˜¯æŒ‡çº¹ï¼Œä½œç”¨ç›¸åŒã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ESP8266WiFi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ESP8266HTTPClient.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;WiFiClientSecureBearSSL.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ArduinoJson.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//WiFiè¿æ¥ä¿¡æ¯ï¼ˆæ³¨æ„ï¼šéœ€è¦è‡ªè¡Œä¿®æ”¹ä»¥ä¸‹å†…å®¹å¦åˆ™ESP8266æ— æ³•è¿æ¥WiFiï¼‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ssid <span class="meta-string">&quot;SSIDU&quot;</span>   <span class="comment">//WiFiåç§° </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> password <span class="meta-string">&quot;Password&quot;</span>  <span class="comment">//WiFiå¯†ç </span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//https://qyapi.weixin.qq.comæœåŠ¡å™¨çš„æŒ‡çº¹</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> fingerprint[] PROGMEM = <span class="string">&quot;790e6e32485bb89503ac6da87d948f5e634322a7&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//HTTPSç«¯å£443</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> httpsPort = <span class="number">443</span>;  </span><br><span class="line"><span class="comment">// ä¼ä¸šå¾®ä¿¡apiç›¸å…³</span></span><br><span class="line"><span class="keyword">String</span> tokenUrl = <span class="string">&quot;https://qyapi.weixin.qq.com/cgi-bin/gettoken&quot;</span>;</span><br><span class="line"><span class="keyword">String</span> sendMsgUrl = <span class="string">&quot;https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=&quot;</span>;</span><br><span class="line"><span class="keyword">String</span> corpid = <span class="string">&quot;ww98b********d&quot;</span>;</span><br><span class="line"><span class="keyword">String</span> corpsecret = <span class="string">&quot;Kh8eKMZ**********wzQoPb0SYCqV3Tgcs&quot;</span>;</span><br><span class="line"><span class="keyword">String</span> agentid = <span class="string">&quot;1000002&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘èµ·Httpsè¯·æ±‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–ä¼ä¸šå¾®ä¿¡access_token</span></span><br><span class="line"><span class="function"><span class="keyword">String</span> <span class="title">get_token</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">String</span> token = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">  <span class="keyword">String</span> requestUrl = tokenUrl + <span class="string">&quot;?corpid=&quot;</span>+corpid+<span class="string">&quot;&amp;corpsecret=&quot;</span>+corpsecret;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;BearSSL::WiFiClientSecure&gt;client(<span class="keyword">new</span> BearSSL::WiFiClientSecure);</span><br><span class="line">  client-&gt;setFingerprint(fingerprint);</span><br><span class="line">  HTTPClient https;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (https.<span class="built_in">begin</span>(*client, requestUrl)) &#123;  <span class="comment">// HTTPS</span></span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;[HTTPS] GET...\n&quot;</span>);</span><br><span class="line">      <span class="comment">// start connection and send HTTP header</span></span><br><span class="line">      <span class="keyword">int</span> httpCode = https.GET();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// httpCode will be negative on error</span></span><br><span class="line">      <span class="keyword">if</span> (httpCode &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// HTTP header has been send and Server response header has been handled</span></span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">printf</span>(<span class="string">&quot;[HTTPS] GET... code: %d\n&quot;</span>, httpCode);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// file found at server</span></span><br><span class="line">        <span class="keyword">if</span> (httpCode == HTTP_CODE_OK || httpCode == HTTP_CODE_MOVED_PERMANENTLY) &#123;</span><br><span class="line">          <span class="keyword">String</span> json = https.getString();</span><br><span class="line">          <span class="built_in">Serial</span>.<span class="built_in">println</span>(json);</span><br><span class="line">          <span class="comment">// åˆ›å»ºDynamicJsonDocumentå¯¹è±¡ï¼Œjsonä¸­çš„å‚æ•°ä¸º4ä¸ªã€‚</span></span><br><span class="line">          <span class="keyword">const</span> <span class="keyword">size_t</span> capacity = JSON_OBJECT_SIZE(<span class="number">4</span>) + <span class="number">290</span>;</span><br><span class="line">          <span class="function">DynamicJsonDocument <span class="title">doc</span><span class="params">(capacity)</span></span>;</span><br><span class="line">          <span class="comment">//ååºåˆ—åŒ–æ•°æ®</span></span><br><span class="line">          deserializeJson(doc, json);</span><br><span class="line">          <span class="keyword">if</span>(doc[<span class="string">&quot;errcode&quot;</span>].as&lt;<span class="keyword">int</span>&gt;()==<span class="number">0</span>)&#123;</span><br><span class="line">              token = doc[<span class="string">&quot;access_token&quot;</span>].as&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">printf</span>(<span class="string">&quot;[HTTPS] GET... failed, error: %s\n&quot;</span>, https.errorToString(httpCode).c_str());</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      https.<span class="built_in">end</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">printf</span>(<span class="string">&quot;[HTTPS] Unable to connect\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> token;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//è°ƒç”¨ä¼ä¸šå¾®ä¿¡apiï¼Œå‘é€ä¿¡æ¯ã€‚</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">send_msg</span><span class="params">(<span class="keyword">String</span> msg)</span></span>&#123;</span><br><span class="line">   <span class="comment">//è°ƒç”¨get_tokenå‡½æ•°ï¼Œè·å–token</span></span><br><span class="line">   <span class="keyword">String</span> token = get_token();</span><br><span class="line">   <span class="comment">//token=123è¡¨ç¤ºget_token()å‡½æ•°è¯·æ±‚tokenå¤±è´¥ã€‚</span></span><br><span class="line">   <span class="comment">//å¦‚æœå¤±è´¥ï¼Œå¯èƒ½è¿˜éœ€è¦å…¶ä»–æ­¥éª¤ï¼Œæ¯”å¦‚é‡æ–°è·å–ã€‚è¿™é‡Œæ²¡æœ‰å®Œå–„ã€‚</span></span><br><span class="line">   <span class="keyword">if</span> (token == <span class="string">&quot;123&quot;</span>)&#123;</span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;not get token&quot;</span>);</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;got token&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">//æ„é€ è¯·æ±‚url</span></span><br><span class="line">   <span class="keyword">String</span> requestUrl = sendMsgUrl + token;</span><br><span class="line">   <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;BearSSL::WiFiClientSecure&gt;client(<span class="keyword">new</span> BearSSL::WiFiClientSecure);</span><br><span class="line">   client-&gt;setFingerprint(fingerprint);</span><br><span class="line">   HTTPClient httpClient;</span><br><span class="line">   </span><br><span class="line">   httpClient.addHeader(<span class="string">&quot;Content-Type&quot;</span>,<span class="string">&quot;application/json&quot;</span>); </span><br><span class="line">   <span class="comment">//ä¸å¾®ä¿¡æœåŠ¡å™¨å»ºç«‹è¿æ¥</span></span><br><span class="line">   httpClient.<span class="built_in">begin</span>(*client,requestUrl);</span><br><span class="line">   <span class="comment">//æ„å»ºjsonæ•°æ®ï¼Œç”¨äºå‘é€è¯·æ±‚å†…å®¹</span></span><br><span class="line">   <span class="keyword">String</span> json = <span class="string">&quot;&#123;\&quot;touser\&quot;:\&quot;@all\&quot;,\&quot;msgtype\&quot;:\&quot;text\&quot;,\&quot;agentid\&quot;:1000002,\&quot;text\&quot;:&#123;\&quot;content\&quot;:\&quot;&quot;</span>+msg+<span class="string">&quot;\&quot;&#125;,\&quot;safe\&quot;:0,\&quot;enable_id_trans\&quot;:0,\&quot;enable_duplicate_check\&quot;:0,\&quot;duplicate_check_interval\&quot;:1800&#125;&quot;</span>;</span><br><span class="line">   <span class="comment">//å‘é€è¯·æ±‚å†…å®¹</span></span><br><span class="line">   <span class="built_in">Serial</span>.<span class="built_in">println</span>(json);</span><br><span class="line">   <span class="keyword">int</span> httpCode = httpClient.POST(json);</span><br><span class="line">   <span class="comment">//æœªå®Œå–„ï¼Œå¯èƒ½å‘é€è¯·æ±‚æˆåŠŸï¼Œä½†apiè°ƒç”¨å¤±è´¥ï¼Œåç»­å®Œå–„ã€‚</span></span><br><span class="line">   <span class="keyword">if</span> (httpCode &gt; <span class="number">0</span>) &#123;</span><br><span class="line">     <span class="comment">//å°†æœåŠ¡å™¨å“åº”å¤´æ‰“å°åˆ°ä¸²å£</span></span><br><span class="line">     <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;[HTTP] POST... code:&quot;</span>+ httpCode);</span><br><span class="line">     <span class="comment">//å°†ä»æœåŠ¡å™¨è·å–çš„æ•°æ®æ‰“å°åˆ°ä¸²å£</span></span><br><span class="line">     <span class="keyword">if</span> (httpCode == HTTP_CODE_OK) &#123;</span><br><span class="line">       <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;Send success&quot;</span>);</span><br><span class="line">       <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;return str:&quot;</span>+httpClient.getString());</span><br><span class="line">     &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;send failure&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//å…³é—­ESP8266ä¸æœåŠ¡å™¨è¿æ¥</span></span><br><span class="line">   httpClient.<span class="built_in">end</span>();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Wifi init</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wifi_init</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">WiFi</span>.mode(WIFI_STA);        <span class="comment">//è®¾ç½®ESP8266ä¸ºæ— çº¿ç»ˆç«¯å·¥ä½œæ¨¡å¼</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">WiFi</span>.<span class="built_in">begin</span>(ssid, password); <span class="comment">//è¿æ¥WiFi</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;Connecting&quot;</span>); <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç­‰å¾…è¿æ¥</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">WiFi</span>.status() != WL_CONNECTED) &#123;</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//æˆåŠŸè¿æ¥åé€šè¿‡ä¸²å£ç›‘è§†å™¨æ˜¾ç¤ºWiFiåç§°ä»¥åŠESP8266çš„IPåœ°å€ã€‚</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;Connected to &quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(ssid);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;IP address: &quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="built_in">WiFi</span>.<span class="built_in">localIP</span>()); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">  wifi_init();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  send_msg(<span class="string">&quot;ä½ æœ‰ä¸€å°æ–°ä¿¡ä»¶ï¼Œè¯·åŠæ—¶æå–ï¼&quot;</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line">  ESP.deepSleep(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-2-Arduinoå’ŒGY521"><a href="#3-2-Arduinoå’ŒGY521" class="headerlink" title="3.2 Arduinoå’ŒGY521"></a>3.2 Arduinoå’ŒGY521</h2><p>åœ¨è¿™é‡Œï¼ŒArduinoä¼šå¯¹MPU6050èŠ¯ç‰‡è¿›è¡Œåˆå§‹åŒ–è®¾ç½®ï¼Œç„¶åè¿›å…¥ç¡çœ æ¨¡å¼ã€‚åœ¨MPUä¸­ï¼Œæˆ‘ä»¬å°†é™¤äº†Zè½´åŠ é€Ÿåº¦é‡‡æ ·ä»¥å¤–çš„æ‰€æœ‰æ£€æµ‹æ¨¡å—éƒ½å…³é—­ï¼Œä»¥æé«˜ç”µæ± çš„æŒä¹…åŠ›ã€‚å¹¶å½“Zè½´æ£€æµ‹åˆ°å¤§äºé˜ˆå€¼çš„è¿åŠ¨æ—¶ï¼Œäº§ç”Ÿè¿åŠ¨ä¸­æ–­ï¼Œä¸­æ–­å°†GY521çš„INTå¼•è„šæ‹‰ä½ï¼ŒINTå¼•è„šè¿æ¥Arduino INT0å¼•è„šä¹Ÿå°±æ˜¯2å·å¼•è„šï¼ŒArduinoå°†åœ¨ä¸­æ–­å‘ç”Ÿæ—¶è¢«å”¤é†’ã€‚å”¤é†’åçš„Arduinoï¼Œé€šè¿‡6å·å¼•è„šï¼Œå‘ESPwifiæ¨¡å—çš„RSTå‘é€ä¸¤ä¸ªä½ç”µå¹³è„‰å†²ï¼Œç”¨äºæ¿€æ´»å¹¶é‡ç½®ESPã€‚</p><p>MPU6050æ˜¯æä¾›ä¸€äº›ä½ç”µå¹³æ–¹æ¡ˆçš„ï¼Œæ¯”å¦‚CYCLEæ¨¡å¼ï¼Œæ­¤æ¨¡å¼ä¸‹å¯ä»¥è®¾ç½®MPUçš„é‡‡æ ·é¢‘ç‡ï¼Œæœ€ä½å¯è¾¾1.25Hzï¼Œä½†è®¾ç½®æ­¤æ¨¡å¼ï¼ŒMPU6050çš„è¿åŠ¨æ£€æµ‹åŠŸèƒ½å°†å—é™ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;MPU6050.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Wire.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;avr/sleep.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰Arduinoå¼•è„šï¼Œ2å·ä¸ºä¸­æ–­å¼•è„šï¼Œå½“2å·å¼•è„šè¾“å…¥ä½ç”µå¹³ï¼ŒArduinoä»ç¡çœ è¢«å”¤é†’</span></span><br><span class="line"><span class="comment">//6å·å¼•è„šä¸ºè¾“å‡ºï¼Œå½“6å·è¾“å‡ºä½ç”µå¹³ï¼ŒESP8266æ¨¡å—è¢«æ¿€æ´»ã€‚</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTERRUPT_PIN 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ESP_ACTIVATE_PIN 6</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MPU6050_ADDRESS 0x68</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIGNAL_PATH_RESET 0x68</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INT_PIN_CFG 0x37</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ACCEL_CONFIG 0x1C</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOT_THR 0x1F <span class="comment">// Motion detection threshold bits [7:0]</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOT_DUR 0x20 <span class="comment">// Duration counter threshold for motion interrupt generation, 1 kHz rate, LSB = 1 ms</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MOT_DETECT_CTRL 0x69</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INT_ENABLE 0x38</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WHO_AM_I_MPU6050 0x75 <span class="comment">// Should return 0x68</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INT_STATUS 0x3A</span></span><br><span class="line"></span><br><span class="line">MPU6050 mpu;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mpu6050_init</span><span class="params">()</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">Wire</span>.<span class="built_in">begin</span>();<span class="comment">//å¼€å¯i2cé€šè®¯</span></span><br><span class="line">  mpu.initialize();</span><br><span class="line">  <span class="comment">//ç”µæºç®¡ç†ï¼Œå°†é™€èºä»ªå…¨éƒ¨å…³é—­ï¼Œåªç•™zè½´åŠ é€Ÿåº¦</span></span><br><span class="line">  <span class="comment">//å¦‚æœå…¨éƒ¨è®¾ç½®ä¸ºå¾…æœºï¼Œè¿åŠ¨æ£€æµ‹ä¸­æ–­å°†æ— æ³•å·¥ä½œ</span></span><br><span class="line">  mpu.setStandbyXAccelEnabled(<span class="literal">true</span>);</span><br><span class="line">  mpu.setStandbyXGyroEnabled(<span class="literal">true</span>);</span><br><span class="line">  mpu.setStandbyYAccelEnabled(<span class="literal">true</span>);</span><br><span class="line">  mpu.setStandbyYGyroEnabled(<span class="literal">true</span>);</span><br><span class="line">  mpu.setStandbyZAccelEnabled(<span class="literal">false</span>);<span class="comment">//ä¿æŒzè½´åŠ é€Ÿåº¦æ£€æµ‹æ´»è·ƒ</span></span><br><span class="line">  mpu.setStandbyZGyroEnabled(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//å…³é—­æ¸©åº¦ä¼ æ„Ÿå™¨</span></span><br><span class="line">  mpu.setTempSensorEnabled(<span class="literal">false</span>);</span><br><span class="line">  <span class="comment">// mpu.setAccelerometerPowerOnDelay(3);//è®¾ç½®åŠ é€Ÿåº¦è®¡å¼€æœºå»¶è¿Ÿ</span></span><br><span class="line">  mpu.setInterruptMode(<span class="literal">true</span>); <span class="comment">// ä¸­æ–­æ—¶ä¸­æ–­å¼•è„šå‘å‡ºä½ç”µå¹³</span></span><br><span class="line">  mpu.setIntZeroMotionEnabled(<span class="literal">false</span>);<span class="comment">//å…³é—­é›¶è¿åŠ¨ä¸­æ–­æ£€æµ‹</span></span><br><span class="line">  mpu.setIntMotionEnabled(<span class="literal">true</span>); <span class="comment">// è¿åŠ¨æ£€æµ‹ä¸­æ–­ä½¿èƒ½</span></span><br><span class="line">  mpu.setInterruptLatch(<span class="literal">true</span>); <span class="comment">// ç”µå¹³ä¿æŒï¼Œç›´åˆ°æ¸…é™¤</span></span><br><span class="line">  mpu.setInterruptLatchClear(<span class="literal">false</span>);<span class="comment">//æ¸…é™¤ä¸­æ–­å¼•è„šç”µå¹³çš„æ–¹æ³•ï¼Œfalseè¡¨ç¤ºåªæœ‰è¯»å–statuså¯„å­˜å™¨æ‰èƒ½æ¸…é™¤ï¼Œtrueè¯»å–ä»»æ„å¯„å­˜å™¨éƒ½å¯ä»¥æ¸…é™¤ã€‚</span></span><br><span class="line">  mpu.setMotionDetectionThreshold(<span class="number">2</span>);<span class="comment">//æ£€æµ‹é˜ˆå€¼ï¼Œé˜ˆå€¼è¶Šå¤§ï¼Œéœ€è¦çš„éœ‡åŠ¨è¶Šå¤§ï¼Œæ‰èƒ½äº§ç”Ÿä¸­æ–­ï¼Œå•ä½mg</span></span><br><span class="line">  mpu.setMotionDetectionDuration(<span class="number">20</span>);<span class="comment">//è¿åŠ¨æŒç»­çš„æ—¶é•¿ï¼Œè¶Šå¤§ï¼Œåˆ™è¿åŠ¨éœ€è¦æŒç»­è¶Šä¹…ï¼Œæ‰èƒ½äº§ç”Ÿä¸­æ–­ã€‚å•ä½ms</span></span><br><span class="line">  mpu.setMotionDetectionCounterDecrement(<span class="number">1</span>);</span><br><span class="line">  <span class="comment">//Write register 28 (==0x1C) to set the Digital High Pass Filter, bits 3:0. For example set it to 0x01 for 5Hz. (These 3 bits are grey in the data sheet, but they are used! Leaving them 0 means the filter always outputs 0.)</span></span><br><span class="line">  writeByte(MPU6050_ADDRESS, ACCEL_CONFIG, <span class="number">0x01</span>); </span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;MPU init finish&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sleepNow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  set_sleep_mode(SLEEP_MODE_PWR_DOWN);<span class="comment">//è®¾ç½®Arduinoç¡çœ æ¨¡å¼ä¸ºpower down</span></span><br><span class="line">  sleep_enable(); <span class="comment">//ä½¿èƒ½ç¡çœ </span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;now sleep!&quot;</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2000</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;Interrupt attached!&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="built_in">attachInterrupt</span>(<span class="number">0</span>, wakeUp,<span class="literal">LOW</span>);<span class="comment">//å¼€å¯ä¸­æ–­ï¼Œ0è¡¨ç¤ºINT0ï¼Œå¯¹åº”2å·å¼•è„šï¼ŒwakeUPæ˜¯ä¸­æ–­å‘ç”Ÿæ—¶çš„å¤„ç†å‡½æ•°ï¼ŒLOWï¼š2å·å¼•è„šä½ç”µå¹³æ—¶è§¦å‘</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  sleep_cpu();  <span class="comment">//è¿›å…¥ç¡çœ </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸­æ–­å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wakeUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">detachInterrupt</span>(<span class="number">0</span>);<span class="comment">//æ¸…é™¤ä¸­æ–­ï¼Œé˜²æ­¢ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå†æ¬¡è¿›å…¥ä¸­æ–­</span></span><br><span class="line">  sleep_disable();<span class="comment">//æ¥è§¦ç¡çœ æ¨¡å¼</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(ESP_ACTIVATE_PIN,<span class="literal">LOW</span>);<span class="comment">//è®¾ç½®æ¿€æ´»å¼•è„šä¸ºä½ç”µå¹³ï¼Œç”¨äºæ¿€æ´»èŠ¯ç‰‡</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;wake up! reset esp&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//I2cé€šè®¯ï¼Œå†™å…¥ä¸€ä¸ªå­—èŠ‚åˆ°å¯„å­˜å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">writeByte</span><span class="params">(<span class="keyword">uint8_t</span> address, <span class="keyword">uint8_t</span> subAddress, <span class="keyword">uint8_t</span> data)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Wire</span>.<span class="built_in">begin</span>();</span><br><span class="line">  <span class="built_in">Wire</span>.<span class="built_in">beginTransmission</span>(address); <span class="comment">// Initialize the Tx buffer</span></span><br><span class="line">  <span class="built_in">Wire</span>.<span class="built_in">write</span>(subAddress); <span class="comment">// Put slave register address in Tx buffer</span></span><br><span class="line">  <span class="built_in">Wire</span>.<span class="built_in">write</span>(data); <span class="comment">// Put data in Tx buffer</span></span><br><span class="line">  <span class="built_in">Wire</span>.<span class="built_in">endTransmission</span>(); <span class="comment">// Send the Tx buffer</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹ç”»arduino</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">arduino_init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">9600</span>);<span class="comment">//è®¾ç½®UARTé€šä¿¡æ³¢ç‰¹ç‡ï¼Œä½¿ç”¨ä¸²å£æ¥æ”¶ã€‚</span></span><br><span class="line">    <span class="built_in">pinMode</span>(INTERRUPT_PIN,<span class="literal">INPUT</span>);<span class="comment">//è®¾ç½®INT0ï¼Œå³2å·å¼•è„šä¸ºè¾“å…¥ï¼Œç¡®ä¿åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¼•è„šä¸Šæœ‰é«˜ç”µå¹³ã€‚</span></span><br><span class="line">    <span class="built_in">pinMode</span>(ESP_ACTIVATE_PIN,<span class="literal">OUTPUT</span>);<span class="comment">//è®¾ç½®6å·å¼•è„šä¸ºè¾“å‡ºï¼Œç”¨äºæ¿€æ´»ESPæ¨¡å—</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(ESP_ACTIVATE_PIN,<span class="literal">HIGH</span>);<span class="comment">//è®¾ç½®è¾“å‡ºä¸ºé«˜ç”µå¹³ï¼ŒESPçš„RESETå¼•è„šä»¥ä½ç”µå¹³æ¿€æ´»æˆ–é‡ç½®èŠ¯ç‰‡ã€‚</span></span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;arduino init finish!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span>&#123;</span><br><span class="line">  arduino_init();</span><br><span class="line">  mpu6050_init();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span>&#123;</span><br><span class="line">  sleepNow();<span class="comment">//è¿›å…¥ç¡çœ </span></span><br><span class="line">  <span class="keyword">int16_t</span> zAccel = mpu.getAccelerationZ();</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(zAccel);</span><br><span class="line">  <span class="keyword">bool</span> detect = mpu.getIntMotionStatus();<span class="comment">//è¯»å–ä¸­æ–­çŠ¶æ€ï¼Œä»¥æ¸…é™¤ä¸­æ–­å¼•è„šç”µå¹³ã€‚ä¸æ¸…é™¤ï¼ŒMPUä¸­æ–­å¼•è„šä¼šä¸€ç›´ä¿æŒä½ç”µå¹³ã€‚</span></span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(detect);</span><br><span class="line">  <span class="comment">//åœ¨ä¸­æ–­å‡½æ•°ä¸­ï¼Œå‘é€äº†ä¸€ä¸ªä½ç”µå¹³æ¿€æ´»èŠ¯ç‰‡ï¼Œåœ¨è¿™é‡Œå†å‘é€ä¸€ä¸ªä½ç”µå¹³ï¼Œç”¨äºé‡ç½®èŠ¯ç‰‡ã€‚æœ€åå›åˆ°é«˜ç”µå¹³ã€‚</span></span><br><span class="line">  <span class="comment">//ä¸èƒ½å†ä¸­æ–­å‡½æ•°ä¸­ï¼Œå‘é€ä¸¤ä¸ªç”µå¹³ï¼Œå› ä¸ºä¸­æ–­å‡½æ•°ä¸­æ— æ³•ä½¿ç”¨delay()æ–¹æ³•ã€‚è€Œä½ç”µå¹³å¿…é¡»ä¿æŒä¸€å®šæ—¶é—´æ‰èƒ½æ¿€æ´»ESPã€‚</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ESP_ACTIVATE_PIN,<span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ESP_ACTIVATE_PIN,<span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;rest esp&quot;</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ESP_ACTIVATE_PIN,<span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP8266 </tag>
            
            <tag> MPU6050 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººå·¥æ™ºèƒ½â€”â€”æ¿€æ´»å‡½æ•°</title>
      <link href="/2020/11/15/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E2%80%94%E2%80%94%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/"/>
      <url>/2020/11/15/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E2%80%94%E2%80%94%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°"><a href="#1ï¼šä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°" class="headerlink" title="1ï¼šä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°"></a>1ï¼šä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°</h1><p><img src="https://i.loli.net/2020/11/15/Fc29UrBolCvhXsu.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/Fc29UrBolCvhXsu.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä»¥ä¸€ä¸ªç®€å•çš„ç¥ç»å…ƒä¸ºä¾‹ã€‚åœ¨æ²¡æœ‰æ¿€æ´»å‡½æ•°æ—¶ï¼Œç¥ç»å…ƒè¾“å‡ºzç­‰äº$z=x_1w_1+x_2w_2+x_3w_3+b$</p><p>è€Œæ¿€æ´»å‡½æ•°å°†zä½œä¸ºè¾“å…¥ï¼Œå¾—åˆ°æ–°çš„ç¥ç»å…ƒè¾“å‡º$f(z)$</p><p>è¿™é‡Œçš„$f(z)$å³æ¿€æ´»å‡½æ•°ã€‚æ¿€æ´»å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯ä½¿è¾“å‡ºéçº¿æ€§åŒ–ï¼Œå³æ›²çº¿åŒ–æˆ–è€…åˆ†æ®µåŒ–ï¼ˆå¯¹åº”åˆ†æ®µå‡½æ•°ï¼‰ã€‚</p><h1 id="2ï¼šä¸ºä»€ä¹ˆè¦æ¿€æ´»å‡½æ•°"><a href="#2ï¼šä¸ºä»€ä¹ˆè¦æ¿€æ´»å‡½æ•°" class="headerlink" title="2ï¼šä¸ºä»€ä¹ˆè¦æ¿€æ´»å‡½æ•°"></a>2ï¼šä¸ºä»€ä¹ˆè¦æ¿€æ´»å‡½æ•°</h1><p>ä»$z=x_1w_1+x_2w_2+x_3w_3+b$ä¸éš¾çœ‹å‡ºï¼Œåœ¨æ²¡æœ‰æ¿€æ´»å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬çš„ç¥ç»å…ƒè¾“å‡ºï¼Œæ€»æ˜¯ä¸è¾“å…¥$x_1,x_2,x_3$æˆçº¿æ€§å…³ç³»ã€‚ã€‚</p><p>ç®€å•ç‚¹çš„ä¾‹å­ï¼Œ$z = x_1*w+b$ã€‚</p><p><img src="https://i.loli.net/2020/11/15/YHsCFPyKq9fbWr4.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/YHsCFPyKq9fbWr4.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å¯ä»¥çŸ¥é“ï¼Œè¿™æ˜¯ä¸€æ¡ç›´çº¿ã€‚å¯ä»¥è§£å†³ä¸€ä¸ªç®€å•çš„äºŒåˆ†ç±»é—®é¢˜ã€‚</p><p><img src="https://i.loli.net/2020/11/15/xEYhM3Lae7nyHgP.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/xEYhM3Lae7nyHgP.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å¦‚æœè¿™ä¸ªäºŒåˆ†ç±»ä¸æ˜¯ç”¨ç›´çº¿åˆ†å‰²çš„å‘¢ï¼Ÿ</p><p>æ¯”å¦‚ï¼Œä¸€ä¸ªåœ†å½¢ï¼Œåœ†å†…çš„ç‚¹æ˜¯1ï¼Œåœ†å¤–æ˜¯0ã€‚æˆ‘ä»¬ç”¨ç›´çº¿å°±å¾ˆéš¾å°†ä»–ä»¬åŒºåˆ†å¼€äº†ã€‚</p><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ— æ•°æ¡å°çš„ç›´çº¿æ¥åˆ’åˆ†è¿™ä¸¤ä¸ªåŒºåŸŸï¼Œä½†æ˜¯å¯¹æ¯”ç›´æ¥ä½¿ç”¨æ›²çº¿ï¼Œå°±å¤æ‚å¤šäº†ã€‚</p><p>ä¸ºäº†è®©æˆ‘ä»¬çš„è¾“å‡ºå‡½æ•°ï¼Œç¬¦åˆéçº¿æ€§ç‰¹å¾ï¼Œå¼•å…¥äº†æ¿€æ´»å‡½æ•°çš„æ¦‚å¿µã€‚</p><h1 id="3ï¼šå“ªäº›æ¿€æ´»å‡½æ•°"><a href="#3ï¼šå“ªäº›æ¿€æ´»å‡½æ•°" class="headerlink" title="3ï¼šå“ªäº›æ¿€æ´»å‡½æ•°"></a>3ï¼šå“ªäº›æ¿€æ´»å‡½æ•°</h1><p><img src="https://pic1.zhimg.com/80/v2-17708ef17113fc120b045db3de3dbaac_1440w.jpg" class="lazyload" data-srcset="https://pic1.zhimg.com/80/v2-17708ef17113fc120b045db3de3dbaac_1440w.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><ul><li>Sigmoidå‡½æ•°</li></ul><p>Sigmoidå‡½æ•°åªä¼šè¾“å‡º0åˆ°1ä¹‹é—´çš„æ­£æ•°ï¼Œå½“è¾“å…¥æ— ç©·å°æ—¶ï¼Œè¾“å‡ºä¸º0ï¼Œè¾“å…¥æ— ç©·å¤§æ—¶ï¼Œè¾“å‡ºä¸º1ã€‚</p><p><strong>ç¼ºç‚¹</strong>ï¼š</p><p>åŸºäºåå‘ä¼ æ’­ï¼ˆæ ¹æ®é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼‰çš„å‚æ•°æ›´æ–°ï¼Œéšç€ç½‘ç»œå±‚æ•°çš„å¢åŠ ï¼Œwæ›´æ–°çš„æ¢¯åº¦ä¼šè¶Šæ¥è¶Šå°ï¼Œå¹¶é€æ¸æ¥è¿‘äºé›¶ã€‚ä¹Ÿå°±æ˜¯æ‰€è°“çš„æ¢¯åº¦æ¶ˆå¤±ã€‚</p><p>ä¸‹å›¾æ˜¯é“¾å¼æ±‚å¯¼æ³•åˆ™æ±‚wæ¢¯åº¦çš„è¿‡ç¨‹ã€‚è¿™æ˜¯æŸä¸ªç¥ç»ç½‘ç»œä¸­çš„ä¸€éƒ¨åˆ†ç¥ç»å…ƒã€‚</p><p><img src="https://i.loli.net/2020/11/15/oNuhZldMr53q7Dx.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/oNuhZldMr53q7Dx.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å…¶ä¸­ï¼Œ$net_{o1}=h1<em>w5+h2</em>w6+b2$</p><p>$out_{o1}=Sigmoid(net_{o1})$</p><p>è¯¯å·®å‡½æ•°ä¸º$E_{o1}=\frac{target-out_{o1}}{2}$</p><p>è·å¾—$w_5$æ›´æ–°æ‰€éœ€çš„æ¢¯åº¦å°±æ˜¯æ±‚$E_{o1}$å¯¹$w_5$æ±‚å¯¼ã€‚</p><p>æ ¹æ®é“¾å¼æ³•åˆ™ï¼Œ<br>$$<br>\frac{\partial E_{o1}}{\part w_5} = \frac{\part E_{o1}}{\part out_{o1}}* \frac{\part out_{o1}}{\part net_{o1}}* \frac{\part net_{o1}}{\part w_5}<br>$$<br>å…¶ä¸­$\frac{\part out_{o1}}{\part net_{o1}}$å°±æ˜¯Sigmoidå‡½æ•°æ±‚å¯¼ã€‚</p><p>æ ¹æ®Sigmoidå‡½æ•°æ±‚å¯¼å…¬å¼ï¼Œ<br>$$<br>\frac{\part g(z)}{\part z} = g(z)(1-g(z))<br>$$<br><img src="https://i.loli.net/2020/11/15/Y6AES1lOiv5CX7d.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/Y6AES1lOiv5CX7d.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¸Šå¼ï¼Œ$g(z)$ä¸ºSigmoidå‡½æ•°ï¼Œå…¶å¯¼æ•°æœ€å¤§å€¼ä¸º0.25.</p><p>å½“ç¥ç»å…ƒä¸ªæ•°é€æ¸å¢å¤šï¼Œå‰å‘wæ¢¯åº¦ï¼Œæ˜¯åå‘wæ¢¯åº¦åšé“¾å¼æ³•åˆ™çš„ç»“æœï¼Œé‚£ä¹ˆä¼šæœ‰è®¸å¤šä¸ª$gâ€™(z)$ç›¸ä¹˜ã€‚åˆ™ï¼Œå‰å‘wçš„æ¢¯åº¦ä¼šé€æ¸è¶‹è¿‘äº0ã€‚</p><ul><li>tanhå‡½æ•°</li></ul><p><img src="https://i.loli.net/2020/11/15/5gxnFPvMa1Tdq6l.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/5gxnFPvMa1Tdq6l.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç›¸æ¯”äºSigmodå‡½æ•°ï¼Œå…¶è¾“å‡ºå‡å€¼ä¸º0ã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>ä»ç„¶å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±ç°è±¡ã€‚</p><ul><li>Reluå‡½æ•°</li></ul><p>ç›®å‰æœ€å¸¸ç”¨çš„å‡½æ•°ï¼Œåªéœ€åˆ¤æ–­è¾“å…¥æ˜¯å¦å¤§äºé›¶ï¼Œå°äºé›¶çš„è¾“å…¥ï¼Œè¾“å‡ºä¸º0</p><p><img src="https://i.loli.net/2020/11/15/EenTzWxGV9iAqfZ.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/EenTzWxGV9iAqfZ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h1 id="4ï¼šå‚è€ƒèµ„æ–™"><a href="#4ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="4ï¼šå‚è€ƒèµ„æ–™"></a>4ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://zhuanlan.zhihu.com/p/32824193">CNNå…¥é—¨è®²è§£ï¼šä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°ï¼ˆActivation Functionï¼‰</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/tyhj_sf/article/details/79932893">å¸¸ç”¨æ¿€æ´»å‡½æ•°ï¼ˆæ¿€åŠ±å‡½æ•°ï¼‰ç†è§£ä¸æ€»ç»“</a>ã€‹</p><p>ã€Š<a href="https://zhuanlan.zhihu.com/p/32819991">BPï¼ˆåå‘ä¼ æ’­ç®—æ³•ï¼‰å…¬å¼æ¨å¯¼åŠä¾‹é¢˜è§£æ</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/C_Dreams/article/details/75748005">sigmoidå‡½æ•°çš„æ±‚å¯¼</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> äººå·¥æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äººå·¥æ™ºèƒ½ </tag>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŒ—å¤§äººå·¥æ™ºèƒ½å®è·µâ€”â€”TensorFlow2</title>
      <link href="/2020/11/12/%E5%8C%97%E5%A4%A7%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AE%9E%E8%B7%B5%E2%80%94%E2%80%94TensorFlow2/"/>
      <url>/2020/11/12/%E5%8C%97%E5%A4%A7%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AE%9E%E8%B7%B5%E2%80%94%E2%80%94TensorFlow2/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šäººå·¥æ™ºèƒ½ä¸‰å­¦æ´¾"><a href="#1ï¼šäººå·¥æ™ºèƒ½ä¸‰å­¦æ´¾" class="headerlink" title="1ï¼šäººå·¥æ™ºèƒ½ä¸‰å­¦æ´¾"></a>1ï¼šäººå·¥æ™ºèƒ½ä¸‰å­¦æ´¾</h1><ul><li>å‡†å¤‡æ•°æ®</li><li>æ­å»ºç½‘ç»œ</li><li>ä¼˜åŒ–å‚æ•°</li><li>åº”ç”¨ç½‘ç»œ</li></ul><h1 id="2ï¼šç¥ç»ç½‘ç»œè®¾è®¡è¿‡ç¨‹"><a href="#2ï¼šç¥ç»ç½‘ç»œè®¾è®¡è¿‡ç¨‹" class="headerlink" title="2ï¼šç¥ç»ç½‘ç»œè®¾è®¡è¿‡ç¨‹"></a>2ï¼šç¥ç»ç½‘ç»œè®¾è®¡è¿‡ç¨‹</h1><p>é¸¢å°¾èŠ±çš„åˆ†ç±»ï¼š</p><p>é€šè¿‡æµ‹é‡èŠ±è¼é•¿ã€èŠ±è¼å®½ã€‚</p><p>ifè¯­å¥caseè¯­å¥â€”â€”<strong>ä¸“å®¶ç³»ç»Ÿ</strong>æŠŠä¸“å®¶çš„ç»éªŒå‘ŠçŸ¥è®¡ç®—æœºï¼Œè®¡ç®—æœºæ‰§è¡Œé€»è¾‘åˆ¤æ–­ã€‚ç»™å‡ºåˆ†ç±»</p><p>ç¥ç»ç½‘ç»œï¼šé‡‡é›†å¤§é‡æ•°æ®å¯¹æ„æˆæ•°æ®é›†ã€‚</p><h1 id="3ï¼šå¼ é‡ç”Ÿæˆ"><a href="#3ï¼šå¼ é‡ç”Ÿæˆ" class="headerlink" title="3ï¼šå¼ é‡ç”Ÿæˆ"></a>3ï¼šå¼ é‡ç”Ÿæˆ</h1><p>å¼ é‡ï¼ˆTensorï¼‰ï¼šå¤šç»´æ•°ç»„ï¼ˆåˆ—è¡¨ï¼‰    é˜¶ï¼šå¼ é‡çš„ç»´æ•°</p><table><thead><tr><th>é˜¶</th><th>åå­—</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>0</td><td>æ ‡é‡</td><td>S=1 2 3</td></tr><tr><td>1</td><td>å‘é‡</td><td>v=[1,2,3]</td></tr><tr><td>2</td><td>çŸ©é˜µ</td><td></td></tr><tr><td>n</td><td>å¼ é‡</td><td></td></tr></tbody></table><p>åˆ›å»ºå¼ é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = tf.constan(å¼ é‡å†…å®¹,dtype = æ•°æ®ç±»å‹)</span><br><span class="line">print(a)</span><br><span class="line">print(a.dtype)</span><br><span class="line">print(a.shape)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tf.zeros(ç»´åº¦)</span><br><span class="line">tf.ones(ç»´åº¦)</span><br><span class="line">tf.fill(ç»´åº¦ï¼ŒæŒ‡å®šå€¼)</span><br><span class="line">c = tf.fill([<span class="number">2</span>,<span class="number">2</span>],<span class="number">9</span>)//ä¸¤è¡Œä¸¤åˆ—</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tf.random.normal(ç»´åº¦,mean=å‡å€¼,stddev=æ ‡å‡†å·®)</span><br><span class="line">tf.random.truncated_normal(ç»´åº¦ï¼Œmean=å‡å€¼,stddev=æ ‡å‡†å·®)</span><br><span class="line">tf.random.uniform(ç»´åº¦,minval=æœ€å°å€¼,maxval=æœ€å¤§å€¼)</span><br></pre></td></tr></table></figure><h1 id="4ï¼šå¸¸ç”¨å‡½æ•°"><a href="#4ï¼šå¸¸ç”¨å‡½æ•°" class="headerlink" title="4ï¼šå¸¸ç”¨å‡½æ•°"></a>4ï¼šå¸¸ç”¨å‡½æ•°</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tf.cast(å¼ é‡å,dtype&#x3D;æ•°æ®ç±»å‹)&#x2F;&#x2F;å¼ºåˆ¶è½¬æ¢æ•°æ®ç±»å‹</span><br><span class="line">tf.reduce_min()&#x2F;&#x2F;è®¡ç®—æœ€å¤§å€¼</span><br><span class="line">tf.reduce_max()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tf.reduce_mean(å¼ é‡å,axis=æ“ä½œè½´)//è®¡ç®—å¼ é‡å»¶æŒ‡å®šç»´åº¦å¹³å‡å€¼</span><br><span class="line">tf.reduce_sum(å¼ é‡å,axis=æ“ä½œè½´)//è®¡ç®—æ²¿æŒ‡å®šç»´åº¦çš„å’Œ</span><br></pre></td></tr></table></figure><p>æœªæŒ‡å®šæ“ä½œè½´ï¼Œåˆ™ä¸ºå¯¹å…¨éƒ¨æ•°è¿›è¡Œæ“ä½œ</p><p>å˜é‡ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.Variable(åˆå§‹å€¼)</span><br></pre></td></tr></table></figure><p>æ•°å­¦è¿ç®—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tf.add()</span><br><span class="line">tf.subtract()</span><br><span class="line">tf.multiply()</span><br><span class="line">tf.divide()</span><br><span class="line">&#x2F;&#x2F;åªæœ‰ç»´åº¦ç›¸åŒæ‰èƒ½è¿›è¡Œå››åˆ™è¿ç®—</span><br><span class="line">tf.square(å¼ é‡å)å¹³æ–¹</span><br><span class="line">tf.pow()&#x2F;&#x2F;næ¬¡æ–¹</span><br><span class="line">tf.sqrt()&#x2F;&#x2F;å¼€æ–¹</span><br></pre></td></tr></table></figure><p>çŸ©é˜µä¹˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.matmul(çŸ©é˜µ<span class="number">1</span>ï¼ŒçŸ©é˜µ<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>ç‰¹å¾å’Œæ ‡ç­¾å¯¹åº”ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">features &#x3D; tf.constant([12,23,10,14])</span><br><span class="line">labels &#x3D; tf.constant([0,1,1,0])</span><br><span class="line">dataset &#x3D; tf.data.Dataset.from_tensor_slices((features,labels))</span><br></pre></td></tr></table></figure><p>è®¡ç®—æ¢¯åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">w = tf.Variable(tf.constant(<span class="number">3.0</span>))</span><br><span class="line">loss = tf.pow(w,<span class="number">2</span>)</span><br><span class="line">grad = tape.gradient(loss,w)</span><br></pre></td></tr></table></figure><p><strong>enumerate</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">seq = [<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i,element <span class="keyword">in</span> enumerate(seq):</span><br><span class="line">print(i,element)</span><br></pre></td></tr></table></figure><p>ç‹¬çƒ­ç¼–ç ï¼š</p><p>æ ‡è®°ç±»åˆ«ï¼š1è¡¨ç¤ºæ˜¯ï¼Œ0è¡¨ç¤ºå¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.one_hot(å¾…è½¬æ¢æ•°æ®ï¼Œdepth&#x3D;å‡ åˆ†ç±»)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¬¦åˆæ¦‚ç‡åˆ†å¸ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tf.nn.softmax(x)</span><br><span class="line"></span><br><span class="line">y = tf.constant([<span class="number">1.01</span>,<span class="number">2.01</span>,<span class="number">-0.66</span>])</span><br><span class="line">y_pro = tf.nn.softmax(y)</span><br></pre></td></tr></table></figure><p>å‚æ•°è‡ªæ›´æ–°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">w &#x3D; tf.Variable(4)</span><br><span class="line">w.assign_sub(1)&#x2F;&#x2F;w-&#x3D;1</span><br><span class="line">print(w)</span><br></pre></td></tr></table></figure><p>è¿”å›æœ€å¤§å€¼ç´¢å¼•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.argmax(å¼ é‡åï¼Œaxis&#x3D;æ“ä½œè½´)</span><br></pre></td></tr></table></figure><p>æ¡ä»¶è¯­å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.where(æ¡ä»¶è¯­å¥,çœŸè¿”å›A,å‡è¿”å›B)</span><br></pre></td></tr></table></figure><p>è¿”å›[0,1)ä¹‹é—´çš„éšæœºæ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.RandomState.rand(ç»´åº¦)</span><br></pre></td></tr></table></figure><p>å°†ä¸¤ä¸ªæ•°ç»„æŒ‰å‚ç›´æ–¹å‘å åŠ ï¼ˆä¸€ç»´â€”&gt;äºŒç»´ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.vstack(æ•°ç»„<span class="number">1</span>ï¼Œæ•°ç»„<span class="number">2</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x,y = np.mgrid[<span class="number">1</span>:<span class="number">3</span>:<span class="number">1</span>,<span class="number">2</span>:<span class="number">4</span>:<span class="number">0.5</span>]//x=[[<span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>]</span><br><span class="line">                                     [<span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span>]]</span><br><span class="line">y=[[<span class="number">2</span> <span class="number">2.5</span> <span class="number">3</span> <span class="number">3.5</span>]</span><br><span class="line">                                       [<span class="number">2</span> <span class="number">2.5</span> <span class="number">3</span> <span class="number">3.5</span>]] </span><br><span class="line">gird = np.c_[x.ravel(),y.ravel()]//ravel()é™ç»´åˆ°ä¸€ç»´ï¼Œnp.c_[æ•°ç»„<span class="number">1</span>ï¼Œæ•°ç»„<span class="number">2</span>]é…å¯¹ã€‚</span><br></pre></td></tr></table></figure><h1 id="5ï¼šç¥ç»ç½‘ç»œ-NN-å¤æ‚åº¦"><a href="#5ï¼šç¥ç»ç½‘ç»œ-NN-å¤æ‚åº¦" class="headerlink" title="5ï¼šç¥ç»ç½‘ç»œ(NN)å¤æ‚åº¦"></a>5ï¼šç¥ç»ç½‘ç»œ(NN)å¤æ‚åº¦</h1><p>NNå¤æ‚åº¦ï¼šå¤šç”¨NNå±‚æ•°å’ŒNNå‚æ•°çš„ä¸ªæ•°è¡¨ç¤ºã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦</li><li>æ—¶é—´å¤æ‚åº¦</li></ul><p>å­¦ä¹ ç‡:<br>$$<br>w_{t+1} = w_t+lr<em>gradient<br>$$<br>æŒ‡æ•°è¡°å‡å­¦ä¹ ç‡:<br>$$<br>æŒ‡æ•°è¡°å‡å­¦ä¹ ç‡=åˆå§‹å­¦ä¹ ç‡</em>å­¦ä¹ ç‡è¡°å‡ç‡^{å½“å‰è½®æ•°/å¤šå°‘è½®è¡°å‡ä¸€æ¬¡}<br>\\epoch= 40<br>\\LR_BASE= 0.2<br>\\LR_DECAY= 0.99<br>\\LR_STEP=1<br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(epoch):</span><br><span class="line">    lr = LR_BASE*LR_DECAY**(epoch/LR_STEP)</span><br><span class="line">    <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">        loss = tf.square(w+<span class="number">1</span>)</span><br><span class="line">    grads = tape.gradient(loss,w)</span><br><span class="line">    w.assign_sub(lr*grads)</span><br></pre></td></tr></table></figure><h1 id="6ï¼šæ¿€æ´»å‡½æ•°"><a href="#6ï¼šæ¿€æ´»å‡½æ•°" class="headerlink" title="6ï¼šæ¿€æ´»å‡½æ•°"></a>6ï¼šæ¿€æ´»å‡½æ•°</h1><p>$$<br>y = f(wx+b)<br>$$</p><ul><li>Sigmoidå‡½æ•°</li></ul><p>$$<br>f(x)=\frac{1}{1+e^{-x}}<br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.nn.sigmoid(x)</span><br></pre></td></tr></table></figure><blockquote><p>æ˜“é€ æˆæ¢¯åº¦æ¶ˆå¤±</p><p>è¾“å‡ºé0å‡å€¼ï¼Œæ”¶æ•›æ…¢</p><p>å¹‚è¿ç®—å¤æ‚ï¼Œè®­ç»ƒæ—¶é—´é•¿</p></blockquote><ul><li>Tanhå‡½æ•°</li></ul><p>$$<br>f(x) = \frac{1-e^{-2x}}{1+e^{-2x}}<br>$$</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.math.tanh(x)</span><br></pre></td></tr></table></figure><ul><li>Reluå‡½æ•°</li></ul><p>$$<br>\begin{align}<br>f(x)=&amp; max(x,0)<br>\\=&amp; \begin{cases}<br>0\qquad x&lt;0\<br>x\qquad x&gt;=0<br>\end{cases}<br>\end{align}<br>$$</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.nn.relu(x)</span><br></pre></td></tr></table></figure><ul><li>Leaky Reluå‡½æ•°</li></ul><p>$$<br>f(x)=max(ax,x)<br>$$</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.nn.leaky_relu(x)</span><br></pre></td></tr></table></figure><blockquote><p>åˆå­¦è€…ï¼š</p><ul><li>é¦–é€‰Reluå‡½æ•°</li><li>å­¦ä¹ ç‡è®¾ç½®è¾ƒå°å€¼</li><li>è¾“å…¥ç‰¹å¾æ ‡å‡†åŒ–ï¼Œè®©è¾“å…¥ç‰¹å¾æ»¡è¶³ä»¥0ä¸ºå‡å€¼ï¼Œ1ä¸ºæ ‡å‡†å·®çš„æ­£æ€åˆ†å¸ƒ</li><li>åˆå§‹å‚æ•°ä¸­å¿ƒåŒ–ï¼Œè®©éšæœºç”Ÿæˆçš„å‚æ•°æ»¡è¶³ä»¥0ä¸ºå‡å€¼ï¼Œsqrt(2/å½“å‰å±‚è¾“å…¥ç‰¹å¾ä¸ªæ•°)ä¸ºæ ‡å‡†å·®çš„æ­£æ€åˆ†å¸ƒ</li></ul></blockquote><h1 id="7ï¼šæŸå¤±å‡½æ•°"><a href="#7ï¼šæŸå¤±å‡½æ•°" class="headerlink" title="7ï¼šæŸå¤±å‡½æ•°"></a>7ï¼šæŸå¤±å‡½æ•°</h1><p>lossï¼šé¢„æµ‹å€¼(y)ä¸å·²çŸ¥ç­”æ¡ˆ(y_)çš„å·®è·</p><ul><li>å‡æ–¹è¯¯å·®mseï¼š</li></ul><p>$$<br>MSE(y_,y)=\frac{\sum^n_{i=1}(y-y_)^2}{n}<br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loss_mse = tf.reduce_mean(tf.square(y-y_))</span><br></pre></td></tr></table></figure><ul><li>è‡ªå®šä¹‰æŸå¤±å‡½æ•°</li></ul><p>y_:æ ‡å‡†ç­”æ¡ˆ</p><p>y:é¢„æµ‹ç­”æ¡ˆ<br>$$<br>f(y_,y)=\begin{cases}<br>PROFIT*(y_-y)\quad y&lt;y_ \ é¢„æµ‹çš„yå°‘äº†ï¼ŒæŸå¤±åˆ©æ¶¦<br>\COST*(y-y_)\quad y&gt;=y_ \ é¢„æµ‹çš„yå¤šäº†ï¼ŒæŸå¤±æˆæœ¬<br>\end{cases}<br>$$</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loss_diy = tf.reduce_sum(tf.where(tf.greater(y,y_),COST(y-y_),PROFIT(y_-y)))//y&gt;y_?,ä¸ºçœŸCOSTï¼Œä¸ºå‡PROFIT</span><br></pre></td></tr></table></figure><ul><li>äº¤å‰ç†µæŸå¤±å‡½æ•°CEï¼šè¡¨å¾ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„è·ç¦»</li></ul><p>$$<br>H(y_,y)=-\sum y_*lny<br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.losses.categorical_crossentropy(y_,y)</span><br></pre></td></tr></table></figure><ul><li>softmaxå’Œäº¤å‰ç†µç»“åˆ</li></ul><p>softmaxè®¡ç®—æ¦‚ç‡åˆ†å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.nn.softmax_cross_entropy_with_logits(y_,y)</span><br></pre></td></tr></table></figure><h1 id="8ï¼šç¼“è§£è¿‡æ‹Ÿåˆ"><a href="#8ï¼šç¼“è§£è¿‡æ‹Ÿåˆ" class="headerlink" title="8ï¼šç¼“è§£è¿‡æ‹Ÿåˆ"></a>8ï¼šç¼“è§£è¿‡æ‹Ÿåˆ</h1><ul><li>æ­£åˆ™åŒ–ç¼“è§£è¿‡æ‹Ÿåˆ</li></ul><p>æ­£åˆ™åŒ–åœ¨æŸå¤±å‡½æ•°ä¸­å¼•å…¥æ¨¡å‹å¤æ‚åº¦æŒ‡æ ‡ï¼Œåˆ©ç”¨ç»™WåŠ æƒå€¼ï¼Œå¼±åŒ–è®­ç»ƒæ•°æ®çš„å™ªå£°ã€‚</p><p>$$<br>loss=loss(yä¸y_)+REGULARIZER*losss(w)<br>$$</p><p>L2æ­£åˆ™åŒ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">with tf.GradientTape() as tape:</span><br><span class="line">h1 &#x3D; tf.matmul(x_train,w1)+b1</span><br><span class="line">h1 &#x3D; tf.nn.relu(h1)</span><br><span class="line">y &#x3D; tf.matmul(h1,w2) + b2</span><br><span class="line">loss_mse &#x3D; tf.reduce_mean(tf.square(y_train - y))</span><br><span class="line">loss_regularization &#x3D; []</span><br><span class="line">loss_regularization.append(tf.nn.l2_loss(w1))</span><br><span class="line">loss_regularization.append(tf.nn.l2_loss(w2))</span><br><span class="line">loss_regularization &#x3D; tf.reduce_sum(loss_regularization)</span><br><span class="line">loss &#x3D; loss_mse + 0.03*loss_regularization</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="9ï¼šä¼˜åŒ–å™¨"><a href="#9ï¼šä¼˜åŒ–å™¨" class="headerlink" title="9ï¼šä¼˜åŒ–å™¨"></a>9ï¼šä¼˜åŒ–å™¨</h1><p>$m_t$ï¼šä¸€é˜¶åŠ¨é‡(ä¸æ¢¯åº¦ç›¸å…³çš„å‡½æ•°)    $V_t$ï¼šäºŒé˜¶åŠ¨é‡(ä¸æ¢¯åº¦å¹³æ–¹ç›¸å…³çš„å‡½æ•°)</p><p>ä¸‹é™æ¢¯åº¦$\eta_t=lr*m_t/\sqrt{V_t}$</p><p>æ›´æ–°å‚æ•°$w_{t+1}=w_t-\eta_t$</p><blockquote><p>ä¸åŒçš„ä¼˜åŒ–å™¨ï¼Œåªæ˜¯å®šä¹‰äº†ä¸åŒçš„åŠ¨é‡å‡½æ•°</p></blockquote><ul><li>SGDï¼Œæ¢¯åº¦ä¸‹é™æ³•</li></ul><p>$m_t=g_t$   $V_t=1$</p><p>$w_{t+1}=w_t-lr*g_t$</p><ul><li>SGDMï¼ŒSGDåŸºç¡€ä¸Šå¢åŠ äº†ä¸€é˜¶åŠ¨é‡</li></ul><p>$m_t=\beta*m_{t-1}+(1-\beta)*g_t$</p><p>$V_t=1$</p><ul><li>Adagradï¼Œåœ¨SGDåŸºç¡€ä¸Šå¢åŠ äºŒé˜¶åŠ¨é‡</li></ul><p>$m_t=g_t$ </p><p>$V_t=\sum^t_{\tau=1}g^2_\tau$</p><ul><li>RMSPropï¼ŒSGDåŸºç¡€ä¸Šå¢åŠ äºŒé˜¶åŠ¨é‡</li></ul><p>$m_t=g_t$  </p><p>$V_t=\beta*V_{t-1}+(1-\beta)*g^2_t$</p><ul><li>Adamï¼ŒåŒæ—¶ç»“åˆSGDMä¸€é˜¶åŠ¨é‡å’ŒRMSPropäºŒé˜¶åŠ¨é‡</li></ul><p>$m_t=\beta*m_{t-1}+(1-\beta)*g_t$</p><p>ä¿®æ­£ä¸€é˜¶åŠ¨é‡çš„åå·®ï¼š$\hat{m_t}=\frac{m_t}{1-\beta^t_1}$</p><p>$V_t=\beta*V_{t-1}+(1-\beta)*g^2_t$</p><p>ä¿®æ­£äºŒé˜¶åŠ¨é‡çš„åå·®ï¼š$\hat{V_t}=\frac{V_t}{1-\beta^t_2}$</p><h1 id="10ï¼šæ­å»ºå…«è‚¡ç½‘ç»œ-Sequential"><a href="#10ï¼šæ­å»ºå…«è‚¡ç½‘ç»œ-Sequential" class="headerlink" title="10ï¼šæ­å»ºå…«è‚¡ç½‘ç»œ-Sequential"></a>10ï¼šæ­å»ºå…«è‚¡ç½‘ç»œ-Sequential</h1><p>tf.kerasæ­å»ºç½‘ç»œå…«è‚¡</p><p>å…­æ­¥æ³•ï¼š</p><ol><li>import</li><li>train,test</li><li>model = tf.keras.models.Sequential</li><li>model.compile</li><li>model.fit</li><li>model.summary</li></ol><ul><li>Sequentialï¼Œæè¿°å„å±‚ç½‘ç»œ</li></ul><p>æ‹‰ç›´å±‚ï¼štf.keras.layers.Flatten()</p><p>å…¨è¿æ¥å±‚ï¼štf.keras.layers.Dense(ç¥ç»å…ƒä¸ªæ•°,activation=â€æ¿€æ´»å‡½æ•°â€,kernel_regularizer=å“ªç§æ­£åˆ™åŒ–)</p><blockquote><p>activationï¼šreluã€softmaxã€sigmoidã€tanh</p><p>kernel_regularizerï¼štf.keras.regularizers.l1()ã€tf.keras.regularizers.l2()</p></blockquote><p>å·ç§¯å±‚ï¼štf.keras.layers.Conv2D(filters = å·ç§¯æ ¸ä¸ªæ•°,kernel_size = å·ç§¯æ ¸å°ºå¯¸,strides = å·ç§¯æ­¥é•¿,padding = â€œvalidâ€orâ€sameâ€)</p><p>LSTMå±‚ï¼štf.keras.layers.LSTM()</p><ul><li>Compile</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.compile(optimizer = ä¼˜åŒ–å™¨,loss=æŸå¤±å‡½æ•°,metrics=[<span class="string">&quot;å‡†ç¡®ç‡&quot;</span>])</span><br></pre></td></tr></table></figure><ul><li>Fit</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fit(è®­ç»ƒé›†çš„è¾“å…¥ç‰¹å¾ï¼Œè®­ç»ƒé›†çš„æ ‡ç­¾ï¼Œbathc_size&#x3D;,epochs&#x3D;,validation_data&#x3D;(æµ‹è¯•é›†çš„è¾“å…¥ç‰¹å¾ï¼Œæµ‹è¯•é›†çš„æ ‡ç­¾)ï¼Œvalidation_split&#x3D;ä»è®­ç»ƒé›†åˆ’åˆ†å¤šå°‘æ¯”ä¾‹ç»™æµ‹è¯•é›†ï¼Œvalidation_freq&#x3D;å¤šå°‘æ¬¡epochæµ‹è¯•ä¸€æ¬¡)</span><br></pre></td></tr></table></figure><ul><li>Summary</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.summary()</span><br></pre></td></tr></table></figure><h1 id="11ï¼šæ­å»ºç½‘ç»œå…«è‚¡-class"><a href="#11ï¼šæ­å»ºç½‘ç»œå…«è‚¡-class" class="headerlink" title="11ï¼šæ­å»ºç½‘ç»œå…«è‚¡-class"></a>11ï¼šæ­å»ºç½‘ç»œå…«è‚¡-class</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyModel</span>(<span class="params">Model</span>):</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">super(MyModel,self).__init__()</span><br><span class="line">        å®šä¹‰ç½‘ç»œç»“æ„å—</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span>(<span class="params">self,x</span>):</span></span><br><span class="line">        è°ƒç”¨ç½‘ç»œç»“æ„å—ï¼Œå®ç°å‰å‘ä¼ æ’­</span><br><span class="line">        reutrn y</span><br><span class="line">        </span><br><span class="line"> model = MyModel()</span><br></pre></td></tr></table></figure><h1 id="12ï¼šMNISTæ•°æ®é›†"><a href="#12ï¼šMNISTæ•°æ®é›†" class="headerlink" title="12ï¼šMNISTæ•°æ®é›†"></a>12ï¼šMNISTæ•°æ®é›†</h1><p>æä¾›6ä¸‡å¼ 28*28åƒç´ ç‚¹çš„0-9æ‰‹å†™æ•°å­—å›¾ç‰‡å’Œæ ‡ç­¾ï¼Œç”¨äºè®­ç»ƒ</p><p>1ä¸‡å¼ 28*28åƒç´ ç‚¹çš„0-9æ‰‹å†™æ•°ç»„å›¾ç‰‡å’Œæ ‡ç­¾ï¼Œç”¨äºæµ‹è¯•</p><ul><li>å¯¼å…¥MNISTæ•°æ®é›†</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mnist &#x3D; tf.keras.datasets.mnist</span><br><span class="line">(x_train,y_train),(x_test,y_test)&#x3D;mnist.load_data()</span><br></pre></td></tr></table></figure><ul><li>ä½œä¸ºè¾“å…¥ç‰¹å¾ï¼Œå°†æ•°æ®æ‹‰ä¼¸ä¸ºä¸€ç»´æ•°ç»„</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.keras.layers.Flatten()</span><br></pre></td></tr></table></figure><h1 id="13ï¼šFasion-MNISTæ•°æ®é›†"><a href="#13ï¼šFasion-MNISTæ•°æ®é›†" class="headerlink" title="13ï¼šFasion_MNISTæ•°æ®é›†"></a>13ï¼šFasion_MNISTæ•°æ®é›†</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">fasion = tf.keras.datasets.fashion_mnist</span><br><span class="line">(x_train, y_train),(x_test,y_test) = fasion.load_data()</span><br><span class="line">x_train,x_test = x_train/<span class="number">255.0</span>,x_test/<span class="number">255.0</span></span><br><span class="line"></span><br><span class="line">model = tf.keras.models.Sequential([</span><br><span class="line">    tf.keras.layers.Flatten(),</span><br><span class="line">    tf.keras.layers.Dense(<span class="number">128</span>,activation=<span class="string">&#x27;relu&#x27;</span>),</span><br><span class="line">    tf.keras.layers.Dense(<span class="number">10</span>,activation = <span class="string">&#x27;softmax&#x27;</span>)</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">model.compile(optimizer=<span class="string">&quot;adam&quot;</span>,loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=<span class="literal">False</span>),metrics=[<span class="string">&#x27;sparse_categorical_accuracy&#x27;</span>])</span><br><span class="line">model.fit(x_train,y_train,batch_size = <span class="number">32</span>,epochs=<span class="number">5</span>,validation_data=(x_test,y_test),validation_freq = <span class="number">1</span>)</span><br><span class="line">model.summary()</span><br></pre></td></tr></table></figure><h1 id="14ï¼šè‡ªåˆ¶æ•°æ®é›†"><a href="#14ï¼šè‡ªåˆ¶æ•°æ®é›†" class="headerlink" title="14ï¼šè‡ªåˆ¶æ•°æ®é›†"></a>14ï¼šè‡ªåˆ¶æ•°æ®é›†</h1><p><img src="https://i.loli.net/2020/11/15/47flBkU6oI5KuGM.png" class="lazyload" data-srcset="https://i.loli.net/2020/11/15/47flBkU6oI5KuGM.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>åœ¨<code>mnist_image_label</code>æ–‡ä»¶å¤¹ä¸‹æœ‰ä¸¤ä¸ªæ–‡ä»¶å¤¹<code>mnist_train_jpg_60000</code>å’Œ<code>mnist_test_jpg_10000</code></p><p>æ¯ä¸ªæ–‡ä»¶å¤¹åˆ†åˆ«æ”¾äº†å¯¹åº”ä¸ªæ•°çš„å›¾ç‰‡ä»¥åŠä¸€ä¸ª.txtæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸Šï¼Œjpgå+ç©ºæ ¼+æ ‡ç­¾</p><p>ç°åœ¨éœ€è¦é‡å†™<code>(x_train,y_train),(x_test,y_test)=mnist.load_data()</code>ä¸­çš„load_data()æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generateds</span>(<span class="params">path,txt</span>):</span></span><br><span class="line">    f = open(txt,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    contents = f.readlines()</span><br><span class="line">    f.close()</span><br><span class="line">    x,y_ = [],[]</span><br><span class="line">    <span class="keyword">for</span> content <span class="keyword">in</span> contents:</span><br><span class="line">        value = content.split()</span><br><span class="line">        img_path = path+value[<span class="number">0</span>]</span><br><span class="line">        img = Image.open(img_path)</span><br><span class="line">        img = np.array(img.convert(<span class="string">&#x27;L&#x27;</span>))</span><br><span class="line">        img = img/<span class="number">255.</span></span><br><span class="line">        x.append(img)</span><br><span class="line">        y_.append(value[<span class="number">1</span>])</span><br><span class="line">        print(<span class="string">&#x27;loading:&#x27;</span>+content)</span><br><span class="line">    x = np.array(x)</span><br><span class="line">    y_ = np.array(y_)</span><br><span class="line">    y_ = y_.astype(np.int64)</span><br><span class="line">    <span class="keyword">return</span> x,y_</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ•°æ®é›†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.save(ä¿å­˜è·¯å¾„å¸¦æ‹“å±•,ä¿å­˜çš„å†…å®¹)</span><br></pre></td></tr></table></figure><h1 id="15ï¼šæ•°æ®å¢å¼º"><a href="#15ï¼šæ•°æ®å¢å¼º" class="headerlink" title="15ï¼šæ•°æ®å¢å¼º"></a>15ï¼šæ•°æ®å¢å¼º</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">image_gen_train = tf.keras.preprocessing.image.ImageDataGenerator(</span><br><span class="line">rescale = æ‰€æœ‰æ•°æ®å°†ä¹˜ä»¥è¯¥æ•°å€¼</span><br><span class="line">rotation = éšæœºæ—‹è½¬è§’åº¦å€¼èŒƒå›´</span><br><span class="line">    width_shift_range = éšæœºå®½åº¦åç§»é‡</span><br><span class="line">    height_shift_range = éšæœºé«˜åº¦åç§»é‡</span><br><span class="line">    horizontal_flip = æ˜¯å¦éšæœºæ°´å¹³ç¿»è½¬</span><br><span class="line">    zoom_range = éšæœºç¼©æ”¾çš„èŒƒå›´[<span class="number">1</span>-n,<span class="number">1</span>+n])</span><br><span class="line">image_gen_train.fit(x_train)</span><br></pre></td></tr></table></figure><p>fit()ä¸­çš„æ•°æ®æ˜¯å››ä½æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦å¯¹å…¶reshape</p><p>x_train = x_train.reshape(x_train.shape[0],28,28,1)</p><p>æœ€åçš„1è¡¨ç¤ºç°åº¦å€¼ã€‚</p><p>model.fit()æ–¹æ³•å†…ä¿®æ”¹ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fit(image_gen_train.flow(x_train,y_train,batch_size = <span class="number">32</span>),epochs=<span class="number">5</span>,validation_data=(x_test,y_test),validation_freq = <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h1 id="16ï¼šæ–­ç‚¹ç»­è®­"><a href="#16ï¼šæ–­ç‚¹ç»­è®­" class="headerlink" title="16ï¼šæ–­ç‚¹ç»­è®­"></a>16ï¼šæ–­ç‚¹ç»­è®­</h1><p>è¯»å–æ¨¡å‹ï¼š</p><p>load_weights(è·¯å¾„æ–‡ä»¶å)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">checkpoint_save_path = <span class="string">&quot;./checkpoint/mnist.ckpt&quot;</span></span><br><span class="line"><span class="keyword">if</span> os.path.exists(checkpoint_save_path + <span class="string">&#x27;.index&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;-----load the model------&#x27;</span>)</span><br><span class="line">    model.load_weights(checkpoint_save_path)</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">callback = tf.keras.callbacks.ModelCheckpoint(</span><br><span class="line">filepath = è·¯å¾„æ–‡ä»¶å,</span><br><span class="line">save_weights_only=<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">save_best_only = <span class="literal">True</span>/<span class="literal">False</span>)</span><br><span class="line">history = model.fit(â€¦â€¦callbacks = [cp_callback])</span><br></pre></td></tr></table></figure><h1 id="17ï¼šå‚æ•°æå–"><a href="#17ï¼šå‚æ•°æå–" class="headerlink" title="17ï¼šå‚æ•°æå–"></a>17ï¼šå‚æ•°æå–</h1><p>model.trainable_variables è¿”å›æ¨¡å‹ä¸­å¯è®­ç»ƒçš„å‚æ•°</p><p>è®¾ç½®printè¾“å‡ºæ ¼å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold = è¶…è¿‡å¤šå°‘çœç•¥æ˜¾ç¤º)<span class="comment">#threshold=np.infè¡¨ç¤ºæ— é™</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold = np.inf)</span><br><span class="line">print(model.trainable_variables)</span><br><span class="line">file = open(<span class="string">&#x27;./weights.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> model.trainable_variables:</span><br><span class="line">file.write(str(v.name)+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    file.write(str(v.shape)+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    file.write(str(v.numpy())+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure><h1 id="18ï¼šaccæ›²çº¿å’Œlossæ›²çº¿å¯è§†åŒ–"><a href="#18ï¼šaccæ›²çº¿å’Œlossæ›²çº¿å¯è§†åŒ–" class="headerlink" title="18ï¼šaccæ›²çº¿å’Œlossæ›²çº¿å¯è§†åŒ–"></a>18ï¼šaccæ›²çº¿å’Œlossæ›²çº¿å¯è§†åŒ–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">history = model.fit()</span><br><span class="line">acc = history.history[<span class="string">&#x27;sparse_categorical_accuracy&#x27;</span>]<span class="comment">#è®­ç»ƒé›†å‡†ç¡®ç‡</span></span><br><span class="line">val_acc = history.history[<span class="string">&#x27;val_sparse_categorical_accuracy&#x27;</span>]<span class="comment">#æµ‹è¯•é›†å‡†ç¡®ç‡</span></span><br><span class="line">loss = history.history[<span class="string">&#x27;loss&#x27;</span>]<span class="comment">#è®­ç»ƒé›†loss</span></span><br><span class="line">val_loss = history.history[<span class="string">&#x27;val_loss&#x27;</span>]<span class="comment">#æµ‹è¯•é›†loss</span></span><br></pre></td></tr></table></figure><p>ç”»å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">plt.plot(acc,label=<span class="string">&quot;Training Accuracy&quot;</span>)</span><br><span class="line">plt.plot(val_acc,label=<span class="string">&quot;Validation Accuracy&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Training and Validation Accuracy&quot;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">plt.plot(loss,label=<span class="string">&quot;Training Loss&quot;</span>)</span><br><span class="line">plt.plot(val_loss,label=<span class="string">&quot;Validation Loss&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Training and Validation Loss&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h1 id="19ï¼šæ ·ä¾‹é¢„æµ‹"><a href="#19ï¼šæ ·ä¾‹é¢„æµ‹" class="headerlink" title="19ï¼šæ ·ä¾‹é¢„æµ‹"></a>19ï¼šæ ·ä¾‹é¢„æµ‹</h1><p>predict(è¾“å…¥ç‰¹å¾,batch_size=æ•´æ•°)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¤ç°æ¨¡å‹</span></span><br><span class="line">model = tf.keras.models.Sequential([</span><br><span class="line">    tf.keras.layers.Flatten(),</span><br><span class="line">    tf.keras.layers.Dense(<span class="number">128</span>,activation = <span class="string">&#x27;relu&#x27;</span>),</span><br><span class="line">    tf.keras.layers.Dense(<span class="number">10</span>,activation = <span class="string">&#x27;softmax&#x27;</span>)])</span><br><span class="line"><span class="comment">#åŠ è½½å‚æ•°</span></span><br><span class="line">model.load_weights(model_save_path)</span><br><span class="line"><span class="comment">#é¢„æµ‹ç»“æœ</span></span><br><span class="line">result = model.predict(x_predict)</span><br></pre></td></tr></table></figure><h1 id="20ï¼šå·ç§¯è®¡ç®—è¿‡ç¨‹"><a href="#20ï¼šå·ç§¯è®¡ç®—è¿‡ç¨‹" class="headerlink" title="20ï¼šå·ç§¯è®¡ç®—è¿‡ç¨‹"></a>20ï¼šå·ç§¯è®¡ç®—è¿‡ç¨‹</h1><p>åŸå§‹å½©è‰²å›¾ç‰‡â€”â€”&gt;è‹¥å¹²å±‚ç‰¹å¾æå–â€”â€”&gt;å…¨è¿æ¥ç½‘ç»œ</p><p>ä¸»è¦æ¨¡å—ï¼š(CBAPD)</p><p>å·ç§¯(Convolutional)-&gt;æ‰¹æ ‡å‡†åŒ–(BN)-&gt;æ¿€æ´»(Activation)-&gt;æ± åŒ–(Pooling)-&gt;èˆå¼ƒ(Dropout)</p><h1 id="21ï¼šæ„Ÿå—é‡"><a href="#21ï¼šæ„Ÿå—é‡" class="headerlink" title="21ï¼šæ„Ÿå—é‡"></a>21ï¼šæ„Ÿå—é‡</h1><p>æ„Ÿå—é‡ï¼šå·ç§¯ç¥ç»ç½‘ç»œå„è¾“å‡ºç‰¹å¾å›¾ä¸­çš„æ¯ä¸ªåƒç´ ç‚¹ï¼Œåœ¨åŸå§‹è¾“å…¥å›¾ç‰‡ä¸Šæ˜ å°„åŒºåŸŸçš„å¤§å°ã€‚</p><p>æ¯”å¦‚ï¼š</p><p>1ï¼š</p><p>5x5åŸå§‹å›¾ï¼Œä½¿ç”¨3x3å·ç§¯æ ¸ï¼Œç”Ÿæˆçš„3x3ç‰¹å¾å›¾ï¼Œé‚£ä¹ˆå…¶æ„Ÿå—é‡æ˜¯3.</p><p>å°†ç”Ÿæˆçš„3x3ç‰¹å¾å›¾ï¼Œå†æ¬¡ä½¿ç”¨3x3å·ç§¯æ ¸ä½œç”¨ï¼Œç”Ÿæˆ1x1ç‰¹å¾å›¾ï¼Œé‚£ä¹ˆè¿™ä¸ªç‰¹å¾å›¾ç›¸å¯¹äºåŸå§‹å›¾ï¼Œæ„Ÿå—é‡ä¸º5.</p><p>2ï¼š</p><p>5x5åŸå§‹å›¾ï¼Œä½¿ç”¨5x5å·ç§¯æ ¸ï¼Œç”Ÿæˆ1x1ç‰¹å¾å›¾ï¼Œå…¶æ„Ÿå—é‡åŒæ ·ä¸º5</p><p>é•¿æ¬¾xå¤§äº10æ—¶ï¼Œä¸¤å±‚3x3å·ç§¯æ ¸æ€§èƒ½ä¼˜äºä¸€å±‚5x5å·ç§¯æ ¸</p><h1 id="22ï¼šå…¨é›¶å¡«å……"><a href="#22ï¼šå…¨é›¶å¡«å……" class="headerlink" title="22ï¼šå…¨é›¶å¡«å……"></a>22ï¼šå…¨é›¶å¡«å……</h1><p>ç‰¹å¾å›¾ä¸€åœˆå¡«å……é›¶ã€‚</p><p>ç‰¹å¾å›¾è¾¹é•¿<br>$$<br>padding=\begin{cases}<br>SAME(å…¨0å¡«å……)\ \frac{å…¥é•¿}{æ­¥é•¿}\ (å‘ä¸Šå–æ•´)<br>\VALID(ä¸å…¨0å¡«å……)\ \frac{å…¥é•¿-æ ¸é•¿+1}{æ­¥é•¿}\ (å‘ä¸Šå–æ•´)<br>\end{cases}<br>$$</p><h1 id="23ï¼šæè¿°å·ç§¯å±‚"><a href="#23ï¼šæè¿°å·ç§¯å±‚" class="headerlink" title="23ï¼šæè¿°å·ç§¯å±‚"></a>23ï¼šæè¿°å·ç§¯å±‚</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tf.keras.layers.Conv2D(</span><br><span class="line">filter = å·ç§¯æ ¸ä¸ªæ•°,</span><br><span class="line">    kernel_size = å·ç§¯æ ¸å°ºå¯¸ï¼Œ<span class="comment">#æ­£æ–¹å½¢å†™æ ¸é•¿æ•´æ•°ï¼Œæˆ–ï¼ˆæ ¸é«˜ï¼Œæ ¸å®½ï¼‰</span></span><br><span class="line">    strides = æ»‘åŠ¨æ­¥é•¿,<span class="comment">#æ¨ªçºµç›¸åŒå†™æ­¥é•¿æ•´æ•°ï¼Œæˆ–ï¼ˆçºµå‘æ­¥é•¿ï¼Œæ¨ªå‘æ­¥é•¿ï¼‰</span></span><br><span class="line">    padding = <span class="string">&quot;same&quot;</span> <span class="keyword">or</span> <span class="string">&quot;valid&quot;</span><span class="comment">#å…¨é›¶å¡«å……sameï¼Œéå…¨é›¶valid</span></span><br><span class="line">    activation = <span class="string">&quot;relu&quot;</span> <span class="keyword">or</span> <span class="string">&quot;sigmoid&quot;</span>,</span><br><span class="line">    input_shape = (é«˜ï¼Œå®½ï¼Œé€šé“æ•°)<span class="comment">#è¾“å…¥ç‰¹å¾å›¾ç»´åº¦ï¼Œå¯çœ</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1 id="24ï¼šæ‰¹æ ‡å‡†åŒ–ï¼ˆBatch-Normalizationï¼‰"><a href="#24ï¼šæ‰¹æ ‡å‡†åŒ–ï¼ˆBatch-Normalizationï¼‰" class="headerlink" title="24ï¼šæ‰¹æ ‡å‡†åŒ–ï¼ˆBatch Normalizationï¼‰"></a>24ï¼šæ‰¹æ ‡å‡†åŒ–ï¼ˆBatch Normalizationï¼‰</h1><p>æ ‡å‡†åŒ–ï¼šä½¿æ•°æ®ç¬¦åˆ0å‡å€¼ï¼Œ1ä¸ºæ ‡å‡†å·®çš„åˆ†å¸ƒ</p><p>æ‰¹æ ‡å‡†åŒ–ï¼šå¯¹ä¸€å°æ‰¹æ•°æ®ï¼Œåšæ ‡å‡†åŒ–<br>$$<br>Hâ€™^k_i = \frac{H^k_i-\mu^k_{batch}}{\sigma_{batch}^k}<br>$$<br>kï¼šç¬¬kä¸ªå·ç§¯æ ¸</p><p>iï¼šç¬¬iä¸ªåƒç´ ç‚¹</p><p>Hâ€™ï¼šæ‰¹æ ‡å‡†åŒ–ä¹‹å</p><p>Hï¼šæ‰¹æ ‡å‡†åŒ–ä¹‹å‰</p><p>ä¸Šè¿°å¼å­ï¼Œè¦æ±‚æ‰¹æ ‡å‡†åŒ–ä¹‹å‰çš„ç‰¹å¾æ•°æ®å³æ»¡è¶³æ­£æ€åˆ†å¸ƒã€‚</p><p>é€šå¸¸ä½¿ç”¨ï¼š<br>$$<br>x^k_i=\gamma_kHâ€™^k_i+\beta_k<br>$$<br>$\gamma_k$:ç¼©æ”¾å› å­</p><p>$\beta_k$:åç§»å› å­</p><p>è°ƒæ•´åˆ†å¸ƒçš„å®½çª„å’Œåç§»ã€‚</p><p>BNå±‚ä½äºï¼Œå·ç§¯å±‚ä¹‹åï¼Œæ¿€æ´»å±‚ä¹‹å‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.keras.layers.BatchNormalization()</span><br></pre></td></tr></table></figure><h1 id="25ï¼šæ± åŒ–"><a href="#25ï¼šæ± åŒ–" class="headerlink" title="25ï¼šæ± åŒ–"></a>25ï¼šæ± åŒ–</h1><p>æ± åŒ–ç”¨äºå‡å°‘ç‰¹å¾æ•°æ®é‡ã€‚</p><p>æœ€å¤§æ± åŒ–ï¼Œå‡å€¼æ± åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tf.keras.layers.MaxPool2D(</span><br><span class="line">pool_size=æ± åŒ–æ ¸å°ºå¯¸</span><br><span class="line">strides=æ± åŒ–æ­¥é•¿</span><br><span class="line">padding=<span class="string">&#x27;valid&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;same&#x27;</span><span class="comment">#å…¨é›¶å¡«å……ï¼Ÿ</span></span><br><span class="line">)</span><br><span class="line">tf.keras.layers.AveragePooling2D()</span><br></pre></td></tr></table></figure><h1 id="26ï¼šèˆå¼ƒï¼ˆdropoutï¼‰"><a href="#26ï¼šèˆå¼ƒï¼ˆdropoutï¼‰" class="headerlink" title="26ï¼šèˆå¼ƒï¼ˆdropoutï¼‰"></a>26ï¼šèˆå¼ƒï¼ˆdropoutï¼‰</h1><p>åœ¨ç¥ç»ç½‘ç»œè®­ç»ƒæ—¶ï¼Œå°†ä¸€éƒ¨åˆ†ç¥ç»å…ƒæŒ‰ç…§ä¸€å®šæ¦‚ç‡ä»ç¥ç»ç½‘ç»œä¸­æš‚æ—¶èˆå¼ƒï¼Œç¥ç»ç½‘ç»œä½¿ç”¨æ—¶ï¼Œè¢«èˆå¼ƒçš„ç¥ç»å…ƒæ¢å¤è¿æ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.keras.layers.Dropout(èˆå¼ƒæ¦‚ç‡)</span><br></pre></td></tr></table></figure><h1 id="27ï¼šCifar10æ•°æ®é›†"><a href="#27ï¼šCifar10æ•°æ®é›†" class="headerlink" title="27ï¼šCifar10æ•°æ®é›†"></a>27ï¼šCifar10æ•°æ®é›†</h1><p>äº”ä¸‡å¼ 32*32åƒç´ ç‚¹çš„æ˜¯åˆ†ç±»å½©è‰²å›¾ç‰‡å’Œæ ‡ç­¾ï¼Œç”¨äºè®­ç»ƒ</p><p>æµ‹è¯•1ä¸‡å¼ </p><h1 id="28ï¼šLeNet"><a href="#28ï¼šLeNet" class="headerlink" title="28ï¼šLeNet"></a>28ï¼šLeNet</h1><p>è¾“å…¥ï¼š32*32</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äººå·¥æ™ºèƒ½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åˆ©ç”¨ADBå¼€å‘ç‹è€…è£è€€å¤–æŒ‚</title>
      <link href="/2020/10/24/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8ADB%E5%BC%80%E5%8F%91%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E5%A4%96%E6%8C%82/"/>
      <url>/2020/10/24/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8ADB%E5%BC%80%E5%8F%91%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E5%A4%96%E6%8C%82/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šæ€è·¯"><a href="#1ï¼šæ€è·¯" class="headerlink" title="1ï¼šæ€è·¯"></a>1ï¼šæ€è·¯</h1><p>ADBå…¨ç§°å®‰å“è®¾å¤‡è°ƒè¯•å·¥å…·ï¼Œæ˜¯è°·æ­Œå®˜æ–¹æä¾›å¸®åŠ©å®‰å“å¼€å‘è€…è°ƒè¯•è‡ªèº«åº”ç”¨çš„ä¸€ä¸ªè½»é‡çº§å·¥å…·åŒ…ï¼Œæ€»å¤§å°åªæœ‰å‡ å…†ã€‚é€šè¿‡shellæŒ‡ä»¤å¯ä»¥å®ç°å¯¹å®‰è£…äº†å®‰å“ç³»ç»Ÿçš„æ‰‹æœºè¿›è¡Œæ§åˆ¶ï¼ŒåŒ…æ‹¬å¼€å…³æœºï¼Œå¼€å…³åº”ç”¨ç¨‹åºï¼Œæ§åˆ¶å±å¹•ã€éŸ³é‡ã€ç›¸æœºç­‰æ“ä½œã€‚åˆ©ç”¨ADBæ§åˆ¶å±å¹•çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ç¨‹åºæ¥å®ç°å¿«é€Ÿæ¢è£…ã€å©‰å„¿ä¸€é”®ä¸Šå¤©ç­‰æ“ä½œã€‚ç”±äºADBæ˜¯ä¸€ç§æ¨¡æ‹Ÿäººåœ¨å±å¹•ä¸Šæ“ä½œçš„å·¥å…·ï¼Œä¸ä¼šä¿®æ”¹ç‹è€…è£è€€çš„å†…éƒ¨æ–‡ä»¶ï¼Œä¹Ÿä¸ç”¨rootæ‰‹æœºï¼Œæ‰€æœ‰æ˜¯ä¸ä¼šè¢«ç‹è€…è£è€€æ£€æµ‹åˆ°ï¼Œä¹Ÿä¸ä¼šè¢«å°å·ã€‚åªéœ€è¦ç®€å•é…ç½®è®©å®‰è£…äº†ADBçš„ç”µè„‘è¿æ¥æ‰‹æœºï¼Œå³å¯å®ç°ç¨‹åºæ§åˆ¶ç‹è€…è§’è‰²ã€‚å› ä¸ºADBæ”¯æŒé€šè¿‡TCP/IPåè®®ï¼Œå¯ä»¥è®©ç”µè„‘è„±ç¦»æ•°æ®çº¿è¿œç¨‹è°ƒè¯•æ‰‹æœºã€‚</p><p><strong>é‚£ä¹ˆè¿™ä¸ªå¤–æŒ‚å®Œæ•´çš„å·¥ä½œè¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</strong></p><ol><li><p>åœ¨ç”µè„‘ä¸Šå®‰è£…ADBå·¥å…·ï¼Œå¹¶å°†å…¶ç›®å½•æ”¾åˆ°ç³»ç»Ÿç¯å¢ƒæˆ–ç”¨æˆ·ç¯å¢ƒå˜é‡ä¸­ã€‚å¼€å¯æ‰‹æœºçš„USBè°ƒè¯•åŠŸèƒ½ï¼Œé€šè¿‡ADBè¿œç¨‹è°ƒè¯•åŠŸèƒ½è¿æ¥æ‰‹æœºã€‚</p></li><li><p>ç¼–å†™ä¸€ä¸ªå®‰å“åº”ç”¨ç¨‹åºï¼Œç¨‹åºä½¿ç”¨å®‰å“çš„æ‚¬æµ®çª—åŠŸèƒ½ã€‚åœ¨ç‹è€…è£è€€é¢æ¿ä¸Šå±‚æ‚¬æµ®ä¸€ä¸ªæŒ‰é’®ã€‚ç‚¹å‡»æŒ‰é’®ï¼Œå‘é€ä¸€ä¸ªhttpçš„getè¯·æ±‚ã€‚</p></li><li><p>åœ¨å®‰è£…äº†ADBçš„ç”µè„‘ä¸Šå®‰è£…ä¸€ä¸ªhttpæœåŠ¡å™¨ç”¨äºæ¥æ”¶æ‚¬æµ®æŒ‰é’®å‘é€çš„getè¯·æ±‚ã€‚ç®€å•çš„httpæœåŠ¡å™¨æ˜¯åŸºäºpythonå†…è‡ªå¸¦çš„http serverã€‚</p></li><li><p>httpæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œæ‰§è¡Œå·²ç»å†™å¥½çš„ADBæŒ‡ä»¤ï¼Œæ§åˆ¶æ‰‹æœºï¼Œå®ç°å©‰å„¿ä¸€é”®ä¸Šå¤©ã€‚</p></li></ol><p>çœ‹çœ‹ä½¿ç”¨æ•ˆæœå§ï¼</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">    <iframe src="//player.bilibili.com/player.html?aid=415048053&bvid=BV18V411y7rw&cid=249226194&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;">    </iframe></div><h1 id="2ï¼šADBå·¥å…·åŠè°ƒè¯•æ‰‹æœº"><a href="#2ï¼šADBå·¥å…·åŠè°ƒè¯•æ‰‹æœº" class="headerlink" title="2ï¼šADBå·¥å…·åŠè°ƒè¯•æ‰‹æœº"></a>2ï¼šADBå·¥å…·åŠè°ƒè¯•æ‰‹æœº</h1><h2 id="2-1-ä¸‹è½½ADB"><a href="#2-1-ä¸‹è½½ADB" class="headerlink" title="2.1 ä¸‹è½½ADB"></a>2.1 ä¸‹è½½ADB</h2><p>åœ¨ç½‘ä¸Šä¸‹è½½ADBå·¥å…·åŒ…ï¼š<a href="https://developer.android.com/studio/releases/platform-tools">ä¸‹è½½åœ°å€</a>ï¼ˆéœ€è¦è¿æ¥å¤–ç½‘ï¼‰</p><p>è§£å‹åï¼Œè·å¾—ä¸€ä¸ªåä¸º<code>platform-tools</code>çš„å·¥å…·åŒ…ï¼ŒåŒ…å†…å«æœ‰<code>adb.exe</code>ç¨‹åºï¼Œå³ä¸ºå®‰å“è°ƒè¯•å·¥å…·ã€‚</p><h2 id="2-2-è®¾ç½®ç¯å¢ƒ"><a href="#2-2-è®¾ç½®ç¯å¢ƒ" class="headerlink" title="2.2 è®¾ç½®ç¯å¢ƒ"></a>2.2 è®¾ç½®ç¯å¢ƒ</h2><p>åœ¨windowsä¸­æœç´¢<code>huanjing</code>æ‰“å¼€ç¯å¢ƒå˜é‡é¢æ¿ã€‚</p><p><img src="https://i.loli.net/2020/10/24/RqTVla3Mpu89tnP.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/24/RqTVla3Mpu89tnP.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¾æ¬¡ç‚¹å‡»<code>ç¯å¢ƒå˜é‡</code>ï¼Œç‚¹å‡»ç³»ç»Ÿå˜é‡ä¸‹çš„åä¸º<code>Path</code>çš„ä¸€è¡Œï¼Œç‚¹å‡»<code>ç¼–è¾‘</code>.</p><p><img src="https://i.loli.net/2020/10/24/NoKyh4bwWqzMSFj.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/24/NoKyh4bwWqzMSFj.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç‚¹å‡»æ–°å»ºï¼Œå°†<code>platform-tools</code>æ–‡ä»¶å¤¹çš„å®Œæ•´è·¯å¾„æ·»åŠ åˆ°å˜é‡ä¸­ï¼Œä¾‹ï¼šæˆ‘çš„å·¥å…·åŒ…å­˜æ”¾åœ¨<code>C:\Users\9752\.AndroidStudio3.5\platform-tools</code></p><p>ç‚¹å‡»<code>ç¡®è®¤</code>ï¼Œç„¶åå…³é—­æ­¤çª—å£ã€‚</p><p>åœ¨windowsä¸­æœç´¢<code>cmd</code>ï¼Œæ‰“å¼€ç»ˆç«¯çª—å£ï¼Œè¾“å…¥<code>adb</code>å›è½¦ã€‚</p><p><img src="https://i.loli.net/2020/10/24/ortdFpacx3NUZqK.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/24/ortdFpacx3NUZqK.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å‡ºç°ä¸Šæ–‡ï¼Œåˆ™é…ç½®æˆåŠŸã€‚</p><h2 id="2-3-è¿æ¥æ‰‹æœº"><a href="#2-3-è¿æ¥æ‰‹æœº" class="headerlink" title="2.3 è¿æ¥æ‰‹æœº"></a>2.3 è¿æ¥æ‰‹æœº</h2><p><strong>æ‰“å¼€æ‰‹æœºå¼€å‘è€…æ¨¡å¼</strong></p><p>é€šå¸¸æ˜¯æ‰‹æœºè®¾ç½®ä¸­ï¼Œæ‰¾åˆ°ç‰ˆæœ¬ä¿¡æ¯æˆ–è€…å†…æ ¸ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»ä¸ƒä¸‹ï¼Œåœ¨è®¾ç½®ä¸­å°±ä¼šå‡ºç°å¼€å‘è€…æ¨¡å¼äº†ã€‚å…·ä½“æ–¹æ³•å¯ä»¥è‡ªè¡Œè°·æ­Œã€‚</p><p>æ‰“å¼€å¼€å‘è€…æ¨¡å¼çš„<code>USBè°ƒè¯•</code></p><p>é€šè¿‡<strong>åŸè£…</strong>æ•°æ®çº¿è¿æ¥ç”µè„‘ï¼Œ<strong>æœ‰çš„éåŸè£…æ•°æ®çº¿åªèƒ½å……ç”µä¸èƒ½ä¼ è¾“æ•°æ®</strong>ã€‚</p><p>è¿æ¥ç”µè„‘åï¼Œéœ€è¦åœ¨æ‰‹æœºä¸Šå…è®¸æ­¤ç”µè„‘è°ƒè¯•ï¼Œæœ€å¥½ä¸€å¾‹å…è®¸æ­¤ç”µè„‘è°ƒè¯•ã€‚</p><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>adb devices</code>æŸ¥çœ‹æ˜¯å¦è¿æ¥ä¸Šäº†æ‰‹æœºã€‚</p><h2 id="2-4-å¼€å¯è¿œç¨‹è°ƒè¯•"><a href="#2-4-å¼€å¯è¿œç¨‹è°ƒè¯•" class="headerlink" title="2.4 å¼€å¯è¿œç¨‹è°ƒè¯•"></a>2.4 å¼€å¯è¿œç¨‹è°ƒè¯•</h2><blockquote><p>ä¹Ÿå¯ä¸ç”¨è¿œç¨‹ï¼Œç›´æ¥ä½¿ç”¨æ•°æ®çº¿ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p></blockquote><p>è®©æ‰‹æœºå’Œç”µè„‘å¤„åœ¨ç›¸åŒçš„WiFiä¸‹</p><p>ç”µè„‘é€šè¿‡æ•°æ®çº¿è¿æ¥æ‰‹æœºåï¼Œç»ˆç«¯è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb tcpip 5555</span><br></pre></td></tr></table></figure><p>æ‹”æ‰æ•°æ®çº¿ã€‚åœ¨WiFiè®¾ç½®é‡Œï¼ŒæŸ¥çœ‹æ‰‹æœºçš„å±€åŸŸç½‘ipåœ°å€ï¼Œé€šå¸¸æ˜¯<code>192.168.xxx.xxx</code>ï¼Œæˆ–è€…<code>10.xxx.xxx.xxx</code></p><p>ä¿®æ”¹ä¸ºä½ çš„æ‰‹æœºipåœ°å€ï¼Œè¿æ¥æ‰‹æœºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb connect 192.168.xxx.xxx:5555</span><br></pre></td></tr></table></figure><h2 id="2-5-ä¸»è¦ç”¨åˆ°çš„ADBæŒ‡ä»¤"><a href="#2-5-ä¸»è¦ç”¨åˆ°çš„ADBæŒ‡ä»¤" class="headerlink" title="2.5 ä¸»è¦ç”¨åˆ°çš„ADBæŒ‡ä»¤"></a>2.5 ä¸»è¦ç”¨åˆ°çš„ADBæŒ‡ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// æ¨¡æ‹Ÿç‚¹å‡»ï¼Œå±å¹•ä¸Šæ¨ªåæ ‡çºµåæ ‡åˆ†åˆ«ä¸º100 120çš„ä½ç½®</span><br><span class="line">// è¦æŸ¥çœ‹å…·ä½“åæ ‡å€¼ï¼Œå¯ä»¥æ‰“å¼€å¼€å‘è€…é€‰é¡¹-&gt;æŒ‡é’ˆä½ç½®</span><br><span class="line">adb shell input tap 100 120</span><br><span class="line"></span><br><span class="line">// æ¨¡æ‹Ÿæ»‘åŠ¨ï¼Œä»ä½ç½®ï¼ˆ0,1000ï¼‰æ»‘åŠ¨åˆ°(800,600)</span><br><span class="line">adb shell input swipe 0 1000 800 600</span><br><span class="line"></span><br><span class="line">// æ¨¡æ‹Ÿé•¿æŒ‰ï¼Œåœ¨ä½ç½®ï¼ˆ100,200ï¼‰é•¿æŒ‰500æ¯«ç§’</span><br><span class="line">adb shell input swipe 100 200 100 200 500// å¼€å¯adbæœåŠ¡</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ä½ç½®ä¿¡æ¯ï¼Œéœ€è¦åœ¨æ‰‹æœºä¸Šè·å–ã€‚</p><p>åœ¨<strong>å¼€å‘è€…æ¨¡å¼</strong>ä¸­æ‰“å¼€<strong>æ˜¾ç¤ºæŒ‡é’ˆ</strong></p><p>é€šè¿‡æŒ‰ä½å±å¹•ï¼Œå°±èƒ½å®æ—¶æ˜¾ç¤ºæŒ‰å‹ä½çš„ä½ç½®çš„xè½´å’Œyè½´ä¿¡æ¯ã€‚</p><p>æ­¤æ—¶å·²ç»å¯ä»¥å°è¯•ç”¨ADBæŒ‡ä»¤æ§åˆ¶å±å¹•äº†ã€‚</p><h2 id="2-6-æ§åˆ¶å©‰å„¿ä¸Šå¤©"><a href="#2-6-æ§åˆ¶å©‰å„¿ä¸Šå¤©" class="headerlink" title="2.6 æ§åˆ¶å©‰å„¿ä¸Šå¤©"></a>2.6 æ§åˆ¶å©‰å„¿ä¸Šå¤©</h2><p>ä¸åŒçš„æ‰‹æœºï¼Œéœ€è¦è‡ªå·±å¯»æ‰¾åˆé€‚çš„åæ ‡ç‚¹æ¥å®ç°å©‰å„¿çš„æŠ€èƒ½é‡Šæ”¾ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å‘å‰ç§»åŠ¨ï¼šabd shell input swipe 450 1105 544 983 600</span><br><span class="line">å‘åç§»åŠ¨ï¼šadb shell input swipe 450 1105 217 1400 800</span><br><span class="line">æ™®å·¥ï¼šadb shell input tap 2726 1226</span><br><span class="line">ä¸€æŠ€èƒ½ï¼šadb shell input swipe 2290 1267 2748 790 100</span><br><span class="line">äºŒæŠ€èƒ½ï¼šadb shell input swipe 2451 1010 2793 670 100</span><br><span class="line">ä¸‰æŠ€èƒ½ï¼šadb shell input swipe 2721 860 2721 860 200</span><br><span class="line"></span><br><span class="line">å‘å‰ç›´çº¿ä¸Šå¤©ï¼šadb shell &quot;input swipe 2451 1010 2793 670 100&amp;&amp;input swipe 2721 860 2721 860 200&amp;&amp;input swipe 450 1105 544 983 600&amp;&amp;input tap 2726 1226&amp;&amp;input swipe 2290 1267 2748 790 100&amp;&amp;input swipe 450 1105 743 781 1000&quot;</span><br><span class="line">åŸåœ°ä¸Šå¤©ï¼šadb shell &quot;input swipe 2451 1010 2793 670 100&amp;&amp;input swipe 2721 860 2721 860 200&amp;&amp;input swipe 450 1105 544 983 600&amp;&amp;input tap 2726 1226&amp;&amp;input swipe 2290 1267 2100 1376 100&amp;&amp;input swipe 450 1105 217 1400 800&amp;&amp;input swipe 450 1105 777 1150 500&quot;</span><br></pre></td></tr></table></figure><h2 id="2-7-ä¸€é”®æ¢è£…"><a href="#2-7-ä¸€é”®æ¢è£…" class="headerlink" title="2.7 ä¸€é”®æ¢è£…"></a>2.7 ä¸€é”®æ¢è£…</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ‰“å¼€å•†åº—ï¼š adb shell input tap 2873 102</span><br><span class="line">è£…å¤‡ï¼š adb shell input tap 2173 1278</span><br><span class="line">å‡ºå”®ï¼š adb shell input tap 2525 1153</span><br><span class="line">å…³é—­å•†åº—ï¼š adb shell input tap 2624 167</span><br><span class="line">è´­ä¹°é¢„é€‰ï¼šadb shell input tap 2832 243</span><br><span class="line">å®Œæ•´æ“ä½œé“¾ï¼šadb shell &quot;input tap 2873 102&amp;&amp;input tap 2173 1278&amp;&amp;input tap 2525 1153&amp;&amp;input tap 2624 167&amp;&amp;input tap 2832 243&quot;</span><br></pre></td></tr></table></figure><h1 id="3ï¼šæ­å»ºhttpæœåŠ¡å™¨"><a href="#3ï¼šæ­å»ºhttpæœåŠ¡å™¨" class="headerlink" title="3ï¼šæ­å»ºhttpæœåŠ¡å™¨"></a>3ï¼šæ­å»ºhttpæœåŠ¡å™¨</h1><p>åœ¨ç”µè„‘ä¸Šå®‰è£…å¥½pythonç¯å¢ƒã€‚</p><p>æ–°å»ºä¸€ä¸ª<code>takeoff.py</code>æ–‡ä»¶ã€‚ç¼–è¾‘æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> http.server <span class="keyword">import</span> BaseHTTPRequestHandler</span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GetHandler</span>(<span class="params">BaseHTTPRequestHandler</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_GET</span>(<span class="params">self</span>):</span></span><br><span class="line">        parsed_path = parse.urlparse(self.path)</span><br><span class="line">        query = parse.parse_qs(parsed_path.query)</span><br><span class="line">        <span class="keyword">if</span> query[<span class="string">&#x27;skill&#x27;</span>][<span class="number">0</span>] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">            os.system(<span class="string">&#x27;adb shell &quot;input swipe 2451 1010 2793 670 100&amp;&amp;input swipe 2721 860 2721 860 200&amp;&amp;input swipe 450 1105 544 983 600&amp;&amp;input tap 2726 1226&amp;&amp;input swipe 2290 1267 2748 790 100&amp;&amp;input swipe 450 1105 743 781 1000&quot;&#x27;</span>)</span><br><span class="line">            message = <span class="string">&#x27;æ‰§è¡Œç›´çº¿èµ·é£æŒ‡ä»¤&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> query[<span class="string">&#x27;skill&#x27;</span>][<span class="number">0</span>] == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">            os.system(<span class="string">&#x27;adb shell &quot;input swipe 2451 1010 2793 670 100&amp;&amp;input swipe 2721 860 2721 860 200&amp;&amp;input swipe 450 1105 544 983 600&amp;&amp;input tap 2726 1226&amp;&amp;input swipe 2290 1267 2100 1376 100&amp;&amp;input swipe 450 1105 217 1400 800&amp;&amp;input swipe 450 1105 777 1150 500&quot;&#x27;</span>)</span><br><span class="line">            message = <span class="string">&#x27;æ‰§è¡ŒåŸåœ°èµ·é£æŒ‡ä»¤&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> query[<span class="string">&#x27;skill&#x27;</span>][<span class="number">0</span>] == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">            os.system(<span class="string">&#x27;adb shell &quot;input tap 2873 102&amp;&amp;input tap 2173 1278&amp;&amp;input tap 2525 1153&amp;&amp;input tap 2624 167&amp;&amp;input tap 2832 243&quot;&#x27;</span>)</span><br><span class="line">            message = <span class="string">&#x27;æ‰§è¡Œå¿«é€Ÿæ¢è£…æŒ‡ä»¤&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            message = <span class="string">&#x27;æ— æŒ‡ä»¤è¿è¡Œ&#x27;</span></span><br><span class="line">        self.send_response(<span class="number">200</span>)</span><br><span class="line">        self.send_header(<span class="string">&#x27;Content-Type&#x27;</span>,</span><br><span class="line">                         <span class="string">&#x27;text/plain; charset=utf-8&#x27;</span>)</span><br><span class="line">        self.end_headers()</span><br><span class="line">        self.wfile.write(message.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">from</span> http.server <span class="keyword">import</span> HTTPServer</span><br><span class="line">    server = HTTPServer((<span class="string">&#x27;0.0.0.0&#x27;</span>, <span class="number">9797</span>), GetHandler)</span><br><span class="line">    print(<span class="string">&#x27;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ, ä½¿ç”¨&lt;Ctrl-C&gt; æ¥åœæ­¢ã€‚ã€‚&#x27;</span>)</span><br><span class="line">    server.serve_forever()</span><br></pre></td></tr></table></figure><p>éœ€è¦å°†<code>os.system()</code>ä¸­çš„<strong>å†…å®¹æ›¿æ¢ä¸ºè‡ªå·±</strong>çš„ã€‚</p><blockquote><p>ä¿®æ”¹ä¸Šé¢çš„ç¨‹åºå¾ˆé‡è¦ï¼Œå› ä¸ºä¸åŒåˆ†è¾¨ç‡æ‰‹æœºï¼Œéœ€è¦çš„adbæŒ‡ä»¤æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¦‚æœä¸ä¿®æ”¹ï¼ŒåŸºæœ¬ä¸Šä¸å¯èƒ½ä¼šå®ç°ç†æƒ³çš„æ“ä½œï¼Œé™¤éä½ è·Ÿæˆ‘ç”¨çš„ç›¸åŒçš„æ‰‹æœºï¼Œä¸‰æ˜ŸS10+ã€‚</p></blockquote><p>é€šè¿‡pythonè¿è¡Œè¿™ä¸ªæ–‡ä»¶å°±å·²ç»å»ºç«‹å¥½äº†httpæœåŠ¡å™¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 filepath/takeoff.py</span><br><span class="line"><span class="meta">#</span><span class="bash">filepathä¿®æ”¹ä¸ºtakeoff.pyçš„è·¯å¾„ã€‚æ¯”å¦‚C:/Users/999/Desktop/takeoff.py</span></span><br><span class="line"><span class="meta">#</span><span class="bash">æ˜¾ç¤ºï¼ŒæœåŠ¡å™¨å¯åŠ¨æˆåŠŸ, ä½¿ç”¨&lt;Ctrl-C&gt; æ¥åœæ­¢ã€‚ã€‚åˆ™å¯åŠ¨æˆåŠŸ</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç”µè„‘çš„å±€åŸŸç½‘ipåœ°å€ï¼Œç»ˆç«¯è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig</span><br></pre></td></tr></table></figure><p>é€šå¸¸æ˜¯<code>192.168.xxx.xxx</code>ï¼Œæˆ–è€…<code>10.xxx.xxx.xxx</code></p><p>åœ¨ç”µè„‘æµè§ˆå™¨ä¸­ï¼Œè®¿é—®ï¼š<code>192.168.xxx.xxx:9797/?skill=1</code>å°±èƒ½å®ç°ç›´çº¿ä¸Šå¤©äº†ã€‚skill =2å’Œskill=3åˆ†åˆ«å¯¹åº”åŸåœ°ä¸Šå¤©å’Œä¸€é”®æ¢è£…ã€‚</p><p>æ­¤æ—¶ï¼Œå¦‚æœåœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šè®¿é—®<code>192.168.xxx.xxx:9797/?skill=1</code>ï¼Œåº”è¯¥æ˜¯è®¿é—®ä¸é€šçš„ï¼Œå› ä¸ºwindowsè‡ªå¸¦çš„é˜²ç«å¢™ï¼Œæ˜¯ä¸å…è®¸å±€åŸŸç½‘ä¸‹çš„å…¶ä»–è®¾å¤‡è®¿é—®æœªå¼€æ”¾çš„ç«¯å£çš„ã€‚ä½ éœ€è¦<strong>å…³é—­å±€åŸŸç½‘é˜²ç«å¢™</strong>ã€‚</p><blockquote><p>å…³é—­é˜²ç«å¢™æ˜¯å­˜åœ¨ä¸€å®šé£é™©çš„ï¼Œå¦‚æœä½ ç”¨çš„å…¬å…±åœºæ‰€çš„WiFiï¼Œæˆ‘å»ºè®®ä¸è¦å…³é—­ã€‚å¦‚æœæ˜¯å®¶åº­WiFiï¼Œè®°å¾—åœ¨ä½¿ç”¨å®Œåå†æ¬¡å¼€å¯é˜²ç«å¢™ã€‚</p></blockquote><p>windowsæœç´¢<code>fanghuoqiang</code>æ³¨æ„ä¸è¦ç”¨æ±‰å­—æœç´¢ï¼Œç”¨æ‹¼éŸ³ã€‚æ‰“å¼€<strong>é˜²ç«å¢™å’Œç½‘ç»œä¿æŠ¤</strong></p><p>å¦‚æœæ˜¯å®¶åº­WiFiï¼Œåˆ™ç‚¹å‡»ä¸“ç”¨ç½‘ç»œã€‚</p><p><img src="https://i.loli.net/2020/10/24/wJDbeTHg36ntWzm.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/24/wJDbeTHg36ntWzm.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å°†é˜²ç«å¢™<strong>å…³é—­</strong>ã€‚</p><p>æ­¤æ—¶åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šä¹Ÿèƒ½è®¿é—®åˆ°httpæœåŠ¡å™¨äº†ã€‚</p><h1 id="4ï¼šç‹è€…å±€å†…æ‚¬æµ®æŒ‰é’®"><a href="#4ï¼šç‹è€…å±€å†…æ‚¬æµ®æŒ‰é’®" class="headerlink" title="4ï¼šç‹è€…å±€å†…æ‚¬æµ®æŒ‰é’®"></a>4ï¼šç‹è€…å±€å†…æ‚¬æµ®æŒ‰é’®</h1><p>æ–°å»ºä¸€ä¸ªå®‰å“é¡¹ç›®ï¼Œå¼€å‘ä¸€ä¸ªæ‚¬æµ®æŒ‰é’®ï¼Œåœ¨ç‹è€…å†…ç‚¹å‡»æŒ‰é’®ï¼Œå°±èƒ½ç»™httpæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨é€šè¿‡adbå†è¿”è¿‡æ¥æ§åˆ¶å±€å†…è§’è‰²ã€‚</p><p>å¼€å‘æ–°é¡¹ç›®ï¼Œæˆ‘ç›´æ¥é€‰æ‹©ç«™åœ¨å·¨äººè‚©è†€ä¸Šã€‚<a href="https://github.com/dongzhong/TestForFloatingWindow">https://github.com/dongzhong/TestForFloatingWindow</a> ç›´æ¥å¯¹è¿™ä¸ªä»“åº“é‡Œæä¾›çš„æ‚¬æµ®çª—åŠŸèƒ½è¿›è¡Œä¿®æ”¹ã€‚ã€‚å…³é”®ç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//FloatingButtonService2.java</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showFloatingWindow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (Settings.canDrawOverlays(<span class="keyword">this</span>)) &#123;</span><br><span class="line">            button2 = <span class="keyword">new</span> Button(getApplicationContext());</span><br><span class="line">            button2.setText(<span class="string">&quot;è£…&quot;</span>);<span class="comment">//æŒ‰é”®ä¸Šçš„å­—ï¼Œè¡¨ç¤ºæŒ‰ä¸‹è¿™ä¸ªæŒ‰é’®ä¸€é”®æ¢è£…</span></span><br><span class="line">            button2.setBackgroundColor(Color.argb(<span class="number">120</span>,<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>));</span><br><span class="line">            windowManager.addView(button2, layoutParams);</span><br><span class="line">            button2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                    send();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            button2.setOnTouchListener(<span class="keyword">new</span> FloatingOnTouchListener());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å¼€å¯çº¿ç¨‹ï¼Œå‘é€getè¯·æ±‚</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">//valueå¯¹åº”httpæœåŠ¡å™¨æ¥æ”¶çš„æŠ€èƒ½</span></span><br><span class="line">                <span class="comment">//åœ¨httpæœåŠ¡å™¨ä¸­ï¼Œè®¾ç½®çš„ï¼Œskill=1ï¼Œç›´çº¿ä¸Šå¤©ï¼Œskill=2ï¼ŒåŸåœ°ä¸Šå¤©ï¼Œskill=3ï¼Œæ¢è£…</span></span><br><span class="line">                <span class="keyword">char</span> value = <span class="string">&#x27;3&#x27;</span>;</span><br><span class="line">                <span class="comment">//è¿™é‡Œä¿®æ”¹ä¸ºhttpæœåŠ¡å™¨åœ°å€ã€‚</span></span><br><span class="line">                String path = <span class="string">&quot;http://192.168.0.109:9797/?skill=&quot;</span>+value;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    URL url = <span class="keyword">new</span> URL(path);</span><br><span class="line">                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();</span><br><span class="line">                    conn.setRequestMethod(<span class="string">&quot;GET&quot;</span>);</span><br><span class="line">                    InputStream in = conn.getInputStream();</span><br><span class="line">                    conn.disconnect();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (MalformedURLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™åªæ˜¯å…¶ä¸­ä¸€ä¸ªä¸€é”®æ¢è£…çš„æŒ‰é’®ï¼Œå¦å¤–è¿˜éœ€è¦ä¿®æ”¹ä¸€é”®ä¸Šå¤©çš„æŒ‰é’®ã€‚åœ¨<code>FloatingButtonService.java</code>ä¸­ï¼Œä¸¤ä¸ªç¨‹åºï¼Œéƒ½ç›¸ä¼¼ã€‚ã€‚ä¿®æ”¹å®Œåï¼Œç›´æ¥ç¼–è¯‘ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><p>å®Œæ•´çš„é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/xieqifei/Expandskill">https://github.com/xieqifei/Expandskill</a></p><p>å®‰å“é¡¹ç›®ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡gitå…‹éš†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xieqifei/Expandskill.git</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ç¨‹åºåï¼Œç›´æ¥ç¼–è¯‘å³å¯ã€‚</p><h1 id="5ï¼šå‚è€ƒèµ„æ–™"><a href="#5ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="5ï¼šå‚è€ƒèµ„æ–™"></a>5ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://www.jianshu.com/p/85066854c9e6">android adbå¸¸ç”¨å‘½ä»¤æ”¶é›†</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/u012785382/article/details/79171782">Android adbè¿œç¨‹è°ƒè¯•</a>ã€‹</p><p>ã€Š<a href="https://learnku.com/docs/pymotw/httpserver-base-classes-for-implementing-web-servers/3436">http.server â€” å®ç° Web æœåŠ¡å™¨çš„åŸºç¡€ç±»</a>ã€‹</p><p>ã€Š<a href="https://www.runoob.com/w3cnote/android-tutorial-httpurlconnection.html">Android HTTPè¯·æ±‚æ–¹å¼:HttpURLConnection</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/dongzhong1990/article/details/80512706">Androidæ‚¬æµ®çª—çš„å®ç°</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å“ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ADB </tag>
            
            <tag> Python </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·²çŸ¥å¤šä¸ªåœ°ç‚¹ç»çº¬åº¦çš„æœ€ä¼˜è·¯å¾„è§„åˆ’</title>
      <link href="/2020/10/19/%E5%B7%B2%E7%9F%A5%E5%A4%9A%E4%B8%AA%E5%9C%B0%E7%82%B9%E7%BB%8F%E7%BA%AC%E5%BA%A6%E7%9A%84%E6%9C%80%E4%BC%98%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/"/>
      <url>/2020/10/19/%E5%B7%B2%E7%9F%A5%E5%A4%9A%E4%B8%AA%E5%9C%B0%E7%82%B9%E7%BB%8F%E7%BA%AC%E5%BA%A6%E7%9A%84%E6%9C%80%E4%BC%98%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šä¸ºä»€ä¹ˆè§„åˆ’è·¯çº¿"><a href="#1ï¼šä¸ºä»€ä¹ˆè§„åˆ’è·¯çº¿" class="headerlink" title="1ï¼šä¸ºä»€ä¹ˆè§„åˆ’è·¯çº¿"></a>1ï¼šä¸ºä»€ä¹ˆè§„åˆ’è·¯çº¿</h1><p>è¿™æ˜¯ç»Ÿä¸€ç¾å›¢é¥¿äº†ä¹ˆè®¢å•åçš„åç»­å·¥ä½œï¼Œè¦æ±‚å¯¹å¤šä¸ªæŒ‡å®šçš„é…é€åœ°ç‚¹è¿›è¡Œç»Ÿè®¡ï¼Œå¹¶è®¡ç®—å‡ºä»èŠ±åº—å‡ºå‘ï¼Œåˆ°é…é€å®Œæ‰€æœ‰åœ°ç‚¹è¿”å›èŠ±åº—çš„å¯èƒ½è·¯ç¨‹ï¼Œå¹¶å¾—å‡ºæœ€ä¼˜çš„è·¯çº¿ã€‚ã€‚</p><h1 id="2ï¼šè®¾è®¡æ€æƒ³"><a href="#2ï¼šè®¾è®¡æ€æƒ³" class="headerlink" title="2ï¼šè®¾è®¡æ€æƒ³"></a>2ï¼šè®¾è®¡æ€æƒ³</h1><p>å‡è®¾æœ‰å››ä¸ªé…é€ç‚¹ABCDï¼Œé…é€çš„è·¯çº¿ä¼šæœ‰24ç§å¯èƒ½ï¼Œæšä¸¾æ‰€æœ‰å¯èƒ½ï¼Œå¹¶è®¡ç®—ä»èŠ±åº—åˆ°ç¬¬ä¸€ä¸ªé…é€ç‚¹ï¼Œä¾æ¬¡å†æœ‰ä¸‰ä¸ªé…é€ç‚¹ï¼Œç„¶åè¿”å›èŠ±åº—çš„è·ç¦»ã€‚æ¯”è¾ƒè¿™äºŒåå››ç§è·¯çº¿çš„è·ç¦»ï¼Œè·ç¦»æœ€å°‘çš„ï¼Œé€‰ä¸ºæœ€ä¼˜è·¯çº¿ã€‚</p><p>åœ¨Pythonä¸­ï¼Œä½¿ç”¨<code>itertools</code>è¿­ä»£åº“ä¸­çš„<code>permutations</code>æ–¹æ³•ï¼Œå¯¹è·¯å¾„å¯èƒ½è¿›è¡Œæ’åˆ—ã€‚é€šè¿‡<code>haversine</code>å…¬å¼è®¡ç®—ä¸¤ä¸ªç»çº¬åº¦ä¹‹é—´çš„è·ç¦»ã€‚</p><h1 id="3ï¼šPythonç¨‹åº"><a href="#3ï¼šPythonç¨‹åº" class="headerlink" title="3ï¼šPythonç¨‹åº"></a>3ï¼šPythonç¨‹åº</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@file_name    :shortest_dist.py</span></span><br><span class="line"><span class="string">@description  :</span></span><br><span class="line"><span class="string">@time         :2020/10/18 20:24:21</span></span><br><span class="line"><span class="string">@author       :Qifei</span></span><br><span class="line"><span class="string">@version      :1.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> radians, cos, sin, asin, sqrt</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Route</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,data</span>):</span></span><br><span class="line">        self.data = data</span><br><span class="line">        self.home = &#123;<span class="string">&#x27;lng&#x27;</span>:<span class="string">&#x27;104.270910&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>:<span class="string">&#x27;30.876583&#x27;</span>&#125;</span><br><span class="line">        self.distances = []</span><br><span class="line">        self.routes = []</span><br><span class="line">        <span class="comment">#æ’åˆ—å„ç§å¯èƒ½çš„è·¯çº¿</span></span><br><span class="line">        self.iter_routes = permutations(data,len(data))</span><br><span class="line">        <span class="comment">#å°†æ’åˆ—åçš„è¿­ä»£ç±»å‹æ•°æ®è½¬ä¸ºåˆ—è¡¨ç±»å‹</span></span><br><span class="line">        <span class="keyword">for</span> iter_route <span class="keyword">in</span> self.iter_routes:</span><br><span class="line">            self.routes.append(list(iter_route))</span><br><span class="line">    <span class="comment">#è¿”å›æœ€ä¼˜è·¯çº¿çš„åˆ—è¡¨æ’åº</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">best_route</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">for</span> route <span class="keyword">in</span> self.routes:</span><br><span class="line">            distance = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> len(route) &gt; <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(len(route)<span class="number">-1</span>):</span><br><span class="line">                    distance += self.calc_distance(route[i+<span class="number">1</span>][<span class="string">&#x27;lng&#x27;</span>],route[i+<span class="number">1</span>][<span class="string">&#x27;lat&#x27;</span>],route[i][<span class="string">&#x27;lng&#x27;</span>],route[i][<span class="string">&#x27;lat&#x27;</span>])</span><br><span class="line">            distance += self.calc_distance(self.home[<span class="string">&#x27;lng&#x27;</span>],self.home[<span class="string">&#x27;lat&#x27;</span>],route[<span class="number">0</span>][<span class="string">&#x27;lng&#x27;</span>],route[<span class="number">0</span>][<span class="string">&#x27;lat&#x27;</span>])</span><br><span class="line">            distance += self.calc_distance(self.home[<span class="string">&#x27;lng&#x27;</span>],self.home[<span class="string">&#x27;lat&#x27;</span>],route[<span class="number">-1</span>][<span class="string">&#x27;lng&#x27;</span>],route[<span class="number">-1</span>][<span class="string">&#x27;lat&#x27;</span>])</span><br><span class="line">            self.distances.append(distance)</span><br><span class="line">        <span class="keyword">return</span> self.routes[self.distances.index(min(self.distances))]</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¡ç®—ä¸¤ä¸ªç»çº¬åº¦ä¹‹é—´çš„è·ç¦»</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calc_distance</span>(<span class="params">self,lon1, lat1, lon2, lat2</span>):</span></span><br><span class="line">        <span class="comment"># å°†åè¿›åˆ¶åº¦æ•°è½¬åŒ–ä¸ºå¼§åº¦</span></span><br><span class="line">        lon1, lat1, lon2, lat2 = map(radians, [float(lon1), float(lat1), float(lon2), float(lat2)])</span><br><span class="line">        <span class="comment"># haversineå…¬å¼</span></span><br><span class="line">        dlon = lon2 - lon1 </span><br><span class="line">        dlat = lat2 - lat1 </span><br><span class="line">        a = sin(dlat/<span class="number">2</span>)**<span class="number">2</span> + cos(lat1) * cos(lat2) * sin(dlon/<span class="number">2</span>)**<span class="number">2</span></span><br><span class="line">        c = <span class="number">2</span> * asin(sqrt(a)) </span><br><span class="line">        r = <span class="number">6371</span> <span class="comment"># åœ°çƒå¹³å‡åŠå¾„ï¼Œå•ä½ä¸ºå…¬é‡Œ</span></span><br><span class="line">        <span class="keyword">return</span> c * r * <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data = [&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;å¤§å¼¯ä¸­å­¦&#x27;</span>,<span class="string">&#x27;lng&#x27;</span>:<span class="string">&#x27;104.278184&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>:<span class="string">&#x27;30.879862&#x27;</span>&#125;,&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;æ€¡æ¹–å…¬å›­&#x27;</span>,<span class="string">&#x27;lng&#x27;</span>:<span class="string">&#x27;104.261332&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>:<span class="string">&#x27;30.878314&#x27;</span>&#125;,&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;å¤§å¼¯å°å­¦&#x27;</span>,<span class="string">&#x27;lng&#x27;</span>:<span class="string">&#x27;104.270611&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>:<span class="string">&#x27;30.880657&#x27;</span>&#125;,&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;é•¿æ²³éƒ¡&#x27;</span>,<span class="string">&#x27;lng&#x27;</span>:<span class="string">&#x27;104.278201&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>:<span class="string">&#x27;30.872356&#x27;</span>&#125;]</span><br><span class="line">    route = Route(data)</span><br><span class="line">    <span class="comment"># print(route.calc_distance(data[0][&#x27;lng&#x27;],data[0][&#x27;lat&#x27;],data[0][&#x27;lng&#x27;],data[0][&#x27;lat&#x27;]))</span></span><br><span class="line">    </span><br><span class="line">    best_route = route.best_route()</span><br><span class="line">    print(best_route)</span><br><span class="line">    <span class="comment"># print(route.distances)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> -Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤–å–å¹³å°è®¢å•çˆ¬å–ä¹‹ç¾å›¢å¤–å–å•†å®¶ç‰ˆ</title>
      <link href="/2020/10/17/%E5%A4%96%E5%8D%96%E5%B9%B3%E5%8F%B0%E8%AE%A2%E5%8D%95%E7%88%AC%E5%8F%96%E4%B9%8B%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%E5%95%86%E5%AE%B6%E7%89%88/"/>
      <url>/2020/10/17/%E5%A4%96%E5%8D%96%E5%B9%B3%E5%8F%B0%E8%AE%A2%E5%8D%95%E7%88%AC%E5%8F%96%E4%B9%8B%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%E5%95%86%E5%AE%B6%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šrootæ‰‹æœº"><a href="#1ï¼šrootæ‰‹æœº" class="headerlink" title="1ï¼šrootæ‰‹æœº"></a>1ï¼šrootæ‰‹æœº</h1><p>æ˜¨å¤©ï¼Œæˆ‘åˆ©ç”¨mitmproxyæˆåŠŸæ‹¦æˆªäº†é¥¿äº†ä¹ˆæœåŠ¡å™¨è¿”å›çš„è®¢å•ä¿¡æ¯ã€‚ä»Šå¤©ï¼Œæˆ‘å‡†å¤‡æ•…æŠ€é‡æ–½ï¼Œè·å–ç¾å›¢è®¢å•ã€‚æ®‹é…·çš„ç°å®ç»™æˆ‘ç‚½çƒ­åœ°å¿ƒæµ‡äº†ä¸€ç›†å†·æ°´ã€‚æ— è®ºæˆ‘å¦‚ä½•è°ƒæ•´mitmproxyå’Œç¾å›¢å¤–å–å•†å®¶ç‰ˆï¼Œéƒ½æ— æ³•è·å–åˆ°ç¾å›¢æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚æ›´ç¡®åˆ‡åœ°è¯´ï¼Œç¾å›¢æœåŠ¡å™¨ä¼¼ä¹å‘ç°ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªå°å·ï¼Œå‡†å¤‡å·å–å®ƒè¿”å›ç»™å®¢æˆ·ç«¯åœ°æ•°æ®ã€‚å› æ­¤æ‹’ç»ç»™å®¢æˆ·ç«¯ä¼ é€’æ•°æ®ã€‚</p><p>æˆ‘åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›è§£ç­”ï¼Œåœ¨å®‰å“7.0ä¹‹åï¼Œå®‰å“ç³»ç»Ÿå…è®¸å®‰å“åº”ç”¨ä¸ä¿¡ä»»ç”¨æˆ·ä¸Šä¼ åœ°CAè¯ä¹¦ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨ä¸­é—´äººæ”»å‡»ä¸­ï¼Œå°†ä»£ç†æœåŠ¡å™¨çš„CAè¯ä¹¦æ·»åŠ åˆ°å®‰å“ç”¨æˆ·è¯ä¹¦é‡Œï¼Œè¿™æ ·ä»£ç†æœåŠ¡å™¨åœ¨å®¢æˆ·ç«¯å’ŒhttpsæœåŠ¡ç«¯ä¹‹é—´åšä¸ªä¿¡ä½¿ï¼Œä»–ä»¬çš„æ¥å›ä¿¡ä»¶ï¼Œä¿¡ä½¿å°±èƒ½æ‹†å¼€é˜…è¯»ï¼Œå†å°å¥½å‘å‡ºå»ã€‚ç°åœ¨å®‰å“ç³»ç»Ÿå…è®¸å®‰å“åº”ç”¨è®¾ç½®æ˜¯å¦ä¿¡ä»»ç”¨æˆ·è¯ä¹¦ï¼Œå¾ˆæ˜æ˜¾ï¼Œç¾å›¢å¤–å–å•†å®¶ç‰ˆï¼Œä¸æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è¯ä¹¦ã€‚</p><p>å¥½åœ¨ï¼Œå®‰å“ç³»ç»Ÿæœ‰ä¸ªè¦æ±‚ï¼Œå°±æ˜¯ç³»ç»Ÿè¯ä¹¦éƒ½æ˜¯è¢«è®¤å¯çš„ã€‚è€Œæ·»åŠ ç³»ç»Ÿè¯ä¹¦ï¼Œéœ€è¦ä¿®æ”¹æ‰‹æœºsystemæ–‡ä»¶å¤¹ï¼Œéœ€è¦å°†æ‰‹æœºrootã€‚</p><p>å¾…rootæ‰‹æœºï¼šä¸‰æ˜ŸS8+</p><p>å·¥å…·ï¼šOdinçº¿åˆ·å·¥å…·ï¼Œç¬¬ä¸‰æ–¹recovery TWRPï¼ŒTomatoå¡åˆ·åŒ…ï¼ˆå¡åˆ·åŒ…å«rootï¼‰ã€‚</p><h1 id="2ï¼šæ·»åŠ CAè¯ä¹¦ä¸ºç³»ç»Ÿè¯ä¹¦"><a href="#2ï¼šæ·»åŠ CAè¯ä¹¦ä¸ºç³»ç»Ÿè¯ä¹¦" class="headerlink" title="2ï¼šæ·»åŠ CAè¯ä¹¦ä¸ºç³»ç»Ÿè¯ä¹¦"></a>2ï¼šæ·»åŠ CAè¯ä¹¦ä¸ºç³»ç»Ÿè¯ä¹¦</h1><p>mitmproxyä¼šåœ¨å…¶è¿è¡Œç›®å½•ç”Ÿæˆä¸€ä¸ª<code>.mitmproxy</code>éšè—ç›®å½•ï¼Œç›®å½•ä¸­çš„<code>mitmproxy-ca-cert.pem</code>æ˜¯å¯ä»¥ç›´æ¥æ”¾åˆ°ç³»ç»Ÿè¯ä¹¦ç›®å½•ä¸‹çš„è¯ä¹¦ã€‚é¦–å…ˆéœ€è¦å°†å®ƒæ›´åä¸ºç»Ÿä¸€çš„æ ¼å¼ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">opensslç‰ˆæœ¬åœ¨1.0ä»¥ä¸Šçš„ç‰ˆæœ¬çš„æ‰§è¡Œè¿™ä¸€å¥</span></span><br><span class="line">openssl x509 -inform PEM -subject_hash_old -in mitmproxy-ca-cert.pem</span><br><span class="line"><span class="meta">#</span><span class="bash">opensslç‰ˆæœ¬åœ¨1.0ä»¥ä¸‹çš„ç‰ˆæœ¬çš„æ‰§è¡Œè¿™ä¸€å¥</span></span><br><span class="line">openssl x509 -inform PEM -subject_hash -in mitmproxy-ca-cert.pem</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆ<code>347bacb5</code>è¯ä¹¦çš„hashå€¼ï¼Œç„¶åå°†<code>mitmproxy-ca-cert.pem</code>æ›´åä¸º<code>347bacb5.0</code></p><p>å°†æ›´ååçš„è¯ä¹¦æ”¾åˆ°å®‰å“ç³»ç»Ÿè¯ä¹¦ç›®å½•ï¼Œrootåçš„å®‰å“æ‰‹æœºï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€REç®¡ç†å™¨è¿›å…¥ç³»ç»Ÿç›®å½•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;system&#x2F;etc&#x2F;security&#x2F;cacerts</span><br></pre></td></tr></table></figure><p>é‡å¯æ‰‹æœºã€‚ä¿®æ”¹wifiä»£ç†ï¼Œå¹¶è¿æ¥mitmproxyã€‚</p><p>æ‰“å¼€ç¾å›¢å¤–å–å•†å®¶ç‰ˆï¼Œä¸å†æŠ¥æ²¡æœ‰ç½‘ç»œè¿æ¥çš„é”™è¯¯ã€‚æ­¤æ—¶å³å¯ä»¥ä»ä»£ç†ä¸­æˆªè·è§£ç åçš„ä¿¡æ¯äº†ã€‚</p><h1 id="3ï¼šæˆªè·è®¢å•è¯·æ±‚æ•°æ®"><a href="#3ï¼šæˆªè·è®¢å•è¯·æ±‚æ•°æ®" class="headerlink" title="3ï¼šæˆªè·è®¢å•è¯·æ±‚æ•°æ®"></a>3ï¼šæˆªè·è®¢å•è¯·æ±‚æ•°æ®</h1><p>å¼€å¯mitmproxyï¼Œå¼€å§‹æ”¶é›†è¯·æ±‚ã€‚åœ¨ç¾å›¢ä¸Šä¸‹å•ï¼Œå¯ä»¥æˆªè·ä¸‹å•åï¼Œç¾å›¢æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯çš„è®¢å•ä¿¡æ¯ã€‚</p><p>è¿›è¡Œä¸­è®¢å•è¯·æ±‚åœ°å€ï¼Œéƒ¨åˆ†å†…å®¹å·²æ‰“ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;eapi.waimai.meituan.com&#x2F;api&#x2F;retail&#x2F;order&#x2F;supplement&#x2F;increment&#x2F;orders?region_id&#x3D;10***0100&amp;region_version&#x3D;153***1&amp;__skck&#x3D;8f5973b0***&amp;__skts&#x3D;16***8&amp;__skua&#x3D;d41d8c***8427e&amp;__skno&#x3D;94899011-***</span><br></pre></td></tr></table></figure><p>é¢„è®¢å•è¯·æ±‚åœ°å€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;eapi.waimai.meituan.com&#x2F;api&#x2F;retail&#x2F;order&#x2F;pre&#x2F;orders?region_id&#x3D;1000510100&amp;region_version&#x3D;1534166411&amp;__skck&#x3D;8f5973b085446090f224af74e30e0181&amp;__skts&#x3D;1603035614&amp;__skua&#x3D;d41d8cd98f00b204e9800998ecf8427e&amp;__skno&#x3D;ed5fa567-5e33-4186-806a-e1ee884b5d5c&amp;__skcy&#x3D;hNEhcBUBRBinXjXwhZ%2BoMtvkMu8%3D</span><br></pre></td></tr></table></figure><p>è¿›è¡Œä¸­å“åº”å†…å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;Success&quot;</span>,</span><br><span class="line"><span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;serverTime&quot;</span>: <span class="number">1603013219</span>,</span><br><span class="line"><span class="attr">&quot;news&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;agreeBtn&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;reject_reason&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;rejectBtn&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;apply_refund_type&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;appealReason&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pay_status&quot;</span>: <span class="number">3</span>,</span><br><span class="line"><span class="attr">&quot;payExpireTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;orderDescription&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pay_status_desc&quot;</span>: <span class="string">&quot;å·²ä»˜æ¬¾&quot;</span>,</span><br><span class="line"><span class="attr">&quot;apply_reason&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;applyRefundTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;rejectRefundTime&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;appealRefundTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;refundFinishTime&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;isPartRefundApply&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isAllowPartRefund&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isAllowAllRefund&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;hasMigratedToRetail&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;returnSubStatus&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;logistics&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;id&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;type&quot;</span>: <span class="number">101</span>,</span><br><span class="line"><span class="attr">&quot;icon&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;status&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;statusDesc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;sendTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;confirmTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;arrivePoiTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;selfDeliveryTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;fetchTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;completedTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;cancelTime&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;collectTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;departureTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;reachTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;takeTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;timeOut&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;code&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;valid&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;shippingFee&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;tipFee&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;shippingTips&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;couponAmount&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;activityName&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;activityAmount&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;extraFee&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;payAmount&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;shippingFeeBase&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;payType&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;zbType&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;orderDistance&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;ifSelfLogistics&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isCanChangeSelfLogistics&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;dispatcher&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;mobile&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;icon&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;role&quot;</span>: <span class="string">&quot;é…é€å‘˜&quot;</span>,</span><br><span class="line"><span class="attr">&quot;type&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;typeName&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;dispatchMaster&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ç«™ç‚¹&quot;</span>,</span><br><span class="line"><span class="attr">&quot;mobile&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;icon&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;role&quot;</span>: <span class="string">&quot;ç«™é•¿&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;dispatchAssistant&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ç«™ç‚¹å¤‡ç”¨&quot;</span>,</span><br><span class="line"><span class="attr">&quot;mobile&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;icon&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;role&quot;</span>: <span class="string">&quot;ç«™é•¿åŠ©ç†&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;unionDispatcher&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;mobile&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;logisticsSubCode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;dispatchOrderId&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;delayPushSecond&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;delayPushMin&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;assignTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;thirdLogisticsCode&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;printRelayBarCode&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;utime&quot;</span>: <span class="number">1603013218</span>,</span><br><span class="line"><span class="attr">&quot;refundType&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;isCanChangeSelfLogistics&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;refundProcessEndTips&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;ifSelfLogistics&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;cancelButtonShow&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;foodDoneInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;isShowFoodDoneBlock&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isfoodDone&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;foodDoneStatus&quot;</span>: <span class="string">&quot;æ‹£è´§å®Œæˆ&quot;</span>,</span><br><span class="line"><span class="attr">&quot;foodDoneTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;foodSendOutTimeDeadline&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;diningMinutes&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;foodSendDeviceInfo&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;logisticsAbnormalInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;isLogisticsAbnormal&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;logisticsAbnormalDesc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;logisticsAbnormalType&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isShowLogisticsReport&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;logisticsReportDesc&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;refundOtherInfos&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;returnStatusDesc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;returnSubStatusDesc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;returnMaxPayAcount&quot;</span>: <span class="number">100.0</span>,</span><br><span class="line"><span class="attr">&quot;returnSubStatus&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;countDownDesc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;refundViewId&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;serviceType&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;refundRuleUrl&quot;</span>: <span class="string">&quot;http://s3plus.sankuai.com/v1/mss_03d0d9cf21144ba0b7747ba1dc1acf6e/order/refund_rules.html&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;refundInfoList&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;refundGoodsInfoList&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;isAppealApply&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;compensationInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;id&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;time&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;moneyDesc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;reason&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pictures&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;appealInfo&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;orderImValid&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;imGuideContent&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;imReplyDefaultContent&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;isAllowPriceDiffRefund&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;confirmDeliveryStatus&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;id&quot;</span>: <span class="number">56367</span>**<span class="number">02186</span>,</span><br><span class="line"><span class="attr">&quot;wm_poi_id&quot;</span>: <span class="number">5636780</span>,</span><br><span class="line"><span class="attr">&quot;wm_poi_order_dayseq&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;wm_order_id_view&quot;</span>: <span class="number">563678</span>***<span class="number">186</span>,</span><br><span class="line"><span class="attr">&quot;num&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;poi_name&quot;</span>: <span class="string">&quot;**é²œèŠ±åº—&quot;</span>,</span><br><span class="line"><span class="attr">&quot;order_source&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;order_source_desc&quot;</span>: <span class="string">&quot;æ‰‹æœºAPPä¸‹å•&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shipping_fee&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;recipient_name&quot;</span>: <span class="string">&quot;è°¢å…ˆç”Ÿ&quot;</span>,</span><br><span class="line"><span class="attr">&quot;recipient_phone&quot;</span>: <span class="string">&quot;178**858,4109&quot;</span>,</span><br><span class="line"><span class="attr">&quot;recipient_address&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;total_after&quot;</span>: <span class="number">10.0</span>,</span><br><span class="line"><span class="attr">&quot;total_before&quot;</span>: <span class="number">10.0</span>,</span><br><span class="line"><span class="attr">&quot;boxpriceTotal&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;remark&quot;</span>: <span class="string">&quot;[è´ºå¡å†…å®¹]è´ºå¡å†…å®¹ [å…¶ä»–å¤‡æ³¨]å¤‡æ³¨å†…å®¹&quot;</span>,</span><br><span class="line"><span class="attr">&quot;environmentalFriendlyOrder&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;status&quot;</span>: <span class="number">4</span>,</span><br><span class="line"><span class="attr">&quot;order_time&quot;</span>: <span class="number">1603013207</span>,</span><br><span class="line"><span class="attr">&quot;order_time_fmt&quot;</span>: <span class="string">&quot;10-18 17:26&quot;</span>,</span><br><span class="line"><span class="attr">&quot;confirmOrderTime&quot;</span>: <span class="number">1603013218</span>,</span><br><span class="line"><span class="attr">&quot;details&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;id&quot;</span>: <span class="number">1945297344</span>,</span><br><span class="line"><span class="attr">&quot;food_name&quot;</span>: <span class="string">&quot;8æçº¢è‰²éæ´²èŠ &quot;</span>,</span><br><span class="line"><span class="attr">&quot;food_price&quot;</span>: <span class="number">10.0</span>,</span><br><span class="line"><span class="attr">&quot;originalFoodPrice&quot;</span>: <span class="number">10.0</span>,</span><br><span class="line"><span class="attr">&quot;unit&quot;</span>: <span class="string">&quot;ä»½&quot;</span>,</span><br><span class="line"><span class="attr">&quot;count&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;box_num&quot;</span>: <span class="number">1.0</span>,</span><br><span class="line"><span class="attr">&quot;box_price&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;cartId&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;cartName&quot;</span>: <span class="string">&quot;1å·å£è¢‹&quot;</span>,</span><br><span class="line"><span class="attr">&quot;upcCode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;skuCode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;locatorCode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;discountPoint&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;discountRemark&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;picUrl&quot;</span>: <span class="string">&quot;http://p0.meituan.net/wmproduct/d852b****0fa2d7f3d1adf7d95423.jpg&quot;</span>,</span><br><span class="line"><span class="attr">&quot;specification&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;discounts&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;tips&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;canBeCancelled&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;cancel_reason&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;is_pre_order&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;delivery_btime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;pre_order_delivery_info&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pay_utime&quot;</span>: <span class="number">1603013218</span>,</span><br><span class="line"><span class="attr">&quot;pay_utime_fmt&quot;</span>: <span class="string">&quot;2020-10-18 17:26:58&quot;</span>,</span><br><span class="line"><span class="attr">&quot;online_paid_info&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pre_order_remind&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;pre_order_tip&quot;</span>: <span class="string">&quot;é¢„è®¢å•ï¼šæœŸæœ›é€è¾¾æ—¶é—´&quot;</span>,</span><br><span class="line"><span class="attr">&quot;overtime_paid_info&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;invoice_title&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;wm_order_pay_type&quot;</span>: <span class="number">2</span>,</span><br><span class="line"><span class="attr">&quot;actual_pay_type&quot;</span>: <span class="number">2</span>,</span><br><span class="line"><span class="attr">&quot;dispatch_code&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;longitude&quot;</span>: <span class="number">104251302</span>,</span><br><span class="line"><span class="attr">&quot;latitude&quot;</span>: <span class="number">30880900</span>,</span><br><span class="line"><span class="attr">&quot;inArea&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;orderDistance&quot;</span>: <span class="number">2120.0</span>,</span><br><span class="line"><span class="attr">&quot;addressLongitude&quot;</span>: <span class="number">104251302</span>,</span><br><span class="line"><span class="attr">&quot;addressLatitude&quot;</span>: <span class="number">30880900</span>,</span><br><span class="line"><span class="attr">&quot;riderPayment&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;zbShippingFee&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;zbShippingTips&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;tipsVos&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;status_desc&quot;</span>: <span class="string">&quot;å·²æ¥å•&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_btime_fmt&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;logistics_code&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;logisticsService&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;logistics_status&quot;</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="attr">&quot;hasFrozen&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;estimateArrivalTime&quot;</span>: <span class="number">1603020418</span>,</span><br><span class="line"><span class="attr">&quot;poi_push_day&quot;</span>: <span class="number">20201018</span>,</span><br><span class="line"><span class="attr">&quot;bindedPhone&quot;</span>: <span class="string">&quot;178**858,4109&quot;</span>,</span><br><span class="line"><span class="attr">&quot;isLargeAmountOrder&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;userOrderCount&quot;</span>: <span class="number">2</span>,</span><br><span class="line"><span class="attr">&quot;pickType&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isUsePrivacyPhone&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;privacyPhone&quot;</span>: <span class="string">&quot;1788**4858,4109&quot;</span>,</span><br><span class="line"><span class="attr">&quot;phoneShow&quot;</span>: <span class="string">&quot;178**8è½¬4109&quot;</span>,</span><br><span class="line"><span class="attr">&quot;privacyPhoneStatus&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;recipientPhoneShow&quot;</span>: <span class="string">&quot;æ‰‹æœºå°¾å·2605&quot;</span>,</span><br><span class="line"><span class="attr">&quot;packageBagMoney&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;wmUserId&quot;</span>: <span class="number">371311890</span>,</span><br><span class="line"><span class="attr">&quot;confirmTime&quot;</span>: <span class="number">1603013218</span>,</span><br><span class="line"><span class="attr">&quot;cansunStatus&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;cansunInfo&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;wmChargeBusiness&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;wmOrderViewId&quot;</span>: <span class="number">56367802727202186</span>,</span><br><span class="line"><span class="attr">&quot;activityAmount&quot;</span>: <span class="string">&quot;0.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;activityDetails&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;commisionAmount&quot;</span>: <span class="string">&quot;-1.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;settleAmount&quot;</span>: <span class="string">&quot;8.95&quot;</span>,</span><br><span class="line"><span class="attr">&quot;offlineOrderSkPayAmount&quot;</span>: <span class="string">&quot;0.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shippingType&quot;</span>: <span class="string">&quot;0000&quot;</span>,</span><br><span class="line"><span class="attr">&quot;commisionDetails&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;chargeAmount&quot;</span>: <span class="string">&quot;-1.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;chargeDesc&quot;</span>: <span class="string">&quot;æœåŠ¡è´¹&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;userOnlinePayAfter&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;discounts&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;isDowngrade&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;shippingFee&quot;</span>: <span class="string">&quot;0.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;riderPayment&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;isRiderPay&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;giftDetails&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;userPayAmount&quot;</span>: <span class="string">&quot;0.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;foodAmount&quot;</span>: <span class="string">&quot;10.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;userPayTotalAmount&quot;</span>: <span class="string">&quot;10.0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;donateAmount&quot;</span>: <span class="string">&quot;-0.05&quot;</span>,</span><br><span class="line"><span class="attr">&quot;agreementAmount&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;chargeMode&quot;</span>: <span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;userTips&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;category&quot;</span>: <span class="number">17</span>,</span><br><span class="line"><span class="attr">&quot;type&quot;</span>: <span class="string">&quot;ä¸‹å•2æ¬¡&quot;</span>,</span><br><span class="line"><span class="attr">&quot;info&quot;</span>: <span class="string">&quot;è¯¥ç”¨æˆ·è¿‡å»90å¤©å®Œæˆè®¢å•æ•°&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;bindedPrivacyPhoneList&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;privacyPhoneShow&quot;</span>: <span class="string">&quot;130**773è½¬5108&quot;</span>,</span><br><span class="line"><span class="attr">&quot;privacyPhone&quot;</span>: <span class="string">&quot;13**4773,5108&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;backupField&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;onTimeInsurance&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;effect&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;status&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;foodSafeInsurance&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;effect&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;status&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;thirdLogistics&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;courierName&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;courierPhone&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;logisticsPlatformName&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;logisticsPlatformCode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;deliverTime&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;allowAlterType&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;preMakerValid&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;retailOrderPreMakerInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;preMakerPrivacyPhoneShow&quot;</span>: <span class="string">&quot;1788**37è½¬9232&quot;</span>,</span><br><span class="line"><span class="attr">&quot;preMakerPhoneShow&quot;</span>: <span class="string">&quot;178**7è½¬9232&quot;</span>,</span><br><span class="line"><span class="attr">&quot;preMakerPhone&quot;</span>: <span class="string">&quot;178**137,9232&quot;</span>,</span><br><span class="line"><span class="attr">&quot;preMakerTag&quot;</span>: <span class="string">&quot;è´­èŠ±ä½¿è€…&quot;</span>,</span><br><span class="line"><span class="attr">&quot;preMakerPrivacyPhoneShowAfter&quot;</span>: <span class="string">&quot;1******8137è½¬9232&quot;</span>,</span><br><span class="line"><span class="attr">&quot;preMakerBackupPrivacyPhone&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;privacyPhoneShow&quot;</span>: <span class="string">&quot;185**029è½¬1199&quot;</span>,</span><br><span class="line"><span class="attr">&quot;privacyPhone&quot;</span>: <span class="string">&quot;18**4029,1199&quot;</span></span><br><span class="line">&#125;]</span><br><span class="line">&#125;</span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;changes&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;orderSynCtime&quot;</span>: <span class="number">1603013219</span>,</span><br><span class="line"><span class="attr">&quot;orderSynUtime&quot;</span>: <span class="number">1603013219</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-1-ç¡®è®¤é€è¾¾æ—¶é—´ï¼š"><a href="#3-1-ç¡®è®¤é€è¾¾æ—¶é—´ï¼š" class="headerlink" title="3.1 ç¡®è®¤é€è¾¾æ—¶é—´ï¼š"></a>3.1 ç¡®è®¤é€è¾¾æ—¶é—´ï¼š</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;estimateArrivalTime&quot;: 1603020418,</span><br></pre></td></tr></table></figure><p>ä»ä¿¡æ¯ä¸­æå–åˆ°é€è¾¾æ—¶é—´çš„æ—¶é—´æˆ³ï¼Œæ—¶é—´æˆ³æ˜¯æŒ‡ï¼Œæ ¼æ—å¨æ²»æ—¶é—´ä»1970-01-01 00:00:00åˆ°æŸä¸ªæ—¶é—´ç‚¹æ‰€ç»å†çš„ç§’æ•°ï¼Œå¯ä»¥è¡¨è¾¾ç»å¯¹æ—¶é—´é¢†åŸŸçš„ä¸€ä¸ªæ—¶åˆ»ã€‚å…¶è½¬åŒ–ä¸ºæˆ‘ä»¬æ‰€èƒ½å¤Ÿé˜…è¯»çš„æ—¶é—´ï¼Œæ˜¯æ ¹æ®è®¡ç®—æœºç³»ç»Ÿæ—¶é—´æ¥è®¡ç®—çš„ã€‚ä¸åŒæ—¶åŒºçš„è®¡ç®—æœºå¾—åˆ°çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸Šè¿°æ—¶é—´æˆ³ï¼Œè½¬ä¸ºåŒ—äº¬æ—¶é—´åæ˜¯<code>2020-10-18 19:26:58</code>ã€‚åœ¨è½¬æ¢æ—¶ï¼Œé»˜è®¤æ—¶æ ¹æ®è®¡ç®—æœºæ‰€åœ¨æ—¶åŒºè½¬æ¢ã€‚æ‰€ä»¥ï¼Œæœ€å¥½æŒ‡å®šè½¬æ¢æ—¶åŒºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytz</span><br><span class="line">ts = <span class="number">1566395745</span></span><br><span class="line">tz = pytz.timezone(<span class="string">&#x27; Asia/Shanghai&#x27;</span>)</span><br><span class="line">dt = pytz.datetime.datetime.fromtimestamp(ts, tz)</span><br><span class="line">dt.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š<code>2019-08-21 09:55:45</code></p><h2 id="3-2-é€è¾¾åœ°ç‚¹"><a href="#3-2-é€è¾¾åœ°ç‚¹" class="headerlink" title="3.2 é€è¾¾åœ°ç‚¹"></a>3.2 é€è¾¾åœ°ç‚¹</h2><p>åœ¨ä¿¡æ¯ä¸­ï¼Œæ˜¯æ²¡æœ‰é…é€åœ°ç‚¹çš„å†…å®¹çš„ï¼Œå¦‚æœï¼Œé€šè¿‡appiumæ¥ç‚¹å‡»<code>æŸ¥çœ‹åœ°å€</code>åœ¨çˆ¬å–åœ°å€ä¿¡æ¯ï¼Œå°±è¿‡äºéº»çƒ¦ã€‚å†æ¬¡ç ”ç©¶è®¢å•ä¿¡æ¯JSONæ•°æ®åï¼Œæˆ‘å‘ç°ï¼Œåœ¨è®¢å•ä¸­ï¼Œæœ‰ä¸€è¡Œæ•°æ®ä¸º</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;addressLongitude&quot;: 104251302,</span><br><span class="line">&quot;addressLatitude&quot;: 30880900,</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯åœ°å€ç¼–ç ï¼Œå¯¹åº”çš„æ˜¯ç»çº¬åº¦ä¿¡æ¯ã€‚åœ¨<a href="https://lbs.amap.com/api/webservice/guide/api/georegeo/">é«˜å¾·åœ°å›¾APIæ¥å£æ‰‹å†Œ</a>ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†é€‚åˆåœ°å€è§£ç çš„api</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;restapi.amap.com&#x2F;v3&#x2F;geocode&#x2F;regeo?output&#x3D;xml&amp;location&#x3D;116.310003,39.991957&amp;key&#x3D;&lt;ç”¨æˆ·çš„key&gt;&amp;radius&#x3D;1000&amp;extensions&#x3D;all</span><br></pre></td></tr></table></figure><p>æµ‹è¯•åï¼Œä»apiè¿”å›çš„åœ°å€æ­£æ˜¯æ”¶è´§åœ°å€ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒLongitudeç»åº¦ï¼ŒLatitudeç»´åº¦ã€‚è¿™ä¸ªå‚æ•°æ˜¯ä»¥å…­ä½å°æ•°ç»“å°¾çš„æ•°æ®ã€‚ã€‚è€Œè®¢å•ä¸­ï¼Œæ˜¯æ²¡æœ‰æŠŠå°æ•°ä½è¡¨ç°å‡ºæ¥çš„ï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬ä¿®æ”¹ã€‚</p><blockquote><p>ä¸ºäº†è®©é¥¿äº†ä¹ˆå’Œç¾å›¢çš„è®¢å•ï¼Œå…·æœ‰ç›¸åŒçš„æ ¼å¼ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¹‹å‰ç¡®å®šçš„é¥¿äº†ä¹ˆè®¢å•å¯¹è±¡ã€‚æŠŠé€è¾¾æ—¶é—´ç»Ÿä¸€æ›´æ”¹ä¸ºæ—¶é—´æˆ³ï¼ŒæŠŠåœ°å€ä¿¡æ¯ç»Ÿä¸€è½¬ä¸ºåœ°ç†ç¼–ç åçš„ç»çº¬åº¦ã€‚</p></blockquote><h1 id="4ï¼šPythonç¼–ç¨‹"><a href="#4ï¼šPythonç¼–ç¨‹" class="headerlink" title="4ï¼šPythonç¼–ç¨‹"></a>4ï¼šPythonç¼–ç¨‹</h1><p>ä¸‹é¢æ˜¯åŒ…å«äº†é¥¿äº†ä¹ˆå’Œç¾å›¢å¤–å–çš„å®Œæ•´ç¨‹åº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@file_name    :order.py</span></span><br><span class="line"><span class="string">@description  :</span></span><br><span class="line"><span class="string">@time         :2020/10/16 21:25:01</span></span><br><span class="line"><span class="string">@author       :Qifei</span></span><br><span class="line"><span class="string">@version      :1.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> mitmproxy.http</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment">#é¡¾å®¢ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,tel</span>):</span></span><br><span class="line">        self.name = name </span><br><span class="line">        self.tel = tel</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line"><span class="comment">#å•†å“ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Good</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,number,img</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.number = number</span><br><span class="line">        self.img = img</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¢å•ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Order</span>(<span class="params">Customer</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,platform,name,tel,addr_long,addr_latu,note,arri_time,order_id,goods</span>):</span></span><br><span class="line">        Customer.__init__(self,name,tel)</span><br><span class="line">        self.addr_long = addr_long</span><br><span class="line">        self.addr_latu = addr_latu</span><br><span class="line">        self.note = note</span><br><span class="line">        self.arri_time = arri_time</span><br><span class="line">        self.order_id = order_id</span><br><span class="line">        self.goods = goods</span><br><span class="line">        self.platform = platform</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆªè·é¥¿äº†ä¹ˆè®¢å•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ElemeOrders</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.orders = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">response</span>(<span class="params">self, flow: mitmproxy.http.flow</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;bwm_newretail.recrm_order_j/queryorderapp/queryOrderInfoList?&quot;</span> <span class="keyword">in</span> flow.request.url:</span><br><span class="line">            data = json.loads(flow.response.text)[<span class="string">&quot;data&quot;</span>]</span><br><span class="line">            <span class="keyword">for</span> total_order_list <span class="keyword">in</span> data[<span class="string">&#x27;total_order_list&#x27;</span>]:</span><br><span class="line">                <span class="keyword">for</span> order_list <span class="keyword">in</span> total_order_list[<span class="string">&#x27;order_list&#x27;</span>]:</span><br><span class="line">                    goods = []</span><br><span class="line">                    <span class="keyword">for</span> good <span class="keyword">in</span> order_list[<span class="string">&#x27;order_goods&#x27;</span>][<span class="string">&#x27;goods_list&#x27;</span>]:</span><br><span class="line">                        good_buffer = Good(good[<span class="string">&#x27;name&#x27;</span>],good[<span class="string">&#x27;number&#x27;</span>],good[<span class="string">&#x27;url&#x27;</span>])</span><br><span class="line">                        goods.append(good_buffer)</span><br><span class="line">                    order = Order(<span class="string">&#x27;eleme&#x27;</span>,order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_real_name&#x27;</span>]+order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;sex&#x27;</span>],order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_phone&#x27;</span>],str(order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_address_lng&#x27;</span>]),str(order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_address_lat&#x27;</span>]),order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_note&#x27;</span>],order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;takeout_average_time&#x27;</span>],order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;order_id&#x27;</span>],goods)</span><br><span class="line">                    self.orders.append(order)</span><br><span class="line">            print(self.orders)</span><br><span class="line"></span><br><span class="line"> <span class="comment">#æˆªè·ç¾å›¢è®¢å•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MeituanOrders</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.orders = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">response</span>(<span class="params">self, flow: mitmproxy.http.flow</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;eapi.waimai.meituan.com/api/retail/order/supplement/increment/orders?&quot;</span> <span class="keyword">in</span> flow.request.url:</span><br><span class="line">            data = json.loads(flow.response.text)[<span class="string">&quot;data&quot;</span>]</span><br><span class="line">            <span class="keyword">for</span> order_list <span class="keyword">in</span> data[<span class="string">&#x27;news&#x27;</span>]:</span><br><span class="line">                goods = []</span><br><span class="line">                <span class="keyword">for</span> good <span class="keyword">in</span> order_list[<span class="string">&#x27;details&#x27;</span>]:</span><br><span class="line">                    good_buffer = Good(good[<span class="string">&#x27;food_name&#x27;</span>],good[<span class="string">&#x27;count&#x27;</span>],good[<span class="string">&#x27;picUrl&#x27;</span>])</span><br><span class="line">                    goods.append(good_buffer)</span><br><span class="line">                order = Order(<span class="string">&#x27;meituan&#x27;</span>,order_list[<span class="string">&#x27;recipient_name&#x27;</span>],order_list[<span class="string">&#x27;recipient_phone&#x27;</span>],self.geo_format(order_list[<span class="string">&#x27;longitude&#x27;</span>]),self.geo_format(order_list[<span class="string">&#x27;latitude&#x27;</span>]),order_list[<span class="string">&#x27;remark&#x27;</span>],order_list[<span class="string">&#x27;estimateArrivalTime&#x27;</span>],order_list[<span class="string">&#x27;id&#x27;</span>],goods)</span><br><span class="line">                self.orders.append(order)</span><br><span class="line">            print(self.orders[<span class="number">0</span>].name)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å°†ç»çº¬åº¦162787612è½¬ä¸º162.787612</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">geo_format</span>(<span class="params">self,int_geo</span>):</span></span><br><span class="line">        str_geo = str(int_geo)  <span class="comment">#162787612</span></span><br><span class="line">        list_geo = list(str_geo)    <span class="comment">#[&#x27;1&#x27;,&#x27;6&#x27;,&#x27;2&#x27;,&#x27;7&#x27;,&#x27;8&#x27;,&#x27;7&#x27;,&#x27;6&#x27;,&#x27;1&#x27;,&#x27;2&#x27;]</span></span><br><span class="line">        list_geo.insert(<span class="number">-6</span>,<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">        new_str = <span class="string">&#x27;&#x27;</span>.join(list_geo)</span><br><span class="line">        <span class="keyword">return</span> new_str</span><br><span class="line"></span><br><span class="line"><span class="comment">#mitmproxyæ’ä»¶</span></span><br><span class="line">addons = [</span><br><span class="line">    ElemeOrders(),</span><br><span class="line">    MeituanOrders()</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h1 id="5ï¼šå‚è€ƒèµ„æ–™"><a href="#5ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="5ï¼šå‚è€ƒèµ„æ–™"></a>5ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://blog.csdn.net/djzhao627/article/details/102812783">ç»™Android7åŠä»¥ä¸Šçš„æ‰‹æœºå®‰è£…ç³»ç»Ÿçº§è¯ä¹¦ï¼Œå®ç°Fiddleræˆ–è€…å…¶ä»–ç¨‹åºçš„HTTPSçš„æŠ“åŒ…</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/Crazy_zh/article/details/100013256">pythonå°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæŒ‡å®šæ—¶åŒºæ—¶é—´</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> -TWRP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤–å–å¹³å°è®¢å•çˆ¬å–ä¹‹é¥¿äº†ä¹ˆé›¶å”®å•†å®¶ç‰ˆ</title>
      <link href="/2020/10/16/%E5%A4%96%E5%8D%96%E5%B9%B3%E5%8F%B0%E8%AE%A2%E5%8D%95%E7%88%AC%E5%8F%96%E4%B9%8B%E9%A5%BF%E4%BA%86%E4%B9%88%E9%9B%B6%E5%94%AE%E5%95%86%E5%AE%B6%E7%89%88/"/>
      <url>/2020/10/16/%E5%A4%96%E5%8D%96%E5%B9%B3%E5%8F%B0%E8%AE%A2%E5%8D%95%E7%88%AC%E5%8F%96%E4%B9%8B%E9%A5%BF%E4%BA%86%E4%B9%88%E9%9B%B6%E5%94%AE%E5%95%86%E5%AE%B6%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šç®€å•è¯´ä¸¤å¥"><a href="#1ï¼šç®€å•è¯´ä¸¤å¥" class="headerlink" title="1ï¼šç®€å•è¯´ä¸¤å¥"></a>1ï¼šç®€å•è¯´ä¸¤å¥</h1><p>è¿™æ˜¯æˆ‘ä¸€ä¸ªå‡†å¤‡åšçš„å®Œæ•´é¡¹ç›®ä¸­çš„ä¸€ä¸ªå°éƒ¨åˆ†ã€‚ä»å¾ˆæ—©ä»¥å‰ï¼Œæˆ‘å°±åœ¨æ€è€ƒï¼Œå¦‚ä½•å°†ç¾å›¢å’Œé¥¿äº†ä¹ˆä»¥åŠæˆ‘è‡ªå·±åšçš„å°ç¨‹åºè®¢å•åˆå¹¶åœ¨ä¸€èµ·ï¼Œè¿™æ ·æ¥å®ç°ç»Ÿä¸€çš„ç®¡ç†ã€‚ã€‚ä¹‹æ‰€ä»¥è¦ç»Ÿä¸€ç®¡ç†ï¼Œæ˜¯å› ä¸ºæˆ‘æ¯äº²ä»äº‹é²œèŠ±é›¶å”®ï¼Œåœ¨èŠ‚å‡æ—¥é‡Œï¼Œä¼šæœ‰å¤§é‡çš„è®¢å•ï¼Œè€Œé²œèŠ±çš„åŒ…æ‰æ˜¯ä¸ªæ—¶é—´æ´»ã€‚åˆ¶ä½œå’Œé…é€ï¼Œä»¥åŠè®¢å•çš„å¤„ç†ï¼Œç¹æ‚çš„ç¨‹åºä¼šè®©äººæ™•å¤´è½¬å‘ã€‚ä¸ºäº†å‡è½»æˆ‘æ¯äº²çš„èŠ‚å‡æ—¥å‹åŠ›ï¼Œæˆ‘æƒ³åˆ°äº†ä¸€äº›æ–¹æ³•ï¼Œæ¥å¸®åŠ©å¥¹ç®¡ç†è®¢å•ã€‚</p><p>å®Œæ•´çš„é¡¹ç›®æ˜¯ï¼Œæ±‡æ€»å°ç¨‹åºã€ç¾å›¢ã€é¥¿äº†ä¹ˆçš„è®¢å•ã€‚å°†è®¢å•è¿”å›çš„ä¿¡æ¯ï¼Œé€šè¿‡å¤„ç†ï¼ŒæŒ‰é…é€æ—¶é—´æ’åºï¼Œç»è¿‡å¤„ç†åé€šè¿‡ä¼ä¸šå¾®ä¿¡apiæ¨é€ç»™å¾®ä¿¡ã€‚å› ä¸ºï¼ŒèŠ±åº—çš„é…é€äººå‘˜éƒ½æ˜¯æˆ‘æ¯äº²æ‰¾çš„ï¼Œä»–ä»¬å—æ•™è‚²ç¨‹åº¦ä½ï¼Œæœ‰çš„å› ä¸ºä¸è¯†å­—ï¼Œè¿å¯¼èˆªéƒ½ä¸ä¼šç”¨ã€‚æ‰€ä»¥ï¼Œéœ€è¦æŠŠè®¢å•çš„ä½ç½®ä¿¡æ¯ï¼Œé€šè¿‡ç™¾åº¦åœ°å›¾apiè½¬ä¸ºurlå‘é€ç»™é…é€å‘˜ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥åˆ¶ä½œä¸€ä¸ªç¨‹åºï¼Œåœ¨ç¨‹åºä¸Šå®æ—¶æ›´æ–°ï¼Œæ–°è®¢å•ã€‚ã€‚æ¯å½“ä¸€æŸèŠ±è¢«åšå¥½ï¼Œæˆ‘æ¯äº²å°±å¯ä»ç¨‹åºä¸­å°†è¯¥è®¢å•ä»ç­‰å¾…åˆ¶ä½œçš„åˆ—è¡¨ä¸­ç§»é™¤ã€‚ã€‚æ¯å½“ï¼Œæœ‰ä¸€ä¸ªè®¢å•è¢«é€å‡ºï¼Œä¹Ÿå¯åœ¨ç¨‹åºä¸Šæ§åˆ¶ç¾å›¢ç­‰å®¢æˆ·ç«¯å‘é€å¯¹åº”æ¶ˆæ¯ã€‚</p><p>è¿™ä¸€åˆ‡éƒ½æ˜¯éå¸¸ç¾å¥½çš„ï¼Œå¯¹é›¶å”®å•†å®¶çš„ä½“éªŒä¼šéå¸¸å‹å¥½ã€‚ä½†æ˜¯ï¼Œå› ä¸ºæˆ‘æ— æ³•å–å¾—ç¾å›¢å’Œé¥¿äº†ä¹ˆçš„å¼€å‘è€…èµ„æ ¼ï¼Œä¹Ÿå°±æ‹¿ä¸åˆ°ä»–ä»¬çš„æ¥å£æˆæƒã€‚ã€‚äºæ˜¯ï¼Œæˆ‘æƒ³åˆ°äº†ï¼Œåˆ©ç”¨åˆ©ç”¨mitmproxyè·å–ç¾å›¢é¥¿äº†ä¹ˆçš„è®¢å•ä¿¡æ¯ã€‚é€šè¿‡appiumè‡ªåŠ¨åŒ–æ§åˆ¶æ‰‹æœºã€‚æ— è®ºæ˜¯mitmrpoxyè¿˜æ˜¯appiumå¯¹pythonç¨‹åºéƒ½æ˜¯éå¸¸å‹å¥½çš„ã€‚</p><p>é‚£ä¹ˆç°åœ¨å¼€å§‹æˆ‘çš„ç¬¬ä¸€æ­¥ï¼Œåˆ©ç”¨mitmproxyçˆ¬å–é¥¿äº†ä¹ˆé›¶å”®å•†å®¶ç‰ˆè®¢å•ä¿¡æ¯ã€‚</p><h1 id="2ï¼šmitmproxyå®‰è£…ä¸ä½¿ç”¨"><a href="#2ï¼šmitmproxyå®‰è£…ä¸ä½¿ç”¨" class="headerlink" title="2ï¼šmitmproxyå®‰è£…ä¸ä½¿ç”¨"></a>2ï¼šmitmproxyå®‰è£…ä¸ä½¿ç”¨</h1><p><strong>å®‰è£…</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mitmproxy</span><br></pre></td></tr></table></figure><p><strong>å¼€å¯</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mitmweb</span><br><span class="line"><span class="meta">#</span><span class="bash">æˆ–è€…mitmproxy mitmdump</span></span><br></pre></td></tr></table></figure><p><strong>ä¸pythoné…åˆ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mitmdump -s eleme.py</span><br></pre></td></tr></table></figure><p><strong>æ‰‹æœºä½¿ç”¨mitmproxyå¼€å¯çš„ä»£ç†</strong>ï¼š</p><p>æ›´æ”¹wifié«˜çº§è®¾ç½®é‡Œçš„ä»£ç†æ¨¡å¼ä¸ºæ‰‹åŠ¨ï¼Œä¸»æœºå¡«å†™mitmproxyè¿è¡Œçš„ç”µè„‘å±€åŸŸç½‘ipã€‚å¯é€šè¿‡ifconfigæŸ¥çœ‹ã€‚</p><p>ç«¯å£ä¸º8080</p><p>æ­¤æ—¶æ‰“å¼€baidu.comä¼šæç¤ºä¸å®‰å…¨ï¼Œè€Œä¸”mitmproxyåº”è¯¥å¼€å§‹è®°å½•äº†ã€‚</p><p>æ‰‹æœºæ‰“å¼€ç½‘é¡µ<code>mitm.it</code>ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„è¯ä¹¦æ–‡ä»¶ã€‚å®‰å“ä¸‹è½½åç›´æ¥å®‰è£…ã€‚ã€‚</p><p>å†ä¸Šç½‘å°±ä¸ä¼šæç¤ºä¸å®‰å…¨äº†ã€‚</p><h1 id="3ï¼šå“åº”å†…å®¹"><a href="#3ï¼šå“åº”å†…å®¹" class="headerlink" title="3ï¼šå“åº”å†…å®¹"></a>3ï¼šå“åº”å†…å®¹</h1><p>åœ¨å¼€å¯mitmwebåï¼Œä»æ‰“å¼€çš„ç½‘é¡µä¸Šå¯ä»¥è§‚å¯Ÿåˆ°æ‰‹æœºçš„æ•´ä¸ªæ•°æ®æµï¼Œåœ¨æ‰‹æœºä¸Šåˆ·æ–°è®¢å•é¡µï¼Œå°±èƒ½æˆªè·é¥¿äº†ä¹ˆå‘é€å›æ¥çš„è®¢å•ä¿¡æ¯ã€‚</p><p>å°†å“åº”å†…å®¹æå–å‡ºæ¥ï¼Œå¹¶æŠŠJSONæ•°æ®æ ¼å¼åŒ–ï¼Œéƒ¨åˆ†å…³é”®ä¿¡æ¯å·²æ‰“ç ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;curr_page&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;order_count&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;page_count&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;page_size&quot;</span>: <span class="number">20</span>,</span><br><span class="line"><span class="attr">&quot;total_order_list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;mills&quot;</span>: <span class="number">1602518400000</span>,</span><br><span class="line"><span class="attr">&quot;order_list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;cold_chain_cost&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;0.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å†·é“¾æœåŠ¡è´¹&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;compensationInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;enableCompensable&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;timeRemaining&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;extract_commission&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;brief_desc&quot;</span>: <span class="string">&quot;è¯·ä»¥ç»“ç®—è´¦å•ä¸ºå‡†&quot;</span>,</span><br><span class="line"><span class="attr">&quot;commission_total&quot;</span>: <span class="string">&quot;15.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;æŠ½å–ä½£é‡‘&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;goods_discount&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;discount_account&quot;</span>: <span class="string">&quot;-ï¿¥3.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;discount_list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;hasLineBelow&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;ï¿¥3.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å•†å®¶é…é€è´¹è¡¥è´´&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;ï¿¥3.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å°è®¡&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å•†æˆ·è¡¥è´´é‡‘é¢&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;hasLineBelow&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;é…é€è´¹æ»¡å‡&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;(å•†å®¶è¡¥è´´:ï¿¥3.00å…ƒ)&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;æ´»åŠ¨æ˜ç»†&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;é¡¾å®¢ä¼˜æƒ åˆè®¡&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_discount_account&quot;</span>: <span class="string">&quot;-ï¿¥3.00&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;grayInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;hummingBirdGray&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;orderSettle&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;baseLogisticsAmt&quot;</span>: <span class="string">&quot;0.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;baseLogisticsDesc&quot;</span>: <span class="string">&quot;æœ¬å•æ”¶å–å›ºå®šç‰©æµè´¹&quot;</span>,</span><br><span class="line"><span class="attr">&quot;commissionAmt&quot;</span>: <span class="string">&quot;15.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;commissionDesc&quot;</span>: <span class="string">&quot;è¯·ä»¥ç»“ç®—è´¦å•ä¸ºå‡†&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shopInAmount&quot;</span>: <span class="string">&quot;0.00&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;order_basic&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;apply_cancel_feed&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;feed_list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;cancel_content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_extra&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_time&quot;</span>: <span class="string">&quot;10æœˆ13æ—¥ 12:55&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_title&quot;</span>: <span class="string">&quot;è®¢å•å·²å®Œæˆ(å•†æˆ·)&quot;</span>,</span><br><span class="line"><span class="attr">&quot;end_time&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;left_time&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;left_time_show&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;refund_price&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_apply_refund_pic&quot;</span>: []</span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;cancel_content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_extra&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_time&quot;</span>: <span class="string">&quot;10æœˆ13æ—¥ 09:10&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_title&quot;</span>: <span class="string">&quot;å•†å®¶å·²æ¥å•&quot;</span>,</span><br><span class="line"><span class="attr">&quot;end_time&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;left_time&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;left_time_show&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;refund_price&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_apply_refund_pic&quot;</span>: []</span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;cancel_content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_extra&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_time&quot;</span>: <span class="string">&quot;10æœˆ13æ—¥ 09:10&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_title&quot;</span>: <span class="string">&quot;è®¢å•å·²æ”¯ä»˜&quot;</span>,</span><br><span class="line"><span class="attr">&quot;end_time&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;left_time&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;left_time_show&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;refund_price&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_apply_refund_pic&quot;</span>: []</span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;cancel_content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_extra&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_time&quot;</span>: <span class="string">&quot;10æœˆ13æ—¥ 09:09&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_title&quot;</span>: <span class="string">&quot;åˆ›å»ºè®¢å•&quot;</span>,</span><br><span class="line"><span class="attr">&quot;end_time&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;left_time&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;left_time_show&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;refund_price&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_apply_refund_pic&quot;</span>: []</span><br><span class="line">&#125;]</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;apply_cancel_status&quot;</span>: <span class="number">886</span>,</span><br><span class="line"><span class="attr">&quot;auto_confirm_order&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;batch&quot;</span>: <span class="number">2000000000000000001</span>,</span><br><span class="line"><span class="attr">&quot;business_type&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;call_delivery_delay&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_reason&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_reason_explain&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cancel_reason_status&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;check_out_button&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;city_name&quot;</span>: <span class="string">&quot;æˆéƒ½å¸‚&quot;</span>,</span><br><span class="line"><span class="attr">&quot;confirmButton&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;confirm_time&quot;</span>: <span class="string">&quot;1602551413&quot;</span>,</span><br><span class="line"><span class="attr">&quot;create_time&quot;</span>: <span class="string">&quot;1602551397&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_delay_time&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_exception_code&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;delivery_exception_state&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_party&quot;</span>: <span class="string">&quot;self&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_staff_phone&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_state&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_state_desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;delivery_tip_amount&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line"><span class="attr">&quot;distance&quot;</span>: <span class="string">&quot;&lt;1.8åƒç±³&quot;</span>,</span><br><span class="line"><span class="attr">&quot;due_deliver_time_by_ofc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;ele_fengniao_info&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;is_fengniao_call_again&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_fengniao_switch_self&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;no_delivery&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;ele_zhongbao_info&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;delivery_fee&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_show&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;op_status&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;eleme_finish_refund&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;eleme_order_id&quot;</span>: <span class="string">&quot;5009809679236497411&quot;</span>,</span><br><span class="line"><span class="attr">&quot;evoip_order&quot;</span>: <span class="number">2</span>,</span><br><span class="line"><span class="attr">&quot;express_company&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;express_id&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;feed_to_show&quot;</span>: <span class="string">&quot;order_log&quot;</span>,</span><br><span class="line"><span class="attr">&quot;finished_time&quot;</span>: <span class="string">&quot;1602564946&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gift_greeting&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;gift_phone&quot;</span>: <span class="string">&quot;13***502&quot;</span>,</span><br><span class="line"><span class="attr">&quot;hbirdRunErrandsInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;addTipsButton&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;callButton&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;cancelCallButton&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;payType&quot;</span>: <span class="literal">null</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;idempotentId&quot;</span>: <span class="string">&quot;20201017025815254005000100027411822742&quot;</span>,</span><br><span class="line"><span class="attr">&quot;invoice_price&quot;</span>: <span class="string">&quot;100.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;invoice_title&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;is_alipay_order&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_baidu_logistics&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_can_auto_confirm&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_city_delivery&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_cold_order&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_compensation_show&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_cook_overtime&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_from_tp_new_retail&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;is_print&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;is_privacy_hide&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;is_ranger_show&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;is_show_express&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;ivr_tip&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;meal_num&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;need_invoice&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;orderUserPhone&quot;</span>: <span class="string">&quot;136****3502&quot;</span>,</span><br><span class="line"><span class="attr">&quot;orderUserPrivacyPhone&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;order_from&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line"><span class="attr">&quot;order_id&quot;</span>: <span class="string">&quot;50098***97411&quot;</span>,</span><br><span class="line"><span class="attr">&quot;order_index&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line"><span class="attr">&quot;order_list_type&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;is_cancel&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_exception&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_new&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_remind&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;is_reserve&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;is_user_part_refund&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;order_time_line&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;code&quot;</span>: <span class="string">&quot;101004&quot;</span>,</span><br><span class="line"><span class="attr">&quot;time&quot;</span>: <span class="string">&quot;10/13 12:55&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;è®¢å•å·²å®Œæˆ(å•†æˆ·)&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;code&quot;</span>: <span class="string">&quot;100004&quot;</span>,</span><br><span class="line"><span class="attr">&quot;time&quot;</span>: <span class="string">&quot;10/13 09:10&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å•†å®¶å·²æ¥å•&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;code&quot;</span>: <span class="string">&quot;100001&quot;</span>,</span><br><span class="line"><span class="attr">&quot;time&quot;</span>: <span class="string">&quot;10/13 09:10&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;è®¢å•å·²æ”¯ä»˜&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;code&quot;</span>: <span class="string">&quot;100000&quot;</span>,</span><br><span class="line"><span class="attr">&quot;time&quot;</span>: <span class="string">&quot;10/13 09:09&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;åˆ›å»ºè®¢å•&quot;</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;order_type&quot;</span>: <span class="number">4</span>,</span><br><span class="line"><span class="attr">&quot;part_refund_support&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;pay_display&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;pay_status&quot;</span>: <span class="string">&quot;å·²æ”¯ä»˜&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pc_order_label&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;pick_info&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;expect_finish_time&quot;</span>: <span class="string">&quot;02:58:15&quot;</span>,</span><br><span class="line"><span class="attr">&quot;left_time&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;pick_button&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;show&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;timestamp&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;privacy_phone&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;range_status&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;real_status&quot;</span>: <span class="number">5</span>,</span><br><span class="line"><span class="attr">&quot;real_status_desc&quot;</span>: <span class="string">&quot;å•†å®¶å·²ç»ç¡®è®¤è®¢å•&quot;</span>,</span><br><span class="line"><span class="attr">&quot;refund_attribute&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;refund_logs&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;refund_req_info&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;refuseButton&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;remind_undeal&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;remind_wait_time&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;responsible_party&quot;</span>: <span class="string">&quot;æš‚æ— &quot;</span>,</span><br><span class="line"><span class="attr">&quot;self_order_completed_button&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;send_time&quot;</span>: <span class="string">&quot;è¯·10æœˆ13æ—¥ 13:00é€è¾¾&quot;</span>,</span><br><span class="line"><span class="attr">&quot;send_time_print&quot;</span>: <span class="string">&quot;13æ—¥ 13:00é€è¾¾&quot;</span>,</span><br><span class="line"><span class="attr">&quot;service_phone&quot;</span>: <span class="string">&quot;10105757&quot;</span>,</span><br><span class="line"><span class="attr">&quot;set_express&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;sex&quot;</span>: <span class="string">&quot;å¥³å£«&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shopPicked&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;shop_info&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;location_shop&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;latitude&quot;</span>: <span class="string">&quot;35**3**7&quot;</span>,</span><br><span class="line"><span class="attr">&quot;longitude&quot;</span>: <span class="string">&quot;***4431E7&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;shop_address&quot;</span>: <span class="literal">null</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;shop_name&quot;</span>: <span class="string">&quot;**é²œèŠ±åº—&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shop_phone&quot;</span>: <span class="string">&quot;13***65&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shop_user_distance&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;show_add_tip&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;show_cancel_button&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;show_know_button&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;show_shop_pack&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;status&quot;</span>: <span class="number">9</span>,</span><br><span class="line"><span class="attr">&quot;status_desc&quot;</span>: <span class="string">&quot; å·²å®Œç»“&quot;</span>,</span><br><span class="line"><span class="attr">&quot;supplier_id&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line"><span class="attr">&quot;supplier_name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;takeout_average_time&quot;</span>: <span class="number">1602565200</span>,</span><br><span class="line"><span class="attr">&quot;takeout_phone&quot;</span>: <span class="string">&quot;136****065&quot;</span>,</span><br><span class="line"><span class="attr">&quot;taxer_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;thirty_min_service&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;userTags&quot;</span>: [<span class="number">2</span>],</span><br><span class="line"><span class="attr">&quot;user_address&quot;</span>: <span class="string">&quot;ä¸ºäº†ä¿æŠ¤é¡¾å®¢éšç§ï¼Œéšè—åœ°å€ä¿¡æ¯&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_address_lat&quot;</span>: <span class="string">&quot;30.890345&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_address_lng&quot;</span>: <span class="string">&quot;104.261772&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_id&quot;</span>: <span class="string">&quot;576192986&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_note&quot;</span>: <span class="string">&quot;é€ç»™æˆ‘å¥½æœ‹å‹çš„ç”Ÿæ—¥èŠ±ï¼Œå†™å‡ å¥ç¥ç¦è¯­ï¼Œè°¢è°¢&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_order_num_str&quot;</span>: <span class="string">&quot;è¶…ç™¾æ¬¡ä¸‹å•&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_phone&quot;</span>: <span class="string">&quot;177****7520&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_phone_call&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_phone_star&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;user_real_name&quot;</span>: <span class="string">&quot;çŠ&quot;</span>,</span><br><span class="line"><span class="attr">&quot;vip_status&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;waimai_release_id&quot;</span>: <span class="string">&quot;159766693&quot;</span>,</span><br><span class="line"><span class="attr">&quot;wxIconPath&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;wxNickname&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;zone_tips_required&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;order_goods&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;cart_num&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;goods_list&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;customer_price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;ext&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;attr&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cart_id&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cold_chain&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;combo_attr&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;customer_total_discount&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;discount_desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;ext_code&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;is_combo&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;process_label&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;product_index&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;property_label&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;shop_total_discount&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;store_attr&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;bar_code&quot;</span>: <span class="string">&quot;wm367**65&quot;</span>,</span><br><span class="line"><span class="attr">&quot;category_name&quot;</span>: <span class="string">&quot;çˆ±æƒ…è¡¨ç™½&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shelf_position&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;sku_id&quot;</span>: <span class="string">&quot;1597871782222488&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;unique_id&quot;</span>: <span class="string">&quot;13***678&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;fix_weight&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;gift_info&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;gmids&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;hasgift&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;isNoReasonToReturn&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;isfreegift&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ã€ä¸ƒå¤•ä¸“å±ã€‘19æœµçº¢ç«ç‘°ç¤¼ç›’+é“¶å¶&quot;</span>,</span><br><span class="line"><span class="attr">&quot;number&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;orig_price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;orig_unit_price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;printing_price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shop_price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shop_unit_price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;total_weight&quot;</span>: <span class="number">999</span>,</span><br><span class="line"><span class="attr">&quot;unique_id&quot;</span>: <span class="string">&quot;130047***9119678&quot;</span>,</span><br><span class="line"><span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://img.alic***i2/111483146/O1CN01wVILGS1Z6udgswHe4_!!111483146-0-***.jpg&quot;</span>,</span><br><span class="line"><span class="attr">&quot;weight&quot;</span>: <span class="number">999</span>,</span><br><span class="line"><span class="attr">&quot;weight_can_update&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;weight_flag&quot;</span>: <span class="number">2</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;goods_total&quot;</span>: <span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;order_meal_fee&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;0.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;åŒ…è£…è´¹&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;order_operations&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;order_sub_total&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;discount&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;formula_desc&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;number&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;98.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å•†å“å°è®¡&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;order_total&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;customer_price&quot;</span>: <span class="string">&quot;100.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;customer_title&quot;</span>: <span class="string">&quot;æœ¬å•é¡¾å®¢å®é™…æ”¯ä»˜&quot;</span>,</span><br><span class="line"><span class="attr">&quot;number&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;pay_type&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;shop_price&quot;</span>: <span class="string">&quot;85.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shop_price_final&quot;</span>: <span class="string">&quot;85.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;é¢„è®¡æ”¶å…¥&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title_after&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;total_desc&quot;</span>: <span class="string">&quot;æœ¬å•é¡¾å®¢å®é™…æ”¯ä»˜100.00å…ƒ&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;other_total_cost&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;5.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å…¶ä»–è´¹ç”¨åˆè®¡&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;prescriptionDrugsInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;auditButton&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;prescriptionOrder&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;processMsg&quot;</span>: <span class="string">&quot;ç³»ç»Ÿæ­£åœ¨å¤„ç†ä¸­&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;prescription_info&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;is_prescription_order&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;shop_other_discount&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;customer_discount_list&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;customer_discount_total&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;-0.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shop_discount_list&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;shop_discount_total&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;sub_total_desc&quot;</span>: <span class="string">&quot;ä»¥ä¸Šæ˜ç»†ä¸ºå•†æˆ·æ‰¿æ‹…çš„é¡¾å®¢ä¼˜æƒ è´¹ç”¨ï¼Œæœ€ç»ˆè®¢å•æ”¶å…¥è¯·ä»¥å¯¹è´¦å•ä¸ºå‡†ã€‚&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;å•†æˆ·å…¶ä»–ä¼˜æƒ &quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;takeout_cost&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;price&quot;</span>: <span class="string">&quot;5.00&quot;</span>,</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;é…é€è´¹&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;],</span><br><span class="line"><span class="attr">&quot;title&quot;</span>: <span class="string">&quot;10æœˆ13æ—¥&quot;</span></span><br><span class="line">&#125;]</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;errmsg&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;errno&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;req_params&quot;</span>: [&#123;</span><br><span class="line"><span class="attr">&quot;asap_type&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;end_timestamp&quot;</span>: <span class="string">&quot;2020-10-16&quot;</span>,</span><br><span class="line"><span class="attr">&quot;is_asap&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;keyword&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;new_system&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;order_status&quot;</span>: <span class="number">9</span>,</span><br><span class="line"><span class="attr">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;pageSize&quot;</span>: <span class="number">20</span>,</span><br><span class="line"><span class="attr">&quot;shop_id&quot;</span>: <span class="literal">null</span>,</span><br><span class="line"><span class="attr">&quot;start_timestamp&quot;</span>: <span class="string">&quot;2020-10-10&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;appVersion&quot;</span>: <span class="string">&quot;2.2.3&quot;</span>,</span><br><span class="line"><span class="attr">&quot;authedSupplierIds&quot;</span>: [],</span><br><span class="line"><span class="attr">&quot;brand&quot;</span>: <span class="string">&quot;samsung&quot;</span>,</span><br><span class="line"><span class="attr">&quot;channel&quot;</span>: <span class="string">&quot;mobile&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cuid&quot;</span>: <span class="string">&quot;12B9828F9D0D3E389BA181D5A286A514|fw+G+2QPhBBAD8Yubtg6qGDX&quot;</span>,</span><br><span class="line"><span class="attr">&quot;from&quot;</span>: <span class="string">&quot;android&quot;</span>,</span><br><span class="line"><span class="attr">&quot;isBoss&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;isManager&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;isMobile&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;isShop&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">&quot;isSupplier&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">&quot;manager&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;bossUserId&quot;</span>: <span class="literal">null</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;pcVersion&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;roleInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;shopRoleId&quot;</span>: <span class="string">&quot;159766693&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;shopInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;eleId&quot;</span>: <span class="number">159766693</span>,</span><br><span class="line"><span class="attr">&quot;wid&quot;</span>: <span class="string">&quot;159766693&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;supplierInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;supplierId&quot;</span>: <span class="string">&quot;0&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">&quot;userInfo&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;loginRole&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="attr">&quot;loginSubUserType&quot;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">&quot;loginUserId&quot;</span>: <span class="string">&quot;1597***50001&quot;</span>,</span><br><span class="line"><span class="attr">&quot;phone&quot;</span>: <span class="string">&quot;13***65&quot;</span>,</span><br><span class="line"><span class="attr">&quot;shopUserId&quot;</span>: <span class="string">&quot;15973**001&quot;</span>,</span><br><span class="line"><span class="attr">&quot;userName&quot;</span>: <span class="string">&quot;x***65&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4ï¼šPythonç¨‹åº"><a href="#4ï¼šPythonç¨‹åº" class="headerlink" title="4ï¼šPythonç¨‹åº"></a>4ï¼šPythonç¨‹åº</h1><p>å¯¹ä¸Šè¿°JSONæ•°æ®è¿›è¡Œåˆ†æï¼Œåœ¨Pythonä¸­ç”¨json.loadæŠŠJSONæ•°æ®è½¬åŒ–ä¸ºå­—å…¸å’Œåˆ—è¡¨æ ¼å¼æ•°æ®ï¼Œæ–¹ä¾¿æˆ‘ä»¬æå–ä¿¡æ¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mitmproxy.http</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment">#é¡¾å®¢ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,tel</span>):</span></span><br><span class="line">        self.name = name </span><br><span class="line">        self.tel = tel</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line"><span class="comment">#å•†å“ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Good</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,number,img</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.number = number</span><br><span class="line">        self.img = img</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¢å•ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Order</span>(<span class="params">Customer</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,platform,name,tel,addr_long,addr_latu,note,arri_time,order_id,goods</span>):</span></span><br><span class="line">        Customer.__init__(self,name,tel)</span><br><span class="line">        self.addr_long = addr_long</span><br><span class="line">        self.addr_latu = addr_latu</span><br><span class="line">        self.note = note</span><br><span class="line">        self.arri_time = arri_time</span><br><span class="line">        self.order_id = order_id</span><br><span class="line">        self.goods = goods</span><br><span class="line">        self.platform = platform</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ElemeOrders</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.orders = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">response</span>(<span class="params">self, flow: mitmproxy.http.flow</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;bwm_newretail.recrm_order_j/queryorderapp/queryOrderInfoList?&quot;</span> <span class="keyword">in</span> flow.request.url:</span><br><span class="line">            data = json.loads(flow.response.text)[<span class="string">&quot;data&quot;</span>]</span><br><span class="line">            <span class="keyword">for</span> total_order_list <span class="keyword">in</span> data[<span class="string">&#x27;total_order_list&#x27;</span>]:</span><br><span class="line">                <span class="keyword">for</span> order_list <span class="keyword">in</span> total_order_list[<span class="string">&#x27;order_list&#x27;</span>]:</span><br><span class="line">                    goods = []</span><br><span class="line">                    <span class="keyword">for</span> good <span class="keyword">in</span> order_list[<span class="string">&#x27;order_goods&#x27;</span>][<span class="string">&#x27;goods_list&#x27;</span>]:</span><br><span class="line">                        good_buffer = Good(good[<span class="string">&#x27;name&#x27;</span>],good[<span class="string">&#x27;number&#x27;</span>],good[<span class="string">&#x27;url&#x27;</span>])</span><br><span class="line">                        goods.append(good_buffer)</span><br><span class="line">                    order = Order(<span class="string">&#x27;eleme&#x27;</span>,order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_real_name&#x27;</span>]+order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;sex&#x27;</span>],order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_phone&#x27;</span>],str(order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_address_lng&#x27;</span>]),str(order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_address_lat&#x27;</span>]),order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;user_note&#x27;</span>],order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;takeout_average_time&#x27;</span>],order_list[<span class="string">&#x27;order_basic&#x27;</span>][<span class="string">&#x27;order_id&#x27;</span>],goods)</span><br><span class="line">                    self.orders.append(order)</span><br><span class="line">            print(self.orders)</span><br></pre></td></tr></table></figure><p>ç»è¿‡ç®€å•çš„æµ‹è¯•ï¼Œç¨‹åºèƒ½å¤Ÿæ‹¿åˆ°å®Œæ•´çš„è®¢å•ä¿¡æ¯ã€‚ä¸€æ¬¡æ€§æå®šï¼Œæ²¡æœ‰bugã€‚</p><p>åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œä¸»è¦éœ€è¦å…³æ³¨çš„æ˜¯ï¼ŒMitmç±»ä¸­çš„self.ordersè¿™ä¸ªå˜é‡ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå®ƒåŒ…å«äº†å¤§äºç­‰äº1ä¸ªè®¢å•ã€‚æ¯ä¸ªè®¢å•ï¼Œéƒ½æ˜¯ä¸€ä¸ªOrderç±»çš„å®ä¾‹åŒ–ï¼ŒOrderç±»ä¸­æœ€åä¸€ä¸ªå˜é‡goodsæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨ç”±å¤šä¸ªå®ä¾‹åŒ–çš„Goodç±»ç»„æˆã€‚å› ä¸ºä¸€ä¸ªè®¢å•å¯èƒ½åŒ…å«å¤šç§å•†å“ã€‚</p><p>å…·ä½“å¦‚ä½•åˆ©ç”¨è¿™äº›ä¿¡æ¯ï¼Œè¿˜éœ€è¦å†Mitm()ç±»ä¸­åšä¿®æ”¹ã€‚è€Œæå–å•ä¸ªè®¢å•ç±»ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªè®¢å•ï¼Œç›´æ¥ä½¿ç”¨<code>self.orders[0]</code>ï¼Œè¦æå–ç¬¬ä¸€ä¸ªè®¢å•ä¸­çš„ç¬¬ä¸€ä»¶å•†å“<code>self.orders[0].goods[0]</code>ã€‚</p><p>å…¶ä»–çš„ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªè®¢å•æ”¶è´§äººï¼š<code>self.orders[0].name</code></p><p>ç¬¬ä¸€ä¸ªè®¢å•çš„ç¬¬ä¸€ä»¶å•†å“çš„åç§°ï¼š<code>self.orders[0].goods[0].name</code></p><p>åç»­æˆ‘å¯èƒ½ä¼šå°†å®ƒä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æå–å’Œä¿®æ”¹ä¿¡æ¯ã€‚</p><h1 id="5ï¼šå‚è€ƒèµ„æ–™"><a href="#5ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="5ï¼šå‚è€ƒèµ„æ–™"></a>5ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://blog.csdn.net/freeking101/article/details/83901842">ä½¿ç”¨ mitmproxy + python åšæ‹¦æˆªä»£ç†</a>ã€‹</p><p>ã€Š<a href="https://www.weiney.com/2072.html">APPçˆ¬è™«å…¥é—¨ï¼ŒAppium+Mitmproxyå¼ºåŠ¿ç»„åˆå®ç°æŠ–éŸ³çš„æ•°æ®çˆ¬å–</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Mitmproxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PandasçŸ¥è¯†æ€»ç»“</title>
      <link href="/2020/10/14/Pandas%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"/>
      <url>/2020/10/14/Pandas%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šç®€ä»‹"><a href="#1ï¼šç®€ä»‹" class="headerlink" title="1ï¼šç®€ä»‹"></a>1ï¼šç®€ä»‹</h1><p>åœ¨æˆ‘çœ‹æ¥ï¼ŒPandasæ˜¯ä¸€æ¬¾æ•°æ®å¤„ç†å·¥å…·ï¼Œå®ƒç›¸æ¯”äºnumpyè€Œè¨€ï¼Œæ›´åŠ å…·æœ‰é’ˆå¯¹æ€§ã€‚æ¯”å¦‚è¯´ï¼ŒPandasæä¾›äº†ä¸¤ç§æ•°æ®ç»“æ„ï¼ŒSerieså’ŒDataFrameï¼Œåˆ†åˆ«è¡¨ç¤ºä¸€ç»´æ•°æ®å’ŒäºŒç»´æ•°æ®ï¼Œè€Œnumpyåˆ™è¿˜æœ‰æ›´å¤šç»´æ•°æ®ã€‚Pandasçš„ç‰¹è‰²æ˜¯ï¼Œå®ƒå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç´¢å¼•æ¥è¡¨ç¤ºæ•°æ®çš„ç‰¹ç‚¹ï¼Œè¿™å’ŒExcelè¡¨æ ¼å¾ˆç±»ä¼¼ã€‚è€Œnumpyåªæœ‰å›ºå®šçš„æ•´æ•°ç´¢å¼•ã€‚</p><p>åœ¨æ•°æ®ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰è¿™ç§æƒ…å†µï¼Œä¸€ä¸ªäºŒç»´è¡¨æ ¼ï¼Œæ¯ä¸€è¡Œï¼Œè¡¨ç¤ºä¸åŒçš„å­¦ç”Ÿï¼Œæ¯ä¸€åˆ—è¡¨ç¤ºå­¦ç”Ÿçš„ä¸åŒä¿¡æ¯ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œ</p><table><thead><tr><th></th><th>å¹´é¾„</th><th>ç­çº§</th></tr></thead><tbody><tr><td>å°æ˜</td><td>19</td><td>4ç­</td></tr><tr><td>å°å¼ </td><td>15</td><td>2ç­</td></tr><tr><td>å°å</td><td>17</td><td>1ç­</td></tr></tbody></table><p>ç”±å¹´é¾„å’Œç­çº§æ„æˆçš„äºŒç»´æ•°ç»„ï¼Œåœ¨numpyä¸­æ˜¯æ— æ³•å»ºç«‹çš„ï¼Œå› ä¸ºnumpyæ— æ³•å»ºç«‹ç­çº§çš„å­—ç¬¦ä¸²æ ¼å¼æ•°æ®ï¼Œä¸”æ•°ç»„å†…ä¸èƒ½å«æœ‰å¤šç§å±æ€§çš„æ•°æ®ï¼Œæ¯”å¦‚å¹´é¾„çš„æ•°æ®æ ¼å¼æ˜¯intï¼Œè€Œç­çº§åˆ™æ˜¯stringã€‚</p><p>æ­¤æ—¶Pandasçš„ä½œç”¨å°±å‡ºæ¥äº†ã€‚Pandaså¯ä»¥æŒ‡å®šä¸Šè¿°æ•°æ®æ¯ä¸€è¡Œçš„æ„ä¹‰ä¸ºåå­—ï¼Œæ‰€ä»¥å…¶è¡Œç´¢å¼•<code>Index</code>å¯ä»¥è®¾ç½®ä¸º[â€˜å°æ˜â€™,â€™å°å¼ â€™,â€™å°åâ€™]ï¼Œè€Œå…¶çºµåæ ‡çš„ç´¢å¼•<code>columns</code>è®¾ç½®ä¸º[â€˜å¹´é¾„â€™,â€™ç­çº§â€™]ã€‚ç„¶åå†å‘è¿™ä¸ªDataFrameä¸­æ·»åŠ æ•°æ®å³å¯ã€‚</p><h1 id="2ï¼šå…¥é—¨"><a href="#2ï¼šå…¥é—¨" class="headerlink" title="2ï¼šå…¥é—¨"></a>2ï¼šå…¥é—¨</h1><h2 id="2-1-ç”Ÿæˆå¯¹è±¡"><a href="#2-1-ç”Ÿæˆå¯¹è±¡" class="headerlink" title="2.1 ç”Ÿæˆå¯¹è±¡"></a>2.1 ç”Ÿæˆå¯¹è±¡</h2><p>å¼•å…¥Pandasï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure><p>ç”ŸæˆSeriesï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">4</span>,<span class="number">1</span>,np.nan,<span class="number">8</span>])</span><br></pre></td></tr></table></figure><p>ç”ŸæˆDataFrameï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dates = pd.date_range(<span class="string">&#x27;20130101&#x27;</span>,periods=<span class="number">6</span>)</span><br><span class="line"><span class="comment">#ç”Ÿæˆå…­ä¸ªä»¥20130101å¼€å§‹ï¼Œé—´éš”ä¸ºä¸€å¤©çš„æ—¶é—´åºåˆ—</span></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">6</span>,<span class="number">4</span>), index=dates, columns=list(<span class="string">&#x27;ABCD&#x27;</span>))</span><br></pre></td></tr></table></figure><blockquote><p>date_rangeå‡½æ•°å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ—¶é—´åºåˆ—ï¼Œå‚æ•°æœ‰ï¼Œå¼€å§‹æ—¶é—´ï¼Œç»“æŸæ—¶é—´ï¼Œåºåˆ—ä¸ªæ•°ï¼Œé—´éš”å•ä½ç­‰ã€‚</p></blockquote><p>dfä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">                   A         B         C         D</span><br><span class="line">2013-01-01  0.469112 -0.282863 -1.509059 -1.135632</span><br><span class="line">2013-01-02  1.212112 -0.173215  0.119209 -1.044236</span><br><span class="line">2013-01-03 -0.861849 -2.104569 -0.494929  1.071804</span><br><span class="line">2013-01-04  0.721555 -0.706771 -1.039575  0.271860</span><br><span class="line">2013-01-05 -0.424972  0.567020  0.276232 -1.087401</span><br><span class="line">2013-01-06 -0.673690  0.113648 -1.478427  0.524988</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å­—å…¸å¯¹è±¡ç”ŸæˆDataFrameï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:<span class="number">1</span>,</span><br><span class="line">                    <span class="string">&#x27;B&#x27;</span>:pd.Timestamp(<span class="string">&#x27;20130102&#x27;</span>), </span><br><span class="line">                    <span class="string">&#x27;C&#x27;</span>:pd.Series(<span class="number">1</span>, index=list(range(<span class="number">4</span>)),dtype=<span class="string">&#x27;float332&#x27;</span>),</span><br><span class="line">                    <span class="string">&#x27;D&#x27;</span>:np.array([<span class="number">3</span>]*<span class="number">4</span>,dtype=<span class="string">&#x27;int32&#x27;</span>),</span><br><span class="line">                    <span class="string">&#x27;E&#x27;</span>:pd.Categorical([<span class="string">&quot;test&quot;</span>,<span class="string">&quot;train&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="string">&quot;train&quot;</span>]),</span><br><span class="line">                    <span class="string">&#x27;F&#x27;</span>:<span class="string">&#x27;foo&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-2-æŸ¥çœ‹æ•°æ®"><a href="#2-2-æŸ¥çœ‹æ•°æ®" class="headerlink" title="2.2 æŸ¥çœ‹æ•°æ®"></a>2.2 æŸ¥çœ‹æ•°æ®</h2><p>æŸ¥çœ‹DataFrameå¤´éƒ¨å’Œå°¾éƒ¨æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df.head()</span><br><span class="line">df.tail(<span class="number">3</span>)</span><br><span class="line"><span class="comment">#å¯æŒ‡å®šæŸ¥çœ‹å¤´å°¾éƒ¨çš„æ•°æ®è¡Œæ•°</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºç´¢å¼•å’Œåˆ—åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.index</span><br><span class="line">df.columns</span><br></pre></td></tr></table></figure><p><code>df.to_numpy()</code>å°†DataFrameæ•°æ®è½¬ä¸ºnumpyæ•°æ®</p><p><code>df.describe()</code>æŸ¥çœ‹æ•°æ®ç»Ÿè®¡æ‘˜è¦</p><p><code>df.T</code>è½¬ç½®</p><p><code>df.sort_index(axis=1,ascending=False)</code>æŒ‰è½´ä¸Šå‡æ’åº</p><p><code>df.sort_values(by=&#39;B&#39;)</code>æŒ‰è½´æ’åº</p><h2 id="2-3-é€‰æ‹©æ•°æ®"><a href="#2-3-é€‰æ‹©æ•°æ®" class="headerlink" title="2.3 é€‰æ‹©æ•°æ®"></a>2.3 é€‰æ‹©æ•°æ®</h2><p>äº§ç”Ÿ<code>Series</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;A&#x27;</span>]</span><br><span class="line">df.A</span><br></pre></td></tr></table></figure><p>åˆ‡ç‰‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="number">0</span>:<span class="number">3</span>]</span><br><span class="line"><span class="comment">#é€‰æ‹©1åˆ°3è¡Œ</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;20130102&#x27;</span>:<span class="string">&#x27;20130104&#x27;</span>]</span><br></pre></td></tr></table></figure><p><strong>æŒ‰æ ‡ç­¾é€‰æ‹©</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[dates[<span class="number">0</span>]]</span><br></pre></td></tr></table></figure><p>ç”¨æ ‡ç­¾é€‰å¤šåˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:,[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]]</span><br></pre></td></tr></table></figure><p>ç”¨æ ‡ç­¾åˆ‡ç‰‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="string">&#x27;20130102&#x27;</span>:<span class="string">&#x27;20130104&#x27;</span>,[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]]</span><br></pre></td></tr></table></figure><p>æå–æ ‡é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.loc[dates[<span class="number">0</span>],<span class="string">&#x27;A&#x27;</span>]</span><br><span class="line">df.at[dates[<span class="number">0</span>],<span class="string">&#x27;A&#x27;</span>]</span><br></pre></td></tr></table></figure><p><strong>æŒ‰ä½ç½®é€‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">3</span>]</span><br></pre></td></tr></table></figure><p>ç”¨æ•´æ•°åˆ‡ç‰‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">3</span>:<span class="number">5</span>,<span class="number">0</span>:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>ç”¨æ•´æ•°åˆ—è¡¨æŒ‰ä½ç½®åˆ‡ç‰‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>],[<span class="number">0</span>,<span class="number">2</span>]]</span><br></pre></td></tr></table></figure><p>æŒ‰ä½ç½®è®¿é—®æ ‡é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">df.iat[<span class="number">1</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure><p><strong>å¸ƒå°”ç´¢å¼•</strong>ï¼š</p><p>ç”¨å•åˆ—çš„å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df.A&gt;<span class="number">0</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Out[<span class="number">39</span>]: </span><br><span class="line">                   A         B         C         D</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-01</span>  <span class="number">0.469112</span> <span class="number">-0.282863</span> <span class="number">-1.509059</span> <span class="number">-1.135632</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-02</span>  <span class="number">1.212112</span> <span class="number">-0.173215</span>  <span class="number">0.119209</span> <span class="number">-1.044236</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-04</span>  <span class="number">0.721555</span> <span class="number">-0.706771</span> <span class="number">-1.039575</span>  <span class="number">0.271860</span></span><br></pre></td></tr></table></figure><p>é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df&gt;<span class="number">0</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Out[<span class="number">40</span>]: </span><br><span class="line">                   A         B         C         D</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-01</span>  <span class="number">0.469112</span>       NaN       NaN       NaN</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-02</span>  <span class="number">1.212112</span>       NaN  <span class="number">0.119209</span>       NaN</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-03</span>       NaN       NaN       NaN  <span class="number">1.071804</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-04</span>  <span class="number">0.721555</span>       NaN       NaN  <span class="number">0.271860</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-05</span>       NaN  <span class="number">0.567020</span>  <span class="number">0.276232</span>       NaN</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-06</span>       NaN  <span class="number">0.113648</span>       NaN  <span class="number">0.524988</span></span><br></pre></td></tr></table></figure><p><code>isin()</code>ç­›é€‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = df.copy()</span><br><span class="line">df2[<span class="string">&#x27;E&#x27;</span>] = [<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>â€¦â€¦]</span><br><span class="line">df2[df2[<span class="string">&#x27;E&#x27;</span>].isin([<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>])]</span><br></pre></td></tr></table></figure><h2 id="2-4-ç¼ºå¤±å€¼Nan"><a href="#2-4-ç¼ºå¤±å€¼Nan" class="headerlink" title="2.4 ç¼ºå¤±å€¼Nan"></a>2.4 ç¼ºå¤±å€¼Nan</h2><p><code>reindex</code>é‡å»ºç´¢å¼•ï¼Œä¸ä¼šä¿®æ”¹æºæ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = df.reindex(index = dates[<span class="number">0</span>:<span class="number">4</span>],columns=list(df.columns)+[<span class="string">&#x27;E&#x27;</span>])</span><br><span class="line">df1.loc[dates[<span class="number">0</span>]:dates[<span class="number">1</span>],<span class="string">&#x27;E&#x27;</span>] = <span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Out[<span class="number">57</span>]: </span><br><span class="line">                   A         B         C  D    F    E</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-01</span>  <span class="number">0.000000</span>  <span class="number">0.000000</span> <span class="number">-1.509059</span>  <span class="number">5</span>  NaN  <span class="number">1.0</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-02</span>  <span class="number">1.212112</span> <span class="number">-0.173215</span>  <span class="number">0.119209</span>  <span class="number">5</span>  <span class="number">1.0</span>  <span class="number">1.0</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-03</span> <span class="number">-0.861849</span> <span class="number">-2.104569</span> <span class="number">-0.494929</span>  <span class="number">5</span>  <span class="number">2.0</span>  NaN</span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-04</span>  <span class="number">0.721555</span> <span class="number">-0.706771</span> <span class="number">-1.039575</span>  <span class="number">5</span>  <span class="number">3.0</span>  NaN</span><br></pre></td></tr></table></figure><p>åˆ é™¤å«ç¼ºå¤±å€¼çš„è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.dropna(how=<span class="string">&#x27;any&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¡«å……ç¼ºå¤±å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.fillna(value=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p>æå–ç¼ºå¤±å€¼çš„å¸ƒå°”æ©ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.isna(df1)</span><br></pre></td></tr></table></figure><h2 id="2-5-è¿ç®—"><a href="#2-5-è¿ç®—" class="headerlink" title="2.5 è¿ç®—"></a>2.5 è¿ç®—</h2><p>ä¸€èˆ¬ï¼Œè¿ç®—æ—¶ä¼šæ’é™¤ç¼ºå¤±å€¼</p><p>åœ¨åˆ—ä¸Šè®¡ç®—<strong>å¹³å‡å€¼</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.mean()</span><br></pre></td></tr></table></figure><p>åœ¨è¡Œä¸Šè®¡ç®—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.mean(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Out[<span class="number">62</span>]: </span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-01</span>    <span class="number">0.872735</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-02</span>    <span class="number">1.431621</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-03</span>    <span class="number">0.707731</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-04</span>    <span class="number">1.395042</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-05</span>    <span class="number">1.883656</span></span><br><span class="line"><span class="number">2013</span><span class="number">-01</span><span class="number">-06</span>    <span class="number">1.592306</span></span><br><span class="line">Freq: D, dtype: float64</span><br></pre></td></tr></table></figure><p><strong>å‡æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,np.nan,<span class="number">6</span>,<span class="number">8</span>], index=dates).shift(<span class="number">2</span>)</span><br><span class="line">df.sub(s,axis=<span class="string">&#x27;index&#x27;</span>)</span><br></pre></td></tr></table></figure><p>sä¸dfçš„indexè½´æ˜¯ç›¸åŒçš„ï¼Œæˆ–è€…è¯´åœ¨è¡Œä¸Šä»–ä»¬æ•°æ®çš„ä¸ªæ•°ç›¸åŒï¼Œæ‰€ä»¥ï¼Œsubç¬¬äºŒä¸ªå‚æ•°å¡«å†™indexæˆ–è€…0ï¼Œè®¡ç®—æ—¶ï¼Œdfæ¯åˆ—éƒ½ä¼šå‡å»sã€‚</p><p><code>shift</code>å‡½æ•°æ˜¯å¹³ç§»å‡½æ•°ï¼Œså„ä¸ªä½ç½®ä¸Šçš„æ•°å‘ä¸‹å¹³ç§»ï¼Œç”±äºå‘ä¸‹å¹³ç§»äº†ä¸¤ä¸ªä½ç½®ï¼Œ0å’Œ1ä½ç½®ä¸Šçš„æ•°æ²¡æœ‰å†…å®¹å¯ä»¥è¡¥ï¼Œç”¨nanè‡ªåŠ¨æ›¿è¡¥ã€‚</p><p><strong>Applyå‡½æ•°</strong>ï¼š</p><p><code>DataFrame.apply()</code> å‡½æ•°åˆ™ä¼šä¾æ¬¡å°†æ¯è¡Œæˆ–åˆ—å–å‡ºæ¥ä½œä¸ºä¸€ä¸ªSeriesä¼ é€’åˆ°applyæŒ‡å®šçš„å‡½æ•°ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">matrix = [</span><br><span class="line">    [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],</span><br><span class="line">    [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(matrix, columns=list(<span class="string">&#x27;xyz&#x27;</span>), index=list(<span class="string">&#x27;abc&#x27;</span>))</span><br><span class="line">df.apply(np.square)</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼š</p><p><a href="https://www.jianshu.com/p/4fdd6eee1b06">pandas apply() å‡½æ•°ç”¨æ³•</a></p><p><strong>ç›´æ–¹å›¾ä¸ç¦»æ•£åŒ–ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series(np.random.randint(<span class="number">0</span>,<span class="number">7</span>,size=<span class="number">10</span>))</span><br><span class="line">s.value_counts()<span class="comment">#ç»Ÿè®¡sä¸­æ•´æ•°çš„åˆ†å¸ƒæƒ…å†µï¼Œæ¯”å¦‚4æœ‰5ä¸ª</span></span><br></pre></td></tr></table></figure><p><strong>å­—ç¬¦ä¸²æ–¹æ³•ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Aaba&#x27;</span>, <span class="string">&#x27;Baca&#x27;</span>, np.nan, <span class="string">&#x27;CABA&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>])</span><br><span class="line">s.str.lower()<span class="comment">#å­—ç¬¦ä¸²å°å†™</span></span><br></pre></td></tr></table></figure><h2 id="2-6-åˆå¹¶"><a href="#2-6-åˆå¹¶" class="headerlink" title="2.6 åˆå¹¶"></a>2.6 åˆå¹¶</h2><p><strong>ç»“åˆï¼š</strong></p><p><code>contact()</code>å°†é›¶æ•£çš„dfåˆå¹¶ï¼Œåˆå¹¶åŸåˆ™æ ¹æ®indexå’Œcolumnsï¼Œç›¸åŒåˆå¹¶ï¼Œä¸åŒè¿æ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line">pieces = [df[:<span class="number">3</span>], df[<span class="number">3</span>:<span class="number">7</span>], df[<span class="number">7</span>:]]</span><br><span class="line">pd.concat(pieces)</span><br></pre></td></tr></table></figure><p>è¿æ¥ï¼š</p><p><code>join()</code>ç›´æ¥å°†è¿ä¸ªdfè¿æ¥èµ·æ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">79</span>]: left</span><br><span class="line">Out[<span class="number">79</span>]: </span><br><span class="line">   key  lval</span><br><span class="line"><span class="number">0</span>  foo     <span class="number">1</span></span><br><span class="line"><span class="number">1</span>  foo     <span class="number">2</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">80</span>]: right</span><br><span class="line">Out[<span class="number">80</span>]: </span><br><span class="line">   key  rval</span><br><span class="line"><span class="number">0</span>  foo     <span class="number">4</span></span><br><span class="line"><span class="number">1</span>  foo     <span class="number">5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">81</span>]: pd.merge(left, right, on=<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">Out[<span class="number">81</span>]: </span><br><span class="line">   key  lval  rval</span><br><span class="line"><span class="number">0</span>  foo     <span class="number">1</span>     <span class="number">4</span></span><br><span class="line"><span class="number">1</span>  foo     <span class="number">1</span>     <span class="number">5</span></span><br><span class="line"><span class="number">2</span>  foo     <span class="number">2</span>     <span class="number">4</span></span><br><span class="line"><span class="number">3</span>  foo     <span class="number">2</span>     <span class="number">5</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">84</span>]: left</span><br><span class="line">Out[<span class="number">84</span>]: </span><br><span class="line">   key  lval</span><br><span class="line"><span class="number">0</span>  foo     <span class="number">1</span></span><br><span class="line"><span class="number">1</span>  bar     <span class="number">2</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">85</span>]: right</span><br><span class="line">Out[<span class="number">85</span>]: </span><br><span class="line">   key  rval</span><br><span class="line"><span class="number">0</span>  foo     <span class="number">4</span></span><br><span class="line"><span class="number">1</span>  bar     <span class="number">5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">86</span>]: pd.merge(left, right, on=<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">Out[<span class="number">86</span>]: </span><br><span class="line">   key  lval  rval</span><br><span class="line"><span class="number">0</span>  foo     <span class="number">1</span>     <span class="number">4</span></span><br><span class="line"><span class="number">1</span>  bar     <span class="number">2</span>     <span class="number">5</span></span><br></pre></td></tr></table></figure><p><strong>è¿½åŠ ï¼š</strong></p><p><code>append()</code>ä¸ºdfè¿½åŠ è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.append(s,ignore_index=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="2-7-åˆ†ç»„"><a href="#2-7-åˆ†ç»„" class="headerlink" title="2.7 åˆ†ç»„"></a>2.7 åˆ†ç»„</h2><p>æŒ‰ç…§æŸä¸ªcolumnæˆ–columnsï¼Œå°†dfåˆ†ç»„ï¼Œç„¶åç»“åˆdfçš„å‡½æ•°åˆ†åˆ«è®¡ç®—å„ä¸ªåˆ†ç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">92</span>]: df</span><br><span class="line">Out[<span class="number">92</span>]: </span><br><span class="line">     A      B         C         D</span><br><span class="line"><span class="number">0</span>  foo    one <span class="number">-1.202872</span> <span class="number">-0.055224</span></span><br><span class="line"><span class="number">1</span>  bar    one <span class="number">-1.814470</span>  <span class="number">2.395985</span></span><br><span class="line"><span class="number">2</span>  foo    two  <span class="number">1.018601</span>  <span class="number">1.552825</span></span><br><span class="line"><span class="number">3</span>  bar  three <span class="number">-0.595447</span>  <span class="number">0.166599</span></span><br><span class="line"><span class="number">4</span>  foo    two  <span class="number">1.395433</span>  <span class="number">0.047609</span></span><br><span class="line"><span class="number">5</span>  bar    two <span class="number">-0.392670</span> <span class="number">-0.136473</span></span><br><span class="line"><span class="number">6</span>  foo    one  <span class="number">0.007207</span> <span class="number">-0.561757</span></span><br><span class="line"><span class="number">7</span>  foo  three  <span class="number">1.928123</span> <span class="number">-1.623033</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">93</span>]: df.groupby(<span class="string">&#x27;A&#x27;</span>).sum()</span><br><span class="line">Out[<span class="number">93</span>]: </span><br><span class="line">            C        D</span><br><span class="line">A                     </span><br><span class="line">bar <span class="number">-2.802588</span>  <span class="number">2.42611</span></span><br><span class="line">foo  <span class="number">3.146492</span> <span class="number">-0.63958</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">94</span>]: df.groupby([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]).sum()</span><br><span class="line">Out[<span class="number">94</span>]: </span><br><span class="line">                  C         D</span><br><span class="line">A   B                        </span><br><span class="line">bar one   <span class="number">-1.814470</span>  <span class="number">2.395985</span></span><br><span class="line">    three <span class="number">-0.595447</span>  <span class="number">0.166599</span></span><br><span class="line">    two   <span class="number">-0.392670</span> <span class="number">-0.136473</span></span><br><span class="line">foo one   <span class="number">-1.195665</span> <span class="number">-0.616981</span></span><br><span class="line">    three  <span class="number">1.928123</span> <span class="number">-1.623033</span></span><br><span class="line">    two    <span class="number">2.414034</span>  <span class="number">1.600434</span></span><br></pre></td></tr></table></figure><h2 id="2-8-é‡å¡‘"><a href="#2-8-é‡å¡‘" class="headerlink" title="2.8 é‡å¡‘"></a>2.8 é‡å¡‘</h2>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pandas </tag>
            
            <tag> æ•°æ®å¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰Volantisä¸»é¢˜é¡µè„š</title>
      <link href="/2020/10/10/%E8%87%AA%E5%AE%9A%E4%B9%89Volantis%E4%B8%BB%E9%A2%98%E9%A1%B5%E8%84%9A/"/>
      <url>/2020/10/10/%E8%87%AA%E5%AE%9A%E4%B9%89Volantis%E4%B8%BB%E9%A2%98%E9%A1%B5%E8%84%9A/</url>
      
        <content type="html"><![CDATA[<p>ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶ä¸‹çš„<code>_config.yml</code></p><p>æ‰¾åˆ°é¡µè„šéƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">############################### Site Footer ############################### &gt; start</span></span><br><span class="line"><span class="attr">site_footer:</span></span><br><span class="line">  <span class="comment"># layout of footer: [aplayer, social, license, info, copyright,analytics]</span></span><br><span class="line">  <span class="attr">layout:</span> [<span class="string">custom</span>]</span><br><span class="line">  <span class="comment">#custom</span></span><br><span class="line">  <span class="attr">custom:</span> <span class="string">&#x27;&lt;a style=&quot;padding-right: 1%;&quot; href=&quot;https://hexo.io/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Powered-Hexo-red&quot;&gt;&lt;/a&gt;&lt;a style=&quot;padding-right: 1%;&quot; href=&quot;https://volantis.js.org/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Theme-Volantis-blue&quot;&gt;&lt;/a&gt;&lt;a style=&quot;padding-right: 1%;&quot; href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-success&quot;&gt;&lt;/a&gt;&lt;a style=&quot;padding-right: 1%;&quot; href=&quot;https://sci.ci&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Copyright-2019--2020%20QF-orange&quot;&gt;&lt;/a&gt;&#x27;</span></span><br><span class="line">  <span class="attr">br:</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span></span><br><span class="line"><span class="comment">############################### Site Footer ############################### &gt; end</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åæ•ˆæœï¼š</p><p><img src="https://i.loli.net/2020/10/11/EpAmYXzWi3OGDHc.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/11/EpAmYXzWi3OGDHc.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Volantis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2020/09/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2020/09/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šç®€ä»‹"><a href="#1ï¼šç®€ä»‹" class="headerlink" title="1ï¼šç®€ä»‹"></a>1ï¼šç®€ä»‹</h1><p>æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¸¸ç”¨äºåŒ¹é…åŒ…å«ä¸€å®šè§„å¾‹çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä»å­—ç¬¦ä¸²ä¸­æå–ç¬¦åˆè§„å¾‹çš„å­—ç¬¦ä¸²æ®µï¼Œæˆ–è€…è¿”å›æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚ä¹Ÿå¯ç”¨äºæ›¿æ¢å­—ç¬¦ä¸²ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è®¾ç½®å¯†ç æ—¶ï¼Œç½‘ç«™é€šå¸¸è¦æ±‚ï¼Œå¯†ç ä¸ºå­—æ¯+æ•°å­—+ä¸‹åˆ’çº¿ç»„åˆï¼Œå¹¶ä¸”å…·æœ‰ä¸€å®šé•¿åº¦å¦‚3åˆ°15ä½ï¼Œé‚£ä¹ˆå®ƒçš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ˜¯ï¼Œ<code>^[a-z0-9_-]&#123;3-15&#125;$</code></p><p>å…¶ä¸­<code>^</code>è¡¨ç¤ºä»å¼€å¤´å¼€å§‹åŒ¹é…ï¼Œ<code>[a-z0-9_-]</code>è¡¨ç¤ºåŒ¹é…å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿å’Œè¿æ¥ç¬¦ï¼Œ<code>$</code>è¡¨ç¤ºåŒ¹é…ç»“æŸã€‚<code>&#123;3-15&#125;</code>è¡¨ç¤ºåŒ¹é…3åˆ°15ä¸ªå­—ç¬¦ã€‚å®Œæ•´æ„ä¹‰ï¼šä»å¼€å¤´å¼€å§‹åŒ¹é…ï¼ŒåŒ¹é…åŒ…æ‹¬å­—æ¯æ•°å­—ä¸‹åˆ’çº¿å’Œè¿æ¥ç¬¦ï¼Œæ€»å…±15ä¸ªå­—ç¬¦ã€‚</p><h1 id="2ï¼šè¯­æ³•"><a href="#2ï¼šè¯­æ³•" class="headerlink" title="2ï¼šè¯­æ³•"></a>2ï¼šè¯­æ³•</h1><p><code>*</code>è¡¨ç¤ºåŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚*<em>qife</em>i**å¯ä»¥åŒ¹é…ï¼šqifei, qifi,qifeeeei</p><p><code>?</code>è¡¨ç¤ºåŒ¹é…0ä¸ªæˆ–1ä¸ªå­—ç¬¦ã€‚qife?iå¯ä»¥åŒ¹é…ï¼šqifi, qifei</p><p><code>+ </code>åŒ¹é…ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦ã€‚qife+iå¯ä»¥åŒ¹é…ï¼šqifei,qifeeeei</p><p><code>[]</code>å•å­—ç¬¦æ»¡è¶³[]ä¸­çš„è¦æ±‚ï¼Œåˆ™åŒ¹é…ã€‚<code>[aui]*</code>è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­auiéƒ½ä¼šè¢«åŒ¹é…å‡ºæ¥</p><table><thead><tr><th align="left">å­—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">[ABC]</td><td align="left">åŒ¹é… <strong>[â€¦]</strong> ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚ <strong>[aeiou]</strong> åŒ¹é…å­—ç¬¦ä¸² â€œgoogle runoob taobaoâ€ ä¸­æ‰€æœ‰çš„ e o u a å­—æ¯ã€‚</td></tr><tr><td align="left">[^ABC]</td><td align="left">åŒ¹é…é™¤äº† <strong>[â€¦]</strong> ä¸­å­—ç¬¦çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚ <strong>[^aeiou]</strong> åŒ¹é…å­—ç¬¦ä¸² â€œgoogle runoob taobaoâ€ ä¸­é™¤äº† e o u a å­—æ¯çš„æ‰€æœ‰å­—æ¯ã€‚</td></tr><tr><td align="left">[A-Z]</td><td align="left">[A-Z] è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼ŒåŒ¹é…æ‰€æœ‰å¤§å†™å­—æ¯ï¼Œ[a-z] è¡¨ç¤ºæ‰€æœ‰å°å†™å­—æ¯ã€‚</td></tr><tr><td align="left">.</td><td align="left">åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\nã€\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ï¼Œç›¸ç­‰äº [^\n\r]</td></tr><tr><td align="left">[\s\S]</td><td align="left">åŒ¹é…æ‰€æœ‰ã€‚\s æ˜¯åŒ¹é…æ‰€æœ‰ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œï¼Œ\S éç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œã€‚</td></tr><tr><td align="left">\w</td><td align="left">åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº [A-Za-z0-9_]</td></tr></tbody></table><table><thead><tr><th align="left">ç‰¹åˆ«å­—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">$</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ã€‚è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ $ã€‚</td></tr><tr><td align="left">( )</td><td align="left">æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚</td></tr><tr><td align="left">*</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ *ã€‚</td></tr><tr><td align="left">+</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ +ã€‚</td></tr><tr><td align="left">.</td><td align="left">åŒ¹é…é™¤æ¢è¡Œç¬¦ \n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨ . ã€‚</td></tr><tr><td align="left">[</td><td align="left">æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… [ï¼Œè¯·ä½¿ç”¨ [ã€‚</td></tr><tr><td align="left">?</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ?ã€‚</td></tr><tr><td align="left">\</td><td align="left">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜nâ€™ åŒ¹é…å­—ç¬¦ â€˜nâ€™ã€‚â€™\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot;ï¼Œè€Œ â€˜(â€˜ åˆ™åŒ¹é… â€œ(â€œã€‚</td></tr><tr><td align="left">^</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œå½“è¯¥ç¬¦å·åœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ—¶ï¼Œè¡¨ç¤ºä¸æ¥å—è¯¥æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­çš„å­—ç¬¦é›†åˆã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ ^ã€‚</td></tr><tr><td align="left">{</td><td align="left">æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨ {ã€‚</td></tr><tr><td align="left">|</td><td align="left">æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… |ï¼Œè¯·ä½¿ç”¨ |ã€‚</td></tr></tbody></table><p><code>()</code>é€‰æ‹©ï¼šä½¿ç”¨<code>()</code>ç»™éœ€è¦é€‰æ‹©åˆ°çš„åŒ¹é…é¡¹åˆ†ç»„ï¼Œé€‰æ‹©é¡¹ï¼Œå¯ä½¿ç”¨åˆ—è¡¨ç´¢å¼•è·å–æ¯ä¸ªé€‰æ‹©é¡¹ï¼ŒåŒ¹é…çš„å€¼ã€‚</p><h1 id="3ï¼šå…ƒå­—ç¬¦"><a href="#3ï¼šå…ƒå­—ç¬¦" class="headerlink" title="3ï¼šå…ƒå­—ç¬¦"></a>3ï¼šå…ƒå­—ç¬¦</h1><table><thead><tr><th align="left">å­—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">\</td><td align="left">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ª å‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™nâ€™ åŒ¹é…å­—ç¬¦ â€œnâ€ã€‚â€™\nâ€™ åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot; è€Œ â€œ(â€œ åˆ™åŒ¹é… â€œ(â€œã€‚</td></tr><tr><td align="left">^</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ ä¹‹åçš„ä½ç½®ã€‚</td></tr><tr><td align="left">$</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ ä¹‹å‰çš„ä½ç½®ã€‚</td></tr><tr><td align="left">*</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äº{0,}ã€‚</td></tr><tr><td align="left">+</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚</td></tr><tr><td align="left">?</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ æˆ– â€œdoesâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚</td></tr><tr><td align="left">{n}</td><td align="left">n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚</td></tr><tr><td align="left">{n,}</td><td align="left">n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚</td></tr><tr><td align="left">{n,m}</td><td align="left">m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td></tr><tr><td align="left">?</td><td align="left">å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (*, +, ?, {n}, {n,}, {n,m}) åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² â€œooooâ€ï¼Œâ€™o+?â€™ å°†åŒ¹é…å•ä¸ª â€œoâ€ï¼Œè€Œ â€˜o+â€™ å°†åŒ¹é…æ‰€æœ‰ â€˜oâ€™ã€‚</td></tr><tr><td align="left">.</td><td align="left">åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\nã€\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ â€˜\nâ€™ åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒâ€<strong>(.|\n)</strong>â€œçš„æ¨¡å¼ã€‚</td></tr><tr><td align="left">(pattern)</td><td align="left">åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ â€˜(â€˜ æˆ– â€˜)â€˜ã€‚</td></tr><tr><td align="left">(?:pattern)</td><td align="left">åŒ¹é… pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨ â€œæˆ–â€ å­—ç¬¦ (|) æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ â€˜industr(?:y|ies) å°±æ˜¯ä¸€ä¸ªæ¯” â€˜industry|industriesâ€™ æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚</td></tr><tr><td align="left">(?=pattern)</td><td align="left">æ­£å‘è‚¯å®šé¢„æŸ¥ï¼ˆlook ahead positive assertï¼‰ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€Windows(?=95|98|NT|2000)â€èƒ½åŒ¹é…â€Windows2000â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€Windows3.1â€ä¸­çš„â€Windowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚</td></tr><tr><td align="left">(?!pattern)</td><td align="left">æ­£å‘å¦å®šé¢„æŸ¥(negative assert)ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€Windows(?!95|98|NT|2000)â€èƒ½åŒ¹é…â€Windows3.1â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€Windows2000â€ä¸­çš„â€Windowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚</td></tr><tr><td align="left">(?&lt;=pattern)</td><td align="left">åå‘(look behind)è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€`(?&lt;=95</td></tr><tr><td align="left">(?&lt;!pattern)</td><td align="left">åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€`(?&lt;!95</td></tr><tr><td align="left">x|y</td><td align="left">åŒ¹é… x æˆ– yã€‚ä¾‹å¦‚ï¼Œâ€™z|foodâ€™ èƒ½åŒ¹é… â€œzâ€ æˆ– â€œfoodâ€ã€‚â€™(z|f)oodâ€™ åˆ™åŒ¹é… â€œzoodâ€ æˆ– â€œfoodâ€ã€‚</td></tr><tr><td align="left">[xyz]</td><td align="left">å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜[abc]â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„ â€˜aâ€™ã€‚</td></tr><tr><td align="left">[^xyz]</td><td align="left">è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜[^abc]â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„â€™pâ€™ã€â€™lâ€™ã€â€™iâ€™ã€â€™nâ€™ã€‚</td></tr><tr><td align="left">[a-z]</td><td align="left">å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[a-z]â€™ å¯ä»¥åŒ¹é… â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚</td></tr><tr><td align="left">[^a-z]</td><td align="left">è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[^a-z]â€™ å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚</td></tr><tr><td align="left">\b</td><td align="left">åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ â€˜er\bâ€™ å¯ä»¥åŒ¹é…â€neverâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ã€‚</td></tr><tr><td align="left">\B</td><td align="left">åŒ¹é…éå•è¯è¾¹ç•Œã€‚â€™er\Bâ€™ èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œneverâ€ ä¸­çš„ â€˜erâ€™ã€‚</td></tr><tr><td align="left">\cx</td><td align="left">åŒ¹é…ç”± x æŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚</td></tr><tr><td align="left">\d</td><td align="left">åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [0-9]ã€‚</td></tr><tr><td align="left">\D</td><td align="left">åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [^0-9]ã€‚</td></tr><tr><td align="left">\f</td><td align="left">åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \x0c å’Œ \cLã€‚</td></tr><tr><td align="left">\n</td><td align="left">åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \x0a å’Œ \cJã€‚</td></tr><tr><td align="left">\r</td><td align="left">åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \x0d å’Œ \cMã€‚</td></tr><tr><td align="left">\s</td><td align="left">åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº [ \f\n\r\t\v]ã€‚</td></tr><tr><td align="left">\S</td><td align="left">åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº [^ \f\n\r\t\v]ã€‚</td></tr><tr><td align="left">\t</td><td align="left">åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x09 å’Œ \cIã€‚</td></tr><tr><td align="left">\v</td><td align="left">åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x0b å’Œ \cKã€‚</td></tr><tr><td align="left">\w</td><td align="left">åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äºâ€™[A-Za-z0-9_]â€™ã€‚</td></tr><tr><td align="left">\W</td><td align="left">åŒ¹é…éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº â€˜[^A-Za-z0-9_]â€™ã€‚</td></tr><tr><td align="left">\xn</td><td align="left">åŒ¹é… nï¼Œå…¶ä¸­ n ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€™\x41â€™ åŒ¹é… â€œAâ€ã€‚â€™\x041â€™ åˆ™ç­‰ä»·äº â€˜\x04â€™ &amp; â€œ1â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ ASCII ç¼–ç ã€‚</td></tr><tr><td align="left">\num</td><td align="left">åŒ¹é… numï¼Œå…¶ä¸­ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™(.)\1â€™ åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚</td></tr><tr><td align="left">\n</td><td align="left">æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \n ä¹‹å‰è‡³å°‘ n ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™ n ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ n ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚</td></tr><tr><td align="left">\nm</td><td align="left">æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \nm ä¹‹å‰è‡³å°‘æœ‰ nm ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™ nm ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ \nm ä¹‹å‰è‡³å°‘æœ‰ n ä¸ªè·å–ï¼Œåˆ™ n ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­— m çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥ n å’Œ m å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ \nm å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmã€‚</td></tr><tr><td align="left">\nml</td><td align="left">å¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-3)ï¼Œä¸” m å’Œ l å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmlã€‚</td></tr><tr><td align="left">\un</td><td align="left">åŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u00A9 åŒ¹é…ç‰ˆæƒç¬¦å· (?)ã€‚</td></tr></tbody></table><h1 id="4ï¼šåœ¨çº¿æµ‹è¯•"><a href="#4ï¼šåœ¨çº¿æµ‹è¯•" class="headerlink" title="4ï¼šåœ¨çº¿æµ‹è¯•"></a>4ï¼šåœ¨çº¿æµ‹è¯•</h1><p><a href="http://c.runoob.com/front-end/854">http://c.runoob.com/front-end/854</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ•°æ®åˆ†æ</title>
      <link href="/2020/09/29/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
      <url>/2020/09/29/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šç»¼è¿°"><a href="#1ï¼šç»¼è¿°" class="headerlink" title="1ï¼šç»¼è¿°"></a>1ï¼šç»¼è¿°</h1><p><strong>ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åˆ†æ</strong></p><ol><li>å²—ä½éœ€æ±‚</li><li>pythonæ•°æ®ç§‘å­¦çš„åŸºç¡€</li><li>æœºå™¨å­¦ä¹ çš„è¯¾ç¨‹åŸºç¡€</li></ol><p><strong>ä»€ä¹ˆæ˜¯æ•°æ®åˆ†æ</strong></p><p>ç”¨é€‚å½“çš„æ–¹æ³•å¯¹æ”¶é›†çš„å¤§é‡æ•°æ®è¿›è¡Œåˆ†æ</p><p>å¸®åŠ©äººä»¬åšå‡ºåˆ¤æ–­ï¼Œä»¥ä¾¿é‡‡å–é€‚å½“çš„è¡ŒåŠ¨</p><p><strong>jupyter notebookï¼š</strong></p><p>Pythonç¬”è®°è½¯ä»¶</p><h1 id="2ï¼šMatplotlib"><a href="#2ï¼šMatplotlib" class="headerlink" title="2ï¼šMatplotlib"></a>2ï¼šMatplotlib</h1><ol><li><p>å°†æ•°æ®<strong>å¯è§†åŒ–</strong>ï¼Œæ›´<strong>ç›´è§‚</strong>çš„å‘ˆç°</p></li><li><p>ä½¿æ•°æ®æ›´åŠ <strong>å®¢è§‚</strong>ã€æ›´å…·<strong>è¯´æœåŠ›</strong></p></li></ol><p>æœ€æµè¡Œçš„pythonåº•å±‚ç»˜å›¾åº“ï¼Œä¸»è¦åšæ•°æ®å¯è§†åŒ–ï¼Œæ¨¡ä»¿matlabæ„å»º</p><p><img src="https://i.loli.net/2020/09/30/LdSCfpJHt2ux7yM.png" class="lazyload" data-srcset="https://i.loli.net/2020/09/30/LdSCfpJHt2ux7yM.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt<span class="comment">#å¯¼å…¥pyplot</span></span><br><span class="line"></span><br><span class="line">x = range(<span class="number">2</span>,<span class="number">26</span>,<span class="number">2</span>)<span class="comment">#æ•°æ®åœ¨xè½´çš„ä½ç½®ï¼Œæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹</span></span><br><span class="line">y = [<span class="number">15</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">25</span>,<span class="number">26</span>,<span class="number">26</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">18</span>,<span class="number">15</span>]<span class="comment">#æ•°æ®åœ¨yè½´çš„ä½ç½®ï¼Œæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡</span></span><br><span class="line">plt.plot(x,y)<span class="comment">#ä¼ å…¥xå’Œyï¼Œé€šè¿‡plotç»˜åˆ¶å‡ºæŠ˜çº¿å›¾</span></span><br><span class="line">plt.show()<span class="comment">#æ‰§è¡Œç¨‹åºçš„æ—¶å€™å±•ç°å›¾åƒ</span></span><br></pre></td></tr></table></figure><p><strong>ç›®å‰å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p><ol><li>å›¾ç‰‡å¤§å°</li><li>ä¿å­˜åˆ°æœ¬åœ°</li><li>æè¿°ä¿¡æ¯ï¼Œæ¯”å¦‚xï¼Œyè½´è¡¨ç¤ºä»€ä¹ˆ</li><li>åˆ»åº¦</li><li>çº¿æ¡æ ·å¼</li><li>æ ‡è®°ç‰¹æ®Šç‚¹</li></ol><h2 id="2-1-è®¾ç½®å›¾ç‰‡å¤§å°-figure"><a href="#2-1-è®¾ç½®å›¾ç‰‡å¤§å°-figure" class="headerlink" title="2.1 è®¾ç½®å›¾ç‰‡å¤§å°-figure"></a>2.1 è®¾ç½®å›¾ç‰‡å¤§å°-figure</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(figsize=(<span class="number">20</span>,<span class="number">8</span>),dpi=<span class="number">80</span>)</span><br><span class="line"><span class="comment">#figureå›¾å½¢å›¾æ ‡çš„æ„æ€ï¼Œè¿™é‡ŒæŒ‡ç”»çš„å›¾</span></span><br><span class="line"><span class="comment">#é€šè¿‡å®ä¾‹åŒ–ä¸€ä¸ªfigureå¹¶ä¸”ä¼ å…¥å‚æ•°</span></span><br><span class="line"><span class="comment">#ä¼ å…¥åƒç´ å€¼ï¼Œdpiï¼Œè®©å›¾ç‰‡æ›´æ¸…æ™°</span></span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.savefig(<span class="string">&quot;./t1.png&quot;</span>)<span class="comment">#ä¿å­˜å›¾ç‰‡</span></span><br><span class="line"><span class="comment">#å¯ä»¥ä¿å­˜ä¸ºsvgçŸ¢é‡å›¾æ ¼å¼ï¼Œæ”¾å¤§ä¸ä¼šå¤±çœŸ</span></span><br></pre></td></tr></table></figure><h2 id="2-2-è®¾ç½®xï¼Œyè½´æ­¥é•¿-xticks-yticks"><a href="#2-2-è®¾ç½®xï¼Œyè½´æ­¥é•¿-xticks-yticks" class="headerlink" title="2.2 è®¾ç½®xï¼Œyè½´æ­¥é•¿-xticks/yticks"></a>2.2 è®¾ç½®xï¼Œyè½´æ­¥é•¿-xticks/yticks</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plt.xticks(x)<span class="comment">#è®¾ç½®æ­¥é•¿</span></span><br><span class="line">plt.xticks(range(<span class="number">2</span>,<span class="number">25</span>))</span><br><span class="line">_xticks_labels = [i/<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>,<span class="number">49</span>)]</span><br><span class="line">plt.xticks(_xticks_labels[::<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">plt.yticks(range(min(y),max(y)+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºå­—ç¬¦ä¸²</span></span><br><span class="line">_x = list(x)[::<span class="number">3</span>]</span><br><span class="line">_xticks_labels = [<span class="string">&quot;10ç‚¹&#123;&#125;åˆ†&quot;</span>.format(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">60</span>)]</span><br><span class="line">_xticks_labels += [<span class="string">&quot;11ç‚¹&#123;&#125;åˆ†&quot;</span>.format(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">60</span>)]</span><br><span class="line">plt.xticks(list(_x)[::<span class="number">3</span>],_xticks_labels[::<span class="number">3</span>],rotation=<span class="number">90</span>)<span class="comment">#,å‰ä¸ºæ­¥é•¿åˆ—è¡¨ï¼Œï¼Œåä¸ºå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œä¸æ­¥é•¿åˆ—è¡¨ä¸€ä¸€å¯¹åº”ï¼Œå¹¶æŠŠåˆ»åº¦æ—‹è½¬90åº¦æ˜¾ç¤ºã€‚</span></span><br></pre></td></tr></table></figure><p><strong>ä¸Šè¿°ç»˜å›¾ï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡</strong></p><h2 id="2-3-åŠ å…¥ä¸­æ–‡å­—ä½“æ”¯æŒ-FontProperties"><a href="#2-3-åŠ å…¥ä¸­æ–‡å­—ä½“æ”¯æŒ-FontProperties" class="headerlink" title="2.3 åŠ å…¥ä¸­æ–‡å­—ä½“æ”¯æŒ-FontProperties"></a>2.3 åŠ å…¥ä¸­æ–‡å­—ä½“æ”¯æŒ-FontProperties</h2><p>æ–¹æ³•1ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line">font = &#123;<span class="string">&#x27;family&#x27;</span>:<span class="string">&#x27;MicroSoft YaHei&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;weight&#x27;</span>:<span class="string">&#x27;bold&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;size&#x27;</span>:<span class="string">&#x27;larger&#x27;</span>&#125;</span><br><span class="line">matplotlib.rc(<span class="string">&quot;font&quot;</span>,**font)<span class="comment">#**å¯ä»¥æŠŠå­—å…¸è½¬ä¸ºxx=xxæ ¼å¼</span></span><br><span class="line">matplotlib.rc(<span class="string">&quot;font&quot;</span>,family=<span class="string">&#x27;MicroSoft YaHei&#x27;</span>,weight=<span class="string">&#x27;bold&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ–¹æ³•2ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> font_manager</span><br><span class="line">my_font = font_manager.FontProperties(fname=<span class="string">&quot;/System/Library/Fonts/PingFang.ttc&quot;</span>)<span class="comment">#è®¾å®šå­—ä½“ä½ç½®</span></span><br><span class="line"><span class="comment">#æŸ¥æ‰¾ç³»ç»Ÿå­—ä½“å­˜æ”¾ä½ç½®</span></span><br><span class="line">plt.xticks(list(_x)[::<span class="number">3</span>],_xticks_labels[::<span class="number">3</span>],rotation=<span class="number">90</span>,fontproperties=my_font)</span><br><span class="line"><span class="comment">#ä½¿ç”¨å­—ä½“</span></span><br></pre></td></tr></table></figure><h2 id="2-4-åŠ å…¥æè¿°ä¿¡æ¯-xlabel-ylabel-title"><a href="#2-4-åŠ å…¥æè¿°ä¿¡æ¯-xlabel-ylabel-title" class="headerlink" title="2.4 åŠ å…¥æè¿°ä¿¡æ¯-xlabel/ylabel/title"></a>2.4 åŠ å…¥æè¿°ä¿¡æ¯-xlabel/ylabel/title</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.xlabel(<span class="string">&quot;æ—¶é—´&quot;</span>,fontproperties=my_font)</span><br><span class="line">plt.ylabel(<span class="string">&quot;æ¸©åº¦ å•ä½ï¼ˆâ„ƒï¼‰&quot;</span>,fontproperties=my_font)</span><br><span class="line">plt.title(<span class="string">&quot;10ç‚¹åˆ°12ç‚¹çš„è¯·é—®å˜åŒ–&quot;</span>,fontproperties=my_font)</span><br></pre></td></tr></table></figure><h2 id="2-5-è®¾ç½®ç½‘æ ¼-grid"><a href="#2-5-è®¾ç½®ç½‘æ ¼-grid" class="headerlink" title="2.5 è®¾ç½®ç½‘æ ¼-grid"></a>2.5 è®¾ç½®ç½‘æ ¼-grid</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.grid()</span><br><span class="line">plt.grid(alpha=<span class="number">0.4</span>)<span class="comment">#è®¾ç½®ç½‘æ ¼é€æ˜åº¦ï¼Œ1ä¸é€æ˜ï¼Œ0é€æ˜</span></span><br></pre></td></tr></table></figure><h2 id="2-6-ç»˜åˆ¶ä¸¤ä¸ªå›¾å½¢-legend"><a href="#2-6-ç»˜åˆ¶ä¸¤ä¸ªå›¾å½¢-legend" class="headerlink" title="2.6 ç»˜åˆ¶ä¸¤ä¸ªå›¾å½¢-legend"></a>2.6 ç»˜åˆ¶ä¸¤ä¸ªå›¾å½¢-legend</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y1,label=<span class="string">&quot;è‡ªå·±&quot;</span>,color=<span class="string">&quot;orange&quot;</span>,linestyle=<span class="string">&quot;:&quot;</span>)</span><br><span class="line">plt.plot(x,y2,label=<span class="string">&quot;åŒæ¡Œ&quot;</span>,color=<span class="string">&quot;r&quot;</span>,linestyle=<span class="string">&quot;--&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·»åŠ å›¾ä¾‹ï¼Œè§£é‡Šå“ªä¸ªçº¿è¡¨ç¤ºå“ªä¸ªæ•°æ®é›†ï¼Œæ˜¾ç¤ºä¸­æ–‡ï¼Œæ ¼å¼ä¸å†æ˜¯FontProperties</span></span><br><span class="line"><span class="comment">#propå­—ä½“ï¼Œlocä½ç½®ï¼š0æœ€å¥½çš„ä½ç½®ï¼Œä¸è®¾ç½®å‚æ•°åˆ™é»˜è®¤0</span></span><br><span class="line">plt.legend(prop=my_font,loc=<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>color=â€™râ€™    é¢œè‰²</p><p>linestyle=â€™â€“â€™    çº¿æ¡é£æ ¼ï¼š-å®çº¿ï¼›â€“è™šçº¿ï¼›-.ç‚¹åˆ’çº¿ï¼›:ç‚¹è™šçº¿ï¼›ç•™ç©ºæˆ–ç©ºæ ¼ï¼Œè¡¨ç¤ºæ— çº¿æ¡</p><p>linewidth=5    çº¿ç²—ç»†</p><p>alpha=0.4    é€æ˜åº¦</p></blockquote><h2 id="2-7-ç»˜åˆ¶æ•£ç‚¹å›¾-scatter"><a href="#2-7-ç»˜åˆ¶æ•£ç‚¹å›¾-scatter" class="headerlink" title="2.7 ç»˜åˆ¶æ•£ç‚¹å›¾-scatter"></a>2.7 ç»˜åˆ¶æ•£ç‚¹å›¾-scatter</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="2-8-ç»˜åˆ¶æŸ±çŠ¶å›¾-bar"><a href="#2-8-ç»˜åˆ¶æŸ±çŠ¶å›¾-bar" class="headerlink" title="2.8 ç»˜åˆ¶æŸ±çŠ¶å›¾-bar"></a>2.8 ç»˜åˆ¶æŸ±çŠ¶å›¾-bar</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç»˜åˆ¶ç”µå½±ä¸å…¶å¯¹åº”ç¥¨æˆ¿</span></span><br><span class="line">a=[<span class="string">&quot;æˆ˜ç‹¼2&quot;</span>,<span class="string">&quot;é€Ÿåº¦ä¸æ¿€æƒ…8&quot;</span>,<span class="string">&quot;åŠŸå¤«ç‘œä¼½&quot;</span>,<span class="string">&quot;è¥¿æ¸¸é™„é­”ç¯‡&quot;</span>]</span><br><span class="line">b=[<span class="number">56</span>,<span class="number">61</span>,<span class="number">26</span>,<span class="number">94</span>]</span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>,<span class="number">15</span>),dpi=<span class="number">80</span>)</span><br><span class="line"><span class="comment">#ç»˜åˆ¶æŸ±çŠ¶å›¾</span></span><br><span class="line">plt.bar(range(a),b,width=<span class="number">0.3</span>)</span><br><span class="line"><span class="comment">#è®¾ç½®æ¨ªè½´å­—ç¬¦ä¸²</span></span><br><span class="line">plt.xticks(range(a),a,rotation=<span class="number">45</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="2-9-ç»˜åˆ¶æ¡å½¢å›¾-barh"><a href="#2-9-ç»˜åˆ¶æ¡å½¢å›¾-barh" class="headerlink" title="2.9 ç»˜åˆ¶æ¡å½¢å›¾-barh"></a>2.9 ç»˜åˆ¶æ¡å½¢å›¾-barh</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.barh(range(len(a)),b,height=<span class="number">0.3</span>,color=<span class="string">&#x27;orange&#x27;</span>)</span><br><span class="line">plt.yticks(range(len(a)),a)</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/01/EFdtgolApGN7qPa.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/01/EFdtgolApGN7qPa.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="2-10-ç»˜åˆ¶ç›´æ–¹å›¾-hist"><a href="#2-10-ç»˜åˆ¶ç›´æ–¹å›¾-hist" class="headerlink" title="2.10 ç»˜åˆ¶ç›´æ–¹å›¾-hist"></a>2.10 ç»˜åˆ¶ç›´æ–¹å›¾-hist</h2><p>æœ‰250éƒ¨ç”µå½±çš„æ—¶é•¿ï¼Œç»Ÿè®¡æ—¶é•¿åˆ†å¸ƒçš„æ•°é‡ï¼Œæ¯”å¦‚100åˆ°120åˆ†é’Ÿçš„ç”µå½±æ•°ã€‚</p><p>ç»„æ•°=æå·®/ç»„è·ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">120</span>,<span class="number">76</span>,<span class="number">124</span>,<span class="number">161</span>â€¦â€¦]<span class="comment">#250éƒ¨ç”µå½±çš„æ—¶é•¿ã€‚</span></span><br><span class="line"><span class="comment">#è®¡ç®—ç»„æ•°</span></span><br><span class="line">theory_d = <span class="number">3</span><span class="comment">#å‡å®šç»„è·</span></span><br><span class="line">num_bins = (max(a)-min(a))//d<span class="comment">#è®¡ç®—ç»„æ•°</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize = (<span class="number">20</span>,<span class="number">8</span>),dpi=<span class="number">80</span>)</span><br><span class="line">plt.hist(a,num_bins)<span class="comment">#é¢‘æ•°åˆ†å¸ƒç›´æ–¹å›¾</span></span><br><span class="line">plt.hist(a,num_bins,normed=<span class="literal">True</span>)<span class="comment">#é¢‘ç‡åˆ†å¸ƒç›´æ–¹å›¾</span></span><br><span class="line"><span class="comment">#è®¾ç½®xåˆ»åº¦</span></span><br><span class="line">plt.xticks(range(min(a),max(a)+d,d))</span><br><span class="line">plt.grid()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><blockquote><p>å½“ï¼ˆæœ€å¤§å€¼-æœ€å°å€¼ï¼‰/å‡å®šç»„è· æ— æ³•é™¤å°½æ—¶ï¼Œæ ¹æ®å‡å®šç»„è·ç»˜åˆ¶çš„xåˆ»åº¦ä¼šåç§»ã€‚</p></blockquote><p>2.11 ç»˜åˆ¶å…¶ä»–å›¾å½¢</p><p><a href="https://matplotlib.org/gallery/index.html">https://matplotlib.org/gallery/index.html</a></p><p>å‰ç«¯ç”»å›¾åº“jsâ€”â€”echartsï¼š</p><p><a href="https://echarts.apache.org/examples/zh/index.html">https://echarts.apache.org/examples/zh/index.html</a></p><p>å›¾è¡¨ä»£ç æ‰˜ç®¡â€”â€”Plotly:<br><a href="https://plot.ly/python">https://plot.ly/python</a></p><h1 id="2ï¼šNumpy"><a href="#2ï¼šNumpy" class="headerlink" title="2ï¼šNumpy"></a>2ï¼šNumpy</h1><p><strong>ä»€ä¹ˆæ—¶numpyï¼Ÿ</strong></p><p>ä¸€ä¸ªå†pythonä¸­åšç§‘å­¦è®¡ç®—çš„åŸºç¡€åº“ï¼Œé‡åœ¨æ•°å€¼è®¡ç®—ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†pythonç§‘å­¦è®¡ç®—åº“çš„åŸºç¡€åº“ï¼Œå¤šç”¨äºåœ¨å¤§å‹ã€å¤šç»´æ•°ç»„ä¸Šæ‰§è¡Œæ•°å€¼è®¡ç®—ã€‚</p><h2 id="2-1-åˆ›å»ºæ•°ç»„ï¼š"><a href="#2-1-åˆ›å»ºæ•°ç»„ï¼š" class="headerlink" title="2.1 åˆ›å»ºæ•°ç»„ï¼š"></a>2.1 åˆ›å»ºæ•°ç»„ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">b = np.array(range(<span class="number">10</span>))</span><br><span class="line">c = np.arange(<span class="number">10</span>)<span class="comment">#ä½œç”¨ä¸bçš„è¡¨è¾¾å¼ç›¸åŒ</span></span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">print(type(a))</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœï¼š</p><p>[1 2 3]</p><p>&lt;class â€˜nmpy.ndarrayâ€™&gt;</p></blockquote><h2 id="2-2-æ•°æ®ç±»å‹"><a href="#2-2-æ•°æ®ç±»å‹" class="headerlink" title="2.2 æ•°æ®ç±»å‹"></a>2.2 æ•°æ®ç±»å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">d = np.array(range(<span class="number">1</span>,<span class="number">4</span>),dtype=<span class="string">&quot;float32&quot;</span>)<span class="comment">#dtypeæŒ‡å®šæ•°ç»„ä¸­æ•°æ®çš„æ•°æ®ç±»å‹</span></span><br><span class="line">e = np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>],dtype=bool)</span><br><span class="line">print(e.dtype)<span class="comment">#æ‰“å°æ•°ç»„ä¸­æ•°æ®çš„æ•°æ®ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è°ƒæ•´æ•°æ®ç±»å‹</span></span><br><span class="line">f = d.astype(<span class="string">&quot;int8&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æµ®ç‚¹å‹çš„å°æ•°ä½æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; np.array(random.random() for i in range(10))</span><br><span class="line">np.round(a,2)</span><br></pre></td></tr></table></figure><h2 id="2-3-æ•°ç»„å½¢çŠ¶"><a href="#2-3-æ•°ç»„å½¢çŠ¶" class="headerlink" title="2.3 æ•°ç»„å½¢çŠ¶"></a>2.3 æ•°ç»„å½¢çŠ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t1 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">t1.shape</span><br><span class="line"><span class="comment">#out:(2,3)</span></span><br></pre></td></tr></table></figure><p><strong>æ•°ç»„çš„å½¢çŠ¶</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t2 = np.arange(<span class="number">12</span>)<span class="comment">#æ–°å»ºä¸€ç»´æ•°ç»„</span></span><br><span class="line">t3 = t2.reshape(<span class="number">3</span>,<span class="number">4</span>)<span class="comment">#å˜ä¸ºäºŒç»´çš„</span></span><br><span class="line">t4 = t2.reshape(<span class="number">24</span>,)<span class="comment">#å˜ä¸€ç»´æ•°ç»„</span></span><br><span class="line">t5 = t2.flatten()<span class="comment">#å˜ä¸€ç»´æ•°ç»„</span></span><br></pre></td></tr></table></figure><h2 id="2-4-æ•°ç»„è®¡ç®—"><a href="#2-4-æ•°ç»„è®¡ç®—" class="headerlink" title="2.4 æ•°ç»„è®¡ç®—"></a>2.4 æ•°ç»„è®¡ç®—</h2><p><strong>æ•°ç»„å’Œæ•°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t6 = np.arange(<span class="number">24</span>)</span><br><span class="line">t7 = t6.reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line">t7+<span class="number">2</span><span class="comment">#æ•°ç»„ä¸­æ¯ä¸ªæ•°éƒ½åŠ 2</span></span><br><span class="line">t7*<span class="number">2</span><span class="comment">#æ¯ä¸ªæ•°éƒ½ä¹˜2</span></span><br><span class="line">t7/<span class="number">2</span><span class="comment">#æ¯ä¸ªæ•°éƒ½é™¤2ï¼Œä¼šå¾—åˆ°æµ®ç‚¹æ•°</span></span><br></pre></td></tr></table></figure><p><strong>æ•°ç»„å’Œæ•°ç»„</strong></p><p>å½¢çŠ¶ç›¸åŒï¼š(4,6)ä¸(4,6)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t8 = np.arange(<span class="number">100</span>,<span class="number">124</span>).reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line">t7+t8<span class="comment">#å½¢çŠ¶ç›¸åŒï¼Œè¡Œåˆ—ç›¸åŒçš„æ•°å€¼è¿›è¡Œè¿ç®—</span></span><br><span class="line">t7*t8</span><br></pre></td></tr></table></figure><p>(4,6)ä¸(,6)</p><p><img src="https://i.loli.net/2020/10/03/FXmBQap341rgTOf.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/03/FXmBQap341rgTOf.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>(4,6)ä¸(4,1)</p><p><img src="https://i.loli.net/2020/10/03/7iFszdVEr3KNZYf.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/03/7iFszdVEr3KNZYf.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>å¹¿æ’­åŸåˆ™ï¼š</strong></p><p>å¦‚æœä¸¤ä¸ªæ•°ç»„çš„åç¼˜ç»´åº¦ï¼Œå³ä»æœ«å°¾å¼€å§‹ç®—èµ·çš„ç»´åº¦çš„è½´é•¿åº¦ç›¸ç¬¦æˆ–å…¶ä¸­ä¸€æ–¹çš„é•¿åº¦ä¸º1ï¼Œåˆ™è®¤ä¸ºä»–ä»¬æ˜¯å¹¿æ’­å…¼å®¹çš„ã€‚å¹¿æ’­ä¼šåœ¨ç¼ºå¤±å’Œæˆ–é•¿åº¦ä¸º1çš„ç»´åº¦ä¸Šè¿›è¡Œ</p><h2 id="2-5-è¯»å–æ•°æ®"><a href="#2-5-è¯»å–æ•°æ®" class="headerlink" title="2.5 è¯»å–æ•°æ®"></a>2.5 è¯»å–æ•°æ®</h2><p><strong>è½´</strong></p><p>ä¸€ç»´æ•°ç»„åªæœ‰ä¸€ä¸ªè½´ï¼Œå³0è½´</p><p>äºŒç»´æ•°ç»„æœ‰ä¸¤ä¸ªè½´ï¼Œ0å’Œ1è½´ã€‚(2,5)ï¼Œ2æ˜¯0è½´é•¿åº¦ï¼Œ5æ˜¯1è½´é•¿åº¦</p><p>ä¸‰ç»´æ•°ç»„æœ‰ä¸‰ä¸ªè½´ï¼Œ0ï¼Œ1ï¼Œ2è½´</p><p><strong>è¯»å–æ•°æ®</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.loadtxt(frame,dtype=np.float,delimiter=<span class="literal">None</span>,skiprows=<span class="number">0</span>,usecols=<span class="literal">None</span>,unpack=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>frameï¼šæ–‡ä»¶ã€å­—ç¬¦ä¸²æˆ–äº§ç”Ÿå™¨</p><p>dtypeï¼šæ•°æ®ç±»å‹</p><p>dlimiterï¼šåˆ†å‰²å­—ç¬¦ä¸²ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼</p><p>skiprowsï¼šè·³è¿‡å‰xè¡Œ</p><p>usecolsï¼šè¯»å–æŒ‡å®šçš„åˆ—</p><p>unpackï¼šTrueè¡¨ç¤ºï¼Œè¯»å…¥å±æ€§å°†åˆ†åˆ«å†™å…¥ä¸åŒçš„æ•°ç»„å˜é‡ï¼ŒFalse è¯»å…¥æ•°æ®åªå†™å…¥ä¸€ä¸ªæ•°ç»„å˜é‡ï¼Œé»˜è®¤Falseã€‚<strong>è½¬ç½®æ•ˆæœ</strong>ã€‚</p><p>è¯»å–çš„æ–‡ä»¶å†…å®¹æ ¼å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1241,1241,15346,2451</span><br><span class="line">125415,235,4135,1351</span><br><span class="line">12516,15326,1361,616</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure><p>è¯»å–æ—¶å¯ä»¥æŒ‰<code>,</code>åˆ†å‰²ã€‚æŒ‰è¡Œåˆ’åˆ†</p><h2 id="2-6-çŸ©é˜µè½¬ç½®"><a href="#2-6-çŸ©é˜µè½¬ç½®" class="headerlink" title="2.6 çŸ©é˜µè½¬ç½®"></a>2.6 çŸ©é˜µè½¬ç½®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t2.transpose()</span><br><span class="line">t2.T</span><br><span class="line">t2.swapaxes(<span class="number">1</span>,<span class="number">0</span>)<span class="comment">#äº¤æ¢è½´ï¼Œä¹Ÿèƒ½å®ç°è½¬ç½®æ•ˆæœ</span></span><br></pre></td></tr></table></figure><h2 id="2-7-ç´¢å¼•å’Œåˆ‡ç‰‡"><a href="#2-7-ç´¢å¼•å’Œåˆ‡ç‰‡" class="headerlink" title="2.7 ç´¢å¼•å’Œåˆ‡ç‰‡"></a>2.7 ç´¢å¼•å’Œåˆ‡ç‰‡</h2><p>å–ç¬¬äºŒè¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>å–è¿ç»­çš„å¤šè¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[<span class="number">2</span>:]</span><br></pre></td></tr></table></figure><p>å–ä¸è¿ç»­çš„å¤šè¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[[<span class="number">2</span>,<span class="number">8</span>,<span class="number">10</span>]]</span><br></pre></td></tr></table></figure><p>å–ç¬¬ä¸€åˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[:,<span class="number">0</span>]</span><br></pre></td></tr></table></figure><p>å–è¿ç»­å¤šåˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[:,<span class="number">2</span>:]</span><br></pre></td></tr></table></figure><p>å–ä¸è¿ç»­çš„å¤šåˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[:,[<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>]]</span><br></pre></td></tr></table></figure><p>å–3è¡Œå››åˆ—çš„å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure><p>å–å¤šè¡Œå¤šåˆ—ï¼š3è¡Œåˆ°5è¡Œï¼Œ2åˆ—åˆ°4åˆ—ï¼Œå› ä¸º<code>:</code>å·¦å³æ˜¯å·¦é—­å³å¼€åŒºé—´ï¼Œè¡Œæ•°ä¸ºç´¢å¼•+1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[<span class="number">2</span>:<span class="number">5</span>,<span class="number">1</span>:<span class="number">4</span>]</span><br></pre></td></tr></table></figure><p>å–å¤šä¸ªä¸è¿ç»­çš„ç‚¹ï¼š(0,0)  (2,1)  (5,5)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t2[[0,2,5],[0,1,5]]</span><br></pre></td></tr></table></figure><h2 id="2-8-ä¿®æ”¹æ•°å€¼"><a href="#2-8-ä¿®æ”¹æ•°å€¼" class="headerlink" title="2.8 ä¿®æ”¹æ•°å€¼"></a>2.8 ä¿®æ”¹æ•°å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t[:,<span class="number">2</span>:<span class="number">4</span>] = <span class="number">0</span></span><br></pre></td></tr></table></figure><p><strong>å¸ƒå°”ç´¢å¼•</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t2&lt;<span class="number">10</span><span class="comment">#ç›¸åŒçš„çŸ©é˜µï¼ŒçŸ©é˜µå€¼ä¸ºå¸ƒå°”ç±»å‹ï¼Œå¯¹åº”ä½ç½®æ»¡è¶³å€¼å°äº10ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0</span></span><br><span class="line">t2[t2&lt;<span class="number">10</span>] = <span class="number">3</span><span class="comment">#t2ä¸­å°äº10çš„ä½ç½®ï¼Œèµ‹å€¼ä¸º3</span></span><br><span class="line">t2[t2&lt;<span class="number">10</span>]<span class="comment">#å–t2ä¸­å°äº10çš„æ•°ç»„æˆæ–°çŸ©é˜µ</span></span><br></pre></td></tr></table></figure><p><strong>ä¸‰å…ƒè¿ç®—ç¬¦</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.where(t&lt;<span class="number">10</span>,<span class="number">0</span>,<span class="number">10</span>)<span class="comment">#å¦‚æœå°äº10ï¼Œæ›¿æ¢ä¸º0ï¼Œå¦åˆ™æ›¿æ¢ä¸º10</span></span><br></pre></td></tr></table></figure><p><strong>è£å‰ª</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.clip(<span class="number">10</span>,<span class="number">18</span>)<span class="comment">#å°äº10çš„æ›¿æ¢ä¸º10ï¼Œå¤§äº18çš„æ›¿æ¢ä¸º18</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t2 = t2.astype(float)</span><br><span class="line">t2[<span class="number">3</span>,<span class="number">3</span>] = np.nan</span><br></pre></td></tr></table></figure><h2 id="2-9-æ‹¼æ¥æ•°ç»„"><a href="#2-9-æ‹¼æ¥æ•°ç»„" class="headerlink" title="2.9 æ‹¼æ¥æ•°ç»„"></a>2.9 æ‹¼æ¥æ•°ç»„</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.vstack(t1,t2)<span class="comment">#ç«–ç›´æ‹¼æ¥</span></span><br><span class="line">np.hstack(t1,t2)<span class="comment">#æ°´å¹³æ‹¼æ¥</span></span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/11/XpmuQc9dIC8jEws.png" class="lazyload" data-srcset="https://i.loli.net/2020/10/11/XpmuQc9dIC8jEws.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="2-10-è¡Œåˆ—äº¤æ¢"><a href="#2-10-è¡Œåˆ—äº¤æ¢" class="headerlink" title="2.10 è¡Œåˆ—äº¤æ¢"></a>2.10 è¡Œåˆ—äº¤æ¢</h2><p>è¡Œäº¤æ¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t[[<span class="number">1</span>,<span class="number">2</span>],:] = t[[<span class="number">2</span>,<span class="number">1</span>],:]</span><br></pre></td></tr></table></figure><p>åˆ—äº¤æ¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t[:,[<span class="number">0</span>,<span class="number">2</span>]] = t[:,[<span class="number">2</span>,<span class="number">0</span>]]</span><br></pre></td></tr></table></figure><h2 id="2-11-å…¶ä»–æ–¹æ³•"><a href="#2-11-å…¶ä»–æ–¹æ³•" class="headerlink" title="2.11 å…¶ä»–æ–¹æ³•"></a>2.11 å…¶ä»–æ–¹æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è·å–æœ€å¤§æœ€å°å€¼</span></span><br><span class="line">np.argmax(t,axis=<span class="number">0</span>)</span><br><span class="line">np.argmin(t,axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªå…¨0çš„æ•°ç»„</span></span><br><span class="line">np.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"><span class="comment">#åˆ›å»ºå…¨1æ•°ç»„</span></span><br><span class="line">np.ones((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªå¯¹è§’çº¿ä¸º1çš„æ­£æ–¹å½¢æ•°ç»„ï¼ˆæ–¹é˜µï¼‰</span></span><br><span class="line">np.eye(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><h2 id="2-12-ç”Ÿæˆéšæœºæ•°"><a href="#2-12-ç”Ÿæˆéšæœºæ•°" class="headerlink" title="2.12 ç”Ÿæˆéšæœºæ•°"></a>2.12 ç”Ÿæˆéšæœºæ•°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.random.rand(3,4)#å‡åŒ€åˆ†å¸ƒ</span><br><span class="line">np.random.randn(3,4)#æ ‡å‡†æ­£å¤ªåˆ†å¸ƒçš„éšæœºæ•°ï¼Œå¹³å‡æ•°ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1</span><br><span class="line">np.random.randint(low,high,(shape))#äº§ç”Ÿ[low,high)ä¹‹é—´çš„æ•°</span><br></pre></td></tr></table></figure><p>ç§å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">t = np.random.randint(<span class="number">0</span>,<span class="number">20</span>,(<span class="number">3</span>,<span class="number">4</span>))<span class="comment">#æ¯æ¬¡éšæœºçš„ç»“æœç›¸åŒ</span></span><br></pre></td></tr></table></figure><h2 id="2-13-copyå’Œview"><a href="#2-13-copyå’Œview" class="headerlink" title="2.13 copyå’Œview"></a>2.13 copyå’Œview</h2><ol><li>a=bå®Œå…¨ä¸å¤åˆ¶ï¼Œaå’Œbç›¸äº’å½±å“ã€‚</li><li>a = b[:]ï¼Œè§†å›¾æ“ä½œï¼Œåˆ›å»ºæ–°å¯¹è±¡aï¼Œä½†açš„æ•°æ®å®Œå…¨ç”±bä¿ç®¡ï¼Œä¸¤è€…æ•°æ®å˜åŒ–ä¸€è‡´ã€‚</li><li>a = b.copy()å¤åˆ¶ï¼Œaå’Œbäº’ä¸å½±å“ã€‚</li></ol><h2 id="2-14-nanå’Œinf"><a href="#2-14-nanå’Œinf" class="headerlink" title="2.14 nanå’Œinf"></a>2.14 nanå’Œinf</h2><p>nan(NAN,Nan)ï¼šnot a numberè¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªæ•°å­—</p><p>inf(-inf,inf)ï¼šinfinityï¼Œæ­£æ— ç©·ï¼Œ-infè¡¨ç¤ºè´Ÿæ— ç©·</p><p>ä¸€ä¸ªæ•°å­—é™¤ä»¥0ï¼Œpythonä¸­ä¼šæŠ¥é”™ï¼Œnumpyä¸­æ˜¯ä¸€ä¸ªinf</p><p><strong>nanï¼š</strong></p><ol><li>ä¸¤ä¸ªnanä¸ç›¸ç­‰</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.nan !=np.nan</span><br><span class="line"><span class="comment">#True</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è®¡ç®—nanä¸ªæ•°</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.count_nonzero(t2!=t2)<span class="comment">#t2!=t2ï¼Œå¾—åˆ°æ–°çŸ©é˜µï¼Œæ¯ä¸ªä½ç½®æ˜¯boolç±»å‹ï¼Œtrueè¡¨ç¤ºè¯¥ä½ç½®æ˜¯nan</span></span><br><span class="line">np.count_nonzero(np.isnan(t2))<span class="comment">#</span></span><br></pre></td></tr></table></figure><ol start="3"><li>è®¡ç®—çŸ©é˜µå’Œ</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.sum(t3)</span><br><span class="line">np.sum(t3, axis=<span class="number">0</span>)<span class="comment">#æ•°ç»„å…ƒç´ ä¸ªæ•°ï¼Œä¸åˆ—æ•°ç›¸åŒã€‚ï¼Œè®¡ç®—å¯¹åº”åˆ—ä¸Šçš„å’Œ</span></span><br></pre></td></tr></table></figure><h2 id="2-15-å¸¸ç”¨ç»Ÿè®¡å‡½æ•°"><a href="#2-15-å¸¸ç”¨ç»Ÿè®¡å‡½æ•°" class="headerlink" title="2.15 å¸¸ç”¨ç»Ÿè®¡å‡½æ•°"></a>2.15 å¸¸ç”¨ç»Ÿè®¡å‡½æ•°</h2><p>æ±‚å’Œï¼št.sum(axis=0)</p><p>å‡å€¼ï¼št.mean(axis=0)</p><p>ä¸­å€¼ï¼št.median(axis)</p><p>æœ€å¤§å€¼ï¼št.max</p><p>æœ€å°å€¼:t.min</p><p>æå€¼ï¼šnp.ptp(t,axis=None)    æœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹å·®</p><p>æ ‡å‡†å·®ï¼št.std(axis=None)</p><p><strong>é»˜è®¤è¿”å›å¤šç»´æ•°ç»„çš„å…¨éƒ¨ç»Ÿè®¡ç»“æœ</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pandas </tag>
            
            <tag> Matplotlib </tag>
            
            <tag> Numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨æ ‘è“æ´¾å®šæ—¶æŠ¢å›¾ä¹¦é¦†åº§ä½</title>
      <link href="/2020/09/27/%E5%88%A9%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%9A%E6%97%B6%E6%8A%A2%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%BA%A7%E4%BD%8D/"/>
      <url>/2020/09/27/%E5%88%A9%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%9A%E6%97%B6%E6%8A%A2%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%BA%A7%E4%BD%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šéœ€æ±‚åˆ†æ"><a href="#1ï¼šéœ€æ±‚åˆ†æ" class="headerlink" title="1ï¼šéœ€æ±‚åˆ†æ"></a>1ï¼šéœ€æ±‚åˆ†æ</h1><p>ç”±äºæ–°å† ç–«æƒ…çš„å½±å“ï¼Œå­¦æ ¡å›¾ä¹¦é¦†å’Œè‡ªä¹ å®¤å¿…é¡»åœ¨ç›‘ç®¡ä¹‹ä¸‹è¿è¡Œï¼Œæ¯æ—¥æä¾›çš„åå¸­å’Œå¼€æ”¾æ—¶é—´å—é™ã€‚å¤§éƒ¨åˆ†è‡ªä¹ å®¤è¢«å…³é—­ï¼Œå¯¼è‡´åå¸­éœ€æ±‚å¾ˆå¤§ï¼Œè€Œä¾›åº”å¾ˆå°‘ã€‚æ–°è§„è¦æ±‚ï¼Œå›¾ä¹¦é¦†å’Œè‡ªä¹ å®¤çš„åå¸­å¿…é¡»åœ¨å­¦æ ¡å®˜ç½‘ä¸Šé¢„å®šï¼Œè€Œä¸”é¢„å®šæ—¶é—´æ˜¯å‘¨æ—¥åˆ°å‘¨å››æ—©ä¸Šå…«ç‚¹ï¼Œä»…èƒ½é¢„å®šåä¸€å¤©çš„ä½ç½®ã€‚</p><p>åœ¨è€ƒè¯•å‘¨ï¼Œåº§ä½éå¸¸éš¾æŠ¢åˆ°ï¼Œå› æ­¤èŒå‘äº†é€šè¿‡ç¨‹åºæŠ¢åº§çš„å¿µå¤´ã€‚</p><p>ç›®å‰éœ€æ±‚æ˜¯ï¼Œç¨‹åºåœ¨å‘¨å¤©åˆ°å‘¨æ—¥çš„æ—©ä¸Šå…«ç‚¹å¯åŠ¨ï¼Œå¹¶æ‰“å¼€æŠ¢åº§é¡µé¢ï¼ŒæŠ¢åº§åå…³é—­ç¨‹åºã€‚æŠ¢åº§æˆåŠŸåï¼Œå­¦æ ¡ä¼šè‡ªåŠ¨å‘é€æŠ¢åº§æˆåŠŸçš„é‚®ä»¶ã€‚</p><h1 id="2ï¼šè½¯ç¡¬ä»¶åº”ç”¨"><a href="#2ï¼šè½¯ç¡¬ä»¶åº”ç”¨" class="headerlink" title="2ï¼šè½¯ç¡¬ä»¶åº”ç”¨"></a>2ï¼šè½¯ç¡¬ä»¶åº”ç”¨</h1><p>æœåŠ¡å™¨ï¼šæ ‘è“æ´¾4B+ã€Linuxç³»ç»Ÿ</p><p>è¯­è¨€ï¼šPython</p><p>ä¾èµ–åº“ï¼šSeleniumï¼Œdate</p><p>Linuxå·¥å…·ï¼šcrontab</p><h1 id="3ï¼šæŠ¢åº§ç¨‹åº"><a href="#3ï¼šæŠ¢åº§ç¨‹åº" class="headerlink" title="3ï¼šæŠ¢åº§ç¨‹åº"></a>3ï¼šæŠ¢åº§ç¨‹åº</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> Select</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç‚¹å‡»buchenæŒ‰é’®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">clickbucheng</span>(<span class="params">driver</span>):</span></span><br><span class="line">    inputs = driver.find_elements_by_tag_name(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> input <span class="keyword">in</span> inputs:</span><br><span class="line">        <span class="keyword">if</span> input.get_attribute(<span class="string">&#x27;value&#x27;</span>) == <span class="string">&#x27;buchen&#x27;</span>:</span><br><span class="line">            ActionChains(driver).click(input).perform()</span><br><span class="line">            <span class="comment"># writetohtml(driver,r&quot;C:\Users\97532\OneDrive\ç¨‹åºä»“åº“\getPlatzinBibliothek\1.html&quot;)</span></span><br><span class="line">            window = driver.window_handles[<span class="number">1</span>]</span><br><span class="line">            driver.switch_to.window(window)</span><br><span class="line">            driver.find_elements_by_css_selector(<span class="string">&#x27;#bs_form_main &gt; div &gt; div.bs_etvg &gt; div &gt; label &gt; div.bs_form_uni.bs_right.padding0 &gt; input&#x27;</span>)[<span class="number">0</span>].click()</span><br><span class="line">            print(datetime.datetime.now().strftime(<span class="string">&#x27;%Y.%m.%d-%H:%M:%S&#x27;</span>),<span class="string">&quot;: start buchen&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‘é€è¡¨æ ¼ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendform</span>(<span class="params">driver</span>):</span></span><br><span class="line">    <span class="comment"># writetohtml(driver,r&#x27;C:\Users\97532\OneDrive\ç¨‹åºä»“åº“\getPlatzinBibliothek\2.html&#x27;)</span></span><br><span class="line">    <span class="comment">#sex:M/W</span></span><br><span class="line">    urinfo = &#123;<span class="string">&quot;sex&quot;</span>:<span class="string">&quot;M&quot;</span>,<span class="string">&quot;vorname&quot;</span>:<span class="string">&quot;***&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;***&quot;</span>,<span class="string">&quot;strasse&quot;</span>:<span class="string">&quot;Hai***1&quot;</span>,<span class="string">&quot;ort&quot;</span>:<span class="string">&quot;***&quot;</span>,<span class="string">&quot;status&quot;</span>:<span class="string">&quot;S-RWTH&quot;</span>,<span class="string">&quot;matnr&quot;</span>:<span class="string">&quot;***93&quot;</span>,<span class="string">&quot;email&quot;</span>:<span class="string">&quot;im@xieqifei.com&quot;</span>,<span class="string">&quot;telefon&quot;</span>:<span class="string">&quot;0049***4845&quot;</span>&#125;</span><br><span class="line">    radios = driver.find_elements_by_name(<span class="string">&#x27;sex&#x27;</span>)</span><br><span class="line">    vorname = driver.find_element_by_name(<span class="string">&#x27;vorname&#x27;</span>)</span><br><span class="line">    name = driver.find_element_by_name(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    strasse = driver.find_element_by_name(<span class="string">&#x27;strasse&#x27;</span>)</span><br><span class="line">    ort = driver.find_element_by_name(<span class="string">&#x27;ort&#x27;</span>)</span><br><span class="line">    status = Select(driver.find_element_by_name(<span class="string">&#x27;statusorig&#x27;</span>))</span><br><span class="line">    matnr = driver.find_element_by_name(<span class="string">&#x27;matnr&#x27;</span>)</span><br><span class="line">    email = driver.find_element_by_name(<span class="string">&#x27;email&#x27;</span>)</span><br><span class="line">    telefon = driver.find_element_by_name(<span class="string">&#x27;telefon&#x27;</span>)</span><br><span class="line">    tnbed = driver.find_element_by_name(<span class="string">&#x27;tnbed&#x27;</span>)</span><br><span class="line">    submit = driver.find_element_by_css_selector(<span class="string">&#x27;#bs_foot &gt; div.bs_form_row &gt; div.bs_right &gt; input&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> radio <span class="keyword">in</span> radios:</span><br><span class="line">        <span class="keyword">if</span> radio.get_attribute(<span class="string">&quot;value&quot;</span>) == urinfo[<span class="string">&#x27;sex&#x27;</span>]:</span><br><span class="line">            radio.click()</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    vorname.send_keys(urinfo[<span class="string">&#x27;vorname&#x27;</span>])</span><br><span class="line">    name.send_keys(urinfo[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line">    strasse.send_keys(urinfo[<span class="string">&#x27;strasse&#x27;</span>])</span><br><span class="line">    ort.send_keys(urinfo[<span class="string">&#x27;ort&#x27;</span>])</span><br><span class="line">    status.select_by_value(urinfo[<span class="string">&#x27;status&#x27;</span>])</span><br><span class="line">    matnr.send_keys(urinfo[<span class="string">&#x27;matnr&#x27;</span>])</span><br><span class="line">    email.send_keys(urinfo[<span class="string">&#x27;email&#x27;</span>])</span><br><span class="line">    telefon.send_keys(urinfo[<span class="string">&#x27;telefon&#x27;</span>])</span><br><span class="line">    tnbed.click()</span><br><span class="line">    telefon.click()</span><br><span class="line">    sleep(<span class="number">4</span>)</span><br><span class="line">    <span class="comment"># WebDriverWait(driver, 10).until(EC.element_to_be_clickable(By.XPATH,&#x27;//*[@id=&quot;bs_foot&quot;]/div[3]/div[2]/input&#x27;))</span></span><br><span class="line">    submit.click()</span><br><span class="line">    print(datetime.datetime.now().strftime(<span class="string">&#x27;%Y.%m.%d-%H:%M:%S&#x27;</span>),<span class="string">&quot;: send MsgForm&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¡®è®¤é¢„å®š</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">confirm</span>(<span class="params">driver</span>):</span></span><br><span class="line">    confirm = driver.find_element_by_css_selector(<span class="string">&#x27;#bs_foot &gt; div.bs_form_row &gt; div.bs_right &gt; input&#x27;</span>)</span><br><span class="line">    confirm.click()</span><br><span class="line">    print(datetime.datetime.now().strftime(<span class="string">&#x27;%Y.%m.%d-%H:%M:%S&#x27;</span>),<span class="string">&quot;: confirm,buchen success!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯å‘é€ç”¨æˆ·åå¯†ç æŠ¢åº§</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendpw</span>(<span class="params">driver</span>):</span></span><br><span class="line">    logininfo = &#123;<span class="string">&quot;pw_email&quot;</span>:<span class="string">&quot;im@xieqifei.com&quot;</span>,<span class="string">&quot;password&quot;</span>:<span class="string">&quot;***&quot;</span>&#125;</span><br><span class="line">    pw_email = driver.find_element_by_name(<span class="string">&#x27;pw_email&#x27;</span>)</span><br><span class="line">    pw = driver.find_element_by_css_selector(<span class="string">&#x27;#bs_pw_anm &gt; div:nth-child(3) &gt; div.bs_form_sp2 &gt; input&#x27;</span>)</span><br><span class="line">    submit2 = driver.find_element_by_css_selector(<span class="string">&#x27;#bs_pw_anm &gt; div.bs_form_foot &gt; div.bs_form_row &gt; div.bs_right &gt; input&#x27;</span>)</span><br><span class="line">    pw_email.send_keys(logininfo[<span class="string">&#x27;pw_email&#x27;</span>])</span><br><span class="line">    pw.send_keys(logininfo[<span class="string">&#x27;password&#x27;</span>])</span><br><span class="line">    <span class="comment"># sleep(3)</span></span><br><span class="line">    submit2.submit()</span><br><span class="line">    </span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">def writetohtml(driver,path):</span></span><br><span class="line"><span class="string">    f = open(path,&#x27;wb&#x27;)</span></span><br><span class="line"><span class="string">    f.write(driver.page_source.encode(&quot;utf-8&quot;, &quot;ignore&quot;))</span></span><br><span class="line"><span class="string">    f.close()   </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment">#path = &quot;/home/pi/Programms/getPlatzinBibliothek/chromedriver&quot;</span></span><br><span class="line">    option = webdriver.ChromeOptions()</span><br><span class="line">    option.add_argument(<span class="string">&#x27;--headless&#x27;</span>)</span><br><span class="line">    driver = webdriver.Chrome(options=option)</span><br><span class="line">    print(datetime.datetime.now().strftime(<span class="string">&#x27;%Y.%m.%d-%H:%M:%S&#x27;</span>),<span class="string">&quot;: chrome start up&quot;</span>)</span><br><span class="line">    <span class="comment"># driver.get(&#x27;file:///C:/Users/97532/Desktop/Anmeldung.html&#x27;)</span></span><br><span class="line">    driver.get(<span class="string">&#x27;https://buchung.hsz.rwth-aachen.de/angebote/aktueller_zeitraum/_Lernraumbuchung.html&#x27;</span>)</span><br><span class="line">    ok = clickbucheng(driver)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> ok != <span class="number">1</span> <span class="keyword">and</span> count &lt; <span class="number">10</span>:</span><br><span class="line">        sleep(<span class="number">1</span>)</span><br><span class="line">        driver.refresh()</span><br><span class="line">        ok = clickbucheng(driver)</span><br><span class="line">        count = count + <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> ok == <span class="number">1</span>:</span><br><span class="line">            sendform(driver)</span><br><span class="line">            confirm(driver)</span><br><span class="line">    <span class="comment">#driver.get_screenshot_as_file(r&quot;/home/pi/Programms/tushuguan.jpg&quot;)</span></span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    print(datetime.datetime.now().strftime(<span class="string">&#x27;%Y.%m.%d-%H:%M:%S&#x27;</span>),<span class="string">&quot;: chrome shutdown&quot;</span>)</span><br><span class="line">    driver.quit()</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Seleniumé©±åŠ¨chromeæµè§ˆå™¨ï¼Œå®è¡Œwebè‡ªåŠ¨åŒ–ï¼Œå®ŒæˆæŠ¢åº§åŠŸèƒ½ã€‚</p><h1 id="4ï¼šå®šæ—¶ä»»åŠ¡"><a href="#4ï¼šå®šæ—¶ä»»åŠ¡" class="headerlink" title="4ï¼šå®šæ—¶ä»»åŠ¡"></a>4ï¼šå®šæ—¶ä»»åŠ¡</h1><p>åœ¨æ ‘è“æ´¾ä¸Šï¼Œåˆ©ç”¨Linuxå®šæ—¶å·¥å…·crontabï¼ŒæŒ‡å®šç¨‹åºåœ¨æ¯å‘¨å¤©åˆ°å‘¨å››ä¸Šåˆå…«ç‚¹è¿è¡Œã€‚</p><p>åˆ›å»ºshellè„šæœ¬ï¼Œbibplatz.sh</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cd /home/pi/Programms/getPlatzinBibliothek</span><br><span class="line">python3 -u getplatz.py &gt; result.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»»åŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>åœ¨vimç¼–è¾‘å™¨ä¸­æ·»åŠ ä»»åŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 8 * * 0-4 /home/pi/bibplatz.sh &amp;</span><br></pre></td></tr></table></figure><p>crontabçš„æ ¼å¼ä¸ºï¼š* * * * * command</p><p>äº”ä¸ª*åˆ†åˆ«ä»£è¡¨ï¼Œåˆ†é’Ÿï¼Œå°æ—¶ï¼Œå¤©ï¼Œæœˆï¼Œå‘¨</p><p>æŸ¥çœ‹ä»»åŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -l</span><br></pre></td></tr></table></figure><h1 id="5ï¼šå‚è€ƒèµ„æ–™"><a href="#5ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="5ï¼šå‚è€ƒèµ„æ–™"></a>5ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://www.cnblogs.com/intval/p/5763929.html">Linuxå®šæ—¶ä»»åŠ¡Crontabå‘½ä»¤è¯¦è§£</a>ã€‹</p><p>ã€Š<a href="https://www.jb51.net/article/156969.htm">Linuxåå°è¿è¡ŒPythonç¨‹åºçš„å‡ ç§æ–¹æ³•è®²è§£</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/wangshu_liang/article/details/84027148">linuxä¸‹åå°è¿è¡Œpythonç¨‹åºå¹¶è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> æ ‘è“æ´¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾Chromeæµè§ˆå™¨é©±åŠ¨webdriver</title>
      <link href="/2020/09/21/%E6%A0%91%E8%8E%93%E6%B4%BEChrome%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A9%B1%E5%8A%A8webdriver/"/>
      <url>/2020/09/21/%E6%A0%91%E8%8E%93%E6%B4%BEChrome%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A9%B1%E5%8A%A8webdriver/</url>
      
        <content type="html"><![CDATA[<p>æ ‘è“æ´¾ä¸Šçš„ç³»ç»Ÿæ˜¯åŸºäºArmå†…æ ¸çš„Linuxï¼Œä¸”æ˜¯32ä½ç³»ç»Ÿï¼Œåœ¨Googleä¸Šé¢ä¸‹è½½çš„chromedriveråœ¨seleniumè¿è¡Œæ—¶ï¼Œä¼šæŠ¥é”™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨apt-getå®‰è£…chromedriverã€‚</p><p>å®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install chromium-chromedriver</span><br></pre></td></tr></table></figure><p>ä¼šè‡ªåŠ¨è¯†åˆ«æ ‘è“æ´¾ä¸ŠåŸæœ‰çš„chromeæµè§ˆå™¨ç‰ˆæœ¬ã€‚</p><p>åœ¨pythonç¨‹åºä¸­ï¼Œå¯ç›´æ¥ä½¿ç”¨<code>webdriver.Chrome()</code>è€Œæ— éœ€å†æŒ‡å®šé©±åŠ¨è·¯å¾„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ ‘è“æ´¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ADBå‚è€ƒæŒ‡ä»¤</title>
      <link href="/2020/09/21/ADB%E5%8F%82%E8%80%83%E6%8C%87%E4%BB%A4/"/>
      <url>/2020/09/21/ADB%E5%8F%82%E8%80%83%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šå‚è€ƒèµ„æ–™"><a href="#1ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="1ï¼šå‚è€ƒèµ„æ–™"></a>1ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://www.cnblogs.com/hyf20131113/p/10919586.html">ä½¿ç”¨adbå‘½ä»¤æ“æ§Androidæ‰‹æœºï¼ˆadbå‘½ä»¤ï¼‰</a>ã€‹ï¼šä»è¿æ¥è®¾å¤‡ï¼Œåˆ°é”®ç›˜è¾“å…¥å’Œç‚¹å‡»æ“ä½œ</p><p>ã€Š<a href="http://www.360doc.com/content/14/0628/14/426085_390487096.shtml">adb shell geteventä¸­è·å–åˆ°çš„å±å¹•äº‹ä»¶çš„åæ ‡è½¬æ¢</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å“ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ADB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Seleniumåº“å¸¸ç”¨æ“ä½œè®°å½•</title>
      <link href="/2020/09/18/Selenium%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/09/18/Selenium%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šSeleniumç®€ä»‹"><a href="#1ï¼šSeleniumç®€ä»‹" class="headerlink" title="1ï¼šSeleniumç®€ä»‹"></a>1ï¼šSeleniumç®€ä»‹</h1><p>Seleniumåº“æ˜¯ä¸€ä¸ªç”¨äºæµè§ˆå™¨è‡ªåŠ¨åŒ–pyhonåº“ã€‚å¯¹æé«˜çˆ¬è™«å®¹é”™ç‡æœ‰å¾ˆå¥½çš„æ•ˆæœã€‚å®ƒå¯ç”¨äºé©±åŠ¨æµè§ˆå™¨ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å®ç°è·å–ç½‘ç«™jsè„šæœ¬æ‰§è¡Œåçš„ç½‘é¡µã€‚</p><h1 id="2ï¼šSeleniumå®‰è£…"><a href="#2ï¼šSeleniumå®‰è£…" class="headerlink" title="2ï¼šSeleniumå®‰è£…"></a>2ï¼šSeleniumå®‰è£…</h1><h2 id="2-1-å®‰è£…"><a href="#2-1-å®‰è£…" class="headerlink" title="2.1 å®‰è£…"></a>2.1 å®‰è£…</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><h2 id="2-2-æµè§ˆå™¨é©±åŠ¨"><a href="#2-2-æµè§ˆå™¨é©±åŠ¨" class="headerlink" title="2.2 æµè§ˆå™¨é©±åŠ¨"></a>2.2 æµè§ˆå™¨é©±åŠ¨</h2><p>ä¸‹è½½æµè§ˆå™¨é©±åŠ¨ï¼š</p><p>Firefoxæµè§ˆå™¨é©±åŠ¨ï¼š<a href="https://link.zhihu.com/?target=https://github.com/mozilla/geckodriver/releases">geckodriver</a></p><p>Chromeæµè§ˆå™¨é©±åŠ¨ï¼š<a href="https://link.zhihu.com/?target=https://sites.google.com/a/chromium.org/chromedriver/home">chromedriver</a> , <a href="https://link.zhihu.com/?target=https://npm.taobao.org/mirrors/chromedriver">taobaoå¤‡ç”¨åœ°å€</a></p><p>IEæµè§ˆå™¨é©±åŠ¨ï¼š<a href="https://link.zhihu.com/?target=http://selenium-release.storage.googleapis.com/index.html">IEDriverServer</a></p><p>Edgeæµè§ˆå™¨é©±åŠ¨ï¼š<a href="https://link.zhihu.com/?target=https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver">MicrosoftWebDriver</a></p><p>Operaæµè§ˆå™¨é©±åŠ¨ï¼š<a href="https://link.zhihu.com/?target=https://github.com/operasoftware/operachromiumdriver/releases">operadriver</a></p><p>PhantomJSæµè§ˆå™¨é©±åŠ¨ï¼š<a href="https://link.zhihu.com/?target=http://phantomjs.org/">phantomjs</a></p><p>å°†é©±åŠ¨æ”¾åˆ°æŸä¸ªè·¯å¾„ä¸‹ï¼Œå¹¶åœ¨ç¯å¢ƒå˜é‡ä¸­æŒ‡æ˜ã€‚ä¾‹å¦‚ï¼š</p><p>é©±åŠ¨æ”¾åœ¨ç›®å½•ï¼š<code>C:/abc/webdriver.exe</code></p><p>åˆ™éœ€è¦åœ¨ç”¨æˆ·æˆ–è€…ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ï¼Œç»™Pathå˜é‡æ·»åŠ æ–°å˜é‡ï¼š<code>C:/abc</code></p><p>æˆ–è€…<strong>æŒ‡å®šé©±åŠ¨è·¯å¾„</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">path = <span class="string">&quot;/path/to/chromedriver&quot;</span> <span class="comment">#æ³¨æ„è¿™ä¸ªè·¯å¾„éœ€è¦æ—¶å¯æ‰§è¡Œè·¯å¾„ï¼ˆchmod 777 dir or 755 dirï¼‰</span></span><br><span class="line">driver = webdriver.Chrome(executable_path=path)</span><br></pre></td></tr></table></figure><p>ä¸åŒçš„æµè§ˆå™¨å¯åŠ¨æ–¹å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver = webdriver.Firefox()   <span class="comment"># Firefoxæµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()    <span class="comment"># Chromeæµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.Ie()        <span class="comment"># Internet Exploreræµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.Edge()      <span class="comment"># Edgeæµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.Opera()     <span class="comment"># Operaæµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.PhantomJS()   <span class="comment"># PhantomJS</span></span><br></pre></td></tr></table></figure><h1 id="3ï¼šæµè§ˆå™¨é€‰é¡¹å’Œæ“ä½œ"><a href="#3ï¼šæµè§ˆå™¨é€‰é¡¹å’Œæ“ä½œ" class="headerlink" title="3ï¼šæµè§ˆå™¨é€‰é¡¹å’Œæ“ä½œ"></a>3ï¼šæµè§ˆå™¨é€‰é¡¹å’Œæ“ä½œ</h1><h2 id="3-1-æµè§ˆå™¨é€‰é¡¹"><a href="#3-1-æµè§ˆå™¨é€‰é¡¹" class="headerlink" title="3.1 æµè§ˆå™¨é€‰é¡¹"></a>3.1 æµè§ˆå™¨é€‰é¡¹</h2><p>æ¯æ¬¡å½“seleniumå¯åŠ¨chromeæµè§ˆå™¨çš„æ—¶å€™ï¼Œchromeæµè§ˆå™¨å¾ˆå¹²å‡€ï¼Œæ²¡æœ‰æ’ä»¶ã€æ²¡æœ‰æ”¶è—ã€æ²¡æœ‰å†å²è®°å½•ï¼Œè¿™æ˜¯å› ä¸ºseleniumåœ¨å¯åŠ¨chromeæ—¶ä¸ºäº†ä¿è¯æœ€å¿«çš„è¿è¡Œæ•ˆç‡ï¼Œå¯åŠ¨äº†ä¸€ä¸ªè£¸æµè§ˆå™¨ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦é…ç½®å‚æ•°çš„åŸå› ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦çš„ä¸ä»…æ˜¯ä¸€ä¸ªè£¸æµè§ˆå™¨ã€‚</p><p>seleniumå¯åŠ¨é…ç½®å‚æ•°æ¥æ”¶æ˜¯ChromeOptionsç±»ï¼Œåˆ›å»ºæ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line"><span class="comment"># æ·»åŠ å¯åŠ¨å‚æ•°</span></span><br><span class="line">option.add_argument()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ‰©å±•åº”ç”¨ </span></span><br><span class="line">option.add_extension()</span><br><span class="line">option.add_encoded_extension()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å®éªŒæ€§è´¨çš„è®¾ç½®å‚æ•° </span></span><br><span class="line">option.add_experimental_option()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è°ƒè¯•å™¨åœ°å€</span></span><br><span class="line">option.debugger_address()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ UA</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;user-agent=&quot;MQQBrowser/26 Mozilla/5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build/GRJ22; CyanogenMod-7) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1&quot;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šæµè§ˆå™¨åˆ†è¾¨ç‡</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;window-size=1920x3000&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># è°·æ­Œæ–‡æ¡£æåˆ°éœ€è¦åŠ ä¸Šè¿™ä¸ªå±æ€§æ¥è§„é¿bug</span></span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--disable-gpu&#x27;</span>) </span><br><span class="line"></span><br><span class="line"> <span class="comment"># éšè—æ»šåŠ¨æ¡, åº”å¯¹ä¸€äº›ç‰¹æ®Šé¡µé¢</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;--hide-scrollbars&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸åŠ è½½å›¾ç‰‡, æå‡é€Ÿåº¦</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;blink-settings=imagesEnabled=false&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># æµè§ˆå™¨ä¸æä¾›å¯è§†åŒ–é¡µé¢. linuxä¸‹å¦‚æœç³»ç»Ÿä¸æ”¯æŒå¯è§†åŒ–ä¸åŠ è¿™æ¡ä¼šå¯åŠ¨å¤±è´¥</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;--headless&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥æœ€é«˜æƒé™è¿è¡Œ</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;--no-sandbox&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰‹åŠ¨æŒ‡å®šä½¿ç”¨çš„æµè§ˆå™¨ä½ç½®</span></span><br><span class="line">options.binary_location = <span class="string">r&quot;C:\Program Files (x86)\Google\Chrome\Application\chrome.exe&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·»åŠ crxæ’ä»¶</span></span><br><span class="line">option.add_extension(<span class="string">&#x27;d:\crx\AdBlock_v2.17.crx&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨JavaScript</span></span><br><span class="line">option.add_argument(<span class="string">&quot;--disable-javascript&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¼€å‘è€…æ¨¡å¼å¯åŠ¨ï¼Œè¯¥æ¨¡å¼ä¸‹webdriverå±æ€§ä¸ºæ­£å¸¸å€¼</span></span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-automation&#x27;</span>]) </span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨æµè§ˆå™¨å¼¹çª—</span></span><br><span class="line">prefs = &#123;  </span><br><span class="line">    <span class="string">&#x27;profile.default_content_setting_values&#x27;</span> :  &#123;  </span><br><span class="line">        <span class="string">&#x27;notifications&#x27;</span> : <span class="number">2</span>  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;prefs&#x27;</span>,prefs)</span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome(chrome_options=chrome_options)</span><br></pre></td></tr></table></figure><p>å…¶ä»–é…ç½®å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">â€“user-data-dir=â€[PATH]â€ </span><br><span class="line"><span class="comment"># æŒ‡å®šç”¨æˆ·æ–‡ä»¶å¤¹User Dataè·¯å¾„ï¼Œå¯ä»¥æŠŠä¹¦ç­¾è¿™æ ·çš„ç”¨æˆ·æ•°æ®ä¿å­˜åœ¨ç³»ç»Ÿåˆ†åŒºä»¥å¤–çš„åˆ†åŒº</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€â€“disk-cache-dir=â€[PATH]â€œ </span><br><span class="line"><span class="comment"># æŒ‡å®šç¼“å­˜Cacheè·¯å¾„</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€â€“disk-cache-size= </span><br><span class="line"><span class="comment"># æŒ‡å®šCacheå¤§å°ï¼Œå•ä½Byte</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€â€“first run </span><br><span class="line"><span class="comment"># é‡ç½®åˆ°åˆå§‹çŠ¶æ€ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€â€“incognito </span><br><span class="line"><span class="comment"># éšèº«æ¨¡å¼å¯åŠ¨</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€â€“disable-javascript </span><br><span class="line"><span class="comment"># ç¦ç”¨Javascript</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--omnibox-popup-count=<span class="string">&quot;num&quot;</span> </span><br><span class="line"><span class="comment"># å°†åœ°å€æ å¼¹å‡ºçš„æç¤ºèœå•æ•°é‡æ”¹ä¸ºnumä¸ª</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--user-agent=<span class="string">&quot;xxxxxxxx&quot;</span> </span><br><span class="line"><span class="comment"># ä¿®æ”¹HTTPè¯·æ±‚å¤´éƒ¨çš„Agentå­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡about:versioné¡µé¢æŸ¥çœ‹ä¿®æ”¹æ•ˆæœ</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disable-plugins </span><br><span class="line"><span class="comment"># ç¦æ­¢åŠ è½½æ‰€æœ‰æ’ä»¶ï¼Œå¯ä»¥å¢åŠ é€Ÿåº¦ã€‚å¯ä»¥é€šè¿‡about:pluginsé¡µé¢æŸ¥çœ‹æ•ˆæœ</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disable-javascript </span><br><span class="line"><span class="comment"># ç¦ç”¨JavaScriptï¼Œå¦‚æœè§‰å¾—é€Ÿåº¦æ…¢åœ¨åŠ ä¸Šè¿™ä¸ª</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disable-java </span><br><span class="line"><span class="comment"># ç¦ç”¨java</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--start-maximized </span><br><span class="line"><span class="comment"># å¯åŠ¨å°±æœ€å¤§åŒ–</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--no-sandbox </span><br><span class="line"><span class="comment"># å–æ¶ˆæ²™ç›’æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--single-process </span><br><span class="line"><span class="comment"># å•è¿›ç¨‹è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--process-per-tab </span><br><span class="line"><span class="comment"># æ¯ä¸ªæ ‡ç­¾ä½¿ç”¨å•ç‹¬è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--process-per-site </span><br><span class="line"><span class="comment"># æ¯ä¸ªç«™ç‚¹ä½¿ç”¨å•ç‹¬è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--<span class="keyword">in</span>-process-plugins </span><br><span class="line"><span class="comment"># æ’ä»¶ä¸å¯ç”¨å•ç‹¬è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disable-popup-blocking </span><br><span class="line"><span class="comment"># ç¦ç”¨å¼¹å‡ºæ‹¦æˆª</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disable-plugins </span><br><span class="line"><span class="comment"># ç¦ç”¨æ’ä»¶</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disable-images </span><br><span class="line"><span class="comment"># ç¦ç”¨å›¾åƒ</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--incognito </span><br><span class="line"><span class="comment"># å¯åŠ¨è¿›å…¥éšèº«æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--enable-udd-profiles </span><br><span class="line"><span class="comment"># å¯ç”¨è´¦æˆ·åˆ‡æ¢èœå•</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--proxy-pac-url </span><br><span class="line"><span class="comment"># ä½¿ç”¨pacä»£ç† [via 1/2]</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--lang=zh-CN </span><br><span class="line"><span class="comment"># è®¾ç½®è¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disk-cache-dir </span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰ç¼“å­˜ç›®å½•</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--disk-cache-size </span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰ç¼“å­˜æœ€å¤§å€¼ï¼ˆå•ä½byteï¼‰</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--media-cache-size </span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰å¤šåª’ä½“ç¼“å­˜æœ€å¤§å€¼ï¼ˆå•ä½byteï¼‰</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--bookmark-menu </span><br><span class="line"><span class="comment"># åœ¨å·¥å…· æ å¢åŠ ä¸€ä¸ªä¹¦ç­¾æŒ‰é’®</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€--enable-sync </span><br><span class="line"><span class="comment"># å¯ç”¨ä¹¦ç­¾åŒæ­¥</span></span><br></pre></td></tr></table></figure><h2 id="3-2-æµè§ˆå™¨æ“ä½œ"><a href="#3-2-æµè§ˆå™¨æ“ä½œ" class="headerlink" title="3.2 æµè§ˆå™¨æ“ä½œ"></a>3.2 æµè§ˆå™¨æ“ä½œ</h2><ul><li>æ§åˆ¶æµè§ˆå™¨çª—å£å¤§å°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.set_window_size(<span class="number">480</span>, <span class="number">800</span>)</span><br></pre></td></tr></table></figure><ul><li>æµè§ˆå™¨åé€€ï¼Œå‰è¿›</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åé€€ </span></span><br><span class="line">driver.back() </span><br><span class="line"><span class="comment"># å‰è¿› </span></span><br><span class="line">driver.forward()</span><br></pre></td></tr></table></figure><ul><li>åˆ·æ–°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.refresh() <span class="comment"># åˆ·æ–°</span></span><br></pre></td></tr></table></figure><h1 id="4ï¼šå…ƒç´ å®šä½å’Œæ“ä½œ"><a href="#4ï¼šå…ƒç´ å®šä½å’Œæ“ä½œ" class="headerlink" title="4ï¼šå…ƒç´ å®šä½å’Œæ“ä½œ"></a>4ï¼šå…ƒç´ å®šä½å’Œæ“ä½œ</h1><h2 id="4-1-å…ƒç´ å®šä½"><a href="#4-1-å…ƒç´ å®šä½" class="headerlink" title="4.1 å…ƒç´ å®šä½"></a>4.1 å…ƒç´ å®šä½</h2><p>è·å–é¦–ä¸ªåŒ¹é…å…ƒç´ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">find_element_by_id()</span><br><span class="line">find_element_by_name()</span><br><span class="line">find_element_by_class_name()</span><br><span class="line">find_element_by_tag_name()</span><br><span class="line">find_element_by_link_text()</span><br><span class="line">find_element_by_partial_link_text()</span><br><span class="line">find_element_by_xpath()</span><br><span class="line">find_element_by_css_selector()</span><br></pre></td></tr></table></figure><p>å¦‚æœå…·æœ‰å¤šä¸ªåŒ¹é…å±æ€§å…ƒç´ ï¼Œå¯ä½¿ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find_elements_by_class_name()</span><br></pre></td></tr></table></figure><p>å³åœ¨elementååŠ s</p><h2 id="4-2-è¾“å…¥ã€æäº¤"><a href="#4-2-è¾“å…¥ã€æäº¤" class="headerlink" title="4.2 è¾“å…¥ã€æäº¤"></a>4.2 è¾“å…¥ã€æäº¤</h2><ul><li>ç‚¹å‡»å’Œè¾“å…¥</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_id(<span class="string">&quot;kw&quot;</span>).clear() <span class="comment"># æ¸…æ¥šæ–‡æœ¬ driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;selenium&quot;) # æ¨¡æ‹ŸæŒ‰é”®è¾“å…¥ driver.find_element_by_id(&quot;su&quot;).click() # å•æœºå…ƒç´ </span></span><br></pre></td></tr></table></figure><ul><li>æäº¤</li></ul><p>å¯ä»¥åœ¨æœç´¢æ¡†æ¨¡æ‹Ÿå›è½¦æ“ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">search_text = driver.find_element_by_id(<span class="string">&#x27;kw&#x27;</span>) search_text.send_keys(<span class="string">&#x27;selenium&#x27;</span>) </span><br><span class="line">search_text.submit()</span><br></pre></td></tr></table></figure><ul><li>å…¶ä»–</li></ul><p>sizeï¼š è¿”å›å…ƒç´ çš„å°ºå¯¸ã€‚</p><p>textï¼š è·å–å…ƒç´ çš„æ–‡æœ¬ã€‚</p><p>get_attribute(name)ï¼š è·å¾—å±æ€§å€¼ã€‚</p><p>is_displayed()ï¼š è®¾ç½®è¯¥å…ƒç´ æ˜¯å¦ç”¨æˆ·å¯è§ã€‚</p><h2 id="4-3-é¼ æ ‡æ“ä½œ"><a href="#4-3-é¼ æ ‡æ“ä½œ" class="headerlink" title="4.3 é¼ æ ‡æ“ä½œ"></a>4.3 é¼ æ ‡æ“ä½œ</h2><p>åœ¨ WebDriver ä¸­ï¼Œ å°†è¿™äº›å…³äºé¼ æ ‡æ“ä½œçš„æ–¹æ³•å°è£…åœ¨ ActionChains ç±»æä¾›ã€‚</p><p>ActionChains ç±»æä¾›äº†é¼ æ ‡æ“ä½œçš„å¸¸ç”¨æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">clickï¼ˆon_element &#x3D; Noneï¼‰-é¼ æ ‡å·¦é”®</span><br><span class="line"></span><br><span class="line">click_and_holdï¼ˆon_element &#x3D; Noneï¼‰-å•å‡»é¼ æ ‡å·¦é”®ï¼Œä¸æ¾å¼€</span><br><span class="line"></span><br><span class="line">context_clickï¼ˆon_element &#x3D; Noneï¼‰-ç‚¹å‡»é¼ æ ‡å³é”®</span><br><span class="line"></span><br><span class="line">double_clickï¼ˆon_element &#x3D; Noneï¼‰-åŒå‡»é¼ æ ‡å·¦é”®</span><br><span class="line"></span><br><span class="line">drag_and_dropï¼ˆæºï¼Œç›®æ ‡ï¼‰-æ‹–æ‹½åˆ°æŸä¸ªå…ƒç´ ç„¶åæ¾å¼€</span><br><span class="line"></span><br><span class="line">drag_and_drop_by_offsetï¼ˆsourceï¼Œxoffsetï¼Œyoffsetï¼‰-æ‹–æ‹½åˆ°æŸä¸ªåæ ‡ç„¶åæ¾å¼€</span><br><span class="line"></span><br><span class="line">key_downï¼ˆvalueï¼Œelement &#x3D; Noneï¼‰-ç‚¹å‡»æŸä¸ªé”®ç›˜ä¸Šçš„é”®</span><br><span class="line"></span><br><span class="line">key_upï¼ˆvalueï¼Œelement &#x3D; Noneï¼‰-æ¾å¼€æŸä¸ªé”®</span><br><span class="line"></span><br><span class="line">move_by_offsetï¼ˆxoffsetï¼Œyoffsetï¼‰-é¼ æ ‡ä»å½“å‰ä½ç½®ç§»åŠ¨åˆ°æŸä¸ªåæ ‡</span><br><span class="line"></span><br><span class="line">move_to_elementï¼ˆto_elementï¼‰-é¼ æ ‡ç§»åŠ¨åˆ°æŸä¸ªå…ƒç´ </span><br><span class="line"></span><br><span class="line">move_to_element_with_offsetï¼ˆto_elementï¼Œxoffsetï¼Œyoffsetï¼‰-ç§»åŠ¨åˆ°è·ç¦»æŸä¸ªå…ƒç´ ï¼ˆå·¦ä¸Šè§’åæ ‡ï¼‰å¤šå°‘è·ç¦»çš„ä½ç½®</span><br><span class="line"></span><br><span class="line">performï¼ˆï¼‰-æ‰§è¡Œé“¾ä¸­çš„æ‰€æœ‰åŠ¨ä½œ</span><br><span class="line"></span><br><span class="line">é‡Šæ”¾ï¼ˆon_element &#x3D; Noneï¼‰-åœ¨æŸä¸ªå…ƒç´ ä½ç½®æ¾å¼€é¼ æ ‡å·¦é”®</span><br><span class="line"></span><br><span class="line">send_keysï¼ˆ* keys_to_sendï¼‰-å‘é€æŸä¸ªé”®åˆ°å½“å‰ç„¦ç‚¹çš„å…ƒç´ </span><br><span class="line"></span><br><span class="line">send_keys_to_elementï¼ˆelementï¼Œ* keys_to_sendï¼‰-å‘é€æŸä¸ªé”®åˆ°æŒ‡å®šå…ƒç´ </span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="comment"># å¼•å…¥ ActionChains ç±»</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;https://www.baidu.cn&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä½åˆ°è¦æ‚¬åœçš„å…ƒç´ </span></span><br><span class="line">above = driver.find_element_by_link_text(<span class="string">&quot;è®¾ç½®&quot;</span>)</span><br><span class="line"><span class="comment"># å¯¹å®šä½åˆ°çš„å…ƒç´ æ‰§è¡Œé¼ æ ‡æ‚¬åœæ“ä½œ</span></span><br><span class="line">ActionChains(driver).move_to_element(above).perform()</span><br></pre></td></tr></table></figure><h2 id="4-4-é”®ç›˜äº‹ä»¶"><a href="#4-4-é”®ç›˜äº‹ä»¶" class="headerlink" title="4.4 é”®ç›˜äº‹ä»¶"></a>4.4 é”®ç›˜äº‹ä»¶</h2><p>ä»¥ä¸‹ä¸ºå¸¸ç”¨çš„é”®ç›˜æ“ä½œï¼š</p><ul><li>send_keys(Keys.BACK_SPACE) åˆ é™¤é”®ï¼ˆBackSpaceï¼‰</li><li>send_keys(Keys.SPACE) ç©ºæ ¼é”®(Space)</li><li>send_keys(Keys.TAB) åˆ¶è¡¨é”®(Tab)</li><li>send_keys(Keys.ESCAPE) å›é€€é”®ï¼ˆEscï¼‰</li><li>send_keys(Keys.ENTER) å›è½¦é”®ï¼ˆEnterï¼‰</li><li>send_keys(Keys.CONTROL,â€™aâ€™) å…¨é€‰ï¼ˆCtrl+Aï¼‰</li><li>send_keys(Keys.CONTROL,â€™câ€™) å¤åˆ¶ï¼ˆCtrl+Cï¼‰</li><li>send_keys(Keys.CONTROL,â€™xâ€™) å‰ªåˆ‡ï¼ˆCtrl+Xï¼‰</li><li>send_keys(Keys.CONTROL,â€™vâ€™) ç²˜è´´ï¼ˆCtrl+Vï¼‰</li><li>send_keys(Keys.F1) é”®ç›˜ F1</li><li>â€¦â€¦</li><li>send_keys(Keys.F12) é”®ç›˜ F12</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å…¥æ¡†è¾“å…¥å†…å®¹</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;kw&quot;</span>).send_keys(<span class="string">&quot;seleniumm&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å¤šè¾“å…¥çš„ä¸€ä¸ª m</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;kw&quot;</span>).send_keys(Keys.BACK_SPACE)</span><br></pre></td></tr></table></figure><h2 id="4-5-è·å–æ–­è¨€ä¿¡æ¯"><a href="#4-5-è·å–æ–­è¨€ä¿¡æ¯" class="headerlink" title="4.5 è·å–æ–­è¨€ä¿¡æ¯"></a>4.5 è·å–æ–­è¨€ä¿¡æ¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title = driver.title <span class="comment"># æ‰“å°å½“å‰é¡µé¢title</span></span><br><span class="line">now_url = driver.current_url <span class="comment"># æ‰“å°å½“å‰é¡µé¢URL</span></span><br><span class="line">user = driver.find_element_by_class_name(<span class="string">&#x27;nums&#x27;</span>).text <span class="comment"># # è·å–ç»“æœæ•°ç›®</span></span><br></pre></td></tr></table></figure><h2 id="4-6-ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ"><a href="#4-6-ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ" class="headerlink" title="4.6 ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ"></a>4.6 ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ</h2><ul><li>æ˜¾ç¤ºç­‰å¾…</li></ul><p>æ˜¾å¼ç­‰å¾…ä½¿WebdDriverç­‰å¾…æŸä¸ªæ¡ä»¶æˆç«‹æ—¶ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™åœ¨è¾¾åˆ°æœ€å¤§æ—¶é•¿æ—¶æŠ›å‡ºè¶…æ—¶å¼‚å¸¸ï¼ˆTimeoutExceptionï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"></span><br><span class="line">driver = webdriver.Firefox()</span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line"></span><br><span class="line">element = WebDriverWait(driver, <span class="number">5</span>, <span class="number">0.5</span>).until(</span><br><span class="line">                      EC.presence_of_element_located((By.ID, <span class="string">&quot;kw&quot;</span>))</span><br><span class="line">                      )</span><br><span class="line">element.send_keys(<span class="string">&#x27;selenium&#x27;</span>)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><p>WebDriverWaitç±»æ˜¯ç”±WebDirver æä¾›çš„ç­‰å¾…æ–¹æ³•ã€‚åœ¨è®¾ç½®æ—¶é—´å†…ï¼Œé»˜è®¤æ¯éš”ä¸€æ®µæ—¶é—´æ£€æµ‹ä¸€æ¬¡å½“å‰é¡µé¢å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœè¶…è¿‡è®¾ç½®æ—¶é—´æ£€æµ‹ä¸åˆ°åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚å…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WebDriverWait(driver, timeout, poll_frequency=<span class="number">0.5</span>, ignored_exceptions=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><ul><li>driver ï¼šæµè§ˆå™¨é©±åŠ¨ã€‚</li><li>timeout ï¼šæœ€é•¿è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä»¥ç§’ä¸ºå•ä½ã€‚</li><li>poll_frequency ï¼šæ£€æµ‹çš„é—´éš”ï¼ˆæ­¥é•¿ï¼‰æ—¶é—´ï¼Œé»˜è®¤ä¸º0.5Sã€‚</li><li>ignored_exceptions ï¼šè¶…æ—¶åçš„å¼‚å¸¸ä¿¡æ¯ï¼Œé»˜è®¤æƒ…å†µä¸‹æŠ›NoSuchElementExceptionå¼‚å¸¸ã€‚</li><li>WebDriverWait()ä¸€èˆ¬ç”±until()æˆ–until_not()æ–¹æ³•é…åˆä½¿ç”¨ï¼Œä¸‹é¢æ˜¯until()å’Œuntil_not()æ–¹æ³•çš„è¯´æ˜ã€‚</li><li>until(method, message=â€˜â€™) è°ƒç”¨è¯¥æ–¹æ³•æä¾›çš„é©±åŠ¨ç¨‹åºä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œç›´åˆ°è¿”å›å€¼ä¸ºTrueã€‚</li><li>until_not(method, message=â€˜â€™) è°ƒç”¨è¯¥æ–¹æ³•æä¾›çš„é©±åŠ¨ç¨‹åºä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œç›´åˆ°è¿”å›å€¼ä¸ºFalseã€‚</li></ul><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œé€šè¿‡aså…³é”®å­—å°†expected_conditions é‡å‘½åä¸ºECï¼Œå¹¶è°ƒç”¨presence_of_element_located()æ–¹æ³•åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚</p><ul><li>éšå¼ç­‰å¾…</li></ul><p>å¦‚æœæŸäº›å…ƒç´ ä¸æ˜¯ç«‹å³å¯ç”¨çš„ï¼Œéšå¼ç­‰å¾…æ˜¯å‘Šè¯‰WebDriverå»ç­‰å¾…ä¸€å®šçš„æ—¶é—´åå»æŸ¥æ‰¾å…ƒç´ ã€‚ é»˜è®¤ç­‰å¾…æ—¶é—´æ˜¯0ç§’ï¼Œä¸€æ—¦è®¾ç½®è¯¥å€¼ï¼Œéšå¼ç­‰å¾…æ˜¯è®¾ç½®è¯¥WebDriverçš„å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver = webdriver.Firefox()    </span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>) <span class="comment"># seconds    </span></span><br><span class="line">driver.get(<span class="string">&quot;http://somedomain/url_that_delays_loading&quot;</span>)    </span><br><span class="line">myDynamicElement = driver.find_element_by_id(<span class="string">&quot;myDynamicElement&quot;</span>) </span><br></pre></td></tr></table></figure><h2 id="4-7-åœ¨ä¸åŒçš„iframeä¹‹é—´ç§»åŠ¨"><a href="#4-7-åœ¨ä¸åŒçš„iframeä¹‹é—´ç§»åŠ¨" class="headerlink" title="4.7 åœ¨ä¸åŒçš„iframeä¹‹é—´ç§»åŠ¨"></a>4.7 åœ¨ä¸åŒçš„iframeä¹‹é—´ç§»åŠ¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.switch_to_window(<span class="string">&quot;windowName&quot;</span>)</span><br><span class="line">driver.switch_to_frame(<span class="string">&quot;frameName&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä»¥ç›´æ¥å–è¡¨å•çš„id æˆ–nameå±æ€§ã€‚å¦‚æœiframeæ²¡æœ‰å¯ç”¨çš„idå’Œnameå±æ€§ï¼Œåˆ™å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è¿›è¡Œå®šä½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å…ˆé€šè¿‡xpthå®šä½åˆ°iframe</span></span><br><span class="line">xf = driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;x-URS-iframe&quot;]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å†å°†å®šä½å¯¹è±¡ä¼ ç»™switch_to_frame()æ–¹æ³•</span></span><br><span class="line">driver.switch_to_frame(xf)</span><br></pre></td></tr></table></figure><p>ä¸€æ—¦æˆ‘ä»¬å®Œæˆäº†frameä¸­çš„å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è¿”å›çˆ¶frame:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.switch_to_default_content()</span><br></pre></td></tr></table></figure><h2 id="4-8-è­¦å‘Šæ¡†å¤„ç†"><a href="#4-8-è­¦å‘Šæ¡†å¤„ç†" class="headerlink" title="4.8 è­¦å‘Šæ¡†å¤„ç†"></a>4.8 è­¦å‘Šæ¡†å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert = driver.switch_to_alert()</span><br></pre></td></tr></table></figure><ul><li>textï¼šè¿”å› alert/confirm/prompt ä¸­çš„æ–‡å­—ä¿¡æ¯ã€‚</li><li>accept()ï¼šæ¥å—ç°æœ‰è­¦å‘Šæ¡†ã€‚</li><li>dismiss()ï¼šè§£æ•£ç°æœ‰è­¦å‘Šæ¡†ã€‚</li><li>send_keys(keysToSend)ï¼šå‘é€æ–‡æœ¬è‡³è­¦å‘Šæ¡†ã€‚keysToSendï¼šå°†æ–‡æœ¬å‘é€è‡³è­¦å‘Šæ¡†ã€‚</li></ul><h2 id="4-9-ä¸‹æ‹‰æ¡†é€‰æ‹©"><a href="#4-9-ä¸‹æ‹‰æ¡†é€‰æ‹©" class="headerlink" title="4.9 ä¸‹æ‹‰æ¡†é€‰æ‹©"></a>4.9 ä¸‹æ‹‰æ¡†é€‰æ‹©</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.support.select import Select</span><br><span class="line">from time import sleep</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.implicitly_wait(10)</span><br><span class="line">driver.get(&#x27;http://www.baidu.com&#x27;)</span><br><span class="line">sel = driver.find_element_by_xpath(&quot;//select[@id=&#x27;nr&#x27;]&quot;)</span><br><span class="line">Select(sel).select_by_value(&#x27;50&#x27;)  # æ˜¾ç¤º50æ¡</span><br></pre></td></tr></table></figure><h2 id="4-10-æ–‡ä»¶ä¸Šä¼ "><a href="#4-10-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="4.10 æ–‡ä»¶ä¸Šä¼ "></a>4.10 æ–‡ä»¶ä¸Šä¼ </h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_name(&quot;file&quot;).send_keys(&#x27;D:\\upload_file.txt&#x27;)  # # å®šä½ä¸Šä¼ æŒ‰é’®ï¼Œæ·»åŠ æœ¬åœ°æ–‡ä»¶</span><br></pre></td></tr></table></figure><h2 id="4-11-cookieæ“ä½œ"><a href="#4-11-cookieæ“ä½œ" class="headerlink" title="4.11 cookieæ“ä½œ"></a>4.11 cookieæ“ä½œ</h2><p>WebDriveræ“ä½œcookieçš„æ–¹æ³•ï¼š</p><ul><li>get_cookies()ï¼š è·å¾—æ‰€æœ‰cookieä¿¡æ¯ã€‚</li><li>get_cookie(name)ï¼š è¿”å›å­—å…¸çš„keyä¸ºâ€œnameâ€çš„cookieä¿¡æ¯ã€‚</li><li>add_cookie(cookie_dict) ï¼š æ·»åŠ cookieã€‚â€œcookie_dictâ€æŒ‡å­—å…¸å¯¹è±¡ï¼Œå¿…é¡»æœ‰name å’Œvalue å€¼ã€‚</li><li>delete_cookie(name,optionsString)ï¼šåˆ é™¤cookieä¿¡æ¯ã€‚â€œnameâ€æ˜¯è¦åˆ é™¤çš„cookieçš„åç§°ï¼Œâ€œoptionsStringâ€æ˜¯è¯¥cookieçš„é€‰é¡¹ï¼Œç›®å‰æ”¯æŒçš„é€‰é¡¹åŒ…æ‹¬â€œè·¯å¾„â€ï¼Œâ€œåŸŸâ€ã€‚</li><li>delete_all_cookies()ï¼š åˆ é™¤æ‰€æœ‰cookieä¿¡æ¯</li></ul><h2 id="4-12-è°ƒç”¨JavaScriptä»£ç "><a href="#4-12-è°ƒç”¨JavaScriptä»£ç " class="headerlink" title="4.12 è°ƒç”¨JavaScriptä»£ç "></a>4.12 è°ƒç”¨JavaScriptä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">js=<span class="string">&quot;window.scrollTo(100,450);&quot;</span></span><br><span class="line">driver.execute_script(js) <span class="comment"># é€šè¿‡javascriptè®¾ç½®æµè§ˆå™¨çª—å£çš„æ»šåŠ¨æ¡ä½ç½®</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡execute_script()æ–¹æ³•æ‰§è¡ŒJavaScriptsä»£ç æ¥ç§»åŠ¨æ»šåŠ¨æ¡çš„ä½ç½®ã€‚</p><h2 id="4-13-çª—å£æˆªå›¾"><a href="#4-13-çª—å£æˆªå›¾" class="headerlink" title="4.13 çª—å£æˆªå›¾"></a>4.13 çª—å£æˆªå›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.get_screenshot_as_file(<span class="string">&quot;D:\\baidu_img.jpg&quot;</span>) <span class="comment"># æˆªå–å½“å‰çª—å£ï¼Œå¹¶æŒ‡å®šæˆªå›¾å›¾ç‰‡çš„ä¿å­˜ä½ç½®</span></span><br></pre></td></tr></table></figure><h2 id="4-14-å…³é—­æµè§ˆå™¨"><a href="#4-14-å…³é—­æµè§ˆå™¨" class="headerlink" title="4.14 å…³é—­æµè§ˆå™¨"></a>4.14 å…³é—­æµè§ˆå™¨</h2><ul><li>close() å…³é—­å•ä¸ªçª—å£</li><li>quit() å…³é—­æ‰€æœ‰çª—å£</li></ul><h2 id="4-15-ç›´æ¥ç”¨cookieç™»å½•æ–¹æ³•"><a href="#4-15-ç›´æ¥ç”¨cookieç™»å½•æ–¹æ³•" class="headerlink" title="4.15 ç›´æ¥ç”¨cookieç™»å½•æ–¹æ³•"></a>4.15 ç›´æ¥ç”¨cookieç™»å½•æ–¹æ³•</h2><p>é“¾æ¥ï¼š<a href="https://link.zhihu.com/?target=https://www.jianshu.com/p/773c58406bdb">https://www.jianshu.com/p/773c58406bdb</a></p><ol><li>æ‰‹åŠ¨è·å–ç½‘é¡µçš„cookieï¼Œå°†å…¶åºåˆ—åŒ–å¹¶å­˜å‚¨åœ¨æœ¬åœ°</li><li>å†™å…¥ä»£ç </li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> cookies:</span><br><span class="line">    driver.add_cookie(item)</span><br></pre></td></tr></table></figure><h2 id="4-16-å¯¼å‡ºhtmlåˆ°beautifulsoupæˆ–æ–‡ä»¶"><a href="#4-16-å¯¼å‡ºhtmlåˆ°beautifulsoupæˆ–æ–‡ä»¶" class="headerlink" title="4.16 å¯¼å‡ºhtmlåˆ°beautifulsoupæˆ–æ–‡ä»¶"></a>4.16 å¯¼å‡ºhtmlåˆ°beautifulsoupæˆ–æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">soup = BeautifulSoup(driver.page_source,<span class="string">&quot;html.parser&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">writetohtml</span>(<span class="params">driver,path</span>):</span></span><br><span class="line">    f = open(path,<span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">    f.write(driver.page_source.encode(<span class="string">&quot;utf-8&quot;</span>, <span class="string">&quot;ignore&quot;</span>))</span><br><span class="line">    f.close()   </span><br></pre></td></tr></table></figure><h1 id="5ï¼šæ§ä»¶æ“ä½œ"><a href="#5ï¼šæ§ä»¶æ“ä½œ" class="headerlink" title="5ï¼šæ§ä»¶æ“ä½œ"></a>5ï¼šæ§ä»¶æ“ä½œ</h1><h2 id="5-1-Select"><a href="#5-1-Select" class="headerlink" title="5.1 Select"></a>5.1 Select</h2><p><code>Select</code>ç±»æä¾›äº†ä¸‰ç§é€‰æ‹©æŸäº›é€‰é¡¹çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select_by_index(index)</span><br><span class="line">select_by_value(value)</span><br><span class="line">select_by_visible_text(text)</span><br></pre></td></tr></table></figure><blockquote><p>indexä»0å¼€å§‹ï¼Œç¬¬ä¸€ä¸ªoptionä¸º0</p><p>valueæ˜¯æ ‡ç­¾çš„å±æ€§å€¼</p><p>visible_textæ˜¯optionæ ‡ç­¾ä¸­é—´çš„å€¼ï¼Œå³ä¸‹æ‹‰æ¡†å¯è§å€¼</p></blockquote><p>è‡ªç„¶çš„ï¼Œæœ‰é€‰æ‹©å¿…ç„¶æœ‰åé€‰ï¼Œå³å–æ¶ˆé€‰æ‹©ã€‚<code>Select</code>æä¾›äº†å››ä¸ªæ–¹æ³•ç»™æˆ‘ä»¬å–æ¶ˆåŸæ¥çš„é€‰æ‹©ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deselect_by_index(index)</span><br><span class="line">deselect_by_value(value)</span><br><span class="line">deselect_by_visible_text(text)</span><br><span class="line">deselect_all()</span><br></pre></td></tr></table></figure><p>å‰ä¸€ç§åˆ†åˆ«äº<code>select</code>ç›¸å¯¹åº”ï¼Œç¬¬å››ç§æ˜¯å…¨éƒ¨å–æ¶ˆé€‰æ‹©ï¼Œæ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œæ˜¯å…¨éƒ¨å–æ¶ˆã€‚æœ‰ä¸€ç§ç‰¹æ®Šçš„é€‰æ‹©æ ‡ç­¾ï¼Œå³è®¾ç½®äº†<code>multiple=&quot;multiple&quot;</code>å±æ€§çš„<code>select</code>ï¼Œè¿™ç§<code>select</code>æ¡†æ˜¯å¯ä»¥å¤šé€‰çš„ï¼Œä½ å¯ä»¥é€šè¿‡å¤šæ¬¡<code>select</code>ï¼Œé€‰æ‹©å¤šä¸ªé€‰é¡¹ï¼Œè€Œé€šè¿‡<code>deselect_all()</code>æ¥å°†ä»–ä»¬å…¨éƒ¨å–æ¶ˆã€‚</p><p>å½“æˆ‘ä»¬é€‰æ‹©äº†é€‰é¡¹ä¹‹åï¼Œæƒ³è¦çœ‹çœ‹é€‰æ‹©çš„æ˜¯å“ªé¡¹ï¼Œæ›¿ä»£çš„æ˜¯å¦æ˜¯æˆ‘æƒ³é€‰çš„ï¼Œæ€ä¹ˆåŠï¼Ÿåˆ«æ‹…å¿ƒï¼Œ<code>Select</code>ä¸ºä½ æä¾›äº†ç›¸åº”çš„æ–¹æ³•ï¼ˆæˆ–è€…åº”è¯¥è¯´æ˜¯å±æ€§äº†ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">options</span><br><span class="line">all_selected_options</span><br><span class="line">first_selected_option</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸‰ä¸ªå±æ€§ï¼Œåˆ†åˆ«è¿”å›è¿™ä¸ª<code>select</code>å…ƒç´ æ‰€æœ‰çš„<code>options</code>ï¼Œæ‰€æœ‰è¢«é€‰ä¸­çš„<code>options</code>ä»¥åŠç¬¬ä¸€ä¸ªè¢«é€‰ä¸­çš„<code>option</code>ã€‚</p><h2 id="5-2-Radioå’ŒCheckbox"><a href="#5-2-Radioå’ŒCheckbox" class="headerlink" title="5.2 Radioå’ŒCheckbox"></a>5.2 Radioå’ŒCheckbox</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Checkbox:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;cv1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;cv2&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;cv3&quot;</span> <span class="attr">name</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;cv4&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">Radio:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;rv1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;r1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;rv2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;r1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€‰æ‹©æ“ä½œå³ç‚¹å‡»äº‹ä»¶ï¼Œæ¸…é™¤é€‰æ‹©å³é”®ç›˜æ“ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># checkbox</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//input[@value=&quot;cv1&quot;]&#x27;</span>).click()  <span class="comment"># click</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//input[@value=&quot;cv2&quot;]&#x27;</span>).send_keys(Keys.SPACE)  <span class="comment"># send space</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># radio</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//input[@value=&quot;rv1&quot;]&#x27;</span>).send_keys(Keys.SPACE)  <span class="comment"># send space</span></span><br><span class="line">sleep(<span class="number">1</span>)</span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//input[@value=&quot;rv2&quot;]&#x27;</span>).click()  <span class="comment"># click</span></span><br></pre></td></tr></table></figure><h1 id="6ï¼šå‚è€ƒèµ„æ–™"><a href="#6ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="6ï¼šå‚è€ƒèµ„æ–™"></a>6ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://zhuanlan.zhihu.com/p/111859925">Selenium Python æ•™ç¨‹</a>ã€‹</p><p>ã€Š<a href="https://zhuanlan.zhihu.com/p/60852696">seleniumå¯åŠ¨Chromeé…ç½®å‚æ•°é—®é¢˜</a>ã€‹</p><p>ã€Š<a href="https://huilansame.github.io/huilansame.github.io/archivers/mouse-and-keyboard-actionchains">Pythonç¡’-æ¨¡æ‹Ÿé¼ æ ‡é”®ç›˜æ“ä½œï¼ˆActionChainsï¼‰</a>ã€‹</p><p>ã€Š<a href="https://huilansame.github.io/huilansame.github.io/archivers/drop-down-select">Pythonç¡’-æ“ä½œé€‰æ‹©æ ‡ç­¾çš„ä¸‹æ‹‰é€‰æ‹©æ¡†</a>ã€‹</p><p>ã€Š<a href="https://www.jianshu.com/p/773c58406bdb">Python+seleniumä½¿ç”¨cookieç™»å½•æ·˜å®</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨æ ‘è“æ´¾+å†…ç½‘ç©¿é€æ­å»ºç½‘ç«™æœåŠ¡å™¨</title>
      <link href="/2020/09/10/%E5%88%A9%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/09/10/%E5%88%A9%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šå‰è¨€"><a href="#1ï¼šå‰è¨€" class="headerlink" title="1ï¼šå‰è¨€"></a>1ï¼šå‰è¨€</h1><p>åœ¨è´­ä¹°äº†æ ‘è“æ´¾ä¹‹åï¼Œæˆ‘ä¸€ç›´åœ¨æ‰¾å¯»å®ƒçš„ç”¨å¤„ï¼Œæœ€è¿‘æƒ³å­¦åŸºäºPythonçš„ç½‘ç«™åç«¯æ¡†æ¶Djangoï¼Œè€Œæ ‘è“æ´¾ä»¥linuxä¸ºæ“ä½œç³»ç»Ÿï¼Œæœ‰å¤©ç”Ÿä½œä¸ºç½‘ç«™æœåŠ¡å™¨çš„ä¼˜ç‚¹ã€‚ä»¥ä¸‹åˆ—ä¸¾éƒ¨åˆ†ã€‚</p><ol><li>ç›¸æ¯”äºç›´æ¥è´­ä¹°é«˜é…ç½®VPSï¼Œä½¿ç”¨æ ‘è“æ´¾+å»‰ä»·ä½é…VPSåšå†…ç½‘ç©¿é€ï¼Œæ›´åŠ åˆ’ç®—ã€‚</li><li>ç›¸æ¯”äºä½¿ç”¨windowsä½œä¸ºç½‘ç«™æœåŠ¡å™¨è”ç³»ï¼Œæ ‘è“æ´¾å¯ä»¥ä¿æŒ24*7ä¸å®•æœºï¼Œé¿å…æ¯æ¬¡å¼€å¯ç”µè„‘éƒ½è¦é‡æ–°è¿è¡ŒæœåŠ¡å™¨ç¨‹åºçš„éº»çƒ¦ã€‚</li></ol><p>å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦è¯´æ˜çš„ä¸€äº›è½¯ç¡¬ä»¶é…ç½®ã€‚</p><ol><li>4B+æ ‘è“æ´¾ï¼Œ4gå†…å­˜+32gå†…å­˜å¡</li><li>ä¸€å°ä½é…ç½®å¸¦ipv4åœ°å€çš„VPSã€‚æœ¬äººä½¿ç”¨Ubuntuç³»ç»Ÿ</li><li>ä¸€ä¸ªåŸŸåï¼Œéœ€è¦å°†Aè®°å½•è§£æåˆ°VPSçš„ipv4åœ°å€ä¸Šã€‚éå¿…é¡»ï¼Œå¯ç›´æ¥ç”¨vpsçš„ipåœ°å€è®¿é—®ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li></ol><h1 id="2ï¼šæ ‘è“æ´¾ä¸Šæ­å»ºDjangoæœåŠ¡å™¨"><a href="#2ï¼šæ ‘è“æ´¾ä¸Šæ­å»ºDjangoæœåŠ¡å™¨" class="headerlink" title="2ï¼šæ ‘è“æ´¾ä¸Šæ­å»ºDjangoæœåŠ¡å™¨"></a>2ï¼šæ ‘è“æ´¾ä¸Šæ­å»ºDjangoæœåŠ¡å™¨</h1><p>å®‰è£…Djangoæ•™ç¨‹ï¼šã€Š<a href="https://www.runoob.com/django/django-install.html">Djangoå®‰è£…</a>ã€‹</p><p>åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…Djangoã€‚</p><p>å¹¶<a href="https://www.runoob.com/django/django-first-app.html">åˆ›å»ºç¬¬ä¸€ä¸ªDjangoé¡¹ç›®</a>ã€‚</p><p>åœ¨ä½¿ç”¨<code>python3 manage.py runserver 0.0.0.0:8000</code>æ‰“å¼€æœåŠ¡åï¼Œ</p><p>åœ¨shellç»ˆç«¯ä¸Šä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl 127.0.0.1:8000</span><br></pre></td></tr></table></figure><p>æ˜¯å¯ä»¥è®¿é—®æ–°å»ºçš„ç½‘ç«™çš„ã€‚</p><p>ä½†æ˜¯ï¼Œä½¿ç”¨æ ‘è“æ´¾å†…ç½‘ip:8000åœ¨ç›¸åŒå±€åŸŸç½‘ä¸‹çš„ç¬”è®°æœ¬ï¼Œæ— æ³•è®¿é—®ç½‘ç«™ï¼Œå¿…é¡»ä¿®æ”¹é¡¹ç›®é…ç½®æ–‡ä»¶ã€‚åæœŸå¯ä¿®æ”¹å›æ¥ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨æ ‘è“æ´¾ä¸Šä¹Ÿå®‰è£…nginxä»¥ä½œä¸ºç”Ÿäº§ç¯å¢ƒï¼Œç°åœ¨åªæ˜¯æµ‹è¯•ã€‚ä¿®æ”¹é¡¹ç›®ä¸‹çš„setting.pyæ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DEBUG = False</span><br><span class="line">ALLOWED_HOSTS = [&quot;*&quot;]</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œåœ¨ç¬”è®°æœ¬ä¸Šè®¿é—®æ ‘è“æ´¾ä¸Šé¢çš„ç½‘ç«™ï¼Œåº”è¯¥å·²ç»èƒ½å¤Ÿè®¿é—®äº†ã€‚</p><h1 id="3ï¼šå†…ç½‘ç©¿é€"><a href="#3ï¼šå†…ç½‘ç©¿é€" class="headerlink" title="3ï¼šå†…ç½‘ç©¿é€"></a>3ï¼šå†…ç½‘ç©¿é€</h1><p>ä¸ºäº†è®©å¤–ç½‘çš„äººï¼Œèƒ½å¤Ÿä½¿ç”¨ipåœ°å€æˆ–è€…åŸŸåï¼Œè®¿é—®åˆ°æ ‘è“æ´¾ä¸Šçš„ç½‘ç«™ï¼Œéœ€è¦åšå†…ç½‘ç©¿é€ï¼Œé¦–å…ˆï¼Œéœ€è¦è®©VPSèƒ½å¤Ÿè®¿é—®åˆ°æ ‘è“æ´¾ã€‚</p><p>ä½¿ç”¨èŠ±ç”Ÿå£³ä¹‹ç±»çš„è½¯ä»¶ä¹Ÿèƒ½å®ç°å†…ç½‘ç©¿é€ï¼Œä¸”ä¸ç”¨VPSï¼Œä½†æ˜¯è¿™ç±»è½¯ä»¶æ”¶è´¹æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨VPSè‡ªå·±æä¸€ä¸ªå†…ç½‘ç©¿é€ã€‚</p><p>ä½¿ç”¨p2pç»„ç½‘çš„å†…ç½‘ç©¿é€è½¯ä»¶ï¼Œæ¯”å¦‚n2nã€zerotierã€frpã€‚åœ¨githubä¸Šéƒ½èƒ½æœå¾—åˆ°ã€‚frpæ˜¯ä¸€ä¸ªç«¯å£è½¬å‘çš„è½¯ä»¶ï¼Œä¸éœ€è¦å€ŸåŠ©åˆ«äººæä¾›çš„æœåŠ¡å™¨æ¥åšå¯¼èˆªï¼Œå¦‚æœåªæ˜¯åšç½‘ç«™æ˜¯éå¸¸æ¨èçš„ï¼Œå› ä¸ºè¿™ä¸è®¾åŠåé¢è®²çš„nginxåšåå‘ä»£ç†çš„æ­¥éª¤ï¼Œä¸ªäººæ˜¯å¾ˆæ¨èçš„ã€‚ä½†ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªVPSæˆ–è€…å¤šä¸ªç”µè„‘ï¼Œæƒ³ç»„æˆå±€åŸŸç½‘ï¼Œå»ºè®®ä½¿ç”¨zerotierã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯zerotierï¼Œå› ä¸ºå®ƒé…ç½®æ¯”è¾ƒç®€å•ã€‚å¹¶åœ¨æ­¤åŸºç¡€ä¸Šåšäº†ç½‘ç«™çš„åå‘ä»£ç†ï¼Œä»¥å®ç°å¤–ç½‘è®¿é—®å†…ç½‘ï¼Œå’Œfrpç›´æ¥åšç«¯å£è½¬å‘çš„åŸç†æ˜¯ä¸åŒçš„ã€‚</p><p>æˆ‘ä»¬éœ€è¦åˆ†åˆ«åœ¨æ ‘è“æ´¾å’Œvpsä¸Šå®‰è£…zerotierã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://install.zerotier.com | sudo bash</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨<a href="https://www.zerotier.com/">zerotierå®˜ç½‘</a>åˆ›å»ºä¸€ä¸ªè´¦å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç½‘ç»œã€‚å¯å‚è€ƒæ•™ç¨‹ï¼š</p><p><a href="https://www.jianshu.com/p/eefddb256ad7">å†…ç½‘ç©¿é€å·¥å…·â€”â€”ZeroTier Oneçš„ä½¿ç”¨</a></p><p>å»ºå¥½ç½‘ç»œåï¼Œè·å¾—åå…­ä½ç½‘ç»œç </p><p>ç„¶åï¼Œåœ¨æ ‘è“æ´¾å’Œvpsè¾“å…¥å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zerotier-cli join ç½‘ç»œç </span><br></pre></td></tr></table></figure><p>å³å¯åŠ å…¥æ­¤ç½‘ç»œ</p><p>ç„¶åå›åˆ°zerotierå®˜ç½‘ï¼Œç®¡ç†è¿™ä¸¤ä¸ªç½‘ç»œï¼Œè®©ä»–ä»¬ä¹‹é—´èƒ½å¤Ÿäº’ç›¸pingé€šã€‚æ­¤é—´æ­¥éª¤æ¯”è¾ƒå¤šï¼Œéœ€è¦è€å¿ƒè‡ªå­¦ã€‚</p><p>å†…ç½‘ç©¿é€å®ç°åï¼Œåœ¨vpsä¸Šä¸ä»…åº”è¯¥èƒ½å¤Ÿpingé€šæ ‘è“æ´¾è™šæ‹Ÿå±€åŸŸç½‘åˆ†é…çš„ipï¼Œè€Œä¸”ä½¿ç”¨è™šæ‹Ÿå±€åŸŸç½‘ip:ç«¯å£ï¼Œåº”è¯¥èƒ½å¤Ÿè®¿é—®åˆ°æ ‘è“æ´¾ä¸Šçš„ç½‘ç«™ã€‚</p><p>åœ¨vpsä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://ip:port</span><br></pre></td></tr></table></figure><p>è®¿é—®ã€‚è·å–htmlä»£ç ï¼Œåˆ™å†…ç½‘ç©¿é€å¯ä»¥è®¿é—®ç½‘ç«™äº†ã€‚</p><h1 id="4ï¼šNginxåå‘ä»£ç†"><a href="#4ï¼šNginxåå‘ä»£ç†" class="headerlink" title="4ï¼šNginxåå‘ä»£ç†"></a>4ï¼šNginxåå‘ä»£ç†</h1><p>ä¸ºäº†è®©æ‰€æœ‰å¤–éƒ¨çš„äººï¼Œéƒ½èƒ½å¤Ÿé€šè¿‡åŸŸåæˆ–è€…vpså…¬ç½‘ipè®¿é—®åˆ°æ ‘è“æ´¾çš„ç½‘ç«™ï¼Œéœ€è¦åœ¨vpsä¸Šå®‰è£…nginxï¼Œä½œåå‘ä»£ç†ã€‚</p><p>åŸç†å¤§æ¦‚æ˜¯ï¼Œå¤–éƒ¨ç”¨æˆ·ï¼Œè®¿é—®vpsçš„ipï¼Œæµè§ˆå™¨é»˜è®¤ä¸è¾“å…¥ç«¯å£åˆ™è®¿é—®80ç«¯å£ï¼Œhttpå¯¹åº”80ï¼Œhttpså¯¹åº”443ã€‚æ¯”å¦‚ç”¨æˆ·è¾“å…¥<code>http://x.x.x.x</code>æˆ–è€…<code>http://example.com</code>åˆ™é»˜è®¤è®¿é—®vpsçš„80ç«¯å£ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä¸ºvpså¼€æ”¾80ç«¯å£ï¼Œå¹¶å°†80ç«¯å£çš„è®¿é—®è¯·æ±‚è½¬åˆ°æ ‘è“æ´¾çš„ç½‘ç«™ç«¯å£ã€‚</p><p>å®‰è£…nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure><p>é…ç½®nginxï¼Œæ–°å»ºé…ç½®æ–‡ä»¶ï¼Œå¹¶é…ç½®nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/nginx/conf.d/respberry.conf#æ–°å»ºé…ç½®æ–‡ä»¶</span><br><span class="line">vim /etc/nginx/conf.d/respberry.conf#ç¼–è¾‘é…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶ä¸­è¾“å…¥é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">listen 80</span><br><span class="line">server_name example.com#ä½ çš„åŸŸåï¼Œæˆ–è€…vpsçš„å…¬ç½‘ip</span><br><span class="line">location / &#123;</span><br><span class="line">proxy_pass http://æ ‘è“æ´¾è™šæ‹Ÿå±€åŸŸç½‘ip:ç½‘ç«™ç«¯å£</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx restart#é‡å¯nginx</span><br></pre></td></tr></table></figure><p>è¿™æ ·é€šè¿‡åŸŸåè®¿é—®vpså°±èƒ½å°†è¯·æ±‚è½¬ç»™æ ‘è“æ´¾äº†ã€‚å¤–ç½‘å°±èƒ½å¤Ÿè®¿é—®åˆ°æ ‘è“æ´¾äº†ã€‚</p><h1 id="5ï¼šå‚è€ƒèµ„æ–™"><a href="#5ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="5ï¼šå‚è€ƒèµ„æ–™"></a>5ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://www.jianshu.com/p/eefddb256ad7">å†…ç½‘ç©¿é€å·¥å…·â€”â€”ZeroTier Oneçš„ä½¿ç”¨</a>ã€‹</p><p>ã€Š<a href="https://www.jianshu.com/p/3e2b9964c279">Nginxé…ç½®æ–‡ä»¶nginx.confä¸­æ–‡è¯¦è§£</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Python </tag>
            
            <tag> æ ‘è“æ´¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°å½•ä¸€æ¬¡åœ¨Linuxä¸Šå½»åº•å¸è½½nginx</title>
      <link href="/2020/09/10/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%9C%A8Linux%E4%B8%8A%E5%BD%BB%E5%BA%95%E5%8D%B8%E8%BD%BDnginx/"/>
      <url>/2020/09/10/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%9C%A8Linux%E4%B8%8A%E5%BD%BB%E5%BA%95%E5%8D%B8%E8%BD%BDnginx/</url>
      
        <content type="html"><![CDATA[<p>åˆšæƒ³é€šè¿‡nginxåšåå‘ä»£ç†ï¼Œä»¥å®ç°å†…ç½‘ç©¿é€ï¼Œä½†æ˜¯80ç«¯å£å§‹ç»ˆæ— æ³•pingé€šï¼ŒæŸ¥çœ‹linuxç«¯å£æ˜¯å¼€ç€çš„ã€‚æ€æƒ³ç®€å•çš„æˆ‘ï¼Œå°è¯•é‡æ–°å®‰è£…nginxï¼Œç„¶è€Œæ— è®ºå¦‚ä½•éƒ½æ— æ³•å¸è½½å¹²å‡€ã€‚é¦–å…ˆï¼Œnginxå¯èƒ½ä¸æ˜¯é€šè¿‡apt-getå®‰è£…çš„ï¼Œä½¿ç”¨<code>apt remove</code>æŒ‡ä»¤æ²¡æœ‰å¸è½½æ‰ï¼Œäºæ˜¯å°è¯•<code>find / -name nginx -exec rm -rf &#123;&#125; \;</code>æ¥åˆ é™¤æ‰€æœ‰ä»¥nginxå‘½åçš„ç›®å½•ï¼Œç„¶è€Œ<code>apt-get install nginx</code>å®‰è£…åï¼Œä»»ç„¶æ²¡æœ‰æŠŠåˆ é™¤çš„ç›®å½•é‡æ–°å®‰è£…ã€‚</p><p>æŸ¥é˜…èµ„æ–™åï¼Œé‡æ–°è¿›è¡Œäº†åˆ é™¤å’Œå®‰è£…</p><p><strong>dpkgæŒ‡ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l#æŸ¥çœ‹å®‰è£…çš„è½¯ä»¶åŒ…</span><br></pre></td></tr></table></figure><p>å°½ç®¡å·²ç»é€šè¿‡åˆ é™¤ç›®å½•ç§»é™¤äº†nginxï¼Œåœ¨è½¯ä»¶åŒ…åˆ—è¡¨é‡Œä»ç„¶å­˜åœ¨ä¸‰ä¸ªåŒ…å«nginxçš„è½¯ä»¶ï¼Œ<code>nginx</code>ã€<code>nginx-core</code>ã€<code>nginx-common</code></p><p>ä½¿ç”¨æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -r è½¯ä»¶å#åˆ†åˆ«åˆ é™¤ä¸‰ä¸ªè½¯ä»¶</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>nginx-common</code>æ— æ³•ä½¿ç”¨ä¸Šè¿°å‘½ä»¤åˆ é™¤ï¼Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nginx-common</span><br></pre></td></tr></table></figure><p>è‡³æ­¤nginxä»¥å½»åº•ç§»é™¤ã€‚</p><p>ä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure><p>é‡æ–°å®‰è£…nginxã€‚</p><p>å®‰è£…ç»“æŸï¼Œè®¿é—®ipå¯å‡ºç°welcome to nginxç½‘é¡µã€‚</p><p>å¦‚æœæ²¡æœ‰å‡ºç°ï¼Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://ip</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸»æœºä¸Šå‡ºç°htmlæ–‡æœ¬ï¼Œè€Œæµè§ˆå™¨å¤–éƒ¨æ— æ³•è®¿é—®ï¼Œåˆ™æ˜¯é˜²ç«å¢™é—®é¢˜ã€‚</p><p>æˆ‘åœ¨ubuntuä¸Šå®‰è£…äº†firewallè½¯ä»¶ï¼Œå› æ­¤å¯¼è‡´å¤–éƒ¨æ— æ³•è®¿é—®80ç«¯å£ï¼Œä½¿ç”¨æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewall.service</span><br></pre></td></tr></table></figure><p>å…³é—­firewallã€‚ä¹Ÿå¯èƒ½æ˜¯iptableså¼€å¯äº†ï¼Œç›¸åŒçš„åŠæ³•å¯ä»¥å…³é—­iptablesé˜²ç«å¢™ã€‚</p><p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong></p><p>ã€Š<a href="https://www.shuzhiduo.com/A/kvJ3Grm7Jg/">Linuxä¹‹Ubuntuä¸‹å¦‚ä½•æŸ¥çœ‹å·²å®‰è£…çš„è½¯ä»¶/åº“æ–‡ä»¶</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡åˆ’ä¸ºHexoåšå®¢æ·»åŠ ç›¸å†Œå’ŒVlogé¡µé¢</title>
      <link href="/2020/09/08/%E8%AE%A1%E5%88%92%E4%B8%BAHexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%86%8C%E5%92%8CVlog%E9%A1%B5%E9%9D%A2/"/>
      <url>/2020/09/08/%E8%AE%A1%E5%88%92%E4%B8%BAHexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%86%8C%E5%92%8CVlog%E9%A1%B5%E9%9D%A2/</url>
      
        <content type="html"><![CDATA[<p>è®¡åˆ’å†…å®¹ï¼š</p><ul><li>æ–°å»ºç›¸å†Œé¡µé¢ï¼Œä¸‹å±å›¾ç‰‡å’Œvlogåˆ†æ”¯</li><li>ä»¥Onedriveä½œä¸ºå‚¨å­˜åº“ï¼Œå‚¨å­˜ç›¸å†ŒåŠè§†é¢‘</li><li>é¡µé¢è‡ªåŠ¨è·å–ç›¸å†Œå’Œè§†é¢‘ï¼Œå¹¶å±•ç¤º</li><li>é¦–é¡µæ ‡é¢˜æ”¹ä¸ºè®¡æ—¶é¡¹ç›®</li></ul><p>é¡¹ç›®jsæºç ï¼š<a href="https://www.bingyublog.com/2019/02/20/hexo%E5%A2%9E%E5%8A%A0%E7%BD%91%E7%AB%99%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1/">https://www.bingyublog.com/2019/02/20/hexo%E5%A2%9E%E5%8A%A0%E7%BD%91%E7%AB%99%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1/</a></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
            <tag> Hexo </tag>
            
            <tag> Vlantis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨æµ·è´éŸ³ä¹åšä¸€ä¸ªè‡ªç”¨éŸ³ä¹æ’­æ”¾å™¨</title>
      <link href="/2020/09/06/%E5%88%A9%E7%94%A8%E6%B5%B7%E8%B4%9D%E9%9F%B3%E4%B9%90%E5%81%9A%E4%B8%80%E4%B8%AA%E8%87%AA%E7%94%A8%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
      <url>/2020/09/06/%E5%88%A9%E7%94%A8%E6%B5%B7%E8%B4%9D%E9%9F%B3%E4%B9%90%E5%81%9A%E4%B8%80%E4%B8%AA%E8%87%AA%E7%94%A8%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šé¡¹ç›®ç®€ä»‹"><a href="#1ï¼šé¡¹ç›®ç®€ä»‹" class="headerlink" title="1ï¼šé¡¹ç›®ç®€ä»‹"></a>1ï¼šé¡¹ç›®ç®€ä»‹</h1><p>å¯¹äºæˆ‘è¿™ä¸ªç»å¸¸å¬æ­Œçš„äººæ¥è¯´ï¼Œå…è´¹çš„å¬æ­Œè½¯ä»¶æ€»æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ä¸€æ¬¾å«åšæµ·è´éŸ³ä¹çš„æ’­æ”¾å™¨ï¼Œè¿™ä¸ªæ’­æ”¾å™¨ä¸æä¾›éŸ³ä¹èµ„æºï¼Œä»…ä»…æ˜¯ä¸€ä¸ªæ’­æ”¾å™¨ï¼Œå¯ä»¥æ’­æ”¾æœ¬åœ°éŸ³ä¹ã€Onedriveäº‘éŸ³ä¹ï¼Œä»¥åŠDLNAå±€åŸŸç½‘é‡Œçš„éŸ³ä¹ã€‚å¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œå°†å¥½å¬å–œæ¬¢çš„éŸ³ä¹ä¸‹è½½ä¸‹æ¥ä¿å­˜åˆ°æ‰‹æœºï¼Œæ€»å½’æ˜¯ä¸ªéº»çƒ¦çš„æ“ä½œï¼Œå¦‚æœæƒ³åœ¨çº¿å¬æ­Œï¼Œåˆéœ€è¦è´­ä¹°éŸ³ä¹è½¯ä»¶çš„VIPã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥å…è´¹è€Œåˆåœ¨ä¸ä¸‹è½½éŸ³ä¹åœ¨çº¿å¬æ­Œå‘¢ï¼Ÿ</p><p>æˆ‘å°†åˆ©ç”¨Onedriveä½œä¸ºéŸ³ä¹å‚¨å­˜äº‘ç›˜ï¼Œå¹¶åœ¨æµ·è´éŸ³ä¹æ’­æ”¾å™¨ä¸Šï¼Œå®ç°åœ¨çº¿å¬æ­Œã€‚å°†å–œæ¬¢çš„éŸ³ä¹ä¸‹è½½åˆ°Onedriveæ˜¯ä¸ªéå¸¸éº»çƒ¦çš„æ­¥éª¤ï¼Œä¸ºæ­¤æˆ‘å°†åœ¨ä¹‹åç¼–å†™ä¸€ä¸ªé¡¹ç›®ï¼Œæ¥å®ç°è‡ªåŠ¨ä¸‹è½½çƒ­æ¦œéŸ³ä¹è‡³äº‘ç›˜æŒ‡å®šç›®å½•ï¼Œå¹¶ç¼–å†™ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œç”¨ä½œæœç´¢æŒ‡å®šéŸ³ä¹ï¼Œå¹¶ä¿å­˜åˆ°äº‘ç›˜çš„æ¥å£ã€‚æ­¤é¡¹ç›®ï¼Œæˆ‘å°†ä½¿ç”¨pythonè¿›è¡Œç¼–å†™ï¼Œå¹¶åœ¨linuxç³»ç»Ÿä¸Šè¿è¡Œã€‚</p><h1 id="2ï¼šå®ç°åŸç†"><a href="#2ï¼šå®ç°åŸç†" class="headerlink" title="2ï¼šå®ç°åŸç†"></a>2ï¼šå®ç°åŸç†</h1><h2 id="2-1-éŸ³ä¹æ¥æº"><a href="#2-1-éŸ³ä¹æ¥æº" class="headerlink" title="2.1 éŸ³ä¹æ¥æº"></a>2.1 éŸ³ä¹æ¥æº</h2><p>å…è´¹éŸ³ä¹æ¥å£æ€»æ˜¯å¾ˆéš¾è·å–ï¼Œç”šè‡³å¾ˆä¸ç¨³å®šï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦åˆæ³•çš„è·å–éŸ³ä¹èµ„æºã€‚ä¸ºæ­¤ï¼Œæˆ‘è€ƒè™‘ä»YouTubeä¸Šè·å–éŸ³ä¹èµ„æºï¼Œå› ä¸ºéŸ³ä¹MVå’ŒMP3æ ¼å¼çš„éš¶å±ä¸åŒç‰ˆæƒï¼Œè€ŒMVå¾€å¾€æ˜¯ä¸æ”¶è´¹çš„ï¼Œæ‰€ä»¥ç›´æ¥ä»youtubeä¸Šä¸‹è½½mvçš„mp4æ ¼å¼æ–‡ä»¶ï¼Œè¿™é‡Œåˆ©ç”¨åŸºäºpythonç¼–å†™çš„you-getç¨‹åºå³å¯ï¼Œç„¶åï¼Œåˆ©ç”¨ffmpegè½¯ä»¶å°†mp4æ ¼å¼æ–‡ä»¶è½¬ä¸ºmp3æ ¼å¼ã€‚</p><h2 id="2-2-éŸ³ä¹è·å–"><a href="#2-2-éŸ³ä¹è·å–" class="headerlink" title="2.2 éŸ³ä¹è·å–"></a>2.2 éŸ³ä¹è·å–</h2><p>è·å–éŸ³ä¹å½“ç„¶ä¸èƒ½ä¸€ä¸ªä¸€ä¸ªçš„è·å–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°ç½‘æ˜“æˆ–è€…qqéŸ³ä¹çš„æ¦œå•apiï¼Œè·å–æ¦œå•åˆ—è¡¨ï¼Œæ ¹æ®åˆ—è¡¨å†…å®¹ä½¿ç”¨ç¨‹åºæ¥æ£€ç´¢éŸ³ä¹ã€‚</p><p>å¦å¤–åœ¨å•ç‹¬åšä¸€ä¸ªwebç«¯ï¼Œç”¨äºæœç´¢éŸ³ä¹ã€‚åå°æ ¹æ®æœç´¢æŒ‡ä»¤ä¸‹è½½éŸ³ä¹ã€‚</p><p>æ­Œè¯å¯ä»¥é€šè¿‡æ­Œè¯è¿·æ¥å£<a href="https://hacpai.com/article/1364440883834">https://hacpai.com/article/1364440883834</a> è·å–ã€‚</p><h2 id="2-3-éŸ³ä¹ä¿å­˜"><a href="#2-3-éŸ³ä¹ä¿å­˜" class="headerlink" title="2.3 éŸ³ä¹ä¿å­˜"></a>2.3 éŸ³ä¹ä¿å­˜</h2><p>åå°è½¬æ¢åçš„éŸ³ä¹ï¼Œå¯ä»¥åˆ©ç”¨onedriveæä¾›çš„ä¸Šä¼ æ¥å£ï¼ŒæŠŠéŸ³ä¹ä¸Šä¼ åˆ°onedriveç›®å½•ï¼Œæ¯”å¦‚æ¦œå•ç›®å½•å’Œè‡ªè¡Œæœç´¢çš„likeç›®å½•ã€‚</p><p>å®šæœŸä½¿ç”¨onedriveæ¥å£æ¸…é™¤è¿‡æ—¶çš„éŸ³ä¹ä¹Ÿå¾ˆé‡è¦ã€‚</p><h2 id="2-4-éŸ³ä¹æ”¶å¬"><a href="#2-4-éŸ³ä¹æ”¶å¬" class="headerlink" title="2.4 éŸ³ä¹æ”¶å¬"></a>2.4 éŸ³ä¹æ”¶å¬</h2><p>æµ·è´éŸ³ä¹appæä¾›äº†ä»onedriveæºæ”¶å¬éŸ³ä¹çš„åŠŸèƒ½ï¼Œå› æ­¤ï¼Œç›´æ¥åœ¨æµ·è´éŸ³ä¹ä¸Šæˆæƒonedriveå°±èƒ½å¤Ÿåœ¨çº¿æ”¶å¬äº†ï¼Œè€Œä¸€ä¸ªonedriveç›®å½•å°±æ˜¯ä¸€ä¸ªæ’­æ”¾åˆ—è¡¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éŸ³ä¹æ’­æ”¾å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾4Bæ— ç½‘çº¿æ— æ˜¾ç¤ºå™¨å‡ºå‘</title>
      <link href="/2020/08/28/%E6%A0%91%E8%8E%93%E6%B4%BE4B%E6%97%A0%E7%BD%91%E7%BA%BF%E6%97%A0%E6%98%BE%E7%A4%BA%E5%99%A8%E5%87%BA%E5%8F%91/"/>
      <url>/2020/08/28/%E6%A0%91%E8%8E%93%E6%B4%BE4B%E6%97%A0%E7%BD%91%E7%BA%BF%E6%97%A0%E6%98%BE%E7%A4%BA%E5%99%A8%E5%87%BA%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p>ä»äºšé©¬é€Šæ–°å…¥æ‰‹äº†æœ€æ–°æ¬¾æ ‘è“æ´¾4Bä»¥åŠç›¸å…³é…ä»¶ï¼ŒèŠ±äº†ä¸€å…±109æ¬§ã€‚è¿™æ˜¯ç¬¬ä¸€æ¬¡æŠŠç©æ ‘è“æ´¾ã€‚å› ä¸ºé•¿æœŸæµ¸æ·«äºLinuxç³»ç»Ÿï¼Œè€Œå—åˆ¶äºsurfaceçš„å°å®¹é‡ç¡¬ç›˜ï¼Œå®åœ¨ä¸å¿å¿ƒåœ¨ç”µè„‘ä¸Šå®‰è£…ä¸€ä¸ªè™šæ‹Ÿæœºäº†ã€‚ä¹‹å‰æŠŠç©Linuxä¹Ÿæ˜¯è´­ä¹°çš„äº‘æœåŠ¡å™¨ï¼Œä½†æ˜¯äº‘æœåŠ¡å™¨æ˜¯ä¸ªæ¶ˆè€—å“å•Šï¼Œè€Œä¸”æ¯•ç«Ÿæ˜¯å¤–ç½‘ï¼Œè¦æ“åšå†…ç½‘è®¾å¤‡ï¼Œæ¯”å¦‚æ‰“å°æœºï¼Œå°±å¾—å†…ç½‘ç©¿é€ï¼Œè¿˜æ˜¯å¾—ä¾èµ–ä¸€ä¸ªåœ¨å†…ç½‘èƒ½å¤Ÿé•¿æœŸåœ¨çº¿å¾—è®¾å¤‡ï¼Œé‚£ä¹ˆæ ‘è“æ´¾çš„ä½œç”¨å°±ä¸è¨€è€Œå–»äº†ã€‚</p><p>æ ‘è“æ´¾è‡ªå¸¦GPIOè¿™ä¸€ç‚¹ï¼Œå¯ç©æ€§ä¹Ÿéå¸¸é«˜ã€‚ç°åœ¨å¼€å§‹å®‰è£…æ ‘è“æ´¾ç³»ç»Ÿã€‚</p><h1 id="ä¸€ï¼šå‡†å¤‡å·¥ä½œ"><a href="#ä¸€ï¼šå‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ï¼šå‡†å¤‡å·¥ä½œ"></a>ä¸€ï¼šå‡†å¤‡å·¥ä½œ</h1><h2 id="1-1-ç¡¬ä»¶å‡†å¤‡"><a href="#1-1-ç¡¬ä»¶å‡†å¤‡" class="headerlink" title="1.1 ç¡¬ä»¶å‡†å¤‡"></a>1.1 ç¡¬ä»¶å‡†å¤‡</h2><ul><li>æ ‘è“æ´¾4BåŠå…¶ç”µæºè®¾å¤‡</li><li>8GåŠä»¥ä¸Šå†…å­˜å¡</li><li>ç¬”è®°æœ¬ç”µè„‘ä¸€å°</li><li>WIFIç½‘ç»œï¼Œä½¿ç”¨æ‰‹æœºçƒ­ç‚¹æˆ–è€…WIFI</li></ul><h2 id="1-2-è½¯ä»¶å‡†å¤‡"><a href="#1-2-è½¯ä»¶å‡†å¤‡" class="headerlink" title="1.2 è½¯ä»¶å‡†å¤‡"></a>1.2 è½¯ä»¶å‡†å¤‡</h2><ul><li><p>SSHè¿æ¥å·¥å…·ï¼Œæ¯”å¦‚Xshellã€Puttyã€‚Puttyä¸‹è½½ï¼Œ<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">ç‚¹å‡»ä¸‹è½½</a></p></li><li><p>Windows ä¸‹å®‰è£…é•œåƒçš„å·¥å…· win32diskimagerï¼Œ<a href="http://file.ncnynl.com/rpi/Win32DiskImager-0.9.5-install.exe">æœ¬åœ°ä¸‹è½½</a> <a href="https://sourceforge.net/projects/win32diskimager/">å®˜ç½‘ä¸‹è½½</a></p></li><li><p>æ ‘è“æ´¾ç³»ç»Ÿé•œåƒæ–‡ä»¶ï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://shumeipai.nxez.com/download">https://shumeipai.nxez.com/download</a> </p></li><li><p>å¦‚æœéœ€è¦å›¾å½¢æ¡Œé¢ï¼Œå°±ä¸‹è½½VNC Viewerï¼Œ<a href="https://www.realvnc.com/en/connect/download/viewer/">ç‚¹å‡»ä¸‹è½½</a></p></li></ul><h1 id="äºŒï¼šå®‰è£…ç³»ç»Ÿ"><a href="#äºŒï¼šå®‰è£…ç³»ç»Ÿ" class="headerlink" title="äºŒï¼šå®‰è£…ç³»ç»Ÿ"></a>äºŒï¼šå®‰è£…ç³»ç»Ÿ</h1><p>ä¸‹è½½æ ‘è“æ´¾é•œåƒåï¼Œè§£å‹ä¸º.iosåç¼€çš„æ–‡ä»¶ã€‚ç„¶ååˆ©ç”¨win32diskimagerçƒ§å½•åˆ°SDå¡ä¸­ã€‚<a href="https://www.ncnynl.com/archives/201606/201.html">ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æ•™ç¨‹</a></p><p>æ‰“å¼€SDå¡ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶åä¸º<code>ssh</code>æ— åç¼€åç©ºæ–‡ä»¶ã€‚</p><p>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶åä¸º<code>wpa_supplicant.conf</code>çš„æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">country=GB</span><br><span class="line">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line">update_config=1</span><br><span class="line">network=&#123;</span><br><span class="line">    ssid=&quot;spzmi8&quot;</span><br><span class="line">    psk=&quot;yatoummd233&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ssidï¼šwifiåç§°</p><p>pskï¼šwifiå¯†ç </p></blockquote><p>å°†SDå¡æ’å…¥æ ‘è“æ´¾ã€‚</p><h1 id="ä¸‰ï¼šç™»é™†æ ‘è“æ´¾"><a href="#ä¸‰ï¼šç™»é™†æ ‘è“æ´¾" class="headerlink" title="ä¸‰ï¼šç™»é™†æ ‘è“æ´¾"></a>ä¸‰ï¼šç™»é™†æ ‘è“æ´¾</h1><p>å°†æ ‘è“æ´¾æ¥é€šç”µæºï¼Œæ‰“å¼€sshè½¯ä»¶å…¥puttyæˆ–è€…xshellã€‚ä¹‹åå³å¯ç™»é™†æ ‘è“æ´¾ã€‚</p><p>ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯ç™»é™†æ ‘è“æ´¾</p><table><thead><tr><th>ä¸»æœºå</th><th>ç”¨æˆ·å</th><th>å¯†ç </th><th>ç«¯å£</th></tr></thead><tbody><tr><td>raspberrypi.local</td><td>pi</td><td>raspberry</td><td>22</td></tr></tbody></table><p>è‡³æ­¤æ ‘è“æ´¾å·²è¿æ¥æˆåŠŸã€‚</p><h1 id="å››ï¼šå‚è€ƒèµ„æ–™"><a href="#å››ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="å››ï¼šå‚è€ƒèµ„æ–™"></a>å››ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://www.jianshu.com/p/f2710991057e">æ— æ˜¾ç¤ºå™¨ã€è·¯ç”±å™¨ã€ç½‘çº¿å®‰è£…æ ‘è“æ´¾ç³»ç»Ÿ</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/Jack_Lue/article/details/82912327">æ ‘è“æ´¾3B+æ— æ˜¾ç¤ºå™¨é…ç½®è¯¦ç»†æ•™ç¨‹</a>ã€‹</p><p>ã€Š<a href="https://www.ncnynl.com/archives/201606/201.html">æ ‘è“æ´¾3-ç³»ç»Ÿå®‰è£…-Windowsä¸‹åˆ©ç”¨Win32DiskImagerè¿›è¡Œç³»ç»Ÿå®‰è£…</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> æ ‘è“æ´¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> æ ‘è“æ´¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨è®¢å•ä¸­æ‰“å°æ”¶è´§åœ°å€äºŒç»´ç </title>
      <link href="/2020/08/28/%E5%9C%A8%E8%AE%A2%E5%8D%95%E4%B8%AD%E6%89%93%E5%8D%B0%E6%94%B6%E8%B4%A7%E5%9C%B0%E5%9D%80%E4%BA%8C%E7%BB%B4%E7%A0%81/"/>
      <url>/2020/08/28/%E5%9C%A8%E8%AE%A2%E5%8D%95%E4%B8%AD%E6%89%93%E5%8D%B0%E6%94%B6%E8%B4%A7%E5%9C%B0%E5%9D%80%E4%BA%8C%E7%BB%B4%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ï¼šç®€ä»‹"><a href="#ä¸€ï¼šç®€ä»‹" class="headerlink" title="ä¸€ï¼šç®€ä»‹"></a>ä¸€ï¼šç®€ä»‹</h1><p>ä¸ƒå¤•èŠ‚åœ¨é…é€è¿‡ç¨‹ä¸­ï¼Œå‘ç°é…é€å‘˜ç”±äºæ–‡åŒ–æœ‰é™ï¼Œåœ¨ä½¿ç”¨å¯¼èˆªè½¯ä»¶ä¸Šæœ‰æå¤§çš„éšœç¢ã€‚è¿™ä¸ä»…æ‹–æ…¢äº†æ•´ä¸ªé…é€è¿‡ç¨‹ï¼Œä¹Ÿä¸åˆ©äºä¸šåŠ¡çš„å¢é•¿ã€‚äºæ˜¯æˆ‘æƒ³åˆ°äº†ï¼Œåœ¨è®¢å•ä¸Šæ‰“å°ä¸€ä¸ªäºŒç»´ç ï¼Œæ‰«æäºŒç»´ç ï¼Œåˆ™å°±å¯ä»¥å¯¼èˆªåˆ°æ”¶è´§åœ°ç‚¹ã€‚</p><p>åœ¨ä¸€æ®µæ—¶é—´çš„å°è¯•åï¼Œæˆ‘æ•²å®šäº†æ­¤æ–¹æ¡ˆçš„å¯è¡Œæ€§ã€‚</p><p>ç”±äºç¾å›¾å’Œé¥¿äº†ä¹ˆè®¢å•æ‰“å°ï¼Œå·²åœ¨é£é¹…æ‰“å°æœºä¸Šå›ºå®šäº†æ¨¡æ¿ï¼Œæˆ‘æ— æ³•ä¿®æ”¹ä»–ä»¬çš„æ‰“å°æ¨¡æ¿ã€‚æ‰€ä»¥ï¼Œåªèƒ½ä¸ºå°ç¨‹åºçš„è®¢å•ï¼Œæ‰“å°åœ°å€äºŒç»´ç ã€‚</p><h1 id="äºŒï¼šæ–¹æ¡ˆ"><a href="#äºŒï¼šæ–¹æ¡ˆ" class="headerlink" title="äºŒï¼šæ–¹æ¡ˆ"></a>äºŒï¼šæ–¹æ¡ˆ</h1><p>ç”±äºå„ä¸ªåœ°å›¾å…¬å¸éƒ½æ²¡æœ‰æä¾›ç›´æ¥çš„æ¥å£ï¼Œè®©åœ°å›¾è½¬ä¸ºäºŒç»´ç ï¼Œæ‰€ä»¥é€€è€Œæ±‚å…¶æ¬¡ï¼Œéœ€è¦å…ˆå°†åœ°å€è½¬ä¸ºurlï¼Œè¿›å…¥è¿™ä¸ªurlå¯ä»¥è¿›å…¥åœ°å›¾ç•Œé¢ï¼Œç„¶åå°†urlè½¬ä¸ºäºŒç»´ç ã€‚</p><h2 id="2-1-åœ°å›¾è½¬url"><a href="#2-1-åœ°å›¾è½¬url" class="headerlink" title="2.1 åœ°å›¾è½¬url"></a>2.1 åœ°å›¾è½¬url</h2><ol><li><strong>ç™¾åº¦åœ°å›¾æ–¹æ¡ˆ</strong></li></ol><p>åœ¨æŸ¥çœ‹äº†å‡ ä¸ªåœ°å›¾æŠ€æœ¯æ–‡æ¡£åï¼Œæˆ‘æ‰¾åˆ°äº†ç™¾åº¦åœ°å›¾çš„æ¥å£ã€‚</p><p>åœ°å€ï¼š<a href="http://lbsyun.baidu.com/index.php?title=uri/api/web">http://lbsyun.baidu.com/index.php?title=uri/api/web</a></p><p>æ­¤æ¥å£æä¾›äº†å…è´¹çš„è°ƒèµ·åœ°å›¾çš„urlæ–¹æ¡ˆã€‚ç”±äºæˆ‘ä»¬åªèƒ½æ‹¿åˆ°æ”¶è´§åœ°å€ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ¥å£</p><p>æœåŠ¡åœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;api.map.baidu.com&#x2F;geocoder   &#x2F;&#x2F;PC&amp;WebappæœåŠ¡åœ°å€</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;api.map.baidu.com&#x2F;geocoder?address&#x3D;åŒ—äº¬å¸‚æµ·æ·€åŒºä¸Šåœ°ä¿¡æ¯è·¯9å·å¥ç§‘ç§‘æŠ€å¤§å¦&amp;output&#x3D;html&amp;src&#x3D;webapp.baidu.openAPIdemo</span><br></pre></td></tr></table></figure><p>æ‰“å¼€åçš„é¡µé¢</p><p><img src="https://i.loli.net/2020/08/28/PSI5wTshfGN9z81.png" class="lazyload" data-srcset="https://i.loli.net/2020/08/28/PSI5wTshfGN9z81.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">2</p><ol start="2"><li><strong>é«˜å¾·åœ°å›¾æ–¹æ¡ˆ</strong></li></ol><p>é«˜å¾·åœ°å›¾æä¾›Webè°ƒèµ·åœ°å›¾çš„æ¥å£æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;uri.amap.com&#x2F;marker?position&#x3D;116.473195,39.993253</span><br></pre></td></tr></table></figure><p>urlå‚æ•°ï¼š</p><table><thead><tr><th align="left">å‚æ•°åç§°</th><th align="left">å€¼(ç‚¹å‡»å¯ç¼–è¾‘)</th><th align="left">å‚æ•°è¯´æ˜</th><th align="left">æ˜¯å¦å¿…é€‰</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left">position</td><td align="left">116.473195,39.993253</td><td align="left">ä½ç½®ç‚¹ç»çº¬åº¦åæ ‡ï¼Œæ ¼å¼ä¸º: position=lon,lat</td><td align="left">æ˜¯</td><td align="left">lonè¡¨ç¤ºç»åº¦ï¼Œlatè¡¨ç¤ºçº¬åº¦</td></tr><tr><td align="left">name</td><td align="left">é¦–å¼€å¹¿åœº</td><td align="left">ç”¨æˆ·è‡ªå®šä¹‰æ˜¾ç¤ºåç§°</td><td align="left">å¦</td><td align="left"></td></tr><tr><td align="left">src</td><td align="left">mypage</td><td align="left">ä½¿ç”¨æ–¹æ¥æºä¿¡æ¯</td><td align="left">å¦</td><td align="left">ä¸ºä¿è¯æœåŠ¡è´¨é‡å»ºè®®å¡«å†™</td></tr><tr><td align="left">coordinate</td><td align="left">gaode</td><td align="left">åæ ‡ç³»å‚æ•°coordinate=gaode,è¡¨ç¤ºé«˜å¾·åæ ‡ï¼ˆgcj02åæ ‡ï¼‰ï¼Œcoordinate=wgs84,è¡¨ç¤ºwgs84åæ ‡ï¼ˆGPSåŸå§‹åæ ‡ï¼‰</td><td align="left">å¦</td><td align="left">é»˜è®¤ä¸ºé«˜å¾·åæ ‡ç³»ï¼ˆgcj02åæ ‡ç³»ï¼‰</td></tr><tr><td align="left">callnative</td><td align="left">0</td><td align="left">æ˜¯å¦å°è¯•è°ƒèµ·é«˜å¾·åœ°å›¾APPå¹¶åœ¨APPä¸­æŸ¥çœ‹ï¼Œ0è¡¨ç¤ºä¸è°ƒèµ·ï¼Œ1è¡¨ç¤ºè°ƒèµ·, é»˜è®¤å€¼ä¸º0</td><td align="left">å¦</td><td align="left">è¯¥å‚æ•°ä»…åœ¨ç§»åŠ¨ç«¯æœ‰æ•ˆ</td></tr></tbody></table><p>å’Œç™¾åº¦åœ°å›¾ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ¥å£ä¸æä¾›ç±»ä¼¼æœç´¢åŠŸèƒ½çš„æ¥å£æ–¹å¼ï¼Œå…¶ä¸­ç»çº¬åº¦ä¸ºå¿…å¡«é¡¹ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å°†è®¢å•åœ°å€ï¼Œå…ˆè°ƒç”¨é«˜å¾·çš„åœ°ç†åç§°è½¬ç»çº¬åº¦apiï¼Œåœ¨è°ƒç”¨æ­¤æ¥å£ã€‚</p><p>è¯¦ç»†çš„åœ°ç†ç¼–ç apiå‚è§ï¼š<a href="https://lbs.amap.com/api/webservice/guide/api/georegeo/">https://lbs.amap.com/api/webservice/guide/api/georegeo/</a></p><p>é€šè¿‡ä¸Šè¿°ä¸¤ä¸ªapiè·å–ï¼Œåœ°å€çš„é“¾æ¥ï¼Œè¯¦ç»†phpå‡½æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * [getAddressUrl ç”Ÿæˆåœ°å€url]</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span>  [string] $taddress [è®¢å•åœ°å€]</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> [string]       [è¿”å›åœ°å€url]</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getAddressUrl</span>(<span class="params">$address</span>)</span>&#123;</span><br><span class="line">    $api = <span class="string">&quot;https://restapi.amap.com/v3/geocode/geo&quot;</span>;</span><br><span class="line">    $key = <span class="string">&quot;ä½ ç”³è¯·çš„é«˜å¾·åœ°å›¾key&quot;</span>;</span><br><span class="line">    $request_url = $api.<span class="string">&quot;?address=&quot;</span>.$address.<span class="string">&quot;&amp;output=JSON&amp;key=&quot;</span>.$key;</span><br><span class="line">    $response = file_get_contents($request_url);</span><br><span class="line">    $obj = json_decode($response);</span><br><span class="line">    <span class="keyword">if</span>(strcmp($obj-&gt;status,<span class="string">&quot;1&quot;</span>)==<span class="number">0</span>)&#123;</span><br><span class="line">    $location_code = $obj-&gt;geocodes[<span class="string">&quot;0&quot;</span>]-&gt;location;</span><br><span class="line">    $address_url = <span class="string">&quot;https://uri.amap.com/marker?position=&quot;</span>.$location_code.<span class="string">&quot;&amp;name=&quot;</span>.$address;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $address_url;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å¯¹æ¯”é«˜å¾·åœ°å›¾å’Œç™¾åº¦åœ°å›¾ã€‚ç™¾åº¦åœ°å›¾åœ¨ç¼–ç¨‹æ–¹é¢æ›´åŠ æ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹äºæ‰«æäºŒç»´ç ä½“éªŒè€Œè¨€ï¼Œç™¾åº¦åœ°å›¾å¿…é¡»ä½¿ç”¨æµè§ˆå™¨æ‰«æï¼Œæˆ–è€…å¾®ä¿¡æ‰«æåæ ¹æ®æç¤ºæ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åç”±æµè§ˆå™¨è°ƒèµ·ç™¾åº¦åœ°å›¾è¿›å…¥å¯¼èˆªã€‚ç›´æ¥ä½¿ç”¨ç™¾åº¦åœ°å›¾æ‰«æäºŒç»´ç æ˜¯æ— æ³•è°ƒå‡ºå¯¼èˆªçš„ï¼Œè€Œä¸”ç™¾åº¦åœ°å›¾æ‰«æåŠŸèƒ½éšè—åœ¨æœç´¢æ¡†ä¹‹ä¸­ï¼Œä½¿ç”¨éå¸¸ä¸æ–¹ä¾¿ã€‚ç›¸å¯¹è€Œè¨€ï¼Œç”¨æˆ·ä½¿ç”¨é«˜å¾·åœ°å›¾apiç”Ÿæˆçš„äºŒç»´ç ä½¿ç”¨é«˜å¾·åœ°å›¾é¦–é¡µçš„æ‰«ä¸€æ‰«åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥å¯¼èˆªç•Œé¢ã€‚</p><h2 id="2-2-urlè½¬äºŒç»´ç "><a href="#2-2-urlè½¬äºŒç»´ç " class="headerlink" title="2.2 urlè½¬äºŒç»´ç "></a>2.2 urlè½¬äºŒç»´ç </h2><p>åœ¨ç½‘ä¸Šèƒ½æ‰¾åˆ°è®¸å¤šæä¾›urlè½¬äºŒç»´ç çš„apiæ¥å£ã€‚</p><p>åœ¨ç®€ä¹¦<a href="https://www.jianshu.com/p/064ab5c811cf">https://www.jianshu.com/p/064ab5c811cf</a> é‡Œï¼Œæä¾›äº†è®¸å¤šæ¥å£ã€‚</p><p>ç”±äºé£é¹…æ‰“å°æœºçš„æŠ€æœ¯æ–‡æ¡£ä¸­è¯´æ˜äº†ï¼Œåªéœ€è¦åœ¨æ‰“å°æ—¶åœ¨&lt;QR&gt;æ ‡ç­¾ä¸­è¾“å…¥urlå³å¯è‡ªåŠ¨è½¬æ¢ï¼Œæ‰€ä»¥ï¼Œä¸åœ¨éœ€è¦ä½¿ç”¨é¢å¤–çš„æ¥å£ã€‚</p><blockquote><p>â­ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡getæ¥è·å–urläºŒç»´ç ï¼Œå¿…é¡»å…ˆä½¿ç”¨url_encodeå°†urlç¼–ç ï¼Œå¦åˆ™äºŒç»´ç ä¸­å°†ä¸¢å¤±urlçš„å‚æ•°ä¿¡æ¯ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µå•† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¢å•å¡ç‰‡å¤‡æ³¨è‡ªåŠ¨æ‰“å°ç³»ç»Ÿ</title>
      <link href="/2020/08/26/%E8%AE%A2%E5%8D%95%E5%8D%A1%E7%89%87%E5%A4%87%E6%B3%A8%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%B0%E7%B3%BB%E7%BB%9F/"/>
      <url>/2020/08/26/%E8%AE%A2%E5%8D%95%E5%8D%A1%E7%89%87%E5%A4%87%E6%B3%A8%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%B0%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ï¼šç³»ç»Ÿè®¾è®¡"><a href="#ä¸€ï¼šç³»ç»Ÿè®¾è®¡" class="headerlink" title="ä¸€ï¼šç³»ç»Ÿè®¾è®¡"></a>ä¸€ï¼šç³»ç»Ÿè®¾è®¡</h1><p>ç³»ç»Ÿæ€ç»´å¯¼å›¾ï¼š</p><p><img src="https://i.loli.net/2020/08/26/EVucX6TlpsqxiPz.png" class="lazyload" data-srcset="https://i.loli.net/2020/08/26/EVucX6TlpsqxiPz.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å„ä¸ªæ¥å•å¹³å°åœ¨æ”¶åˆ°è®¢å•åï¼Œå°†è®¢å•ä¿¡æ¯å‘é€ç»™å…¬ç½‘æœåŠ¡å™¨ï¼Œå…¬ç½‘æœåŠ¡å™¨ä»è®¢å•ä¿¡æ¯ä¸­æå–å¡ç‰‡å†…å®¹ï¼Œå¹¶å°†å¡ç‰‡å†…å®¹å‘é€ç»™å’Œæ‰“å°æœºå¤„åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ç¯å¢ƒä¸‹çš„æ ‘è“æ´¾ï¼Œæ ‘è“æ´¾å‘é€æ‰“å°è¯·æ±‚ã€‚</p><p>ç”±äºæ‰“å°æœºçš„æ‰“å°è¯·æ±‚å¿…é¡»åœ¨å±€åŸŸç½‘ç¯å¢ƒä¸‹å‘å‡ºï¼Œå†…ç½‘ç©¿é€å°±æ˜¯å¿…é¡»çš„æ­¥éª¤ï¼Œæ‰€ä»¥è¿™é‡Œçš„æ ‘è“æ´¾å’Œå…¬ç½‘æœåŠ¡å™¨ç¼ºä¸€ä¸å¯ï¼Œå¦‚æœæœ‰å›ºå®šçš„å…¬ç½‘ipï¼Œåˆ™å¯å–æ¶ˆå…¬ç½‘æœåŠ¡å™¨æ­¥éª¤ï¼Œå¦‚æœæ‰“å°æœºæ”¯æŒhttpå‘é€apiè¯·æ±‚åˆ›å»ºæ‰“å°è¿›ç¨‹ï¼Œåˆ™å¯å–æ¶ˆæ ‘è“æ´¾çš„ä½œç”¨ã€‚</p><h1 id="äºŒï¼šå‡†å¤‡å·¥ä½œ"><a href="#äºŒï¼šå‡†å¤‡å·¥ä½œ" class="headerlink" title="äºŒï¼šå‡†å¤‡å·¥ä½œ"></a>äºŒï¼šå‡†å¤‡å·¥ä½œ</h1><ol><li>ç”³è¯·ç¾å›¢å’Œé¥¿äº†ä¹ˆAPIæ¥å£ã€‚</li><li>è´­ä¹°å…¬ç½‘æœåŠ¡å™¨ï¼Œæ¨èé˜¿é‡Œäº‘å’Œè…¾è®¯äº‘ï¼Œå­¦ç”Ÿä»·è´­ä¹°è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œä¸€å¹´100å…ƒå·¦å³ã€‚æˆ‘ç”±äºå·²æœ‰å°ç¨‹åºï¼Œå› æ­¤å’Œå°ç¨‹åºå…¬ç”¨äº†åŒä¸€å°æœåŠ¡å™¨ã€‚å°ç¨‹åºä½¿ç”¨çš„æ˜¯å¼€æºç”µå•†å¹³å°â€œShopXOâ€ã€‚</li><li>æ ‘è“æ´¾4Bå’Œä¸€å°æ‰“å°æœºã€‚æ‰“å°æœºå¯é€‰æ™®é€šçš„å–·å¢¨æ‰“å°æœºæˆ–è€…æ ‡ç­¾æ‰“å°æœºã€‚å–·å¢¨æ‰“å°æœºæ‰“å°çš„æ—¶å€™éœ€è¦é—´æ­‡çš„å°†è´ºå¡æ”¾å…¥æ‰“å°æœºï¼Œè€Œæ ‡ç­¾æœºåˆ™å¯è¿ç»­çš„æ‰“å°æ ‡ç­¾ï¼Œå¯å°†æ‰“å°åçš„æ ‡ç­¾è´´åœ¨è´ºå¡ä¸Šã€‚å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä¸“é—¨è´­ä¹°ä¸€ä¸ªè¿ç»­æ‰“å°è´ºå¡çš„æœºå™¨é€šå¸¸æ¯”è¾ƒè´µã€‚æ­¤ç³»ç»Ÿé¢„ç®—åœ¨1kå…ƒäººæ°‘å¸ã€‚å…¶ä¸­å…¬ç½‘æœåŠ¡å™¨100å…ƒ/å¹´ï¼Œæ ‘è“æ´¾å¯æ ¹æ®è‡ªèº«èµ„é‡‘é€‰æ‹©ï¼Œå»ºè®®åœ¨100~500ï¼Œæ‰“å°æœºåœ¨300~800ã€‚ä¸åŒçš„æ‰“å°æœºåœ¨æ ‘è“æ´¾ç¼–ç¨‹æ—¶ï¼Œæ¶‰åŠçš„æŒ‡ä»¤é›†æ˜¯ä¸åŒçš„ã€‚ç»†èŠ‚å¯èƒ½åœ¨åé¢é€‰å¥½åï¼Œåœ¨ä¿®æ”¹è¿™é‡Œçš„å†…å®¹ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µå•†ç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬è™«åŸºç¡€</title>
      <link href="/2020/07/26/%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/"/>
      <url>/2020/07/26/%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="1-ä»»åŠ¡ä»‹ç»å’Œå‡†å¤‡å·¥ä½œ"><a href="#1-ä»»åŠ¡ä»‹ç»å’Œå‡†å¤‡å·¥ä½œ" class="headerlink" title="1: ä»»åŠ¡ä»‹ç»å’Œå‡†å¤‡å·¥ä½œ"></a>1: ä»»åŠ¡ä»‹ç»å’Œå‡†å¤‡å·¥ä½œ</h1><p>çˆ¬å–è±†ç“£ç”µå½±Top250çš„åŸºæœ¬ä¿¡æ¯ã€‚</p><p><a href="https://movie.douban.com/top250">https://movie.douban.com/top250</a></p><p><strong>ç¼–ç è§„èŒƒï¼š</strong></p><p><img src="https://i.loli.net/2020/07/30/stZfEjhOwmloNMI.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/30/stZfEjhOwmloNMI.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200730095154658"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">print(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ = <span class="string">&quot;__main__&quot;</span>:<span class="comment">#å…¥å£å‡½æ•°ï¼Œæ§åˆ¶å‡½æ•°çš„æ‰§è¡Œé¡ºåº</span></span><br><span class="line">hello()</span><br></pre></td></tr></table></figure><p><strong>å¼•å…¥æ¨¡å—ï¼š</strong></p><p>ç›®å½•ç»“æ„ï¼š</p><p>- test1</p><p>â€‹    - t1.py</p><p>- test2</p><p>â€‹    - t2.py</p><p>t1.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a,b</span>):</span></span><br><span class="line"><span class="keyword">return</span> a+b</span><br><span class="line">print(add(a,b))</span><br></pre></td></tr></table></figure><p>åœ¨t2.pyä¸­å¼•å…¥ï¼Œt1.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> test1 <span class="keyword">import</span> t1</span><br><span class="line">print(t1.add(<span class="number">3</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure><p>å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup<span class="comment">#ç½‘é¡µè§£æ</span></span><br><span class="line"><span class="keyword">import</span> re<span class="comment">#æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">import</span> urllib.request,urllib.error<span class="comment">#æŒ‡å®šurlï¼Œè·å–ç½‘é¡µæ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> xlwt<span class="comment">#è¿›è¡Œexcelæ“ä½œ</span></span><br><span class="line"><span class="keyword">import</span> sqlite3<span class="comment">#è¿›è¡ŒSQLiteæ•°æ®åº“æ“ä½œ</span></span><br></pre></td></tr></table></figure><h1 id="2ï¼šæ„å»ºæµç¨‹"><a href="#2ï¼šæ„å»ºæµç¨‹" class="headerlink" title="2ï¼šæ„å»ºæµç¨‹"></a>2ï¼šæ„å»ºæµç¨‹</h1><h2 id="2-1-åŸºæœ¬æ¡†æ¶"><a href="#2-1-åŸºæœ¬æ¡†æ¶" class="headerlink" title="2.1 åŸºæœ¬æ¡†æ¶"></a>2.1 åŸºæœ¬æ¡†æ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    baseurl = <span class="string">&quot;https://movie.douban.com/top250?start=&quot;</span></span><br><span class="line">    <span class="comment">#1.çˆ¬å–ç½‘é¡µ</span></span><br><span class="line">    datalist = getData(baseurl)</span><br><span class="line">    savepath = <span class="string">&quot;.\\è±†ç“£ç”µå½±Top250&quot;</span></span><br><span class="line">    <span class="comment">#3.ä¿å­˜æ•°æ®</span></span><br><span class="line">saveData(savepath)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#çˆ¬å–ç½‘é¡µ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">baseurl</span>):</span></span><br><span class="line">    datalist = []</span><br><span class="line">    <span class="comment">#2.é€ä¸€è§£ææ•°æ®</span></span><br><span class="line">    <span class="keyword">return</span> datalist</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">saveData</span>(<span class="params">savepath</span>):</span></span><br><span class="line">    <span class="comment">#ä¿å­˜</span></span><br></pre></td></tr></table></figure><h2 id="2-2-è·å–æ•°æ®"><a href="#2-2-è·å–æ•°æ®" class="headerlink" title="2.2 è·å–æ•°æ®"></a>2.2 è·å–æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">askURL</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="comment">#ç”¨æˆ·ä»£ç†ï¼Œå‘Šè¯‰è±†ç“£ï¼Œæµè§ˆå™¨ç±»å‹</span></span><br><span class="line">head = &#123;<span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36&quot;</span>&#125;</span><br><span class="line">    req = urllib.request.Request(url,headers=head)</span><br><span class="line">    html = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = urllib.request.urlospen(req)</span><br><span class="line">        html = response.read().decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        print(html)</span><br><span class="line">    <span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">if</span> hasattr(e,<span class="string">&quot;code&quot;</span>):s</span><br><span class="line">            print(e.code)</span><br><span class="line">        <span class="keyword">if</span> hasattr(e,<span class="string">&quot;reason&quot;</span>):</span><br><span class="line">            print(e.reason)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">baseurl</span>):</span></span><br><span class="line">    datalist = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">        url = baseurl + str(i*<span class="number">25</span>)</span><br><span class="line">        html = askURL(url)</span><br><span class="line">        <span class="comment">#é€ä¸€è§£æç½‘é¡µ</span></span><br><span class="line">    <span class="keyword">return</span> datalist</span><br></pre></td></tr></table></figure><h1 id="3ï¼šè¡¥å……Urllibåº“"><a href="#3ï¼šè¡¥å……Urllibåº“" class="headerlink" title="3ï¼šè¡¥å……Urllibåº“"></a>3ï¼šè¡¥å……Urllibåº“</h1><p>getè¯·æ±‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">response = urllib.request.urlopen(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line">print(response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>))<span class="comment">#å¯¹è·å–åˆ°çš„æºç è¿›è¡Œè§£ç </span></span><br></pre></td></tr></table></figure><p>Postè¯·æ±‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib,parse</span><br><span class="line"></span><br><span class="line">data = bytes(urllib.parse.urlencode(&#123;<span class="string">&quot;hello&quot;</span>:<span class="string">&quot;world&quot;</span>&#125;),encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">response = urlib.request.urlopen(<span class="string">&quot;http://httpbin.org/post&quot;</span>,data = data)</span><br><span class="line">print(response.read().decode(<span class="string">&quot;utf-8&quot;</span>))</span><br></pre></td></tr></table></figure><p>è¶…æ—¶å¤„ç†ï¼š0.01ç§’å†…æ— ååº”</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">response = urlib.request.urlopen(<span class="string">&quot;http://httpbin.org/get&quot;</span>,timeout = <span class="number">0.01</span>)</span><br><span class="line">    print(response.read().decode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line"><span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">    print(<span class="string">&quot;time out&quot;</span>)</span><br></pre></td></tr></table></figure><p>å“åº”å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">response.status</span><br><span class="line">response.getheader()</span><br><span class="line">response.getheader(<span class="string">&quot;Server&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä¼ªè£…ï¼šheaderså†…å®¹å¯ä»¥åœ¨è®¿é—®ç½‘ç«™æ—¶æŸ¥çœ‹ï¼Œrequest header</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">&quot;https://www.douban.com&quot;</span></span><br><span class="line">headers = &#123;<span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36&quot;</span>&#125;</span><br><span class="line">data = bytes(urllib.parse.urlencode(&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;eric&quot;</span>&#125;),encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="comment">#å°è£…è¯·æ±‚</span></span><br><span class="line">req = urllib.request.Request(url=url,data=data,headers=headers,method=method)</span><br><span class="line">response = urllib.request.urlopen(req)</span><br></pre></td></tr></table></figure><h1 id="4ï¼šè¡¥å……BeautifSoupåº“"><a href="#4ï¼šè¡¥å……BeautifSoupåº“" class="headerlink" title="4ï¼šè¡¥å……BeautifSoupåº“"></a>4ï¼šè¡¥å……BeautifSoupåº“</h1><p>å°†å¤æ‚çš„htmlæ–‡æ¡£è½¬åŒ–ä¸ºæ ‘å½¢æ–‡æ¡£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">file = open(<span class="string">&quot;./baidu.html&quot;</span>,<span class="string">&quot;rb&quot;</span>)</span><br><span class="line">html = file.read()</span><br><span class="line">bs = BeautifulSoup(html,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">print(bs.title)</span><br><span class="line"><span class="comment"># &lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;</span></span><br><span class="line">print(bs.title.string)</span><br><span class="line"><span class="comment">#The Dormouse&#x27;s story</span></span><br><span class="line">print(bs.a.attrs)</span><br><span class="line"><span class="comment">#è·å–æ‰€æœ‰å±æ€§</span></span><br><span class="line"><span class="comment">#find_all()æŸ¥æ‰¾æ‰€æœ‰çš„aæ ‡ç­¾</span></span><br><span class="line">t_lists = bs.find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">t_lists = bs.find_all(re.compile(<span class="string">&quot;a&quot;</span>))</span><br><span class="line"></span><br><span class="line">t_lists = bs.find_all(class=&quot;head&quot;)</span><br><span class="line">t_lists = bs.find_all(class_=<span class="literal">True</span>)</span><br><span class="line">t_lists = bs.find_all(text = re.compile(<span class="string">&quot;\d&quot;</span>))<span class="comment">#æŸ¥æ‰¾å¸¦æ•°å­—çš„æ–‡å­—</span></span><br><span class="line">t_lists = bs.find_all(<span class="string">&quot;a&quot;</span>,limit=<span class="number">3</span>)<span class="comment">#é™å®šä¸‰ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Cssé€‰æ‹©å™¨</span></span><br><span class="line">bs.select(<span class="string">&#x27;title&#x27;</span>)</span><br><span class="line"><span class="comment">#&lt;title&gt;sbianm&lt;title&gt;</span></span><br><span class="line">bs.select(<span class="string">&quot;.mnav&quot;</span>)</span><br><span class="line"><span class="comment">#æŒ‰ç±»åæŸ¥æ‰¾</span></span><br><span class="line">bs.select(<span class="string">&quot;#u1&quot;</span>)</span><br><span class="line"><span class="comment">#æŒ‰idæŸ¥æ‰¾</span></span><br><span class="line">bs.select(<span class="string">&quot;a[class=&#x27;bri&#x27;]&quot;</span>)</span><br><span class="line"><span class="comment">#æŒ‰ç…§å±æ€§æŸ¥æ‰¾</span></span><br><span class="line">bs.select(<span class="string">&quot;head&gt;title&quot;</span>)</span><br><span class="line"><span class="comment">#é€šè¿‡å­æ ‡ç­¾æ¥æŸ¥æ‰¾</span></span><br><span class="line">bs.select(<span class="string">&quot;.mnv ~ .bri&quot;</span>)</span><br><span class="line"><span class="comment">#æŸ¥æ‰¾.mnvç±»çš„å…„å¼Ÿæ ‡ç­¾ï¼Œä¸”ç±»åä¸ºbri</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå†…å®¹ï¼š<a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/">https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/</a></p><h1 id="5ï¼šè¡¥å……æ­£åˆ™è¡¨è¾¾å¼"><a href="#5ï¼šè¡¥å……æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="5ï¼šè¡¥å……æ­£åˆ™è¡¨è¾¾å¼"></a>5ï¼šè¡¥å……æ­£åˆ™è¡¨è¾¾å¼</h1>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>httponlyçš„Cookie</title>
      <link href="/2020/07/22/httponly%E7%9A%84Cookie/"/>
      <url>/2020/07/22/httponly%E7%9A%84Cookie/</url>
      
        <content type="html"><![CDATA[<p>JSè·å–cookieçš„ç¨‹åºæ˜¯<code>document.cookie</code>ï¼Œä½†æ˜¯ä¸ºäº†ç½‘ç«™å®‰å…¨ã€‚æœåŠ¡å™¨å¯ä»¥è®¾ç½®æŸäº›cookieä¸èƒ½ä½¿ç”¨jsè·å–ã€‚è¿™ç§ç±»å‹çš„cookieå³ä½¿httponlyçš„cookieï¼Œè€Œä¸”åªæœ‰æœåŠ¡å™¨èƒ½å‘é€æ­¤ç±»cookieã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setcookie(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;test&quot;</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">TRUE</span>); </span><br></pre></td></tr></table></figure><p>åœ¨æœ€æ–°phpä¸­è®¾ç½®cookieçš„httponlyå±æ€§ï¼Œéœ€è¦å°†ç¬¬ä¸ƒä¸ªå€¼è®¾ç½®ä¸ºtrueã€‚</p><p>åœ¨æµè§ˆå™¨å¦‚ä½•è·å–httponlyå±æ€§çš„cookieå‘¢ã€‚éœ€è¦è¿›å…¥æ§åˆ¶å°ï¼Œæ‰“å¼€<code>Application</code></p><p><img src="https://i.loli.net/2020/07/22/rxhTneIsZE1cJzq.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/22/rxhTneIsZE1cJzq.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200722173318918"></p><p>è®¾ç½®httponlyå±æ€§ï¼Œå¯¹äºcookieå®‰å…¨éå¸¸é‡è¦ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢XSSæ”»å‡»ï¼Œæ”»å‡»è€…é€šè¿‡æ¤å…¥JSä»£ç ï¼Œè·å–ç½‘ç«™çš„cookieï¼Œä»è€Œä»¥ç”¨æˆ·èº«ä»½æµè§ˆæœåŠ¡å™¨ã€‚</p><p>å¦å¤–è®¾ç½®cookieè¿‡æœŸæ—¶é—´ä¸ä¼šè¯Sessionæ—¶é—´ç›¸åŒï¼Œä¹Ÿèƒ½æœ‰æ•ˆä¿æŠ¤ç”¨æˆ·ä¿¡æ¯å®‰å…¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cookie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PythonåŸºç¡€</title>
      <link href="/2020/07/22/Python%E5%9F%BA%E7%A1%80/"/>
      <url>/2020/07/22/Python%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Hello-World"><a href="#1-Hello-World" class="headerlink" title="1: Hello World"></a>1: Hello World</h1><p>windows <code>win</code>+<code>R</code>æ‰“å¼€è¿è¡Œèœå•ï¼Œè¾“å…¥<code>CMD</code>ï¼Œè¿›å…¥ç»ˆç«¯ã€‚è¾“å…¥<code>python</code>è¿›å…¥pythonç»ˆç«¯ç¨‹åºã€‚è¾“å…¥<code>print(&quot;hello,world&quot;)</code>æ‰“å°æ–‡å­—ã€‚</p><p><code>import this</code>æ‰“å°pythonä¹‹ç¦…</p><p>ç»“æŸå‘½ä»¤æç¤ºç¬¦ï¼š</p><p><code>exit()</code></p><p><code>ctrl</code>+<code>z</code></p><blockquote><p>å‘½ä»¤æç¤ºç¬¦ä¸­çš„æ¯ä¸€è¡Œæ˜¯ç›¸å…³è”çš„ã€‚</p></blockquote><p>æ‰§è¡Œä»¥<code>.py</code>ç»“å°¾æ–‡ä»¶ã€‚</p><p>å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥<code>python hello.world.py</code></p><h1 id="2-åŸºç¡€"><a href="#2-åŸºç¡€" class="headerlink" title="2: åŸºç¡€"></a>2: åŸºç¡€</h1><h2 id="2-1-æ³¨é‡Š"><a href="#2-1-æ³¨é‡Š" class="headerlink" title="2.1 æ³¨é‡Š"></a>2.1 æ³¨é‡Š</h2><p><code>#æ³¨é‡Š</code>ï¼šå•è¡Œæ³¨é‡Š</p><p><code>***æ³¨é‡Š***</code>ï¼šå¤šè¡Œæ³¨é‡Š </p><h2 id="2-2-æ ‡å‡†åŒ–è¾“å‡º"><a href="#2-2-æ ‡å‡†åŒ–è¾“å‡º" class="headerlink" title="2.2 æ ‡å‡†åŒ–è¾“å‡º"></a>2.2 æ ‡å‡†åŒ–è¾“å‡º</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¸¸è§„è¾“å‡º</span></span><br><span class="line">print(<span class="string">&quot;æ ‡å‡†åŒ–è¾“å‡ºå­—ç¬¦ä¸²&quot;</span>)</span><br><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="comment">#å­—ç¬¦è¿æ¥å˜é‡</span></span><br><span class="line">print(<span class="string">&quot;è¿™æ˜¯å˜é‡&quot;</span>, a)</span><br><span class="line"><span class="comment">#å˜é‡å ä½</span></span><br><span class="line">print(<span class="string">&quot;æˆ‘çš„å¹´çºªæ˜¯ï¼š%d å²&quot;</span>%a)</span><br><span class="line"><span class="comment">#å¤šå˜é‡å ä½</span></span><br><span class="line">print(<span class="string">&quot;æˆ‘çš„åå­—æ˜¯%sï¼Œæˆ‘çš„å›½ç±æ˜¯%s&quot;</span>%(<span class="string">&quot;å°å¼ &quot;</span>,<span class="string">&quot;ä¸­å›½&quot;</span>))</span><br><span class="line"><span class="comment">#å¤šä¸ªå­—ç¬¦ä¸²ï¼Œç©ºæ ¼éš”å¼€</span></span><br><span class="line">print(<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;ccc&quot;</span>)</span><br><span class="line"><span class="comment">#å¤šä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®š.éš”å¼€</span></span><br><span class="line">print(<span class="string">&quot;www&quot;</span>,<span class="string">&quot;baidu&quot;</span>,<span class="string">&quot;com&quot;</span>,sep=<span class="string">&quot;.&quot;</span>)</span><br><span class="line"><span class="comment">#æ— å­—ç¬¦ä¸²ç»“å°¾</span></span><br><span class="line">print(<span class="string">&quot;hello&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="comment">#ä»¥ç©ºæ ¼ç»“å°¾</span></span><br><span class="line">print(<span class="string">&quot;world&quot;</span>,end=<span class="string">&quot;\t&quot;</span>)</span><br><span class="line"><span class="comment">#ä»¥å›è½¦ç¬¦ç»“å°¾</span></span><br><span class="line">print(<span class="string">&quot;python&quot;</span>,end=<span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>æ ‡å‡†åŒ–è¾“å‡ºå­—ç¬¦ä¸²<br>è¿™æ˜¯å˜é‡ 10<br>æˆ‘çš„å¹´çºªæ˜¯ï¼š10 å²<br>æˆ‘çš„åå­—æ˜¯å°å¼ ï¼Œæˆ‘çš„å›½ç±æ˜¯ä¸­å›½<br>aaa bbb ccc<br><a href="http://www.baidu.com/">www.baidu.com</a><br>helloworld      python</p></blockquote><p>å ä½ç¬¦ï¼š</p><p><img src="https://i.loli.net/2020/07/22/57QSZPcBOEqXw2m.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/22/57QSZPcBOEqXw2m.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200722151300301"></p><h2 id="2-3-æ ‡å‡†åŒ–è¾“å…¥"><a href="#2-3-æ ‡å‡†åŒ–è¾“å…¥" class="headerlink" title="2.3 æ ‡å‡†åŒ–è¾“å…¥"></a>2.3 æ ‡å‡†åŒ–è¾“å…¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">password = input(<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>)</span><br><span class="line">print(<span class="string">&quot;æ‚¨åˆšæ‰è¾“å…¥çš„å¯†ç æ˜¯&quot;</span>,password)</span><br><span class="line"><span class="comment">#æµ‹è¯•å˜é‡ç±»å‹</span></span><br><span class="line">print(type(password))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>è¯·è¾“å…¥å¯†ç 123<br>æ‚¨åˆšæ‰è¾“å…¥çš„å¯†ç æ˜¯ 123<br>&lt;class â€˜strâ€™&gt;</p></blockquote><p><strong>å³ä½¿è¾“å…¥æ•°å­—ï¼Œinputä¹Ÿæ˜¯å­—ç¬¦ä¸²</strong></p><p>å¦‚æœæƒ³è¦è¾“å…¥æ•´å‹æ•°ã€‚ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = int(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">print(type(a))</span><br><span class="line">print(<span class="string">&quot;è¾“å‡ºçš„æ˜¯æ•´å‹%d&quot;</span>%a)</span><br></pre></td></tr></table></figure><h2 id="2-4-è¿ç®—ç¬¦"><a href="#2-4-è¿ç®—ç¬¦" class="headerlink" title="2.4 è¿ç®—ç¬¦"></a>2.4 è¿ç®—ç¬¦</h2><p><img src="https://i.loli.net/2020/07/22/IPZJTEy8KjevLF4.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/22/IPZJTEy8KjevLF4.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200722153157538"></p><p><img src="https://i.loli.net/2020/07/22/xa3uNCHrgq5fwsh.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/22/xa3uNCHrgq5fwsh.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200722153241400"></p><p><img src="https://i.loli.net/2020/07/22/MQloegHN3BLOYsK.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/22/MQloegHN3BLOYsK.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200722153320987"></p><h1 id="3-åˆ¤æ–­å’Œå¾ªç¯è¯­å¥"><a href="#3-åˆ¤æ–­å’Œå¾ªç¯è¯­å¥" class="headerlink" title="3: åˆ¤æ–­å’Œå¾ªç¯è¯­å¥"></a>3: åˆ¤æ–­å’Œå¾ªç¯è¯­å¥</h1><h2 id="3-1-åˆ¤æ–­è¯­å¥ï¼š"><a href="#3-1-åˆ¤æ–­è¯­å¥ï¼š" class="headerlink" title="3.1 åˆ¤æ–­è¯­å¥ï¼š"></a>3.1 åˆ¤æ–­è¯­å¥ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> conditino1:</span><br><span class="line">codes</span><br><span class="line"><span class="keyword">elif</span> condition2:</span><br><span class="line">codes</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">codes</span><br></pre></td></tr></table></figure><p>:warning:<strong>ç¼©è¿›</strong>ã€<strong>å†’å·</strong>å¾ˆé‡è¦</p><h2 id="3-2-éšæœºç”Ÿæˆæ•°ï¼š"><a href="#3-2-éšæœºç”Ÿæˆæ•°ï¼š" class="headerlink" title="3.2 éšæœºç”Ÿæˆæ•°ï¼š"></a>3.2 éšæœºç”Ÿæˆæ•°ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="comment">#éšæœºç”Ÿæˆ[0,2]ä¹‹é—´çš„æ•´æ•°ï¼Œ0ã€1ã€2</span></span><br><span class="line">x = random.randint(<span class="number">0</span>,<span class="number">2</span>) </span><br></pre></td></tr></table></figure><h2 id="3-3-å¯¼å…¥æ¨¡å—å’Œå‡½æ•°"><a href="#3-3-å¯¼å…¥æ¨¡å—å’Œå‡½æ•°" class="headerlink" title="3.3 å¯¼å…¥æ¨¡å—å’Œå‡½æ•°"></a>3.3 å¯¼å…¥æ¨¡å—å’Œå‡½æ•°</h2><p>å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼š<code>import module</code></p><p>ä»æŸä¸ªæ¨¡å—ä¸­å¯¼å…¥æŸä¸ªå‡½æ•°ï¼š<code>from module import function</code></p><p>ä»æŸä¸ªæ¨¡å—å¯¼å…¥å¤šä¸ªå‡½æ•°ï¼š<code>from module import function1, function2</code></p><p>å°†æŸä¸ªæ¨¡å—çš„å‡½æ•°å…¨éƒ¨å¯¼å…¥ï¼š<code>from module import *</code></p><h2 id="3-4-å¾ªç¯"><a href="#3-4-å¾ªç¯" class="headerlink" title="3.4 å¾ªç¯"></a>3.4 å¾ªç¯</h2><h3 id="3-4-1-forå¾ªç¯"><a href="#3-4-1-forå¾ªç¯" class="headerlink" title="3.4.1 forå¾ªç¯"></a>3.4.1 forå¾ªç¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#[0,4]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">print(i)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ­¥é•¿ä¸º3ï¼Œ[0,10]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">10</span>,<span class="number">3</span>):</span><br><span class="line">    print(i) </span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°æ¯ä¸ªå­—ç¬¦ </span></span><br><span class="line">name = <span class="string">&quot;chengdu&quot;</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> name:</span><br><span class="line">    print(x,end=<span class="string">&quot;\t&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°åˆ—è¡¨</span></span><br><span class="line">a = [<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;cc&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(a)):</span><br><span class="line">print(i,a[i])</span><br></pre></td></tr></table></figure><h3 id="3-4-2-whileå¾ªç¯"><a href="#3-4-2-whileå¾ªç¯" class="headerlink" title="3.4.2 whileå¾ªç¯"></a>3.4.2 whileå¾ªç¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i&lt;<span class="number">5</span> :</span><br><span class="line">print(i)</span><br><span class="line">i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">print(<span class="string">&quot;whileç»“æŸ&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="3-4-3-breakå’Œcontinue"><a href="#3-4-3-breakå’Œcontinue" class="headerlink" title="3.4.3 breakå’Œcontinue"></a>3.4.3 breakå’Œcontinue</h3><p>breakï¼šç»“æŸæ‰€æœ‰å¾ªç¯ï¼›</p><p>continueï¼šç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œè¿›å…¥ä¸‹æ¬¡å¾ªç¯ã€‚</p><p>passï¼šå ä½ï¼Œä»€ä¹ˆä¹Ÿä¸æ‰§è¡Œï¼Œä½†passåçš„åŒçº§è¯­å¥ä¼šæ‰§è¡Œï¼Œå’Œç©ºè¡Œæ²¡åŒºåˆ«ã€‚</p><h1 id="4-æ ¸å¿ƒæ•°æ®ç±»å‹"><a href="#4-æ ¸å¿ƒæ•°æ®ç±»å‹" class="headerlink" title="4: æ ¸å¿ƒæ•°æ®ç±»å‹"></a>4: æ ¸å¿ƒæ•°æ®ç±»å‹</h1><h2 id="4-1-å­—ç¬¦ä¸²"><a href="#4-1-å­—ç¬¦ä¸²" class="headerlink" title="4.1 å­—ç¬¦ä¸²"></a>4.1 å­—ç¬¦ä¸²</h2><p>å¯ä½¿ç”¨ï¼šå•å¼•å·ã€åŒå¼•å·å’Œä¸‰å¼•å·ï¼ˆä¸‰ä¸ªå•æˆ–åŒå¼•å·ï¼‰ï¼Œä½¿ç”¨åæ–œæ <code>\</code>è½¬ä¹‰</p><h3 id="4-1-1-å­—ç¬¦ä¸²ä½œä¸ºæ•°ç»„"><a href="#4-1-1-å­—ç¬¦ä¸²ä½œä¸ºæ•°ç»„" class="headerlink" title="4.1.1 å­—ç¬¦ä¸²ä½œä¸ºæ•°ç»„"></a>4.1.1 å­—ç¬¦ä¸²ä½œä¸ºæ•°ç»„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&quot;chengdu&quot;</span></span><br><span class="line">print(str)</span><br><span class="line">print(str[<span class="number">0</span>])</span><br><span class="line">print(str[<span class="number">5</span>:])      <span class="comment">#ä»ç´¢å¼•5åˆ°æœ€å</span></span><br><span class="line">print(str[<span class="number">0</span>:<span class="number">5</span>:<span class="number">2</span>])   <span class="comment">#[èµ·å§‹ä½ç½®:ç»“æŸä½ç½®:æ­¥è¿›å€¼]</span></span><br></pre></td></tr></table></figure><blockquote><p>chengdu</p><p>c</p><p>du</p><p>ceg</p></blockquote><h3 id="4-1-2-å­—ç¬¦ä¸²è¿æ¥"><a href="#4-1-2-å­—ç¬¦ä¸²è¿æ¥" class="headerlink" title="4.1.2 å­—ç¬¦ä¸²è¿æ¥"></a>4.1.2 å­—ç¬¦ä¸²è¿æ¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(str+<span class="string">&quot;,nihao&quot;</span>)   <span class="comment">#chengdu,nihao</span></span><br><span class="line">print(str*<span class="number">3</span>)   <span class="comment">#è¿ç»­æ‰“å°ä¸‰æ¬¡</span></span><br><span class="line">print(<span class="string">&quot;hello\nchengdu&quot;</span>)    <span class="comment">#\nè½¬ä¹‰ä¸ºæ¢è¡Œ</span></span><br><span class="line">print(<span class="string">r&quot;hello\nchengdu&quot;</span>)     <span class="comment">#è½¬ä¹‰å­—ç¬¦ä¸èµ·ä½œç”¨ï¼Œç›´æ¥æ˜¾ç¤º</span></span><br></pre></td></tr></table></figure><h3 id="4-1-3-å­—ç¬¦ä¸²æ“ä½œå‡½æ•°"><a href="#4-1-3-å­—ç¬¦ä¸²æ“ä½œå‡½æ•°" class="headerlink" title="4.1.3 å­—ç¬¦ä¸²æ“ä½œå‡½æ•°"></a>4.1.3 å­—ç¬¦ä¸²æ“ä½œå‡½æ•°</h3><p><code>bytes.decode</code>å­—ç¬¦ä¸²è§£ç </p><p><code>isalnum()</code>åŒ…å«è‡³å°‘ä¸€ä¸ªå­—æ¯æˆ–æ•°å­— </p><p><code>isalpha()</code>è‡³å°‘ä¸€ä¸ªä¸”å…¨ä¸ºå­—æ¯</p><p><code>isdigit()</code>è‡³å°‘ä¸€ä¸ªä¸”å…¨ä¸ºæ•°å­—</p><p><code>join(seq)</code>æŒ‡å®šå­—ç¬¦ä¸²åšåˆ†éš”ç¬¦ï¼Œåˆå¹¶æ–°çš„å­—ç¬¦ä¸²</p><p><code>split()</code>æ‹†åˆ†å­—ç¬¦ä¸²</p><p><code>lstrip()</code>æˆªæ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦</p><p><code>rstrip()</code>æˆªæ‰å³è¾¹</p><h2 id="4-2-åˆ—è¡¨"><a href="#4-2-åˆ—è¡¨" class="headerlink" title="4.2 åˆ—è¡¨"></a>4.2 åˆ—è¡¨</h2><h3 id="4-2-1-å®šä¹‰åˆ—è¡¨"><a href="#4-2-1-å®šä¹‰åˆ—è¡¨" class="headerlink" title="4.2.1 å®šä¹‰åˆ—è¡¨"></a>4.2.1 å®šä¹‰åˆ—è¡¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = []</span><br><span class="line">namelist = [<span class="string">&quot;zhang&quot;</span>,<span class="string">&quot;wang&quot;</span>,<span class="number">3</span>]   <span class="comment">#åˆ—è¡¨ä¸­å¯ä»¥å­˜å‚¨æ··åˆç±»å‹</span></span><br></pre></td></tr></table></figure><h3 id="4-2-2-æ‰“å°"><a href="#4-2-2-æ‰“å°" class="headerlink" title="4.2.2 æ‰“å°"></a>4.2.2 æ‰“å°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(namelist[<span class="number">0</span>])</span><br><span class="line">print(namelist[<span class="number">1</span>])</span><br><span class="line">print(namelist[<span class="number">2</span>])</span><br></pre></td></tr></table></figure><h3 id="4-2-3-éå†åˆ—è¡¨"><a href="#4-2-3-éå†åˆ—è¡¨" class="headerlink" title="4.2.3 éå†åˆ—è¡¨"></a>4.2.3 éå†åˆ—è¡¨</h3><p>for:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> namelist:</span><br><span class="line">print(name)</span><br><span class="line">print(len(namelist))   <span class="comment">#len()è·å–åˆ—è¡¨é•¿åº¦</span></span><br></pre></td></tr></table></figure><p>while:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i&lt;len(namelist):</span><br><span class="line">print(namelist[i])</span><br><span class="line">i++</span><br></pre></td></tr></table></figure><h3 id="4-2-4-åˆ—è¡¨æ“ä½œå‡½æ•°"><a href="#4-2-4-åˆ—è¡¨æ“ä½œå‡½æ•°" class="headerlink" title="4.2.4 åˆ—è¡¨æ“ä½œå‡½æ•°"></a>4.2.4 åˆ—è¡¨æ“ä½œå‡½æ•°</h3><p><code>[ : : ]</code>åˆ—è¡¨åˆ‡ç‰‡</p><p><code>append</code>æ–°å¢æ•°æ®åˆ°åˆ—è¡¨å°¾éƒ¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">namelist.append(<span class="string">&quot;qian&quot;</span>)</span><br><span class="line"></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">b=[<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">a.append(b)</span><br><span class="line"><span class="comment">#è¾“å‡º[1,2,[3,4]]   å°†åˆ—è¡¨ä½œä¸ºä¸€ä¸ªå…ƒç´ åŠ å…¥åˆ°aä¸­</span></span><br><span class="line"></span><br><span class="line">a.extend(b)    <span class="comment">#å°†bä¸­çš„æ¯ä¸ªå…ƒç´ é€ä¸€è¿½åŠ åˆ°aä¸­</span></span><br><span class="line"><span class="comment">#è¾“å‡º[1,2,[3,4],3,4]</span></span><br></pre></td></tr></table></figure><p><code>insert</code>æŒ‡å®šä¸‹æ ‡ä½ç½®æ’å…¥å…ƒç´ ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">a.insert(<span class="number">1</span>,<span class="number">3</span>)<span class="comment">#ç¬¬ä¸€ä¸ªè¡¨ç¤ºç´¢å¼•ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºæ’å…¥çš„å…ƒç´ ï¼ˆå¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="comment">#è¾“å‡º[0,3,1,2]</span></span><br></pre></td></tr></table></figure><p><code>del list[index]</code> åœ¨æŒ‡å®šä½ç½®åˆ é™¤å…ƒç´ </p><p><code>list.pop()</code>å¼¹å‡ºæœ«å°¾æœ€åä¸€ä¸ªå…ƒç´ </p><p><code>list.remove(&quot;é’¢é“ä¾ &quot;)</code>ç›´æ¥åˆ é™¤ç¬¬ä¸€ä¸ªæŒ‡å®šå†…å®¹çš„å…ƒç´ ï¼Œè¿˜æœ‰çš„åŒåå…ƒç´ ä¸ä¼šè¢«åˆ é™¤ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">movieName = [<span class="string">&quot;åŠ å‹’æ¯”æµ·ç›—&quot;</span>,<span class="string">&quot;å¤ä»‡è€…&quot;</span>,<span class="string">&quot;é’¢é“ä¾ &quot;</span>,<span class="string">&quot;èœ˜è››ä¾ &quot;</span>]</span><br><span class="line"><span class="keyword">del</span> movieName[<span class="number">2</span>]<span class="comment">#åˆ é™¤é’¢é“ä¾ </span></span><br></pre></td></tr></table></figure><p><code>in</code>æŸå…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­</p><p><code>not in</code>ä¸åœ¨åˆ—è¡¨ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;wang&quot;</span></span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> namelist:</span><br><span class="line">print(<span class="string">&quot;æ‰¾åˆ°åå­—wang&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">print(<span class="string">&quot;æ²¡æ‰¾åˆ°&quot;</span>)</span><br></pre></td></tr></table></figure><p><code>index</code>æŸ¥æ‰¾æŒ‡å®šä¸‹æ ‡èŒƒå›´çš„å…ƒç´ ï¼Œè¿”å›å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•ä¸‹æ ‡ï¼ŒèŒƒå›´åŒºé—´ï¼Œå·¦é—­å³å¼€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line">a.index(<span class="string">&quot;c&quot;</span>,<span class="number">1</span>,<span class="number">4</span>)   <span class="comment">#èŒƒå›´æ˜¯[1,4)</span></span><br><span class="line"><span class="comment">#è¾“å‡º2</span></span><br><span class="line"><span class="comment">#å¦‚æœæ²¡æ‰¾åˆ°ä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure><p><code>count()</code>æŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªå…ƒç´ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.count(<span class="string">&quot;c&quot;</span>)   </span><br><span class="line"><span class="comment">#è¾“å‡º1</span></span><br></pre></td></tr></table></figure><p><code>reverse()</code>å°†åˆ—è¡¨å…ƒç´ ä»åå‘å‰åè½¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">a.reverce()</span><br><span class="line"><span class="comment">#è¾“å‡º[3,2,4,1]</span></span><br></pre></td></tr></table></figure><p><code>sort()</code>æ’åº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.sort()</span><br><span class="line"><span class="comment">#è¾“å‡º[1,2,3,4]</span></span><br><span class="line">a.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#è¾“å‡º[4,3,2,1]</span></span><br></pre></td></tr></table></figure><h2 id="4-3-å…ƒç»„"><a href="#4-3-å…ƒç»„" class="headerlink" title="4.3 å…ƒç»„"></a>4.3 å…ƒç»„</h2><p>tuple(å…ƒç»„):ä¸listç›¸ä¼¼ï¼Œä½†tupleå…ƒç´ ä¸èƒ½ä¿®æ”¹ã€‚</p><p>å…ƒç»„çš„å…ƒç´ ä¸èƒ½æ”¹ï¼Œä½†åŒ…å«çš„å¯¹è±¡å¯ä»¥ä¿®æ”¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tup1 = ()<span class="comment">#åˆ›å»ºç©ºå…ƒç»„ï¼Œå¸¦å¼•æˆtupleç±»å‹</span></span><br><span class="line">tup2 = (<span class="number">58</span>)<span class="comment">#ä¼šæ‰“å°æˆæ•´å‹</span></span><br><span class="line">tup3 = (<span class="number">58</span>,)<span class="comment">#æ‰“å°æˆtupleç±»å‹</span></span><br></pre></td></tr></table></figure><p>å…ƒç»„å¯»å€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tup1 = (<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;def&quot;</span>,<span class="number">1421</span>)</span><br><span class="line">print(tup1[<span class="number">0</span>])</span><br><span class="line">print(tup1[<span class="number">-1</span>])<span class="comment">#å€’æ•°ç¬¬ä¸€ä¸ª</span></span><br></pre></td></tr></table></figure><p>å…ƒç»„ä¸èƒ½ä¿®æ”¹ï¼š</p><p><del>tup[0] = 1;</del></p><p>å…ƒç»„å¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tup1 = (<span class="number">12</span>,<span class="number">34</span>,<span class="number">56</span>)</span><br><span class="line">tup2 = (<span class="string">&quot;abc&quot;</span>,xyz)</span><br><span class="line">tup3 = tup1 + tup2</span><br></pre></td></tr></table></figure><p>å…ƒç»„åˆ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> tup</span><br></pre></td></tr></table></figure><h2 id="4-4-å­—å…¸"><a href="#4-4-å­—å…¸" class="headerlink" title="4.4 å­—å…¸"></a>4.4 å­—å…¸</h2><p>æ— åºçš„å¯¹è±¡é›†åˆï¼Œä½¿ç”¨é”®å€¼å‚¨å­˜ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;å´å½¦ç¥–&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">18</span>&#125;</span><br><span class="line">print(info[<span class="string">&quot;name&quot;</span>])</span><br></pre></td></tr></table></figure><p>è®¿é—®å¯èƒ½ä¸å­˜åœ¨çš„é”®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(info[<span class="string">&quot;gender&quot;</span>])</span><br><span class="line"><span class="comment">#æŠ¥é”™</span></span><br><span class="line">print(info.get(<span class="string">&quot;gender&quot;</span>))</span><br><span class="line"><span class="comment">#è¾“å‡ºNone</span></span><br><span class="line">print(info,get(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;m&quot;</span>))</span><br><span class="line"><span class="comment">#æ²¡æ‰¾åˆ°é»˜è®¤ä¸ºmï¼Œæ‰¾åˆ°æ—¶æ˜¾ç¤ºæ‰¾åˆ°çš„å€¼</span></span><br></pre></td></tr></table></figure><p>å­—å…¸å¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info[<span class="string">&quot;id&quot;</span>] = <span class="number">12</span></span><br></pre></td></tr></table></figure><p>å­—å…¸åˆ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> info[<span class="string">&quot;name&quot;</span>]<span class="comment">#åˆ é™¤é”®å€¼å¯¹ã€‚ç›´æ¥è®¿é—®é”®ä¼šæŠ¥é”™ã€‚</span></span><br><span class="line">info.clear<span class="comment">#æ¸…ç©ºæ•°ç»„ï¼Œæ‰“å°ï¼šinfo = &#123;&#125;</span></span><br></pre></td></tr></table></figure><p>å­—å…¸æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;æˆé¾™&quot;</span></span><br></pre></td></tr></table></figure><p>å­—å…¸æŸ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">info.keys()<span class="comment">#å¾—åˆ°æ‰€æœ‰çš„é”®ï¼Œåˆ—è¡¨å½¢å¼</span></span><br><span class="line">info.values()<span class="comment">#å¾—åˆ°æ‰€æœ‰çš„å€¼</span></span><br><span class="line">info.items()<span class="comment">#å¾—åˆ°æ‰€æœ‰çš„é¡¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#éå†</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> info.keys():</span><br><span class="line">print(key)</span><br><span class="line"><span class="keyword">for</span> values <span class="keyword">in</span> info.values():</span><br><span class="line">    print(value)</span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> info.items():</span><br><span class="line">    print(<span class="string">&quot;key=$s,value=%s&quot;</span>%(key,value))</span><br><span class="line"></span><br><span class="line">mylist = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]</span><br><span class="line"><span class="comment">#enumerateæšä¸¾ç±»å‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span> i,x <span class="keyword">in</span> enumerate(mylist):</span><br><span class="line">    print(i,x)</span><br></pre></td></tr></table></figure><h2 id="4-5-é›†åˆ"><a href="#4-5-é›†åˆ" class="headerlink" title="4.5 é›†åˆ"></a>4.5 é›†åˆ</h2><p>ä¸å­—å…¸ç›¸ä¼¼ï¼Œæ˜¯keyçš„é›†åˆï¼Œä½†æ˜¯keyä¸èƒ½é‡å¤ã€‚</p><p>setå¯ä»¥ç”¨æ¥å»é‡ã€‚</p><p>å°ç»“ï¼š</p><p><img src="https://i.loli.net/2020/07/26/Zs3cgdvoN8UrWqQ.png" class="lazyload" data-srcset="https://i.loli.net/2020/07/26/Zs3cgdvoN8UrWqQ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200726090258027"></p><h1 id="5-å‡½æ•°"><a href="#5-å‡½æ•°" class="headerlink" title="5: å‡½æ•°"></a>5: å‡½æ•°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printInfo</span>():</span></span><br><span class="line">    print(<span class="string">&quot;---------------------------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;     äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨python    &quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;---------------------------&quot;</span>)</span><br><span class="line">printInfo()</span><br></pre></td></tr></table></figure><p>å¸¦å‚æ•°çš„å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add2Num</span>(<span class="params">a,b</span>):</span></span><br><span class="line">c = a + b</span><br><span class="line">    print(c)</span><br><span class="line">add2Num(<span class="number">11</span>,<span class="number">22</span>)</span><br></pre></td></tr></table></figure><p>å¸¦è¿”å›å€¼çš„å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add2Num</span>(<span class="params">a,b</span>):</span></span><br><span class="line"><span class="keyword">return</span> a+b</span><br><span class="line">result = add2Num(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><p>è¿”å›å¤šä¸ªå€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divid</span>(<span class="params">a,b</span>):</span></span><br><span class="line">shang = a/b</span><br><span class="line">    yushu = a%b</span><br><span class="line">    <span class="keyword">return</span> shang,yushu</span><br><span class="line">sh,yu = divid(<span class="number">5</span>,<span class="number">2</span>)</span><br><span class="line">print(sh,yu)</span><br></pre></td></tr></table></figure><blockquote><p>å‡½æ•°ç±»ï¼Œå±€éƒ¨å˜é‡ä¼˜å…ˆäºå…¨å±€å˜é‡</p></blockquote><p>åœ¨å‡½æ•°ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line"><span class="keyword">global</span> a<span class="comment">#å…¨å±€å˜é‡æ ‡è¯†ç¬¦</span></span><br><span class="line">    print(a)</span><br><span class="line">    a = <span class="number">200</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><h1 id="6-æ–‡ä»¶æ“ä½œ"><a href="#6-æ–‡ä»¶æ“ä½œ" class="headerlink" title="6: æ–‡ä»¶æ“ä½œ"></a>6: æ–‡ä»¶æ“ä½œ</h1><h2 id="6-1-æ‰“å¼€å…³é—­"><a href="#6-1-æ‰“å¼€å…³é—­" class="headerlink" title="6.1 æ‰“å¼€å…³é—­"></a>6.1 æ‰“å¼€å…³é—­</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)<span class="comment">#æ‰“å¼€æ–‡ä»¶ï¼Œå†™æ¨¡å¼ï¼Œä¸å­˜åœ¨æ–‡ä»¶æ—¶ï¼Œåœ¨å‡½æ•°ç›®å½•è·¯å¾„æ–°å»ºè¿™ä¸ªæ–‡ä»¶ã€‚</span></span><br><span class="line">f.close()<span class="comment">#å…³é—­æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">æ¨¡å¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">t</td><td align="left">æ–‡æœ¬æ¨¡å¼ (é»˜è®¤)ã€‚</td></tr><tr><td align="left">x</td><td align="left">å†™æ¨¡å¼ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™ä¼šæŠ¥é”™ã€‚</td></tr><tr><td align="left">b</td><td align="left">äºŒè¿›åˆ¶æ¨¡å¼ã€‚</td></tr><tr><td align="left">+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæ›´æ–°(å¯è¯»å¯å†™)ã€‚</td></tr><tr><td align="left">U</td><td align="left">é€šç”¨æ¢è¡Œæ¨¡å¼ï¼ˆä¸æ¨èï¼‰ã€‚</td></tr><tr><td align="left">r</td><td align="left">ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚</td></tr><tr><td align="left">rb</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">r+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚</td></tr><tr><td align="left">rb+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">w</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">wb</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">w+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">wb+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">a</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</td></tr><tr><td align="left">ab</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</td></tr><tr><td align="left">a+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚</td></tr><tr><td align="left">ab+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚</td></tr></tbody></table><h2 id="6-2-è¯»å–å­—ç¬¦"><a href="#6-2-è¯»å–å­—ç¬¦" class="headerlink" title="6.2 è¯»å–å­—ç¬¦"></a>6.2 è¯»å–å­—ç¬¦</h2><p>è¯»å–å…¨éƒ¨è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">content = f.read(<span class="number">5</span>)<span class="comment">#è¯»äº”ä¸ªå­—ç¬¦ï¼Œè¯»å–åï¼ŒæŒ‡é’ˆå‘åç§»åˆ°5çš„ä½ç½®</span></span><br><span class="line">content1 = f.readlines()<span class="comment">#å°†æ–‡æ¡£å…¨éƒ¨è¯»å–å‡ºæ¥ï¼ŒæŒ‰è¡Œä½œä¸ºä¸€ä¸ªå…ƒç´ æ”¾åœ¨åˆ—è¡¨é‡Œã€‚</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p>è¯»å–ä¸€è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">content1 = f.readline()<span class="comment">#è¯»å–ä¸€è¡Œï¼ŒæŒ‡é’ˆåç§»</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h2 id="6-3-osåº“"><a href="#6-3-osåº“" class="headerlink" title="6.3 osåº“"></a>6.3 osåº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">os.rename(&quot;test.txt&quot;,&quot;abc.txt&quot;)</span><br></pre></td></tr></table></figure><h1 id="7-é”™è¯¯ä¸å¼‚å¸¸"><a href="#7-é”™è¯¯ä¸å¼‚å¸¸" class="headerlink" title="7: é”™è¯¯ä¸å¼‚å¸¸"></a>7: é”™è¯¯ä¸å¼‚å¸¸</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)<span class="comment">#å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">print(<span class="string">&quot;---1---&quot;</span>)</span><br><span class="line">f = open(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;---2---&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> IOError:<span class="comment">#æ–‡ä»¶æ²¡æ‰¾åˆ°å±äºIOå¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">pass</span><span class="comment">#æ•è·å¼‚å¸¸åçš„å¤„ç†</span></span><br></pre></td></tr></table></figure><p>è¦æ•è·å¼‚å¸¸ç±»å‹ï¼Œæ‰ä¸ä¼šæŠ¥é”™</p><p>æ•è·å¤šä¸ªå¼‚å¸¸ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">print(<span class="string">&quot;---1---&quot;</span>)</span><br><span class="line">f = open(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;---2---&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> (IOError,NameError):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>è·å–é”™è¯¯æè¿°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">print(<span class="string">&quot;---1---&quot;</span>)</span><br><span class="line">f = open(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;---2---&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> IOError <span class="keyword">as</span> result:</span><br><span class="line">    print(result)</span><br></pre></td></tr></table></figure><p>æ•è·æ‰€æœ‰å¼‚å¸¸ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">print(<span class="string">&quot;---1---&quot;</span>)</span><br><span class="line">f = open(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;---2---&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">    print(result)<span class="comment">#æ•è·å¼‚å¸¸åçš„å¤„ç†</span></span><br></pre></td></tr></table></figure><p>try finally:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">f = open(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">print(result)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpå’Œjsä¸­çš„JSONæ“ä½œ</title>
      <link href="/2020/07/17/php%E5%92%8Cjs%E4%B8%AD%E7%9A%84JSON%E6%93%8D%E4%BD%9C/"/>
      <url>/2020/07/17/php%E5%92%8Cjs%E4%B8%AD%E7%9A%84JSON%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šåŸºæœ¬çŸ¥è¯†"><a href="#1ï¼šåŸºæœ¬çŸ¥è¯†" class="headerlink" title="1ï¼šåŸºæœ¬çŸ¥è¯†"></a>1ï¼šåŸºæœ¬çŸ¥è¯†</h1><p><em>JSON</em>(JavaScript Object Notation, JS å¯¹è±¡ç®€è°±) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚è¿™ç§æ ¼å¼çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;[&#123;&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:54&#125;],</span><br><span class="line">[&#123;&quot;name&quot;:&quot;lisi&quot;,&quot;age&quot;:56&#125;]&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong></p><ul><li><p>ä»¥ä¸ŠJSONæ•°æ®åŒ…å«äº†ä¸€ä¸ªå¯¹è±¡ï¼Œæœ€å¤–ä¾§çš„<code>&#123;&#125;</code>ï¼Œå¯¹è±¡å†…éƒ¨åŒ…å«äº†ä¸¤ä¸ªæ•°ç»„<code>[]</code>,æ¯ä¸ªæ•°ç»„å†…éƒ½æœ‰ä¸€ä¸ªç»“æ„ç±»ä¼¼çš„å¯¹è±¡ï¼Œå†…ä¾§çš„<code>&#123;&#125;</code>ã€‚</p></li><li><p>å¯¹è±¡å’Œæ•°ç»„æ˜¯æ„æˆJSONçš„åŸºæœ¬è¦ç´ ï¼Œæ•°ç»„çš„å‡ºç°æ˜¯ä¸ºäº†è®©ç»“æ„ç›¸åŒï¼Œå³é”®å<code>ä¾‹å¦‚ï¼šnameã€age</code>ç›¸åŒçš„å¯¹è±¡ï¼Œæ’åˆ—æ›´åŠ æ•´é½ï¼Œä¹Ÿæ–¹ä¾¿æˆ‘ä»¬ç”¨æ•°ç»„çš„æ–¹æ³•æå–ã€‚</p></li></ul><p>ç”±äºå‰åç«¯æ•°æ®ä¼ é€’çš„ç‰¹ç‚¹ï¼Œ<strong>å¯¹è±¡æˆ–è€…æ•°ç»„æ ¼å¼çš„æ•°æ®ä¸èƒ½ç›´æ¥ä»phpä¼ é€’åˆ°å‰ç«¯js</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†phpä¸­çš„å¯¹è±¡/æ•°ç»„æ•°æ®ï¼Œè½¬ä¸ºå­—ç¬¦ä¸²æ ¼å¼çš„JSONæ•°æ®ï¼Œç„¶åä¼ é€’åˆ°å‰ç«¯ï¼Œå‰ç«¯jså†å°†å…¶è½¬ä¸ºå¯¹è±¡æˆ–æ•°ç»„æ ¼å¼ã€‚åä¹‹äº¦ç„¶ã€‚</p><h1 id="2ï¼šphpä¸­çš„jsonå¤„ç†"><a href="#2ï¼šphpä¸­çš„jsonå¤„ç†" class="headerlink" title="2ï¼šphpä¸­çš„jsonå¤„ç†"></a>2ï¼šphpä¸­çš„jsonå¤„ç†</h1><p>phpä¸­ä¸»è¦æœ‰ä¸¤ä¸ªå‡½æ•°å¤„ç†jsonæ•°æ®: <code>json_encode</code>ã€<code>json_decode</code></p><h2 id="2-1-json-encode"><a href="#2-1-json-encode" class="headerlink" title="2.1 json_encode"></a>2.1 json_encode</h2><p>json_encode:å°†æ•°ç»„ã€å¯¹è±¡è½¬ä¸ºjsonæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</p><ul><li>ä¾‹å¦‚ï¼šphpä¸­æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå…¶åŒ…å«é”®åå’Œé”®å€¼ã€‚</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$arr = [</span><br><span class="line">    <span class="string">&#x27;appid&#x27;</span> =&gt; <span class="string">&#x27;121434352&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;appkey&#x27;</span> =&gt; <span class="string">&#x27;19b8b372c501e1fbedead782d46199a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;callback&#x27;</span> =&gt; <span class="string">&#x27;http://example.com/callback.php&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;scope&#x27;</span> =&gt; <span class="string">&#x27;add_t,add_pic_t,del_t&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;errorReport&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;storageType&#x27;</span> =&gt; <span class="string">&#x27;file&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span> =&gt; <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;user&#x27;</span> =&gt; <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span> =&gt; <span class="string">&#x27;test&#x27;</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$str = json_encode($arr);</span><br><span class="line"><span class="keyword">echo</span> $str;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;appid&quot;</span>:<span class="string">&quot;121434352&quot;</span>,<span class="attr">&quot;appkey&quot;</span>:<span class="string">&quot;19b8b372c501e1fbedead782d46199a&quot;</span>,<span class="attr">&quot;callback&quot;</span>:<span class="string">&quot;http:\/\/example.com\/callback.php&quot;</span>,<span class="attr">&quot;scope&quot;</span>:<span class="string">&quot;add_t,add_pic_t,del_t&quot;</span>,<span class="attr">&quot;errorReport&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;storageType&quot;</span>:<span class="string">&quot;file&quot;</span>,<span class="attr">&quot;host&quot;</span>:<span class="string">&quot;localhost&quot;</span>,<span class="attr">&quot;user&quot;</span>:<span class="string">&quot;root&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;root&quot;</span>,<span class="attr">&quot;database&quot;</span>:<span class="string">&quot;test&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ•°ç»„è¢«è½¬æ¢æˆäº†ä¸€ä¸ªå¯¹è±¡æ ·å¼çš„JSONæ•°æ®ã€‚</p><ul><li>å¦‚æœä¸€ä¸ªæ•°ç»„ï¼Œç´¢å¼•ä¸ºæ•°å­—ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$arr = <span class="keyword">array</span>(<span class="string">&#x27;a&#x27;</span> , <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">json_encode($arr);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]</span><br></pre></td></tr></table></figure><p>å¯çœ‹åˆ°å…¶è¾“å‡ºä»ä¸ºæ•°ç»„æ ¼å¼ã€‚</p><ul><li>å¦‚æœå¸Œæœ›å°†é”®åé”®å€¼æ ¼å¼çš„æ•°ç»„è½¬æ¢åæ ¼å¼ä»ä¿ç•™ã€‚å¯ä»¥å¯¹å…¶æ’åºï¼Œæ’åºåï¼Œä¼šä¸¢å¤±é”®åã€‚ç´¢å¼•ç»Ÿä¸€å˜ä¸ºæ•°å­—ã€‚</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$arr = <span class="keyword">array</span>(<span class="string">&#x27;1&#x27;</span> =&gt; <span class="string">&#x27;a&#x27;</span> , <span class="string">&#x27;2&#x27;</span> =&gt; <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;3&#x27;</span> =&gt; <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">sort($arr);</span><br><span class="line">json_encode($arr);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</span><br></pre></td></tr></table></figure><h2 id="2-2-json-decode"><a href="#2-2-json-decode" class="headerlink" title="2.2 json_decode"></a>2.2 json_decode</h2><p>json_decode:å°†å­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡/æ•°ç»„æ ¼å¼ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">&#x27;&#123;&quot;appid&quot;:&quot;121434352&quot;,&quot;appkey&quot;:&quot;19b8b372c501e1fbedead782d46199a&quot;,&quot;callback&quot;:&quot;http:\/\/example.com\/callback.php&quot;,&quot;scope&quot;:&quot;add_t,add_pic_t,del_t&quot;,&quot;errorReport&quot;:true,&quot;storageType&quot;:&quot;file&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;user&quot;:&quot;root&quot;,&quot;password&quot;:&quot;root&quot;,&quot;database&quot;:&quot;test&quot;&#125;&#x27;</span>;</span><br><span class="line">$obj = json_decode($str);</span><br><span class="line">print_r($obj);</span><br></pre></td></tr></table></figure><p>ç”±äº<code>echo</code>åªèƒ½è¾“å‡ºå­—ç¬¦ä¸²æ ¼å¼æ•°æ®ï¼Œ<code>print_r</code>å’Œ<code>var_dump</code>å¯ä»¥å°†æ•°ç»„å’Œå¯¹è±¡ç”¨ç‰¹å®šçš„æ ¼å¼è¾“å‡ºã€‚æ‰€ä»¥è¿™é‡Œä½¿ç”¨äº†print_rã€‚</p><p>è¾“å‡ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stdClass</span> <span class="keyword">Object</span></span><br><span class="line">(</span><br><span class="line">    [appid] =&gt; <span class="number">121434352</span></span><br><span class="line">    [appkey] =&gt; <span class="number">19</span>b8b372c501e1fbedead782d46199a</span><br><span class="line">    [callback] =&gt; http:<span class="comment">//example.com/callback.php</span></span><br><span class="line">    [scope] =&gt; add_t,add_pic_t,del_t</span><br><span class="line">    [errorReport] =&gt; <span class="number">1</span></span><br><span class="line">    [storageType] =&gt; file</span><br><span class="line">    [host] =&gt; localhost</span><br><span class="line">    [user] =&gt; root</span><br><span class="line">    [password] =&gt; root</span><br><span class="line">    [database] =&gt; test</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œjsonæ•°æ®è¢«è½¬æ¢æˆäº†ä¸€ä¸ªå¯¹è±¡ã€‚</p><p><strong>ä¹Ÿå¯ä»¥ä¿®æ”¹json_decodeå‚æ•°ï¼Œå°†jsonè½¬ä¸ºæ•°ç»„</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">&#x27;&#123;&quot;appid&quot;:&quot;121434352&quot;,&quot;appkey&quot;:&quot;19b8b372c501e1fbedead782d46199a&quot;,&quot;callback&quot;:&quot;http:\/\/example.com\/callback.php&quot;,&quot;scope&quot;:&quot;add_t,add_pic_t,del_t&quot;,&quot;errorReport&quot;:true,&quot;storageType&quot;:&quot;file&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;user&quot;:&quot;root&quot;,&quot;password&quot;:&quot;root&quot;,&quot;database&quot;:&quot;test&quot;&#125;&#x27;</span>;</span><br><span class="line">$arr = json_decode($str, <span class="literal">true</span>);</span><br><span class="line">var_dump($arr);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œå†json_decodeå‚æ•°é‡Œæ·»åŠ trueï¼Œè¡¨ç¤ºå°†jsonè½¬ä¸ºæ•°ç»„ã€‚å¹¶ä½¿ç”¨var_dumpæ¥è¾“å‡ºæ•°ç»„ã€‚</p><p>var_dumpè¾“å‡ºç»“æœï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">10</span>) &#123;</span><br><span class="line">  [<span class="string">&quot;appid&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">9</span>) <span class="string">&quot;121434352&quot;</span></span><br><span class="line">  [<span class="string">&quot;appkey&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">31</span>) <span class="string">&quot;19b8b372c501e1fbedead782d46199a&quot;</span></span><br><span class="line">  [<span class="string">&quot;callback&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">31</span>) <span class="string">&quot;http://example.com/callback.php&quot;</span></span><br><span class="line">  [<span class="string">&quot;scope&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">21</span>) <span class="string">&quot;add_t,add_pic_t,del_t&quot;</span></span><br><span class="line">  [<span class="string">&quot;errorReport&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">bool</span>(<span class="literal">true</span>)</span><br><span class="line">  [<span class="string">&quot;storageType&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">4</span>) <span class="string">&quot;file&quot;</span></span><br><span class="line">  [<span class="string">&quot;host&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">9</span>) <span class="string">&quot;localhost&quot;</span></span><br><span class="line">  [<span class="string">&quot;user&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">4</span>) <span class="string">&quot;root&quot;</span></span><br><span class="line">  [<span class="string">&quot;password&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">4</span>) <span class="string">&quot;root&quot;</span></span><br><span class="line">  [<span class="string">&quot;database&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">4</span>) <span class="string">&quot;test&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹æ¯”print_rè¾“å‡ºç»“æœï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [appid] =&gt; <span class="number">121434352</span></span><br><span class="line">    [appkey] =&gt; <span class="number">19</span>b8b372c501e1fbedead782d46199a</span><br><span class="line">    [callback] =&gt; http:<span class="comment">//example.com/callback.php</span></span><br><span class="line">    [scope] =&gt; add_t,add_pic_t,del_t</span><br><span class="line">    [errorReport] =&gt; <span class="number">1</span></span><br><span class="line">    [storageType] =&gt; file</span><br><span class="line">    [host] =&gt; localhost</span><br><span class="line">    [user] =&gt; root</span><br><span class="line">    [password] =&gt; root</span><br><span class="line">    [database] =&gt; test</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-3-å¯¹è±¡æ•°ç»„æ“ä½œ"><a href="#2-3-å¯¹è±¡æ•°ç»„æ“ä½œ" class="headerlink" title="2.3 å¯¹è±¡æ•°ç»„æ“ä½œ"></a>2.3 å¯¹è±¡æ•°ç»„æ“ä½œ</h2><h3 id="2-3-1-å¯¹è±¡æ“ä½œ"><a href="#2-3-1-å¯¹è±¡æ“ä½œ" class="headerlink" title="2.3.1 å¯¹è±¡æ“ä½œ"></a>2.3.1 å¯¹è±¡æ“ä½œ</h3><p>phpä¸­ï¼Œæ ¹æ®å¯¹è±¡é”®åè·å–é”®å€¼çš„æ–¹å¼æ˜¯<code>-&gt;</code></p><p>æ¯”å¦‚æˆ‘ä»¬è½¬æ¢äº†ä»¥ä¸‹å¯¹è±¡ï¼Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">&#x27;&#123;&quot;appid&quot;:&quot;121434352&quot;,&quot;appkey&quot;:&quot;19b8b372c501e1fbedead782d46199a&quot;,&quot;callback&quot;:&quot;http:\/\/example.com\/callback.php&quot;,&quot;scope&quot;:&quot;add_t,add_pic_t,del_t&quot;,&quot;errorReport&quot;:true,&quot;storageType&quot;:&quot;file&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;user&quot;:&quot;root&quot;,&quot;password&quot;:&quot;root&quot;,&quot;database&quot;:&quot;test&quot;&#125;&#x27;</span>;</span><br><span class="line">$obj = json_decode($str);</span><br></pre></td></tr></table></figure><p>ç°åœ¨è·å–appkey</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$appkey = $obj-&gt;appkey;</span><br><span class="line"><span class="keyword">echo</span> $appkey;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">19</span>b8b372c501e1fbedead782d46199a</span><br></pre></td></tr></table></figure><h3 id="2-3-2-æ•°ç»„æ“ä½œ"><a href="#2-3-2-æ•°ç»„æ“ä½œ" class="headerlink" title="2.3.2 æ•°ç»„æ“ä½œ"></a>2.3.2 æ•°ç»„æ“ä½œ</h3><p>è½¬æ¢çš„æ•°ç»„ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">&#x27;&#123;&quot;appid&quot;:&quot;121434352&quot;,&quot;appkey&quot;:&quot;19b8b372c501e1fbedead782d46199a&quot;,&quot;callback&quot;:&quot;http:\/\/example.com\/callback.php&quot;,&quot;scope&quot;:&quot;add_t,add_pic_t,del_t&quot;,&quot;errorReport&quot;:true,&quot;storageType&quot;:&quot;file&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;user&quot;:&quot;root&quot;,&quot;password&quot;:&quot;root&quot;,&quot;database&quot;:&quot;test&quot;&#125;&#x27;</span>;</span><br><span class="line">$arr = json_decode($str, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>æ“ä½œæ•°ç»„ï¼Œè·å–appkeyï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$appkey = $arr[<span class="string">&#x27;appkey&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> $appkey</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">19b8b372c501e1fbedead782d46199a</span><br></pre></td></tr></table></figure><h1 id="3ï¼šJSä¸­çš„jsonå¤„ç†"><a href="#3ï¼šJSä¸­çš„jsonå¤„ç†" class="headerlink" title="3ï¼šJSä¸­çš„jsonå¤„ç†"></a>3ï¼šJSä¸­çš„jsonå¤„ç†</h1><p>ä¸phpä¸­å¤„ç†æ–¹å¼ç›¸å¯¹åº”ï¼Œå­˜åœ¨<code>JSON.stringify</code>å’Œ<code>JSON.parse</code>ä¸¤ä¸ªå‡½æ•°</p><h2 id="3-1-JSON-stringify"><a href="#3-1-JSON-stringify" class="headerlink" title="3.1 JSON.stringify"></a>3.1 JSON.stringify</h2><p>å¯¹è±¡ã€æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²æ ¼å¼ã€‚</p><p>å¯¹è±¡å­—ç¬¦ä¸²åŒ–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person=&#123;&#125;;   <span class="comment">//ç­‰åŒäºvar Person =new Object();</span></span><br><span class="line"><span class="keyword">var</span> Person=&#123;</span><br><span class="line">name:<span class="string">&quot;Jason&quot;</span>,</span><br><span class="line">age:<span class="number">21</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> str=<span class="built_in">JSON</span>.stringify(Person)</span><br><span class="line">alert(str);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Jason&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">21</span>&#125;</span><br></pre></td></tr></table></figure><p>æ•°ç»„å­—ç¬¦ä¸²åŒ–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mycars=<span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">mycars[<span class="number">0</span>]=<span class="string">&quot;Saab&quot;</span>;</span><br><span class="line">mycars[<span class="number">1</span>]=<span class="string">&quot;Volvo&quot;</span>;</span><br><span class="line">mycars[<span class="number">2</span>]=<span class="string">&quot;BMW&quot;</span>;</span><br><span class="line">alert(<span class="built_in">JSON</span>.stringify(mycars));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;Saab&quot;</span>,<span class="string">&quot;Volvo&quot;</span>,<span class="string">&quot;BMW&quot;</span>]</span><br></pre></td></tr></table></figure><h2 id="3-2-JSON-parse"><a href="#3-2-JSON-parse" class="headerlink" title="3.2 JSON.parse"></a>3.2 JSON.parse</h2><p>å­—ç¬¦ä¸²è½¬æ•°ç»„ã€å¯¹è±¡ã€‚</p><ul><li>è½¬å¯¹è±¡ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#123;&quot;appid&quot;:&quot;121434352&quot;,&quot;appkey&quot;:&quot;19b8b372c501e1fbedead782d46199a&quot;,&quot;callback&quot;:&quot;http:\/\/example.com\/callback.php&quot;,&quot;scope&quot;:&quot;add_t,add_pic_t,del_t&quot;,&quot;errorReport&quot;:true,&quot;storageType&quot;:&quot;file&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;user&quot;:&quot;root&quot;,&quot;password&quot;:&quot;root&quot;,&quot;database&quot;:&quot;test&quot;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj= <span class="built_in">JSON</span>.parse(str);</span><br><span class="line">alert(obj);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[object <span class="built_in">Object</span>]</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè¯´æ˜è¾“å‡ºçš„æ•°æ®æ ¼å¼ä¸ºå¯¹è±¡ã€‚</p><ul><li>è½¬æ•°ç»„ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> arr= <span class="built_in">JSON</span>.parse(str);</span><br><span class="line">alert(arr);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a,b,c</span><br></pre></td></tr></table></figure><h2 id="3-3-å¯¹è±¡æ•°ç»„æ“ä½œ"><a href="#3-3-å¯¹è±¡æ•°ç»„æ“ä½œ" class="headerlink" title="3.3 å¯¹è±¡æ•°ç»„æ“ä½œ"></a>3.3 å¯¹è±¡æ•°ç»„æ“ä½œ</h2><h3 id="3-3-1-å¯¹è±¡æ“ä½œ"><a href="#3-3-1-å¯¹è±¡æ“ä½œ" class="headerlink" title="3.3.1 å¯¹è±¡æ“ä½œ"></a>3.3.1 å¯¹è±¡æ“ä½œ</h3><p>åˆ›å»ºå¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person=&#123;&#125;;   <span class="comment">//ç­‰åŒäºvar Person =new Object();</span></span><br><span class="line"><span class="keyword">var</span> Person=&#123;</span><br><span class="line">name:<span class="string">&quot;Jason&quot;</span>,</span><br><span class="line">age:<span class="number">21</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–nameå¯¹åº”çš„é”®å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = Person.name;</span><br><span class="line">alert(name);</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = Person[<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line">alert(name);</span><br></pre></td></tr></table></figure><h3 id="3-3-2-æ•°ç»„æ“ä½œ"><a href="#3-3-2-æ•°ç»„æ“ä½œ" class="headerlink" title="3.3.2 æ•°ç»„æ“ä½œ"></a>3.3.2 æ•°ç»„æ“ä½œ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">alert(arr[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitä½¿ç”¨è®°å½•</title>
      <link href="/2020/07/12/git%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/07/12/git%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šgitæŒ‡ä»¤"><a href="#1ï¼šgitæŒ‡ä»¤" class="headerlink" title="1ï¼šgitæŒ‡ä»¤"></a>1ï¼šgitæŒ‡ä»¤</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/user/repo/program.git</span><br></pre></td></tr></table></figure><p>å°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°gitæ‰“å¼€çš„ç›®å½•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git switch -c dev</span><br></pre></td></tr></table></figure><p>æ–°å»ºå¹¶åˆ‡æ¢è‡³devåˆ†æ”¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git switch dev</span><br></pre></td></tr></table></figure><p>åˆ‡æ¢åˆ°devåˆ†æ”¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><p>å°†æ‰€æœ‰å˜æ›´æäº¤è‡³ç¼“å†²åŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;message&quot;</span><br></pre></td></tr></table></figure><p>ä¸ºç¼“å†²åŒºçš„å˜æ›´æ·»åŠ æ›´æ–°çš„æç¤º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><p>å°†æœ¬åœ°ç¼“å†²åŒºçš„å˜æ›´æ›´æ–°åˆ°è¿œç¨‹ä»“åº“devåˆ†æ”¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge dev</span><br></pre></td></tr></table></figure><p>å°†devåˆ†æ”¯çš„å†…å®¹æ›´æ–°è‡³å½“å‰æ‰€åœ¨åˆ†æ”¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin dev</span><br></pre></td></tr></table></figure><p>æ‹‰å»è¿œç¨‹ä»“åº“devåˆ†æ”¯çš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“</p><h1 id="2ï¼š-gitignore"><a href="#2ï¼š-gitignore" class="headerlink" title="2ï¼š.gitignore"></a>2ï¼š.gitignore</h1><p>åœ¨æ›´æ–°è¿œç¨‹ä»“åº“æ—¶ï¼Œå¯ä»¥æŒ‡å®šéƒ¨åˆ†æœ¬åœ°ä»“åº“çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ä¸æ¨é€è‡³è¿œç¨‹ä»“åº“ã€‚</p><p>åœ¨ä»“åº“æ ¹ç›®å½•ä¸‹æ–°å»º<code>.gitignore</code>æ–‡ä»¶ï¼Œç›´æ¥ç¼–è¾‘å†…å®¹å³å¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;config&#x2F;*</span><br></pre></td></tr></table></figure><p>å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„/configæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config&#x2F;*</span><br></pre></td></tr></table></figure><p>å¿½ç•¥ä»»æ„è·¯å¾„ä¸‹çš„/configæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;config&#x2F;*!README.md</span><br></pre></td></tr></table></figure><p>å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„/configæ–‡ä»¶å¤¹ä¸‹é™¤README.mdä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;config&#x2F;README.md</span><br></pre></td></tr></table></figure><p>å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„/configæ–‡ä»¶å¤¹ä¸‹çš„README.mdæ–‡ä»¶</p><h1 id="3ï¼šç‰ˆæœ¬æ§åˆ¶"><a href="#3ï¼šç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="3ï¼šç‰ˆæœ¬æ§åˆ¶"></a>3ï¼šç‰ˆæœ¬æ§åˆ¶</h1><p>releaseç‰ˆæœ¬ï¼Œæœ‰åŠ©äºä¿å­˜é˜¶æ®µæ€§æˆæœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨JsDelivrç»™é™æ€èµ„æºåŠ é€Ÿ</title>
      <link href="/2020/07/11/%E4%BD%BF%E7%94%A8JsDelivr%E7%BB%99%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F/"/>
      <url>/2020/07/11/%E4%BD%BF%E7%94%A8JsDelivr%E7%BB%99%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F/</url>
      
        <content type="html"><![CDATA[<p>githubä»“åº“é‡Œçš„jsã€cssé™æ€èµ„æºæ˜¯æ— æ³•è¢«ç›´æ¥æ”¾åœ¨ç½‘é¡µçš„é™æ€èµ„æºurlé‡Œçš„ï¼Œå› æ­¤ï¼Œéœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·æ¥å¼•ç”¨ã€‚</p><p>è¿™é‡Œä½¿ç”¨JsDelivrã€‚</p><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>æ‰“å¼€<a href="https://www.jsdelivr.com/">jsDeliverå®˜ç½‘</a>ï¼Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; load any GitHub release or commit</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; note: we recommend using npm for projects that support it</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;user&#x2F;repo@version&#x2F;file</span><br></pre></td></tr></table></figure><blockquote><p>userï¼šgithubç”¨æˆ·å</p><p>repoï¼šä»“åº“å</p><p>versionï¼š(Tag)ç‰ˆæœ¬å</p><p>fileï¼šæ–‡ä»¶è·¯å¾„</p></blockquote><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>ç¬¬ä¸€æ­¥ï¼šå°†é™æ€èµ„æºpushåˆ°ä»“åº“</p><p>ç¬¬äºŒæ­¥ï¼šreleaseä¸€ä¸ªç‰ˆæœ¬</p><p>ç¬¬ä¸‰æ­¥ï¼šæ ¹æ®ä¸Šé¢çš„cdnæ–¹å¼ï¼Œè·å–é™æ€èµ„æºcdnèµ„æºã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p>ã€Š<a href="https://sparkydogx.github.io/2018/10/12/use-github-js-css/">ä½¿ç”¨Githubæ‰˜ç®¡jså’Œcssæ–‡ä»¶</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JsDelivr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oneindex+YAAWå¢åŠ åå°ç¦»çº¿ä¸Šä¼ </title>
      <link href="/2020/06/25/Oneindex-YAAW%E5%A2%9E%E5%8A%A0%E5%90%8E%E5%8F%B0%E7%A6%BB%E7%BA%BF%E4%B8%8A%E4%BC%A0/"/>
      <url>/2020/06/25/Oneindex-YAAW%E5%A2%9E%E5%8A%A0%E5%90%8E%E5%8F%B0%E7%A6%BB%E7%BA%BF%E4%B8%8A%E4%BC%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ï¼šç®€ä»‹"><a href="#ä¸€ï¼šç®€ä»‹" class="headerlink" title="ä¸€ï¼šç®€ä»‹"></a>ä¸€ï¼šç®€ä»‹</h1><p>Yaawæ˜¯ä¸ªå¼€æºçš„aria2çš„WebUIï¼Œé€šè¿‡è¿™ä¸ªUIå¯ä»¥ä½¿ç”¨aria2çš„rpcåŠŸèƒ½ï¼Œå‘aria2å‘é€ä¸‹è½½æŸæ–‡ä»¶çš„æŒ‡ä»¤ã€‚æˆ‘å°†yaawåµŒå…¥åˆ°äº†Oneindexåå°ï¼ŒåŒæ—¶åœ¨å‰å°ä¹Ÿéƒ¨ç½²äº†yaawä¾›æ¸¸å®¢ä½¿ç”¨ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/xieqifei/OneindexN">https://github.com/xieqifei/OneindexN</a></p><p>Demoï¼š<a href="https://pan.sci.ci/">https://pan.sci.ci</a></p><p>åå°é¢„è§ˆï¼š</p><p><img src="https://i.loli.net/2020/06/25/f2SZynlY4DQixwL.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/25/f2SZynlY4DQixwL.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h1 id="äºŒï¼šéƒ¨ç½²ç½‘ç«™"><a href="#äºŒï¼šéƒ¨ç½²ç½‘ç«™" class="headerlink" title="äºŒï¼šéƒ¨ç½²ç½‘ç«™"></a>äºŒï¼šéƒ¨ç½²ç½‘ç«™</h1><p>ç½‘ç«™ç¯å¢ƒå°½é‡ä½¿ç”¨nginxã€‚åé¢ä¼šç”¨nginxåšåä»£ï¼Œå¯ä»¥é¿å…ä¿®æ”¹yaawçš„rpcå‚æ•°ã€‚</p><p>åœ¨githubä¸Šå°†ç½‘ç«™ä¸‹è½½ä¸‹æ¥ã€‚å¯ä»¥ç›´æ¥ä¸‹è½½ä¸ºzipå‹ç¼©åŒ…</p><p><img src="https://i.loli.net/2020/06/25/T4RShHIUQ9NVEnx.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/25/T4RShHIUQ9NVEnx.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å°†æ–‡ä»¶è§£å‹åˆ°ç½‘ç«™æ ¹ç›®å½•ã€‚</p><p>è¿›å…¥ç½‘ç«™é¦–é¡µã€‚é…ç½®ç½‘ç«™ã€‚</p><h1 id="ä¸‰ï¼šä¿®æ”¹Nginxé…ç½®"><a href="#ä¸‰ï¼šä¿®æ”¹Nginxé…ç½®" class="headerlink" title="ä¸‰ï¼šä¿®æ”¹Nginxé…ç½®"></a>ä¸‰ï¼šä¿®æ”¹Nginxé…ç½®</h1><p>æ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F;jsonrpc &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;localhost:6800&#x2F;jsonrpc;</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_set_header        X-Real-IP       $remote_addr;</span><br><span class="line">        proxy_set_header        X-Forwarded-For</span><br><span class="line">        $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·RPCå¯ä»¥é…ç½®ä¸º<code>http://yoursite/jsonrpc</code>ã€‚ç½‘ç«™åå°é»˜è®¤çš„RPCå°±æ˜¯<code>http://yoursite/jsonrpc</code></p><p><img src="https://i.loli.net/2020/06/25/9cY2PiBr6usqXen.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/25/9cY2PiBr6usqXen.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>å…³é—­aria2è¿œç¨‹RPC</strong></p><p>ä»…æœ¬åœ°ä¹Ÿå°±æ˜¯443è½¬å‘çš„è¯·æ±‚èƒ½åˆ°è¾¾6800ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /root/.aria2c/aria2.conf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹aria2é…ç½®å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># å¯ç”¨RPC, é»˜è®¤:false</span><br><span class="line">enable-rpc&#x3D;true</span><br><span class="line"># æ¥å—æ‰€æœ‰è¿œç¨‹è¯·æ±‚, é»˜è®¤:false</span><br><span class="line">rpc-allow-origin-all&#x3D;false</span><br><span class="line"># å…è®¸å¤–éƒ¨è®¿é—®, é»˜è®¤:false</span><br><span class="line">rpc-listen-all&#x3D;false</span><br><span class="line"># RPCç›‘å¬ç«¯å£, ç«¯å£è¢«å ç”¨æ—¶å¯ä»¥ä¿®æ”¹, é»˜è®¤:6800</span><br><span class="line">rpc-listen-port&#x3D;6800</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä¸é…ç½®nginxï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹RPCè®¾ç½®ã€‚å¹¶ä¸”aria2é…ç½®éœ€è¦å¼€æ”¾è¿œç¨‹RPC</p></blockquote><h1 id="å››ï¼šå‚è€ƒèµ„æ–™"><a href="#å››ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="å››ï¼šå‚è€ƒèµ„æ–™"></a>å››ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://github.com/binux/yaaw">github YAAWé¡¹ç›®</a>ã€‹</p><p>ã€Š<a href="https://github.com/mayswind/AriaNg/issues/62">Issueï¼šä¸€æ—¦ä½¿ç”¨HTTPSåè®®å°±æ— æ³•è¿æ¥</a>ã€‹</p><p>ã€Š<a href="https://kenvix.com/post/nginx-proxy-aria2/">Nginx åå‘ä»£ç† Aria2 JSONRPC</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> YAAW </tag>
            
            <tag> Oneindex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éƒ¨ç½²Aria2+Rcloneå®ç°ç¦»çº¿ä¸‹è½½æ–‡ä»¶åˆ°Onedrive</title>
      <link href="/2020/06/25/%E9%83%A8%E7%BD%B2Aria2-Rclone%E5%AE%9E%E7%8E%B0%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%88%B0Onedrive/"/>
      <url>/2020/06/25/%E9%83%A8%E7%BD%B2Aria2-Rclone%E5%AE%9E%E7%8E%B0%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%88%B0Onedrive/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ï¼šå‰è¨€"><a href="#ä¸€ï¼šå‰è¨€" class="headerlink" title="ä¸€ï¼šå‰è¨€"></a>ä¸€ï¼šå‰è¨€</h1><p>Aria2æ˜¯ä¸€æ¬¾å¤šçº¿ç¨‹ä¸‹è½½çš„åº”ç”¨ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨ç½‘ç»œå¸¦å®½ï¼Œå®ç°æ»¡é€Ÿä¸‹è½½ã€‚Rcloneæ˜¯ä¸ªç½‘ç›˜ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç»‘å®šOnedriveå®ç°å°†ç½‘ç›˜æŒ‚è½½åˆ°æœ¬åœ°ã€‚åˆ©ç”¨aria2å’ŒRcloneï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šé€šè¿‡æŒ‡ä»¤ï¼Œç›´æ¥å°†è¿œç¨‹æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶è‡ªåŠ¨ä¿å­˜åˆ°Onedriveã€‚</p><h1 id="äºŒï¼šå®‰è£…Aria2"><a href="#äºŒï¼šå®‰è£…Aria2" class="headerlink" title="äºŒï¼šå®‰è£…Aria2"></a>äºŒï¼šå®‰è£…Aria2</h1><p>æ¨èä½¿ç”¨ä¸€é”®è„šæœ¬ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wget</span> <span class="literal">-N</span> git.io/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; ./aria2.sh</span><br></pre></td></tr></table></figure><p>æ­¤è„šæœ¬ä¼šè‡ªåŠ¨ä¸‹è½½å…³è”Rcloneçš„è„šæœ¬ï¼Œå³aria2æ–‡ä»¶ä¸‹è½½ç»“æŸè‡ªåŠ¨æ–‡ä»¶ä¸Šä¼ åˆ°Onedriveã€‚</p><h1 id="ä¸‰ï¼šå®‰è£…rclone"><a href="#ä¸‰ï¼šå®‰è£…rclone" class="headerlink" title="ä¸‰ï¼šå®‰è£…rclone"></a>ä¸‰ï¼šå®‰è£…rclone</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://rclone.org/install.sh | sudo bash</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•ï¼Œé…ç½®rclone</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure><p>é…ç½®æ–¹å¼å‚è€ƒã€Š<a href="https://sci.ci/2020/06/22/rclone-zai-win-shang-gua-zai-onedrive/">Rcloneåœ¨winä¸ŠæŒ‚åœ¨Onedrive</a>ã€‹ï¼Œä½†æ˜¯ä¸å®Œå…¨ç›¸åŒã€‚</p><p>å¦‚æœä½ çš„ç³»ç»Ÿæœ‰UIï¼Œé‚£ä¹ˆå¯ä»¥å’Œåœ¨winä¸Šä¸€æ ·é…ç½®rcloneã€‚å¦‚æœæ˜¯çº¯æŒ‡ä»¤ç•Œé¢ï¼Œåˆ™æŒ‰ä¸‹é¢æ“ä½œé…ç½®ã€‚</p><p>ä½ éœ€è¦ç°åœ¨windowsä¸Šéƒ¨ç½²rcloneï¼Œä»¥è·å–onedriveæˆæƒçš„tokenã€‚tokenåœ¨<code>C:\Users\ä½ çš„ç”¨æˆ·å\.config\rclone</code>ä¸­</p><p>æ‰“å¼€<code>rclone.conf</code>å°†tokenä»<code>&#123;&quot;access_token&quot;:</code>å¼€å§‹åˆ°<code>&#125;</code>ç»“æŸçš„å†…å®¹å¤åˆ¶ä¸‹æ¥ã€‚</p><p>åœ¨<code>rclone config</code>å‡ºç°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Remote config                                                </span><br><span class="line">Use auto config? </span><br><span class="line"> * Say Y if not sure </span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes (default) </span><br><span class="line">n) No                                                        </span><br><span class="line"><span class="meta">y/n&gt;</span></span><br></pre></td></tr></table></figure><p>æ—¶è¾“å…¥ <code>n</code>ï¼Œä¸è‡ªåŠ¨é…ç½®ã€‚</p><p>åœ¨æ¥ä¸‹æ¥å‡ºç°çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result&gt;</span><br></pre></td></tr></table></figure><p>ä¸­ï¼Œè¾“å…¥ä½ æ‹·è´çš„tokenã€‚</p><p>å‰©ä¸‹çš„å’Œwindowsé…ç½®ç›¸åŒã€‚</p><p>ç„¶åä¿®æ”¹aria2é…ç½®ï¼Œä»¥é…ç½®å°†ä¸‹è½½æ–‡ä»¶è‡ªåŠ¨ä¸Šä¼ åˆ°onedrive</p><h1 id="å››ï¼šé…ç½®è‡ªåŠ¨ä¸Šä¼ è„šæœ¬"><a href="#å››ï¼šé…ç½®è‡ªåŠ¨ä¸Šä¼ è„šæœ¬" class="headerlink" title="å››ï¼šé…ç½®è‡ªåŠ¨ä¸Šä¼ è„šæœ¬"></a>å››ï¼šé…ç½®è‡ªåŠ¨ä¸Šä¼ è„šæœ¬</h1><p><a href="https://p3terx.com/go/aHR0cHM6Ly9naXRodWIuY29tL1AzVEVSWC9hcmlhMi5zaA==">Aria2 ä¸€é”®å®‰è£…ç®¡ç†è„šæœ¬ å¢å¼ºç‰ˆ</a> æ•´åˆäº† <a href="https://p3terx.com/go/aHR0cHM6Ly9naXRodWIuY29tL1AzVEVSWC9hcmlhMl9wZXJmZWN0X2NvbmZpZw==">Aria2 å®Œç¾é…ç½®</a> ï¼Œå®‰è£…åä¼šé™„å¸¦ä¸€äº›åˆ—å¢å¼ºåŠŸèƒ½è„šæœ¬ï¼ŒRclone è‡ªåŠ¨ä¸Šä¼ è„šæœ¬å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ç”±äºé»˜è®¤ä¸å¯ç”¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å¯ç”¨ã€‚</p><ul><li>è¾“å…¥<code>vim /root/.aria2c/autoupload.sh</code>æ‰“å¼€è‡ªåŠ¨ä¸Šä¼ è„šæœ¬è¿›è¡Œç¼–è¾‘ï¼Œè„šæœ¬ä¸­æœ‰ä¸­æ–‡æ³¨é‡Šï¼ŒæŒ‰ç…§è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼Œä¸€èˆ¬åªéœ€è¦ä¿®æ”¹ä¸‹é¢2ä¸ªéƒ¨åˆ†ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Rclone é…ç½®æ—¶å¡«å†™çš„ç½‘ç›˜å(name)</span><br><span class="line">DRIVE_NAME&#x3D;&#39;Onedrive&#39;</span><br><span class="line"># ç½‘ç›˜ç›®å½•ã€‚å³ä¸Šä¼ ç›®æ ‡è·¯å¾„ï¼Œç•™ç©ºä¸ºç½‘ç›˜æ ¹ç›®å½•ï¼Œæœ«å°¾ä¸è¦æœ‰æ–œæ ã€‚</span><br><span class="line">DRIVE_PATH&#x3D;&#39;&#x2F;DRIVEX&#x2F;Download&#39;</span><br></pre></td></tr></table></figure><ul><li>è¾“å…¥<code>vim /root/.aria2c/aria2.conf</code>æ‰“å¼€ Aria2 é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚æˆ–ä½¿ç”¨<a href="https://p3terx.com/go/aHR0cHM6Ly9naXRodWIuY29tL1AzVEVSWC9hcmlhMi5zaA==">Aria2 ä¸€é”®å®‰è£…ç®¡ç†è„šæœ¬ å¢å¼ºç‰ˆ</a>ä¸­çš„æ‰‹åŠ¨ä¿®æ”¹é€‰é¡¹æ‰“å¼€é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚æ‰¾åˆ°â€œä¸‹è½½å®Œæˆåæ‰§è¡Œçš„å‘½ä»¤â€ï¼ŒæŠŠ<code>delete.aria2.sh</code>æ›¿æ¢ä¸º<code>autoupload.sh</code>ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ä¸‹è½½å®Œæˆåæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line">on-download-complete&#x3D;&#x2F;root&#x2F;.aria2c&#x2F;autoupload.sh</span><br></pre></td></tr></table></figure><ul><li>é‡å¯ Aria2</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service aria2 restart</span><br></pre></td></tr></table></figure><h1 id="äº”ï¼šå‚è€ƒèµ„æ–™"><a href="#äº”ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="äº”ï¼šå‚è€ƒèµ„æ–™"></a>äº”ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="https://p3terx.com/archives/offline-download-of-onedrive-gdrive.html">Aria2 + Rclone å®ç° OneDriveã€Google Drive ç­‰ç½‘ç›˜ç¦»çº¿ä¸‹è½½</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rclone </tag>
            
            <tag> Aria2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rcloneåœ¨winä¸ŠæŒ‚åœ¨Onedrive</title>
      <link href="/2020/06/22/Rclone%E5%9C%A8win%E4%B8%8A%E6%8C%82%E5%9C%A8Onedrive/"/>
      <url>/2020/06/22/Rclone%E5%9C%A8win%E4%B8%8A%E6%8C%82%E5%9C%A8Onedrive/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ï¼šRcloneä¸‹è½½"><a href="#ä¸€ï¼šRcloneä¸‹è½½" class="headerlink" title="ä¸€ï¼šRcloneä¸‹è½½"></a>ä¸€ï¼šRcloneä¸‹è½½</h2><p>é¦–å…ˆä¸‹è½½é€‚ç”¨äº Windows çš„ rclone ğŸ‘‡</p><p>å®˜ç½‘ä¸‹è½½ï¼š<a href="https://rclone.org/downloads/">https://rclone.org/downloads/</a><br>GitHubä¸‹è½½ï¼š<a href="https://github.com/ncw/rclone">https://github.com/ncw/rclone</a></p><p>åœ¨<a href="https://rclone.org/downloads/">rcloneå®˜ç½‘</a>ä¸­ï¼ŒWindows å¹³å°ä¸‹é€‰æ‹©ä¸‹è½½ AMD64 - 64 Bit</p><p><img src="https://i.loli.net/2020/06/22/flecoyBhTO1kUdQ.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/flecoyBhTO1kUdQ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æˆ–è€…åœ¨<a href="https://github.com/rclone/rclone/releases">github</a>ä¸‹è½½ã€‚</p><p><img src="https://i.loli.net/2020/06/22/2dAOCENv1Sy8Dwq.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/2dAOCENv1Sy8Dwq.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¸‹è½½åè§£å‹åˆ°ä¸€ä¸ªè‹±æ–‡è·¯å¾„ä¸­ã€‚</p><p><img src="https://i.loli.net/2020/06/22/EfHUwhdZGsBmR7c.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/EfHUwhdZGsBmR7c.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å¦å¤–åœ¨Windowså¹³å°ä½¿ç”¨rcloneè¿˜éœ€è¦å¦ä¸€ä¸ªä¾èµ–å·¥å…·<code>winfsp</code>ï¼Œä¸‹è½½åœ°å€ï¼š<a href="http://www.secfs.net/winfsp/download/">http://www.secfs.net/winfsp/download/</a> ï¼Œä¸‹è½½åä¸€è·¯å®‰è£…å³å¯ã€‚</p><p><img src="https://i.loli.net/2020/06/22/lgdOxXbMBzLwIAV.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/lgdOxXbMBzLwIAV.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="äºŒï¼š-é…ç½®ç¯å¢ƒå˜é‡"><a href="#äºŒï¼š-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="äºŒï¼š é…ç½®ç¯å¢ƒå˜é‡"></a>äºŒï¼š é…ç½®ç¯å¢ƒå˜é‡</h2><ol><li>åœ¨ç”µè„‘æ¡Œé¢å³é”®ç‚¹å‡»â€œæ­¤ç”µè„‘â€çš„â€œå±æ€§â€é€‰é¡¹</li><li>é€‰æ‹©â€œé«˜çº§ç³»ç»Ÿè®¾ç½®â€é€‰é¡¹</li><li>åœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°pathï¼Œæ–°å»ºæ·»åŠ åˆšæ‰è§£å‹åçš„è·¯å¾„</li></ol><p><img src="https://i.loli.net/2020/06/22/nW4auBq5tSxMm6e.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/nW4auBq5tSxMm6e.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸã€‚</p><p>æŒ‰<code>win</code>+<code>X</code>ï¼Œç„¶åæŒ‰<code>A</code> æ‰“å¼€ <code>powershell</code> ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å»æ‰“å¼€ <code>cmd</code> ï¼Œè¾“å…¥<code>rclone --version</code>ï¼Œå¦‚æœå‡ºç°ä¸‹é¢çš„è¾“å‡ºåˆ™å®‰è£…æˆåŠŸï¼Œå¦åˆ™æ£€æŸ¥ä¸Šé¢æ­¥éª¤çš„ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æ­£ç¡®ã€‚</p><h2 id="ä¸‰ï¼šé…ç½®Rclone"><a href="#ä¸‰ï¼šé…ç½®Rclone" class="headerlink" title="ä¸‰ï¼šé…ç½®Rclone"></a>ä¸‰ï¼šé…ç½®Rclone</h2><p>åœ¨ç»ˆç«¯ä¸­ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¡Œï¼Œè¯·æ ¹æ®æˆ‘ä¸‹çš„æ­¥éª¤è¿›æ“ä½œã€‚</p><p>ä¸‹è½½</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\WINDOWS\system32&gt; rclone config                // ç¬¬ä¸€æ­¥åœ¨ç»ˆç«¯è¾“å…¥ rclone config</span><br><span class="line"><span class="number">2020</span>/<span class="number">06</span>/<span class="number">22</span> <span class="number">19</span>:<span class="number">36</span>:<span class="number">22</span> NOTICE: Config file <span class="string">&quot;C:\\Users\\12412\\.config\\rclone\\rclone.conf&quot;</span> not found - <span class="keyword">using</span> defaults</span><br><span class="line">No remotes found - make a new one</span><br><span class="line">n) New remote</span><br><span class="line">s) <span class="built_in">Set</span> configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">n/s/q&gt; n                                  //ç¬¬äºŒæ­¥è¾“å…¥nåˆ›å»ºæ–°çš„é…ç½®ï¼Œ </span><br><span class="line">name&gt; Onedrive_local                      //ç¬¬ä¸‰æ­¥ è¾“å…¥ä¸€ä¸ªè‹±æ–‡åç§° ï¼Œä¸­é—´ä¹Ÿä¸è¦æœ‰ç©ºæ ¼</span><br><span class="line"><span class="built_in">Type</span> of storage to configure.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;&quot;</span>).</span><br><span class="line">Choose a number from below, or <span class="built_in">type</span> <span class="keyword">in</span> your own value</span><br><span class="line"> <span class="number">1</span> / <span class="number">1</span>Fichier</span><br><span class="line">   \ <span class="string">&quot;fichier&quot;</span></span><br><span class="line"> <span class="number">2</span> / Alias <span class="keyword">for</span> an existing remote</span><br><span class="line">   \ <span class="string">&quot;alias&quot;</span></span><br><span class="line"> <span class="number">3</span> / Amazon Drive</span><br><span class="line">   \ <span class="string">&quot;amazon cloud drive&quot;</span></span><br><span class="line"> <span class="number">4</span> / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)</span><br><span class="line">   \ <span class="string">&quot;s3&quot;</span></span><br><span class="line"> <span class="number">5</span> / Backblaze B2</span><br><span class="line">   \ <span class="string">&quot;b2&quot;</span></span><br><span class="line"> <span class="number">6</span> / Box</span><br><span class="line">   \ <span class="string">&quot;box&quot;</span></span><br><span class="line"> <span class="number">7</span> / Cache a remote</span><br><span class="line">   \ <span class="string">&quot;cache&quot;</span></span><br><span class="line"> <span class="number">8</span> / Citrix Sharefile</span><br><span class="line">   \ <span class="string">&quot;sharefile&quot;</span></span><br><span class="line"> <span class="number">9</span> / Dropbox</span><br><span class="line">   \ <span class="string">&quot;dropbox&quot;</span></span><br><span class="line"><span class="number">10</span> / Encrypt/Decrypt a remote</span><br><span class="line">   \ <span class="string">&quot;crypt&quot;</span></span><br><span class="line"><span class="number">11</span> / FTP Connection</span><br><span class="line">   \ <span class="string">&quot;ftp&quot;</span></span><br><span class="line"><span class="number">12</span> / Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ <span class="string">&quot;google cloud storage&quot;</span></span><br><span class="line"><span class="number">13</span> / Google Drive</span><br><span class="line">   \ <span class="string">&quot;drive&quot;</span></span><br><span class="line"><span class="number">14</span> / Google Photos</span><br><span class="line">   \ <span class="string">&quot;google photos&quot;</span></span><br><span class="line"><span class="number">15</span> / Hubic</span><br><span class="line">   \ <span class="string">&quot;hubic&quot;</span></span><br><span class="line"><span class="number">16</span> / <span class="keyword">In</span> memory object storage system.</span><br><span class="line">   \ <span class="string">&quot;memory&quot;</span></span><br><span class="line"><span class="number">17</span> / Jottacloud</span><br><span class="line">   \ <span class="string">&quot;jottacloud&quot;</span></span><br><span class="line"><span class="number">18</span> / Koofr</span><br><span class="line">   \ <span class="string">&quot;koofr&quot;</span></span><br><span class="line"><span class="number">19</span> / Local Disk</span><br><span class="line">   \ <span class="string">&quot;local&quot;</span></span><br><span class="line"><span class="number">20</span> / Mail.ru Cloud</span><br><span class="line">   \ <span class="string">&quot;mailru&quot;</span></span><br><span class="line"><span class="number">21</span> / Mega</span><br><span class="line">   \ <span class="string">&quot;mega&quot;</span></span><br><span class="line"><span class="number">22</span> / Microsoft Azure Blob Storage</span><br><span class="line">   \ <span class="string">&quot;azureblob&quot;</span></span><br><span class="line"><span class="number">23</span> / Microsoft OneDrive</span><br><span class="line">   \ <span class="string">&quot;onedrive&quot;</span></span><br><span class="line"><span class="number">24</span> / OpenDrive</span><br><span class="line">   \ <span class="string">&quot;opendrive&quot;</span></span><br><span class="line"><span class="number">25</span> / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ <span class="string">&quot;swift&quot;</span></span><br><span class="line"><span class="number">26</span> / Pcloud</span><br><span class="line">   \ <span class="string">&quot;pcloud&quot;</span></span><br><span class="line"><span class="number">27</span> / Put.io</span><br><span class="line">   \ <span class="string">&quot;putio&quot;</span></span><br><span class="line"><span class="number">28</span> / QingCloud Object Storage</span><br><span class="line">   \ <span class="string">&quot;qingstor&quot;</span></span><br><span class="line"><span class="number">29</span> / SSH/SFTP Connection</span><br><span class="line">   \ <span class="string">&quot;sftp&quot;</span></span><br><span class="line"><span class="number">30</span> / Sugarsync</span><br><span class="line">   \ <span class="string">&quot;sugarsync&quot;</span></span><br><span class="line"><span class="number">31</span> / Tardigrade Decentralized Cloud Storage</span><br><span class="line">   \ <span class="string">&quot;tardigrade&quot;</span></span><br><span class="line"><span class="number">32</span> / Transparently chunk/split large files</span><br><span class="line">   \ <span class="string">&quot;chunker&quot;</span></span><br><span class="line"><span class="number">33</span> / Union merges the contents of several upstream fs</span><br><span class="line">   \ <span class="string">&quot;union&quot;</span></span><br><span class="line"><span class="number">34</span> / Webdav</span><br><span class="line">   \ <span class="string">&quot;webdav&quot;</span></span><br><span class="line"><span class="number">35</span> / Yandex Disk</span><br><span class="line">   \ <span class="string">&quot;yandex&quot;</span></span><br><span class="line"><span class="number">36</span> / http Connection</span><br><span class="line">   \ <span class="string">&quot;http&quot;</span></span><br><span class="line"><span class="number">37</span> / premiumize.me</span><br><span class="line">   \ <span class="string">&quot;premiumizeme&quot;</span></span><br><span class="line"><span class="number">38</span> / seafile</span><br><span class="line">   \ <span class="string">&quot;seafile&quot;</span></span><br><span class="line">Storage&gt; <span class="number">23</span>                 //ç¬¬å››æ­¥ è¾“å…¥è¦é…ç½®çš„ç½‘ç›˜ç±»å‹ å› ä¸ºæˆ‘ä»¬è¦é…ç½®Microsoft OneDrive å› æ­¤è¾“å…¥<span class="number">23</span></span><br><span class="line">** See help <span class="keyword">for</span> onedrive backend at: https://rclone.org/onedrive/ **</span><br><span class="line"></span><br><span class="line">Microsoft App Client Id</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;&quot;</span>).</span><br><span class="line">client_id&gt;                //ç¬¬äº”æ­¥ ç›´æ¥å›è½¦</span><br><span class="line">Microsoft App Client Secret</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;&quot;</span>).</span><br><span class="line">client_secret&gt;            //ç¬¬å…­æ­¥ ç›´æ¥å›è½¦ </span><br><span class="line">Edit advanced config? (y/n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No (default)</span><br><span class="line">y/n&gt; n                   //ç¬¬ä¸ƒæ­¥ è¾“å…¥n ä¸è¿›è¡Œé«˜çº§é…ç½® </span><br><span class="line">Remote config</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y <span class="keyword">if</span> not sure</span><br><span class="line"> * Say N <span class="keyword">if</span> you are working on a remote or headless machine</span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line">y/n&gt; y                  //ç¬¬å…«æ­¥ è¾“å…¥y ä½¿ç”¨è‡ªåŠ¨é…ç½®æˆæƒ</span><br><span class="line"><span class="keyword">If</span> your browser doesn<span class="string">&#x27;t open automatically go to the following link: http://127.0.0.1:53682/auth?state=DWKiZ1cLZoWl9buxJbPXgw</span></span><br><span class="line"><span class="string">Log in and authorize rclone for access</span></span><br><span class="line"><span class="string">Waiting for code...</span></span><br><span class="line"><span class="string">Got code</span></span><br><span class="line"><span class="string">Choose a number from below, or type in an existing value</span></span><br><span class="line"><span class="string"> 1 / OneDrive Personal or Business</span></span><br><span class="line"><span class="string">   \ &quot;onedrive&quot;</span></span><br><span class="line"><span class="string"> 2 / Root Sharepoint site</span></span><br><span class="line"><span class="string">   \ &quot;sharepoint&quot;</span></span><br><span class="line"><span class="string"> 3 / Type in driveID</span></span><br><span class="line"><span class="string">   \ &quot;driveid&quot;</span></span><br><span class="line"><span class="string"> 4 / Type in SiteID</span></span><br><span class="line"><span class="string">   \ &quot;siteid&quot;</span></span><br><span class="line"><span class="string"> 5 / Search a Sharepoint site</span></span><br><span class="line"><span class="string">   \ &quot;search&quot;</span></span><br><span class="line"><span class="string">Your choice&gt; 1              //ç¬¬ä¹æ­¥ è¾“å…¥1 å› ä¸ºç°åœ¨æˆ‘é…ç½®çš„æ˜¯ OneDrive Personal or Business ç±»å‹çš„ç½‘ç›˜</span></span><br><span class="line"><span class="string">Found 1 drives, please select the one you want to use:</span></span><br><span class="line"><span class="string">0:  (personal) id=58719e3298535c9</span></span><br><span class="line"><span class="string">Chose drive to use:&gt; 0     //ç¬¬åæ­¥ è¾“å…¥0</span></span><br><span class="line"><span class="string">Found drive &#x27;</span>root<span class="string">&#x27; of type &#x27;</span>personal<span class="string">&#x27;, URL: https://onedrive.live.com/?cid=058719e3298535c9</span></span><br><span class="line"><span class="string">Is that okay?</span></span><br><span class="line"><span class="string">y) Yes (default)</span></span><br><span class="line"><span class="string">n) No                    //ç¬¬åä¸€æ­¥ ç›´æ¥å›è½¦</span></span><br><span class="line"><span class="string">y/n&gt;</span></span><br><span class="line"><span class="string">--------------------</span></span><br><span class="line"><span class="string">[Onedrive_local]</span></span><br><span class="line"><span class="string">type = onedrive</span></span><br><span class="line"><span class="string">token = &#123;&quot;access_token&quot;:&quot;BAAUO9chh8cJscQLmU+LSWpbnr0vmwwAAZ6th5X8qdv3jqko0KCKeFVHdJigXdmpkGf3aO/W9HQahNAmDTxEVF2TnPtPNCw7M/me6FRz4mD9+x/jfJIb8Qewi8NpYMfYXdmPyUUVcPp1G+bwKOIFfJlNa6Can21gaGhTKgdEaz27GwetIvwjy7Qo/eDh/jarwoHEKljM8fN3UF1xz/RS0Ir+DC6CrvNIP3MUpbBF31/qUWJekWn3XqdT1j6m9bBfJ9Xk8heaY1/MT+1SA6fs6IPV5mO5m6dtjfsr1wO3xLGuaEutBPlNT9t219R55MZibwt746mw+VRTMCLsMrFZqVGK6IHzXyG3t+5NOrdP9yelb0AVQDZgAACJVvxd1cmt0LOAKEWlmYeQi3Eo6NKs9l5Abb4AsL2V02tbQt3AheMGLOxpOfyWOUUNaqvFAdSWRGQU8JLgFOA0YWy+UtYHSBG8SIy40jFI5czeqFoCzXguNijP2eiE+JdJREz9fO0q947/QK0K4MxVBqQxmlD1RDujCtnIDsT5r1ICG2AN40wSWqGvanKyctRNPdEm0BjmTrmXh0qTinmJ+BBVe70AU3ZigEzfMULxP+i+vwI2rA7VbiAuXnDUE75t49RGBiCMS+p00x0smGI685pmbPYQoOcMuVLHVdIxSDCO+YLSgpaHaBrruIvFbhto0OczwvYKn8XXEIp0CM6XEy55UYTuLkJFRDWX9VB/mSHarvexYqtEi4EYK2nABm4KrngexH0IdyhdwDKx7gNnLcMP9YYXG0cybppINxx67jFxjQM8/TWQPAz4cADt/FfPPVvuVABOZdhKmpuScj6qOhWsCfh6KH385UiM2Z+Rn2t9hZaXt3ZRmu+W5XAx9+E1SnlewdTiH5/VwB8QhCuRvS89hK/51BeMz4cJ5R9dLEqjGDxZ0HHay52DDhQYta/yG0VN2pkWTg0+T7rVdXbgC607y47sWmqP540tigNZPc0AgrWK3TXFOAJAEAoV9Xg+QUhJKYQNnrtFWI9nKbSFVHEeg8vvl5efZviF2szVI4wProgIHpUydqfnMlR3vRZlei/rmGUC9IICjdNTKPWSGmilJdbdxHMUc/MDyfYhxJA69cwI=&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;refresh_token&quot;:&quot;MCeVIl4QGaJb!yGdTF6FLD!8N7hR4D8Z1bV4mpta08v64kR!MLcolxhea*NOv24M5V!uqHzBvi5dSW9wVHXGqALSe9kML5HKxV12XougeYafX2dcdyxvZ*cYEa6D0l6hIzovUwFpVjv3lqiP66jpzY4KxYMtZqQHf5PN!VGJf52xDKcsIUseoKD98z7olU3E2kyaZqJW8j6o5dBTV!Lmo5DVc31VpGrfeUnwhOcZkO7xN7IUEy8Vs9YXKQ0C4cin4qpyDSQ3pLpwy09ZpVE2bKOt4XQP7JLWQa6iGQ*r8zgewRo7ULYoEpRXYsqSBdwX6pJEQnRzCDcJimHxXBEV59rE*Ykwc9SijTkBN4haK6br9y2YVQ2UKegfQiErCHY33kzmSMAPJUwiooUNc6GytUz5O6ZxsBMghhb6B6NiSBCs!U5xRon1y*zzOsh9EArHk4y2rihu7BkkC13bJqxeMvhw$&quot;,&quot;expiry&quot;:&quot;2020-06-22T20:38:09.8687266+08:00&quot;&#125;</span></span><br><span class="line"><span class="string">drive_id = 58719e3298825c9</span></span><br><span class="line"><span class="string">drive_type = personal</span></span><br><span class="line"><span class="string">--------------------</span></span><br><span class="line"><span class="string">y) Yes this is OK (default)</span></span><br><span class="line"><span class="string">e) Edit this remote</span></span><br><span class="line"><span class="string">d) Delete this remote</span></span><br><span class="line"><span class="string">y/e/d&gt;                   //ç¬¬åäºŒæ­¥ å›è½¦</span></span><br><span class="line"><span class="string">Current remotes:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name                 Type</span></span><br><span class="line"><span class="string">====                 ====</span></span><br><span class="line"><span class="string">Onedrive_local       onedrive          //æ˜¾ç¤ºä½ çš„è®¾ç½®åˆ™æˆåŠŸï¼</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">e) Edit existing remote</span></span><br><span class="line"><span class="string">n) New remote</span></span><br><span class="line"><span class="string">d) Delete remote</span></span><br><span class="line"><span class="string">r) Rename remote</span></span><br><span class="line"><span class="string">c) Copy remote</span></span><br><span class="line"><span class="string">s) Set configuration password</span></span><br><span class="line"><span class="string">q) Quit config</span></span><br><span class="line"><span class="string">e/n/d/r/c/s/q&gt; q           //ç¬¬åä¸‰æ­¥ è¾“å…¥qç»“æŸé…ç½®</span></span><br></pre></td></tr></table></figure><h2 id="å››ï¼šæŒ‚è½½Onedriveåˆ°æœ¬åœ°"><a href="#å››ï¼šæŒ‚è½½Onedriveåˆ°æœ¬åœ°" class="headerlink" title="å››ï¼šæŒ‚è½½Onedriveåˆ°æœ¬åœ°"></a>å››ï¼šæŒ‚è½½Onedriveåˆ°æœ¬åœ°</h2><ol><li><del>è‡ªè¡Œä¸‹è½½å®‰è£…git</del></li></ol><p><del>æ­¤æ—¶è¯·ä½¿ç”¨ <code>git bash</code> çš„ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨<code>cmd</code> å’Œ <code>powershell</code> éƒ½å‡ºç°å…³é—­ç»ˆç«¯åæŒ‚è½½ç¨‹åºé€€å‡ºã€æœ¬åœ°æŒ‚è½½çš„OneDriveé€€å‡ºçš„ç°è±¡ã€‚ å¦‚æœä½ çš„windowsæ²¡æœ‰å®‰è£…git ï¼Œ è¯·[è‡ªè¡Œå®‰è£…](<a href="https://www.baidu.com/s?wd=windows">https://www.baidu.com/s?wd=windows</a> å®‰è£…git&amp;ie=utf-8)ã€‚è‹¥ä½ ä½¿ç”¨ <code>cmd</code> çš„è¯ ï¼Œ<code>cmd</code> æ˜¯ä¸èƒ½é€€å‡ºçš„ï¼Œè¦ä¿æŒ <code>cmd</code> ä¸é€€å‡ºæœ¬åœ°ç¡¬ç›˜æ‰ä¸€ç›´æŒ‚è½½ç€ã€‚</del></p><ol start="2"><li><del>æ¡Œé¢æ–°å»ºtxtæ–‡æœ¬æ–‡ä»¶ã€‚ç¼–è¾‘å†…å®¹ä¸ºï¼š</del></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;%ProgramFiles%\Git\git-bash.exe&quot;</span> <span class="literal">-c</span> <span class="string">&quot;rclone mount Onedrive_local:/  Q: --cache-dir C:\Users\97532\Rclone --vfs-cache-mode writes &amp;&quot;</span></span><br></pre></td></tr></table></figure><p><del><code>Onedrive_local</code> æ›¿æ¢ä¸ºä½ è‡ªå·±å‰é¢è®¾ç½®çš„åç§° ã€‚</del></p><p><del><code>Q:</code> æ›¿æ¢ä¸ºä½ æƒ³è¦æŒ‚è½½åç¡¬ç›˜çš„ç›˜ç¬¦åç§°å³å¯ï¼Œè®°å¾—ä¸è¦å’Œæœ¬åœ°çš„Cç›˜ã€Dç›˜ç­‰é‡å¤ã€‚</del></p><p><del><code>C:\Users\97532\Rclone</code> ä¸ºæœ¬åœ°ç¼“å­˜ç›®å½•ï¼Œå¯è‡ªè¡Œè®¾ç½® ã€‚</del></p><p><del>ä¸Šè¿°ä»£ç ï¼Œä½¿ç”¨git bashç¨‹åºæ‰§è¡ŒrcloneæŒ‚è½½ç£ç›˜çš„æŒ‡ä»¤ã€‚cmdæ— æ³•è¯†åˆ«<code>&amp;</code>ï¼Œä¹Ÿå°±æ˜¯é€€å‡ºç¨‹åºç»§ç»­æŒ‚è½½æŒ‡ä»¤ã€‚</del></p><ol start="3"><li><del>é‡å‘½åtxtæ–‡ä»¶ä¸º<code>rclone_startup.bat</code></del></li><li><del>åŒå‡»è¿è¡Œ</del></li></ol><p><del><img src="C:\Users\97532\AppData\Roaming\Typora\typora-user-images\image-20200622210455993.png" class="lazyload" data-srcset="C:\Users\97532\AppData\Roaming\Typora\typora-user-images\image-20200622210455993.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200622210455993"></del></p><p><del>å‡ºç°ï¼š<code>The service rclone has been started</code> æˆ–è€…ç£ç›˜åˆ—è¡¨å‡ºç°Onedriveï¼Œåˆ™è¯´æ˜æŒ‚è½½æˆåŠŸã€‚</del></p><ol start="5"><li><del>è®¾ç½®å¼€æœºå¯åŠ¨</del></li></ol><p><del>ç”±äºgitç¨‹åºåœ¨é‡å¯åä¼šåœæ­¢ï¼Œéœ€è¦å°†<code>rclone_startup.bat</code>ç§»åŠ¨åˆ°å¼€æœºå¯åŠ¨æ–‡ä»¶é‡Œï¼Œæ¯æ¬¡å¼€æœºè®©ç£ç›˜è‡ªåŠ¨æŒ‚è½½ã€‚</del></p><p><del>å°†<code>rclone_startup.bat</code>æ”¾åœ¨<code>C:\Users\ç”¨æˆ·å\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup</code> ä¸­</del></p><p><del><img src="https://i.loli.net/2020/06/22/Cp7mKkB4tAZ3i9w.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/Cp7mKkB4tAZ3i9w.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">237.png)</del></p><p><del>ç°åœ¨è¯•è¯•é‡å¯ç”µè„‘ã€‚ã€‚é‡å¯åéœ€è¦ç­‰å¾…åå‡ ç§’ï¼Œæ‰ä¼šè¿è¡Œgit bashç¨‹åºæŒ‚è½½Onedriveã€‚</del></p><p><del>git bashè¿è¡Œåä¼šæœ‰ä¸€é—ªè€Œè¿‡çš„é»‘è‰²çª—å£ã€‚æ­¤æ—¶ç£ç›˜åº”è¯¥æŒ‚è½½æˆåŠŸäº†</del>ã€‚</p><blockquote><p>åˆ æ‰ä¸Šé¢çš„æ–¹æ³•ï¼Œæ˜¯ç”±äºæ­¥éª¤å¤ªè¿‡å†—æ‚ï¼Œéœ€è¦å®‰è£…git bashï¼Œè€Œä¸”å¼€æœºå¯åŠ¨æ—¶å­˜åœ¨ä¸€é—ªè€Œè¿‡çš„é»‘è‰²çª—å£ï¼Œè¿è¡Œåçš„æŒ‚è½½ç›˜ä¹Ÿå­˜åœ¨é—®é¢˜ã€‚</p></blockquote><hr><p>æŒ‚è½½æ“ä½œåœ¨é€€å‡ºcmdåå°±è‡ªåŠ¨ç»“æŸäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©å®ƒåå°è¿è¡Œã€‚<br>rcloneè™½ç„¶æä¾›äº†<code>--daemon</code>å‚æ•°æ¥å®è¡Œåå°è¿è¡Œï¼Œä½†æ˜¯è¯¥å‚æ•°å¹¶ä¸é€‚åˆäºwindowsç¯å¢ƒä¸­ã€‚ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Î» rclone mount GDrive:&#x2F; x: --cache-dir F:\Temp --vfs-cache-mode writes --daemon</span><br><span class="line">2018&#x2F;05&#x2F;01 09:54:19 background mode not supported on windows platform</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å¦å¤–æƒ³ä¸ªåŠæ³•è®©rcloneèƒ½å¤Ÿåç«¯è¿è¡Œä»¥åŠå¼€æœºè‡ªåŠ¨æŒ‚è½½ã€‚</p><ol><li><strong>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚</strong></li></ol><p>å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼Œ<strong>è¯·æ³¨æ„ä¿®æ”¹å€’æ•°ç¬¬äºŒè¡Œçš„<code>WS.Run</code>ä¸­ç›¸å…³å‘½ä»¤ä¸ºä½ ä¸Šæ­¥æˆåŠŸæ‰§è¡Œçš„å‘½ä»¤</strong>ï¼Œç„¶åå°†è¯¥æ–‡ä»¶åæ”¹ä¸º<code>rclone.vbs</code> ï¼ˆåç¼€åä¸º<code>.vbs</code>å³å¯ï¼‰</p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Option</span> <span class="keyword">Explicit</span></span><br><span class="line"><span class="keyword">Dim</span> WMIService, Process, Processes, Flag, WS</span><br><span class="line"><span class="keyword">Set</span> WMIService = <span class="built_in">GetObject</span>(<span class="string">&quot;winmgmts:&#123;impersonationlevel=impersonate&#125;!\\.\root\cimv2&quot;</span>)</span><br><span class="line"><span class="keyword">Set</span> Processes = WMIService.ExecQuery(<span class="string">&quot;select * from win32_process&quot;</span>)</span><br><span class="line">Flag = <span class="literal">true</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> Process <span class="keyword">in</span> Processes</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">strcomp</span>(Process.name, <span class="string">&quot;rclone.exe&quot;</span>) = <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">        Flag = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">exit</span> <span class="keyword">for</span></span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line"><span class="keyword">next</span></span><br><span class="line"><span class="keyword">Set</span> WMIService = <span class="literal">nothing</span></span><br><span class="line"><span class="keyword">if</span> Flag <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">Set</span> WS = Wscript.<span class="built_in">CreateObject</span>(<span class="string">&quot;Wscript.Shell&quot;</span>)</span><br><span class="line">    WS.Run <span class="string">&quot;rclone mount Onedrive_local:/  Q: --cache-dir C:\Users\97532\Rclone --vfs-cache-mode writes&quot;</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">if</span></span><br></pre></td></tr></table></figure><blockquote><p><code>Onedrive_local</code> æ›¿æ¢ä¸ºä½ è‡ªå·±å‰é¢è®¾ç½®çš„åç§° ã€‚</p><p><code>Q:</code> æ›¿æ¢ä¸ºä½ æƒ³è¦æŒ‚è½½åç¡¬ç›˜çš„ç›˜ç¬¦åç§°å³å¯ï¼Œè®°å¾—ä¸è¦å’Œæœ¬åœ°çš„Cç›˜ã€Dç›˜ç­‰é‡å¤ã€‚</p><p><code>C:\Users\97532\Rclone</code> ä¸ºæœ¬åœ°ç¼“å­˜ç›®å½•ï¼Œå¯è‡ªè¡Œè®¾ç½® ã€‚</p><p>å…³äº<code>vfs-cache-mode</code>é¡¹è®¾ç½®ï¼Œè¿˜æ˜¯å»ºè®®çœ‹ä¸‹å®˜æ–¹çš„è¯´æ˜æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œç½‘ç»œæƒ…å†µæ¥è¿›è¡Œé€‰æ‹© <a href="https://rclone.org/commands/rclone_mount/#file-caching">https://rclone.org/commands/rclone_mount/#file-caching</a> ã€‚è¿™é‡Œåªåšç®€å•è¯´æ˜ï¼š</p><ul><li><code>off</code>ï¼š æœ¬åœ°ä¸åšä»»ä½•ç¼“å­˜ï¼Œæ‰€æœ‰æ–‡ä»¶ç›´æ¥ä»äº‘ç«¯è·å–å¹¶å†™å…¥ã€‚<strong>å»ºè®®ç½‘é€Ÿç‰¹åˆ«å¥½æ—¶ï¼ˆå¤åˆ¶ç²˜è´´å¤§æ–‡ä»¶æ—¶å»ºè®®è‡³å°‘100Mç®¡ä»¥ä¸Šé€Ÿåº¦ï¼‰ä½¿ç”¨ã€‚</strong></li><li><code>minimal</code>ï¼šï¼ˆå’Œoffç±»ä¼¼ï¼Œä½†æ˜¯å·²ç»æ‰“å¼€çš„æ–‡ä»¶ä¼šè¢«ç¼“å­˜åˆ°æœ¬åœ°ã€‚<strong>ä¸ªäººæ¨èï¼Œå°æ–‡ä»¶åŸºæœ¬å¤Ÿç”¨ï¼Œä½†æ˜¯å¦‚æœä½ çš„ç½‘ç»œæƒ…å†µï¼ˆæ¢¯å­ï¼‰ä¸æ˜¯ç‰¹åˆ«å¥½çš„è¯ï¼Œç”¨writesä¹Ÿè¡Œ</strong></li><li><code>writes</code>ï¼šï¼ˆå¦‚æœæ–‡ä»¶å±æ€§ä¸º<code>åªè¯»</code>åˆ™åªä»äº‘ç«¯è·å–ï¼Œä¸ç„¶å…ˆç¼“å­˜åœ¨æœ¬åœ°è¿›è¡Œè¯»å†™æ“ä½œï¼Œéšåè¢«åŒæ­¥ã€‚<strong>ä¸ªäººæ¨èä½¿ç”¨ï¼Œä½†æ˜¯åœ¨ç›´æ¥ä»æœ¬åœ°å¤åˆ¶æ–‡ä»¶åˆ°GDriveæ—¶è¿˜æ˜¯çœ‹ç½‘ç»œæƒ…å†µ</strong></li><li><code>full</code>ï¼šï¼ˆæ‰€æœ‰çš„è¯»å†™æ“ä½œéƒ½ä¼šç¼“å­˜åˆ°ç£ç›˜ä¸­ã€‚ç„¶åæ‰ä¼šåŒæ­¥ã€‚<strong>ä¸æ˜¯å¾ˆæ¨èã€‚ä¼šå¯¼è‡´æ‰€æœ‰æ–‡ä»¶å‡è¢«ç¼“å­˜åˆ°æœ¬åœ°ã€‚ç›´åˆ°è¾¾åˆ°ä½ ç¼“å­˜æ€»é¢ï¼ˆâ€“cache-total-chunk-sizeï¼Œé»˜è®¤å¤§å°10Gï¼‰ã€‚ä½†æ˜¯ä½ ç½‘é€Ÿç‰¹åˆ«å·®æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</strong></li></ul></blockquote><p>å¦‚æœä½ éœ€è¦ä¸­æ–­è¿™ä¸ªæŒ‚è½½æ“ä½œï¼Œè¯·ç›´æ¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­killæ‰<code>rclone.exe</code>è¿›ç¨‹å³å¯ã€‚</p><ol start="2"><li><strong>å¼€æœºè‡ªå¯</strong></li></ol><p>å°†è¿™ä¸ªæ–‡ä»¶<code>rclone.vbs</code>å¤åˆ¶ï¼ˆæˆ–è€…å‰ªè´´ï¼‰åˆ°å¼€æœºé¡¹ä¸­<code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp</code>ï¼ˆWindows 10ï¼‰å³å¯å®ç°å¼€æœºè‡ªåŠ¨æŒ‚è½½~</p><h2 id="äº”ï¼šå‚è€ƒèµ„æ–™"><a href="#äº”ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="äº”ï¼šå‚è€ƒèµ„æ–™"></a>äº”ï¼šå‚è€ƒèµ„æ–™</h2><p>ã€Š<a href="https://www.lifeee.top/posts/14654.html">Windowså¹³å°ä¸‹ä½¿ç”¨ Rclone æŒ‚è½½ OneDrive ä¸ºæœ¬åœ°ç¡¬ç›˜</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/lilongsy/article/details/89916797">CMDæ‰“å¼€Git Bash</a>ã€‹</p><p>ã€Š<a href="http://www.itkeyword.com/doc/9018080391155886x507/how-to-launch-git-bash-from-dos-command-line">Windows-å¦‚ä½•ä»DOSå‘½ä»¤è¡Œå¯åŠ¨Git Bashï¼Ÿ</a>ã€‹</p><p>ã€Š<a href="https://blog.rhilip.info/archives/874/">ä½¿ç”¨rcloneåœ¨Windowsä¸‹æŒ‚è½½Googleä¸ªäºº/å›¢é˜Ÿäº‘ç›˜</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rclone </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oneindexè‡ªå»ºä¸é™é€Ÿç½‘ç›˜</title>
      <link href="/2020/06/22/Oneindex%E8%87%AA%E5%BB%BA%E4%B8%8D%E9%99%90%E9%80%9F%E7%BD%91%E7%9B%98/"/>
      <url>/2020/06/22/Oneindex%E8%87%AA%E5%BB%BA%E4%B8%8D%E9%99%90%E9%80%9F%E7%BD%91%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<p><img src="https://i.loli.net/2020/06/22/49JmMaXqfIx13US.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/49JmMaXqfIx13US.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¸å ç”¨æœåŠ¡å™¨ç©ºé—´ï¼Œä¸èµ°æœåŠ¡å™¨æµé‡ï¼Œ  </p><p>ç›´æ¥åˆ—å‡º OneDrive ç›®å½•ï¼Œæ–‡ä»¶ç›´é“¾ä¸‹è½½ã€‚</p><h1 id="ä¸€ï¼šæ³¨å†Œç”³è¯·000webhostå…è´¹ä¸»æœº"><a href="#ä¸€ï¼šæ³¨å†Œç”³è¯·000webhostå…è´¹ä¸»æœº" class="headerlink" title="ä¸€ï¼šæ³¨å†Œç”³è¯·000webhostå…è´¹ä¸»æœº"></a>ä¸€ï¼šæ³¨å†Œç”³è¯·000webhostå…è´¹ä¸»æœº</h1><p>è¿›å…¥ <a href="https://www.000webhost.com/">https://www.000webhost.com/</a></p><p>æ³¨å†Œåï¼Œåœ¨æˆ‘çš„ç½‘ç«™é‡Œåˆ›å»ºæ–°ç½‘ç«™ã€‚</p><p><img src="https://i.loli.net/2020/06/22/CpHtzoaKyFwmNeh.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/CpHtzoaKyFwmNeh.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>åˆ›å»ºæˆåŠŸåï¼Œæ‰“å¼€ç½‘ç«™åå°ã€‚</p><p>ç‚¹å‡»<code>File Manager</code>ï¼Œæˆ–è€…ç›´æ¥è¾“å…¥ç½‘å€ <a href="https://files.000webhost.com/">https://files.000webhost.com</a> </p><p><img src="https://i.loli.net/2020/06/22/SfFj2WzEMk3rxq4.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/SfFj2WzEMk3rxq4.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>è¿æ¥ä½ çš„ç½‘ç«™ftp</p><p>è¾“å…¥ä½ çš„ç½‘ç«™åç§°å’Œå¯†ç </p><p><img src="https://i.loli.net/2020/06/22/8dtDAonK3hqpBOS.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/8dtDAonK3hqpBOS.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="https://i.loli.net/2020/06/22/rImV6MD2tFXvpcB.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/rImV6MD2tFXvpcB.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><code>/public_html</code>å°±æ˜¯ç½‘ç«™çš„æ ¹ç›®å½•ã€‚å°†ç½‘é¡µçš„indexåº”æ”¾åœ¨æ­¤ç›®å½•ä¸‹</p><h1 id="äºŒï¼šä¸‹è½½å’Œä¸Šä¼ ç½‘é¡µ"><a href="#äºŒï¼šä¸‹è½½å’Œä¸Šä¼ ç½‘é¡µ" class="headerlink" title="äºŒï¼šä¸‹è½½å’Œä¸Šä¼ ç½‘é¡µ"></a>äºŒï¼šä¸‹è½½å’Œä¸Šä¼ ç½‘é¡µ</h1><p>ä¸‹è½½ç¨‹åºæºç ï¼š<a href="https://wwa.lanzous.com/ikFHMdxgkeb">https://wwa.lanzous.com/ikFHMdxgkeb</a></p><p>ç¡®ä¿<code>public_html</code>ç›®å½•é‡Œæ²¡æœ‰ä»»ä½•æ–‡ä»¶ã€‚</p><p>åœ¨ç½‘ç«™æ–‡ä»¶ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»ä¸Šä¼ æ–‡ä»¶(upload files)çš„å›¾æ ‡ã€‚å°†å‹ç¼©åŒ…ä¸Šä¼ åˆ°<code>public_html</code>ã€‚</p><p>é€‰æ‹©æ–‡ä»¶å³é”®é€‰æ‹©è§£å‹(extract)ã€‚å°†è§£å‹åçš„æ‰€æœ‰æ–‡ä»¶å³index.phpæ‰€åœ¨çš„æ–‡ä»¶ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ç§»åŠ¨åˆ°<code>public_html</code></p><p>æœ€ç»ˆç»“æœåº”å¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://i.loli.net/2020/06/22/rImV6MD2tFXvpcB.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/rImV6MD2tFXvpcB.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h1 id="ä¸‰ï¼šç»‘å®šè‡ªå·±çš„åŸŸå"><a href="#ä¸‰ï¼šç»‘å®šè‡ªå·±çš„åŸŸå" class="headerlink" title="ä¸‰ï¼šç»‘å®šè‡ªå·±çš„åŸŸå"></a>ä¸‰ï¼šç»‘å®šè‡ªå·±çš„åŸŸå</h1><p>webhostç»™çš„å…è´¹åŸŸåæ˜¯<code>webname.000webhostapp.com</code>ï¼Œéœ€è¦è‡ªè¡Œè®¾ç½®cnameè§£æã€‚è§£ææ­¥éª¤å°±ä¸è¯´äº†ã€‚ä¸ä¼šçš„å¯è‡ªè¡Œç™¾åº¦ã€‚</p><p>cnameæ·»åŠ åï¼Œè¿˜éœ€è¦åœ¨webhoståå°è®¾ç½®ç™½åå•æ‰èƒ½ç”Ÿæ•ˆã€‚</p><p>åœ¨000webhostç½‘ç«™ç®¡ç†åå°ä¸­ï¼Œç‚¹å‡»<code>Website Settings</code>-&gt;<code>General</code>ã€‚</p><p><img src="https://i.loli.net/2020/06/22/7LOBsndZtkCvfxg.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/7LOBsndZtkCvfxg.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>åœ¨<code>Website Name</code>ä¸‹é¢æœ‰ä¸€æ®µè‹±æ–‡ï¼Œ<code>you can change the name of your website here </code>ã€‚ç‚¹å‡»hereã€‚è¿›å…¥ä¿®æ”¹åŸŸåç•Œé¢</p><p><img src="https://i.loli.net/2020/06/22/pFHeLsrxBqJAQOo.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/pFHeLsrxBqJAQOo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ·»åŠ ä½ cnameè§£æçš„åŸŸå</p><p><img src="https://i.loli.net/2020/06/22/Aw8iXx2IP9HbZdL.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/22/Aw8iXx2IP9HbZdL.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h1 id="å››ï¼šå®‰è£…é…ç½®oneindex"><a href="#å››ï¼šå®‰è£…é…ç½®oneindex" class="headerlink" title="å››ï¼šå®‰è£…é…ç½®oneindex"></a>å››ï¼šå®‰è£…é…ç½®oneindex</h1><p>æ‰“å¼€ä½ çš„ç½‘ç›˜ç½‘é¡µï¼Œæ¯”å¦‚æˆ‘çš„ <a href="http://pan.sci.ci/">http://pan.sci.ci</a></p><p>æŒ‰ç…§æç¤ºé…ç½®ã€‚</p><p>å…¶ä¸­åº”ç”¨å¯†é’¥å’Œidï¼Œéœ€è¦ä½ ç‚¹å‡»ç½‘ç«™ç»™çš„é“¾æ¥è·å–ã€‚å¯†é’¥è·å–ç»“æŸåï¼Œç‚¹å‡»å¯†é’¥ç•Œé¢çš„å›é€€æŒ‰é’®ï¼Œåœ¨å›é€€çš„ç½‘é¡µé‡Œå°±èƒ½æ‰¾åˆ°åº”ç”¨idã€‚</p><img width="658" alt="image" src="https://raw.githubusercontent.com/donwa/oneindex/files/images/install.gif" class="lazyload" data-srcset="https://raw.githubusercontent.com/donwa/oneindex/files/images/install.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">  <h1 id="äº”ï¼šoneindexå…¶ä»–æ“ä½œ"><a href="#äº”ï¼šoneindexå…¶ä»–æ“ä½œ" class="headerlink" title="äº”ï¼šoneindexå…¶ä»–æ“ä½œ"></a>äº”ï¼šoneindexå…¶ä»–æ“ä½œ</h1><p>onedriveæ–‡ä»¶ç®¡ç†ï¼š<a href="https://onedrive.live.com/">https://onedrive.live.com</a></p><h2 id="5-1-è®¡åˆ’ä»»åŠ¡"><a href="#5-1-è®¡åˆ’ä»»åŠ¡" class="headerlink" title="5.1 è®¡åˆ’ä»»åŠ¡ Â "></a>5.1 è®¡åˆ’ä»»åŠ¡ Â </h2><p>[å¯é€‰]<strong>æ¨èé…ç½®</strong>ï¼Œéå¿…éœ€ã€‚åå°å®šæ—¶åˆ·æ–°ç¼“å­˜ï¼Œå¯å¢åŠ å‰å°è®¿é—®çš„é€Ÿåº¦ã€‚  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ¯å°æ—¶åˆ·æ–°ä¸€æ¬¡token</span><br><span class="line">0 * * * * &#x2F;å…·ä½“è·¯å¾„&#x2F;php &#x2F;ç¨‹åºå…·ä½“è·¯å¾„&#x2F;one.php token:refresh</span><br><span class="line"></span><br><span class="line"># æ¯ååˆ†é’Ÿåå°åˆ·æ–°ä¸€éç¼“å­˜</span><br><span class="line">*&#x2F;10 * * * * &#x2F;å…·ä½“è·¯å¾„&#x2F;php &#x2F;ç¨‹åºå…·ä½“è·¯å¾„&#x2F;one.php cache:refresh</span><br></pre></td></tr></table></figure><h2 id="5-2-Docker-å®‰è£…è¿è¡Œ"><a href="#5-2-Docker-å®‰è£…è¿è¡Œ" class="headerlink" title="5.2 Docker å®‰è£…è¿è¡Œ"></a>5.2 Docker å®‰è£…è¿è¡Œ</h2><ul><li>è¯·å‚è€ƒ<a href="https://github.com/TimeBye/oneindex">TimeBye/oneindex</a></li></ul><h2 id="5-3-ç‰¹æ®Šæ–‡ä»¶å®ç°åŠŸèƒ½"><a href="#5-3-ç‰¹æ®Šæ–‡ä»¶å®ç°åŠŸèƒ½" class="headerlink" title="5.3 ç‰¹æ®Šæ–‡ä»¶å®ç°åŠŸèƒ½ Â "></a>5.3 ç‰¹æ®Šæ–‡ä»¶å®ç°åŠŸèƒ½ Â </h2><p><code>README.md</code>ã€<code>HEAD.md</code> ã€ <code>.password</code>ç‰¹æ®Šæ–‡ä»¶ä½¿ç”¨  </p><p>å¯ä»¥å‚è€ƒ<a href="https://github.com/donwa/oneindex/tree/files">https://github.com/donwa/oneindex/tree/files</a>  </p><p><strong>åœ¨æ–‡ä»¶å¤¹åº•éƒ¨æ·»åŠ è¯´æ˜:</strong> Â </p><blockquote><p>åœ¨ OneDrive çš„æ–‡ä»¶å¤¹ä¸­æ·»åŠ <code>README.md</code>æ–‡ä»¶ï¼Œä½¿ç”¨ Markdown è¯­æ³•ã€‚  </p></blockquote><p><strong>åœ¨æ–‡ä»¶å¤¹å¤´éƒ¨æ·»åŠ è¯´æ˜:</strong> Â </p><blockquote><p>åœ¨ OneDrive çš„æ–‡ä»¶å¤¹ä¸­æ·»åŠ <code>HEAD.md</code> æ–‡ä»¶ï¼Œä½¿ç”¨ Markdown è¯­æ³•ã€‚  </p></blockquote><p><strong>åŠ å¯†æ–‡ä»¶å¤¹:</strong> Â </p><blockquote><p>åœ¨ OneDrive çš„æ–‡ä»¶å¤¹ä¸­æ·»åŠ <code>.password</code>æ–‡ä»¶ï¼Œå¡«å…¥å¯†ç ï¼Œå¯†ç ä¸èƒ½ä¸ºç©ºã€‚ Â </p></blockquote><p><strong>ç›´æ¥è¾“å‡ºç½‘é¡µ:</strong>  </p><blockquote><p>åœ¨ OneDrive çš„æ–‡ä»¶å¤¹ä¸­æ·»åŠ <code>index.html</code> æ–‡ä»¶ï¼Œç¨‹åºä¼šç›´æ¥è¾“å‡ºç½‘é¡µè€Œä¸åˆ—ç›®å½•ã€‚<br>é…åˆ æ–‡ä»¶å±•ç¤ºè®¾ç½®-ç›´æ¥è¾“å‡º æ•ˆæœæ›´ä½³ã€‚  </p></blockquote><h2 id="5-4-å‘½ä»¤è¡ŒåŠŸèƒ½"><a href="#5-4-å‘½ä»¤è¡ŒåŠŸèƒ½" class="headerlink" title="5.4 å‘½ä»¤è¡ŒåŠŸèƒ½ Â "></a>5.4 å‘½ä»¤è¡ŒåŠŸèƒ½ Â </h2><p>ä»…èƒ½åœ¨PHP CLIæ¨¡å¼ä¸‹è¿è¡Œ  </p><p><strong>æ¸…é™¤ç¼“å­˜:</strong> Â </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php one.php cache:clear</span><br></pre></td></tr></table></figure><p><strong>åˆ·æ–°ç¼“å­˜:</strong> Â </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php one.php cache:refresh</span><br></pre></td></tr></table></figure><p><strong>åˆ·æ–°ä»¤ç‰Œ:</strong> Â </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php one.php token:refresh</span><br></pre></td></tr></table></figure><p><strong>ä¸Šä¼ æ–‡ä»¶:</strong> Â </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php one.php upload:file æœ¬åœ°æ–‡ä»¶ [OneDriveæ–‡ä»¶]</span><br></pre></td></tr></table></figure><p><strong>ä¸Šä¼ æ–‡ä»¶å¤¹:</strong>  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php one.php upload:folder æœ¬åœ°æ–‡ä»¶å¤¹ [OneDriveæ–‡ä»¶å¤¹]</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;ä¸Šä¼ demo.zip åˆ°OneDrive æ ¹ç›®å½•  </span><br><span class="line">php one.php upload:file demo.zip  </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä¸Šä¼ demo.zip åˆ°OneDrive &#x2F;test&#x2F;ç›®å½•  </span><br><span class="line">php one.php upload:file demo.zip &#x2F;test&#x2F;  </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä¸Šä¼ demo.zip åˆ°OneDrive &#x2F;test&#x2F;ç›®å½•å¹¶å°†å…¶å‘½åä¸º d.zip  </span><br><span class="line">php one.php upload:file demo.zip &#x2F;test&#x2F;d.zip  </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä¸Šä¼ up&#x2F; åˆ°OneDrive &#x2F;test&#x2F; ç›®å½•  </span><br><span class="line">php one.php upload:file up&#x2F; &#x2F;test&#x2F;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Oneindex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Volantisä¸»é¢˜ReadMoreè‡ªåŠ¨æˆªå–æ–‡ç« å†…å®¹</title>
      <link href="/2020/06/18/Valantis-ReadMore%E8%87%AA%E5%8A%A8%E6%88%AA%E5%8F%96%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9/"/>
      <url>/2020/06/18/Valantis-ReadMore%E8%87%AA%E5%8A%A8%E6%88%AA%E5%8F%96%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="1ï¼šåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œæ·»åŠ é”®å€¼å¯¹"><a href="#1ï¼šåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œæ·»åŠ é”®å€¼å¯¹" class="headerlink" title="1ï¼šåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œæ·»åŠ é”®å€¼å¯¹"></a>1ï¼šåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œæ·»åŠ é”®å€¼å¯¹</h2><p>æ·»åŠ é”®å€¼å¯¹çš„ç›®çš„æ˜¯ï¼Œæ§åˆ¶æˆªå–é•¿åº¦å’Œè‡ªåŠ¨æˆªå–åŠŸèƒ½æ˜¯å¦å¼€å¯ã€‚åœ¨ä½ çš„åšå®¢ç›®å½•<code>\themes\volantis\_config.yml</code>ä¸‹æ·»åŠ </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Excerpt </span></span><br><span class="line"><span class="comment">## Auto creat excerpt with not &lt;!--more--&gt;</span></span><br><span class="line"><span class="comment">## Enable will truncate auto_excerpt.lines rows in post head to replace excerpt.</span></span><br><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">lines:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><h2 id="2ï¼šä¿®æ”¹æ–‡ç« ä»£ç "><a href="#2ï¼šä¿®æ”¹æ–‡ç« ä»£ç " class="headerlink" title="2ï¼šä¿®æ”¹æ–‡ç« ä»£ç "></a>2ï¼šä¿®æ”¹æ–‡ç« ä»£ç </h2><p>ä¿®æ”¹<code>\themes\volantis\layout\_partial</code>æ–‡ä»¶å†…å®¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;article class&#x3D;&quot;post white-box &lt;%- theme.style.body.effect.join(&#39; &#39;) %&gt; reveal &lt;%&#x3D; (post.title) ? &quot;&quot; : &quot;no-title&quot; %&gt;&quot;&gt;</span><br><span class="line">  &lt;%- partial(&#39;meta&#39;,&#123;post:post, position:&#39;header&#39;&#125;) %&gt;</span><br><span class="line">  &lt;section class&#x3D;&quot;article typo&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;article-entry&quot; itemprop&#x3D;&quot;articleBody&quot;&gt;</span><br><span class="line">      &lt;% var show_all_content &#x3D; true %&gt;</span><br><span class="line">      &lt;% if (post.excerpt) &#123; %&gt;</span><br><span class="line">        &lt;% show_all_content &#x3D; false %&gt;</span><br><span class="line">        &lt;%- post.excerpt %&gt;</span><br><span class="line">      &lt;% &#125;  else if (post.summary) &#123; %&gt;</span><br><span class="line">        &lt;% show_all_content &#x3D; false %&gt;</span><br><span class="line">        &lt;p&gt;&lt;%- post.summary %&gt;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;% &#125; else if (theme.auto_excerpt.enable) &#123; %&gt;</span><br><span class="line">        &lt;% var br_position &#x3D; 0 %&gt;</span><br><span class="line">        &lt;% for (var br_count &#x3D; 0; br_count &lt; theme.auto_excerpt.lines; br_count++) &#123; %&gt;</span><br><span class="line">            &lt;% br_position &#x3D; post.content.indexOf(&#39;\n&#39;,br_position + 1) %&gt;</span><br><span class="line">            &lt;% if(br_position &lt; 0) &#123; break &#125; %&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">        &lt;% if(br_position &gt; 0) &#123; %&gt;</span><br><span class="line">            &lt;% show_all_content &#x3D; false %&gt;</span><br><span class="line">            &lt;p&gt;&lt;%- post.content.substring(0, br_position + 1) %&gt;&lt;p&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">      &lt;% if (show_all_content) &#123; %&gt;</span><br><span class="line">        &lt;%- post.content %&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;% if (theme.layout.on_list.readmore) &#123; %&gt;</span><br><span class="line">      &lt;% if ((post.readmore !&#x3D; false) &amp;&amp; (show_all_content !&#x3D; true)) &#123; %&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button readmore&quot;&gt;</span><br><span class="line">          &lt;a href&#x3D;&quot;&lt;%- url_for(post.link || post.path) %&gt;&quot;&gt;</span><br><span class="line">            &lt;%- theme.layout.on_list.readmore %&gt;</span><br><span class="line">          &lt;&#x2F;a&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">  &lt;&#x2F;section&gt;</span><br><span class="line">&lt;&#x2F;article&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„ä»£ç é€»è¾‘ï¼Œæ˜¯ï¼Œå¦‚æœæœ‰moreæ ‡ç­¾ï¼Œåˆ™ä½¿ç”¨moreæ ‡ç­¾å‰çš„æ–‡å­—ä½œä¸ºæ‘˜è¦ï¼Œéåˆ™ä½¿ç”¨mdæ–‡ç« scaffoldsé‡Œçš„summaryå†…å®¹ä½œä¸ºæ‘˜è¦ï¼Œä¸»é¢˜åŸæ¥ç”¨çš„scaffoldsæ˜¯descriptionã€‚å¦‚æœéœ€è¦ç”¨descriptionï¼Œå¯ä»¥è‡ªè¡Œæ›¿æ¢ä¸Šé¢çš„ä»£ç ã€‚</p><p>åœ¨<code>scaffolds\post.md</code>é‡Œå¯ä»¥ä¿®æ”¹æ–°å»ºmdæ–‡ä»¶ç”Ÿæˆçš„scaffoldã€‚</p></blockquote><blockquote><p>é‡è¦ï¼ï¼è¿™ç§æ–¹æ³•æ˜¯ç›´æ¥æå–çš„æ–‡ç« å‰5è¡Œã€‚å¦‚æœæå–åˆ°çš„å†…å®¹é‡Œï¼ŒåŒ…å«ä»£ç å—çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆç”±äºæ¸²æŸ“é—®é¢˜å¸ƒå±€å°†ä¼šå‡ºç°é—®é¢˜ã€‚å»ºè®®å¦‚æœä½ çš„æ–‡ç« å‰é¢é‡Œæœ‰ä»£ç ï¼Œè‡ªè¡Œåœ¨summaryé‡Œå†™æ‘˜è¦ï¼Œæˆ–è€…moreæ ‡ç­¾å‰å†™æ‘˜è¦ã€‚</p></blockquote><h2 id="3ï¼šå‚è€ƒæ–‡çŒ®"><a href="#3ï¼šå‚è€ƒæ–‡çŒ®" class="headerlink" title="3ï¼šå‚è€ƒæ–‡çŒ®"></a>3ï¼šå‚è€ƒæ–‡çŒ®</h2><p>ã€Š<a href="https://blog.zthxxx.me/post/hexo-automatic-add-readmore/">Hexo è‡ªåŠ¨ç»™åšæ–‡æ·»åŠ  ReadMore</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Volantis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TensorFlowå­¦ä¹ ç¬”è®°</title>
      <link href="/2020/06/17/TensorFlow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/06/17/TensorFlow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="P1ï¼štensorflowå®‰è£…"><a href="#P1ï¼štensorflowå®‰è£…" class="headerlink" title="P1ï¼štensorflowå®‰è£…"></a>P1ï¼štensorflowå®‰è£…</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tensorflow</span><br></pre></td></tr></table></figure><h2 id="P2ï¼šHello-Worldâ€”â€”è¡£æœåˆ†ç±»"><a href="#P2ï¼šHello-Worldâ€”â€”è¡£æœåˆ†ç±»" class="headerlink" title="P2ï¼šHello Worldâ€”â€”è¡£æœåˆ†ç±»"></a>P2ï¼šHello Worldâ€”â€”è¡£æœåˆ†ç±»</h2><p>è¿™ä¸ªä¾‹å­è®­ç»ƒäº†ä¸€ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œç”¨äºåˆ†ç±»è¡£æœå›¾ç‰‡ï¼Œæ¯”å¦‚tshirtå’Œè¿åŠ¨é‹ã€‚</p><p>éœ€è¦ç”¨åˆ°<code>tf.keras</code>ï¼Œå®ƒæ˜¯ä¸ªç”¨äºå»ºç«‹å’Œè®­ç»ƒæ¨¡å‹çš„é«˜å±‚æ¬¡çš„API</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># TensorFlow and tf.keras</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tffrom tensorflow </span><br><span class="line"><span class="keyword">import</span> keras</span><br><span class="line"><span class="comment"># Helper libraries</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">print(tf.__version__)</span><br></pre></td></tr></table></figure><blockquote><p>2.2.0</p></blockquote><p><strong>å¯¼å…¥Fashion MNISTæ•°æ®é›†</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fashion_mnist = keras.datasets.fashion_mnist</span><br><span class="line">(train_images, train_labels), (test_images, test_labels) = fashion_mnist.load_data()</span><br></pre></td></tr></table></figure><p>å¯¼å…¥æ•°æ®é›†ï¼Œè¿”å›Numpyæ•°ç»„ï¼š</p><ul><li><p><code>train_images</code>å’Œ<code>train_labels</code> æ•°ç»„æ˜¯è®­ç»ƒé›†ã€‚</p></li><li><p><code>test_images</code>å’Œ <code>test_labels</code> æ•°ç»„æ˜¯æµ‹è¯•é›†ã€‚</p></li></ul><p>è¿™äº›å›¾åƒæ˜¯28x28çš„Numpyæ•°ç»„ã€‚å¯ä»¥ç†è§£ä¸º28x28çš„åƒç´ ç‚¹ï¼Œè¿™äº›åƒç´ ç‚¹åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå‡ºæ¥è¡¨ç°ä¸ºå›¾åƒã€‚æ¯ä¸ªåƒç´ ç‚¹çš„å€¼åœ¨0åˆ°255ä¹‹é—´ï¼Œè¡¨ç¤ºé¢œè‰²çš„æ·±æµ…ã€‚å¦‚æœä½ äº†è§£é¢œè‰²çš„RGBå€¼ï¼Œé‚£ä½ å°±æ˜ç™½ï¼Œæ‰€æœ‰çš„é¢œè‰²éƒ½æ˜¯ç”±ä¸åŒæ·±æµ…ç¨‹åº¦çš„ä¸‰ç§åŸºæœ¬è‰²æ„æˆï¼Œæ¯”å¦‚ç™½è‰²çš„RGBä¸º(255.255.255)ã€‚æ ‡ç­¾<code>labels</code>æ˜¯ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼ŒèŒƒå›´ä»0åˆ°9ã€‚è¡¨ç¤º10ä¸ªä¸åŒçš„è¡£æœç§ç±»<code>Class</code>ã€‚</p><table><thead><tr><th align="left">Label</th><th align="left">Class</th></tr></thead><tbody><tr><td align="left">0</td><td align="left">T-shirt/top</td></tr><tr><td align="left">1</td><td align="left">Trouser</td></tr><tr><td align="left">2</td><td align="left">Pullover</td></tr><tr><td align="left">3</td><td align="left">Dress</td></tr><tr><td align="left">4</td><td align="left">Coat</td></tr><tr><td align="left">5</td><td align="left">Sandal</td></tr><tr><td align="left">6</td><td align="left">Shirt</td></tr><tr><td align="left">7</td><td align="left">Sneaker</td></tr><tr><td align="left">8</td><td align="left">Bag</td></tr><tr><td align="left">9</td><td align="left">Ankle boot</td></tr></tbody></table><p>è¿™äº›ç§ç±»ä¸åŒ…æ‹¬åœ¨æ•°æ®é›†ä¸­ï¼Œéœ€è¦å•ç‹¬å®šä¹‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class_names = [<span class="string">&#x27;T-shirt/top&#x27;</span>, <span class="string">&#x27;Trouser&#x27;</span>, <span class="string">&#x27;Pullover&#x27;</span>, <span class="string">&#x27;Dress&#x27;</span>, <span class="string">&#x27;Coat&#x27;</span>, <span class="string">&#x27;Sandal&#x27;</span>, <span class="string">&#x27;Shirt&#x27;</span>, <span class="string">&#x27;Sneaker&#x27;</span>, <span class="string">&#x27;Bag&#x27;</span>, <span class="string">&#x27;Ankle boot&#x27;</span>]</span><br></pre></td></tr></table></figure><p><strong>ç ”ç©¶æ•°æ®</strong></p><p>åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œå…ˆç ”ç©¶è¿™äº›æ•°æ®æ ¼å¼ã€‚æ¯”å¦‚åœ¨è®­ç»ƒé›†ä¸­çš„å…­ä¸‡å¼ å›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡ç”±28x28çš„åƒç´ ç‚¹è¡¨ç¤ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train_images.shape</span><br></pre></td></tr></table></figure><blockquote><p>(60000, 28, 28)</p></blockquote><p>åŒæ—¶è¿˜æœ‰å…­ä¸‡ä¸ªä¸ä¹‹å¯¹åº”çš„æ ‡ç­¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(train_labels)</span><br></pre></td></tr></table></figure><blockquote><p>60000</p></blockquote><p>æ¯ä¸ªæ ‡ç­¾éƒ½æ˜¯ä¸€ä¸ª0åˆ°9ä¹‹é—´çš„æ•´æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train_labels</span><br></pre></td></tr></table></figure><blockquote><p>array([9, 0, 0, â€¦, 3, 0, 5], dtype=uint8)</p></blockquote><p>è¿˜æœ‰ä¸€ä¸‡å¼ ç”¨äºæµ‹è¯•çš„å›¾ç‰‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_images.shape</span><br></pre></td></tr></table></figure><blockquote><p>(10000, 28, 28)</p></blockquote><p>ä¸€ä¸‡å¼ è®­ç»ƒé›†çš„æ ‡ç­¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(test_labels)</span><br></pre></td></tr></table></figure><blockquote><p>10000</p></blockquote><p><strong>æ•°æ®é¢„å¤„ç†</strong></p><p>åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œå¿…é¡»å…ˆå¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ã€‚è§‚å¯Ÿç¬¬ä¸€å¼ å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å›¾ç‰‡çš„åƒç´ å€¼åœ¨0åˆ°255ä¹‹é—´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.figure()</span><br><span class="line">plt.imshow(train_images[<span class="number">0</span>])</span><br><span class="line">plt.colorbar()</span><br><span class="line">plt.grid(<span class="literal">False</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://www.tensorflow.org/tutorials/keras/classification_files/output_m4VEw8Ud9Quh_0.png?hl=zh_cn" class="lazyload" data-srcset="https://www.tensorflow.org/tutorials/keras/classification_files/output_m4VEw8Ud9Quh_0.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å°†åƒç´ å€¼èŒƒå›´ç¼©å°ä¸º0åˆ°1ï¼Œæ‰€ä»¥å°†åƒç´ å€¼éƒ½é™¤ä»¥255ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train_images = train_images / <span class="number">255.0</span></span><br><span class="line">test_images = test_images / <span class="number">255.0</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ï¼Œå…ˆå°†è®­ç»ƒé›†çš„å‰25ä¸ªå›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ï¼Œå¹¶ä¸”åœ¨å›¾ç‰‡ä¸‹é¢å±•ç¤ºåˆ†ç±»åã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">25</span>):</span><br><span class="line">    plt.subplot(<span class="number">5</span>,<span class="number">5</span>,i+<span class="number">1</span>)</span><br><span class="line">    plt.xticks([])</span><br><span class="line">    plt.yticks([])</span><br><span class="line">    plt.grid(<span class="literal">False</span>)</span><br><span class="line">    plt.imshow(train_images[i], cmap=plt.cm.binary)</span><br><span class="line">    plt.xlabel(class_names[train_labels[i]])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://www.tensorflow.org/tutorials/keras/classification_files/output_oZTImqg_CaW1_0.png?hl=zh_cn" class="lazyload" data-srcset="https://www.tensorflow.org/tutorials/keras/classification_files/output_oZTImqg_CaW1_0.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>å»ºç«‹æ¨¡å‹</strong></p><p>å»ºç«‹ç¥ç»ç½‘ç»œéœ€è¦é…ç½®æ¨¡å‹å±‚ï¼Œç„¶åç¼–è¯‘æ¨¡å‹ã€‚</p><p><strong>è®¾ç½®å±‚</strong></p><p>åŸºæœ¬çš„ç¥ç»ç½‘ç»œæ¨¡å—æ˜¯å±‚ã€‚å±‚ä¼šä»å®ƒä»¬è·å–çš„æ•°æ®é‡Œæå–å›¾åƒã€‚å®ƒä»¬å¸Œæœ›ä»è¿™äº›å›¾åƒé‡Œè·å–æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p><p>å¤§å¤šæ•°æ·±åº¦å­¦ä¹ éƒ½æ˜¯ç®€å•å±‚ç»„åˆåœ¨ä¸€èµ·ã€‚å¤§å¤šæ•°å±‚æ¯”å¦‚<a href="https://www.tensorflow.org/api_docs/python/tf/keras/layers/Dense?hl=zh_cn"><code>tf.keras.layers.Dense</code></a>ï¼Œæ‹¥æœ‰åœ¨è®­ç»ƒæ—¶å­¦ä¹ åˆ°çš„å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model = keras.Sequential([    keras.layers.Flatten(input_shape=(<span class="number">28</span>, <span class="number">28</span>)),    keras.layers.Dense(<span class="number">128</span>, activation=<span class="string">&#x27;relu&#x27;</span>),    keras.layers.Dense(<span class="number">10</span>)])</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç½‘ç»œçš„ç¬¬ä¸€å±‚ï¼Œtf.keras.layers.Flattenï¼Œå°†å›¾åƒçš„æ ¼å¼ä»äºŒç»´æ•°ç»„(28 * 28åƒç´ )è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„(28 * 28 = 784åƒç´ )ã€‚å¯ä»¥å°†è¿™ä¸€å±‚çœ‹ä½œæ˜¯å°†å›¾åƒä¸­çš„åƒç´ è¡Œå±•å¼€å¹¶æ’åˆ—èµ·æ¥ã€‚è¿™ä¸€å±‚æ²¡æœ‰å‚æ•°éœ€è¦å­¦ä¹ ;å®ƒåªæ˜¯é‡æ–°æ ¼å¼åŒ–æ•°æ®ã€‚</p><p>åƒç´ è¢«æ‰å¹³åŒ–åï¼Œç½‘ç»œç”±ä¸¤ä¸ªtf.keras.å±‚ç»„æˆã€‚å®ƒä»¬æ˜¯ç´§å¯†ç›¸è¿æˆ–å®Œå…¨ç›¸è¿çš„ç¥ç»å±‚ã€‚ç¬¬ä¸€è‡´å¯†å±‚æœ‰128ä¸ªèŠ‚ç‚¹(æˆ–ç¥ç»å…ƒ)ã€‚ç¬¬äºŒä¸ª(ä¹Ÿæ˜¯æœ€åä¸€ä¸ª)å±‚è¿”å›é•¿åº¦ä¸º10çš„logitsæ•°ç»„ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸€ä¸ªè¯„ä»·å€¼ï¼Œè¡¨ç¤ºå½“å‰å›¾åƒå±äºè¿™10ä¸ªç±»ä¸­çš„ä¸€ä¸ªã€‚</p><p><strong>ç¼–è¯‘æ¨¡å‹</strong></p><p>åœ¨å‡†å¤‡è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œä¸€äº›å…¶ä»–è®¾ç½®ã€‚ è¿™äº›æ˜¯åœ¨æ¨¡å‹çš„ç¼–è¯‘æ­¥éª¤ä¸­æ·»åŠ çš„ï¼š</p><ul><li>Loss functionâ€”â€”è¿™å¯ä»¥è¡¡é‡æ¨¡å‹åœ¨åŸ¹è®­æœŸé—´çš„å‡†ç¡®æ€§ã€‚æ‚¨å¸Œæœ›æœ€å°åŒ–è¿™ä¸ªå‡½æ•°ï¼Œä»¥ä¾¿å°†æ¨¡å‹â€œå¼•å¯¼â€åˆ°æ­£ç¡®çš„æ–¹å‘ã€‚</li><li>Optimizerâ€”â€”è¿™å°±æ˜¯æ¨¡å‹å¦‚ä½•æ ¹æ®å®ƒçœ‹åˆ°çš„æ•°æ®å’Œå®ƒçš„æŸå¤±å‡½æ•°è¿›è¡Œæ›´æ–°ã€‚</li><li>Metricsâ€”â€”ç”¨äºç›‘æ§åŸ¹è®­å’Œæµ‹è¯•æ­¥éª¤ã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº†å‡†ç¡®ç‡ï¼Œå³æ­£ç¡®åˆ†ç±»çš„å›¾åƒçš„æ¯”ä¾‹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.compile(optimizer=<span class="string">&#x27;adam&#x27;</span>,              loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=<span class="literal">True</span>),              metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br></pre></td></tr></table></figure><p><strong>è®­ç»ƒæ¨¡å‹</strong></p><p>è®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>è¾“å…¥è®­ç»ƒæ•°æ®åˆ°æ¨¡å‹ä¸­ã€‚</li><li>æ¨¡å‹å­¦ä¹ å…³è”å›¾åƒå’Œåˆ†ç±»æ ‡ç­¾ã€‚</li><li>è®©æ¨¡å‹é¢„æµ‹æµ‹è¯•é›†ã€‚</li><li>éªŒè¯é¢„æµ‹ç»“æœæ˜¯å¦å’Œæ ‡ç­¾åŒ¹é…ã€‚</li></ol><p><strong>è¾“å…¥æ•°æ®åˆ°æ¨¡å‹ä¸­</strong></p><p>åˆ©ç”¨<code>model.fit</code>æ–¹æ³•ã€‚ä»–èƒ½å°†æ¨¡å‹ç”¨äºæ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fit(train_images, train_labels, epochs=<span class="number">10</span>)</span><br></pre></td></tr></table></figure><blockquote><p>Epoch 1/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.4978 - accuracy: 0.8248<br>Epoch 2/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.3767 - accuracy: 0.8637<br>Epoch 3/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.3397 - accuracy: 0.8759<br>Epoch 4/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.3138 - accuracy: 0.8854<br>Epoch 5/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.2948 - accuracy: 0.8914<br>Epoch 6/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.2803 - accuracy: 0.8958<br>Epoch 7/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.2678 - accuracy: 0.9006<br>Epoch 8/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.2590 - accuracy: 0.9043<br>Epoch 9/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.2464 - accuracy: 0.9078<br>Epoch 10/10<br>1875/1875 [==============================] - 3s 2ms/step - loss: 0.2402 - accuracy: 0.9099</p><p>&lt;tensorflow.python.keras.callbacks.History at 0x7fe472eff4a8&gt;</p></blockquote><p><strong>è¯„ä¼°å‡†ç¡®ç‡</strong></p><p>æ¯”è¾ƒæ¨¡å‹åœ¨æµ‹è¯•æ•°æ®é›†ä¸Šçš„è¡¨ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_loss, test_acc = model.evaluate(test_images,  test_labels, verbose=<span class="number">2</span>)</span><br><span class="line">print(<span class="string">&#x27;\nTest accuracy:&#x27;</span>, test_acc)</span><br></pre></td></tr></table></figure><blockquote><p>313/313 - 1s - loss: 0.3382 - accuracy: 0.8840 </p><p>Test accuracy: 0.8840000033378601</p></blockquote><p>ç»“æœæ˜¯æµ‹è¯•æ•°æ®é›†ä¸Šçš„å‡†ç¡®æ€§æ¯”è®­ç»ƒæ•°æ®é›†ä¸Šçš„å‡†ç¡®æ€§ç¨ä½ã€‚è®­ç»ƒå‡†ç¡®åº¦å’Œæµ‹è¯•å‡†ç¡®åº¦ä¹‹é—´çš„å·®è·ä»£è¡¨è¿‡æ‹Ÿåˆã€‚å½“æœºå™¨å­¦ä¹ æ¨¡å‹åœ¨æ–°çš„ã€ä»¥å‰æ²¡æœ‰çœ‹åˆ°çš„è¾“å…¥ä¸Šçš„è¡¨ç°ä¸å¦‚åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„è¡¨ç°æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿‡æ‹Ÿåˆã€‚è¿‡åº¦æ‹Ÿåˆçš„æ¨¡å‹â€œè®°å¿†â€äº†è®­ç»ƒæ•°æ®é›†ä¸­çš„å™ªéŸ³å’Œç»†èŠ‚ï¼Œä»è€Œå¯¹æ¨¡å‹åœ¨æ–°æ•°æ®ä¸Šçš„æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ä»¥ä¸‹å†…å®¹</p><ul><li><a href="https://www.tensorflow.org/tutorials/keras/overfit_and_underfit?hl=zh_cn#demonstrate_overfitting">è¯æ˜è¿‡åº¦æ‹Ÿåˆ</a></li><li><a href="https://www.tensorflow.org/tutorials/keras/overfit_and_underfit?hl=zh_cn#strategies_to_prevent_overfitting">é˜²æ­¢è¿‡åº¦æ‹Ÿåˆç­–ç•¥</a></li></ul><p><strong>é¢„æµ‹ç»“æœ</strong></p><p>é€šè¿‡è®­ç»ƒæ¨¡å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥é¢„æµ‹æŸäº›å›¾åƒã€‚ æ¨¡å‹çš„çº¿æ€§è¾“å‡ºï¼Œlogitsã€‚ é™„åŠ ä¸€ä¸ªsoftmaxå±‚ä»¥å°†logitè½¬æ¢ä¸ºæ›´å®¹æ˜“è§£é‡Šçš„æ¦‚ç‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">probability_model = tf.keras.Sequential([model,                                          tf.keras.layers.Softmax()])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predictions = probability_model.predict(test_images)</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæ¨¡å‹å·²ç»é¢„æµ‹äº†æµ‹è¯•é›†ä¸­æ¯ä¸ªå›¾åƒçš„æ ‡ç­¾ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç¬¬ä¸€ä¸ªé¢„æµ‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predictions[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><blockquote><p>array([1.2275562e-07, 8.9534730e-08, 7.6224147e-09, 1.9726743e-08,<br>       6.1515345e-07, 4.6329503e-03, 4.1164008e-06, 1.5043605e-02,<br>       2.8817641e-07, 9.8031825e-01], dtype=float32)</p></blockquote><p>é¢„æµ‹æ˜¯ä¸€ä¸ªåŒ…å«10ä¸ªæ•°å­—çš„æ•°ç»„ã€‚å®ƒä»¬ä»£è¡¨äº†æ¨¡å‹çš„â€œè‡ªä¿¡â€ï¼Œå³å›¾åƒå¯¹åº”ç€10ç§ä¸åŒçš„æœè£…ã€‚ä½ å¯ä»¥çœ‹åˆ°å“ªä¸ªæ ‡ç­¾çš„è‡ªä¿¡åº¦æœ€é«˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.argmax(predictions[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><blockquote><p>9</p></blockquote><p>å› æ­¤ï¼Œæ¨¡å‹æœ€è‡ªä¿¡çš„è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªè¸é´ï¼Œæˆ–<code>class_names[9]</code>ã€‚æ£€æŸ¥æµ‹è¯•æ ‡ç­¾è¡¨æ˜è¿™ä¸ªåˆ†ç±»æ˜¯æ­£ç¡®çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_labels[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><blockquote><p>9</p></blockquote><p>ç»˜åˆ¶å›¾è¡¨ï¼Œçœ‹çœ‹10ä¸ªç±»é¢„æµ‹çš„å…¨éƒ¨é›†åˆã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_image</span>(<span class="params">i, predictions_array, true_label, img</span>):</span></span><br><span class="line">  predictions_array, true_label, img = predictions_array, true_label[i], img[i]</span><br><span class="line">  plt.grid(<span class="literal">False</span>)</span><br><span class="line">  plt.xticks([])</span><br><span class="line">  plt.yticks([])</span><br><span class="line"></span><br><span class="line">  plt.imshow(img, cmap=plt.cm.binary)</span><br><span class="line"></span><br><span class="line">  predicted_label = np.argmax(predictions_array)</span><br><span class="line">  <span class="keyword">if</span> predicted_label == true_label:</span><br><span class="line">    color = <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    color = <span class="string">&#x27;red&#x27;</span></span><br><span class="line"></span><br><span class="line">  plt.xlabel(<span class="string">&quot;&#123;&#125; &#123;:2.0f&#125;% (&#123;&#125;)&quot;</span>.format(class_names[predicted_label],</span><br><span class="line">                                <span class="number">100</span>*np.max(predictions_array),</span><br><span class="line">                                class_names[true_label]),</span><br><span class="line">                                color=color)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_value_array</span>(<span class="params">i, predictions_array, true_label</span>):</span></span><br><span class="line">  predictions_array, true_label = predictions_array, true_label[i]</span><br><span class="line">  plt.grid(<span class="literal">False</span>)</span><br><span class="line">  plt.xticks(range(<span class="number">10</span>))</span><br><span class="line">  plt.yticks([])</span><br><span class="line">  thisplot = plt.bar(range(<span class="number">10</span>), predictions_array, color=<span class="string">&quot;#777777&quot;</span>)</span><br><span class="line">  plt.ylim([<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">  predicted_label = np.argmax(predictions_array)</span><br><span class="line"></span><br><span class="line">  thisplot[predicted_label].set_color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">  thisplot[true_label].set_color(<span class="string">&#x27;blue&#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>éªŒè¯é¢„æµ‹</strong></p><p>é€šè¿‡è®­ç»ƒæ¨¡å‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥é¢„æµ‹æŸäº›å›¾åƒã€‚</p><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç¬¬0å¼ å›¾ç‰‡ï¼Œé¢„æµ‹å’Œé¢„æµ‹æ•°ç»„ã€‚ æ­£ç¡®çš„é¢„æµ‹æ ‡ç­¾ä¸ºè“è‰²ï¼Œé”™è¯¯çš„é¢„æµ‹æ ‡ç­¾ä¸ºçº¢è‰²ã€‚ è¯¥æ•°å­—ç»™å‡ºäº†é¢„æµ‹æ ‡ç­¾çš„ç™¾åˆ†æ¯”ï¼ˆæ»¡åˆ†ä¸º100ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line">plt.figure(figsize=(<span class="number">6</span>,<span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">plot_image(i, predictions[i], test_labels, test_images)</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">plot_value_array(i, predictions[i],  test_labels)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://www.tensorflow.org/tutorials/keras/classification_files/output_HV5jw-5HwSmO_0.png?hl=zh_cn" class="lazyload" data-srcset="https://www.tensorflow.org/tutorials/keras/classification_files/output_HV5jw-5HwSmO_0.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">12</span></span><br><span class="line">plt.figure(figsize=(<span class="number">6</span>,<span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">plot_image(i, predictions[i], test_labels, test_images)</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">plot_value_array(i, predictions[i],  test_labels)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://www.tensorflow.org/tutorials/keras/classification_files/output_Ko-uzOufSCSe_0.png?hl=zh_cn" class="lazyload" data-srcset="https://www.tensorflow.org/tutorials/keras/classification_files/output_Ko-uzOufSCSe_0.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>è®©æˆ‘ä»¬ç»˜åˆ¶ä¸€äº›å¸¦æœ‰é¢„æµ‹çš„å›¾åƒã€‚ è¯·æ³¨æ„ï¼Œå³ä½¿éå¸¸è‡ªä¿¡ï¼Œè¯¥æ¨¡å‹ä¹Ÿå¯èƒ½æ˜¯é”™è¯¯çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Plot the first X test images, their predicted labels, and the true labels.</span></span><br><span class="line"><span class="comment"># Color correct predictions in blue and incorrect predictions in red.</span></span><br><span class="line">num_rows = <span class="number">5</span></span><br><span class="line">num_cols = <span class="number">3</span></span><br><span class="line">num_images = num_rows*num_cols</span><br><span class="line">plt.figure(figsize=(<span class="number">2</span>*<span class="number">2</span>*num_cols, <span class="number">2</span>*num_rows))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num_images):</span><br><span class="line">  plt.subplot(num_rows, <span class="number">2</span>*num_cols, <span class="number">2</span>*i+<span class="number">1</span>)</span><br><span class="line">  plot_image(i, predictions[i], test_labels, test_images)</span><br><span class="line">  plt.subplot(num_rows, <span class="number">2</span>*num_cols, <span class="number">2</span>*i+<span class="number">2</span>)</span><br><span class="line">  plot_value_array(i, predictions[i], test_labels)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://www.tensorflow.org/tutorials/keras/classification_files/output_hQlnbqaw2Qu__0.png?hl=zh_cn" class="lazyload" data-srcset="https://www.tensorflow.org/tutorials/keras/classification_files/output_hQlnbqaw2Qu__0.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>ä½¿ç”¨è®­ç»ƒçš„æ¨¡å‹</strong></p><p>æœ€åï¼Œåˆ©ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹å•å¹…å›¾åƒè¿›è¡Œé¢„æµ‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Grab an image from the test dataset.</span></span><br><span class="line">img = test_images[<span class="number">1</span>]</span><br><span class="line">print(img.shape)</span><br></pre></td></tr></table></figure><blockquote><p>(28, 28)</p></blockquote><p><code>tf.keras</code>æ¨¡å‹ç»è¿‡ä¼˜åŒ–ï¼Œå¯ä»¥ç«‹å³å¯¹ä¸€æ‰¹æˆ–ä¸€ç»„ç¤ºä¾‹è¿›è¡Œé¢„æµ‹ã€‚å› æ­¤ï¼Œå³ä½¿ä½¿ç”¨çš„æ˜¯å•ä¸ªå›¾åƒï¼Œä¹Ÿéœ€è¦å°†å…¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Add the image to a batch where it&#x27;s the only member.</span></span><br><span class="line">img = (np.expand_dims(img,<span class="number">0</span>))</span><br><span class="line">print(img.shape)</span><br></pre></td></tr></table></figure><blockquote><p>(1, 28, 28)</p></blockquote><p>ç°åœ¨ä¸ºè¿™ä¸ªå›¾åƒé¢„æµ‹æ­£ç¡®çš„æ ‡ç­¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predictions_single = probability_model.predict(img)</span><br><span class="line"></span><br><span class="line">print(predictions_single)</span><br></pre></td></tr></table></figure><blockquote><p>[[2.3256284e-06 5.5768194e-13 9.9955302e-01 3.3701731e-13 4.3444714e-04<br>  3.7890427e-17 1.0105057e-05 4.5671220e-20 8.4883814e-14 9.5599025e-18]]</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plot_value_array(<span class="number">1</span>, predictions_single[<span class="number">0</span>], test_labels)_ = plt.xticks(range(<span class="number">10</span>), class_names, rotation=<span class="number">45</span>)</span><br></pre></td></tr></table></figure><p><img src="https://www.tensorflow.org/tutorials/keras/classification_files/output_6Ai-cpLjO-3A_0.png?hl=zh_cn" class="lazyload" data-srcset="https://www.tensorflow.org/tutorials/keras/classification_files/output_6Ai-cpLjO-3A_0.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>keras.Model.predictè¿”å›åˆ—è¡¨çš„åˆ—è¡¨-æ•°æ®æ‰¹æ¬¡ä¸­æ¯ä¸ªå›¾åƒçš„åˆ—è¡¨ã€‚ æ‰¹é‡è·å–æˆ‘ä»¬ï¼ˆå”¯ä¸€ï¼‰å›¾åƒçš„é¢„æµ‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.argmax(predictions_single[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><blockquote><p>2</p></blockquote><p>è¿™ä¸ªæ¨¡å‹é¢„æµ‹äº†ä¸€ä¸ªæ ‡ç­¾ã€‚</p><p>æœ¬æŒ‡å—ä½¿ç”¨Fashion MNISTæ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†åŒ…å«10ä¸ªç±»åˆ«ä¸­çš„70,000å¼ ç°åº¦å›¾åƒã€‚è¿™äº›å›¾åƒä»¥ä½åˆ†è¾¨ç‡(28Ã—28åƒç´ )æ˜¾ç¤ºäº†è¡£æœçš„å•ä¸ªç‰©å“ï¼Œå¦‚å›¾æ‰€ç¤º</p><p><img src="https://tensorflow.org/images/fashion-mnist-sprite.png?hl=zh_cn" class="lazyload" data-srcset="https://tensorflow.org/images/fashion-mnist-sprite.png?hl=zh_cn" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>Fashion MNISTæ—¨åœ¨æ›¿ä»£ç»å…¸MNISTæ•°æ®é›†ï¼Œé€šå¸¸è¢«ç”¨ä½œè®¡ç®—æœºè§†è§‰æœºå™¨å­¦ä¹ ç¨‹åºçš„â€œ Helloï¼ŒWorldâ€ã€‚ MNISTæ•°æ®é›†åŒ…å«æ‰‹å†™æ•°å­—ï¼ˆ0ã€1ã€2ç­‰ï¼‰çš„å›¾åƒï¼Œæ ¼å¼ä¸æ‚¨å°†åœ¨æ­¤å¤„ä½¿ç”¨çš„è¡£æœçš„æ ¼å¼ç›¸åŒã€‚</p><p>æœ¬æŒ‡å—å°†Fashion MNISTç”¨äºå¤šç§ç”¨é€”ï¼Œå¹¶ä¸”å› ä¸ºå®ƒæ¯”å¸¸è§„MNISTæ›´å…·æŒ‘æˆ˜æ€§ã€‚ ä¸¤ä¸ªæ•°æ®é›†éƒ½ç›¸å¯¹è¾ƒå°ï¼Œç”¨äºéªŒè¯ç®—æ³•æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œã€‚ å®ƒä»¬æ˜¯æµ‹è¯•å’Œè°ƒè¯•ä»£ç çš„è‰¯å¥½èµ·ç‚¹ã€‚</p><p>åœ¨è¿™é‡Œï¼Œä½¿ç”¨60,000å¼ å›¾åƒæ¥è®­ç»ƒç½‘ç»œï¼Œä½¿ç”¨10,000å¼ å›¾åƒæ¥è¯„ä¼°ç½‘ç»œå­¦ä¹ å¯¹å›¾åƒè¿›è¡Œåˆ†ç±»çš„å‡†ç¡®ç¨‹åº¦ã€‚ æ‚¨å¯ä»¥ç›´æ¥ä»TensorFlowè®¿é—®Fashion MNISTã€‚ ç›´æ¥ä»TensorFlowå¯¼å…¥å’ŒåŠ è½½Fashion MNISTæ•°æ®ï¼š</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TensorFlow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyTorchå­¦ä¹ ç¬”è®°</title>
      <link href="/2020/06/16/PyTorch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/06/16/PyTorch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>PyTorchçš„ç”¨å¤„ï¼šGPUåŠ é€Ÿã€æ±‚å¯¼ã€å¸¸ç”¨API</p><h2 id="P1ï¼šå¼€å‘ç¯å¢ƒ"><a href="#P1ï¼šå¼€å‘ç¯å¢ƒ" class="headerlink" title="P1ï¼šå¼€å‘ç¯å¢ƒ"></a>P1ï¼šå¼€å‘ç¯å¢ƒ</h2><blockquote><ul><li><p>Python 3.7+Anaconda 5.3.1</p></li><li><p>CUDA 10.0</p></li><li><p>Pycharm Community</p></li></ul></blockquote><ol><li>ä¸‹è½½å®‰è£…Anacondaï¼Œå‹¾é€‰â€œæ·»åŠ anaåˆ°è·¯å¾„ç¯å¢ƒâ€</li></ol><p>cmdè¾“å…¥ï¼ŒæŸ¥çœ‹anaå®‰è£…çš„åŒ…ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda list</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£…nvidia CUDA</li></ol><p>ç¡®ä¿æœ‰nvidiaçš„GPU</p><p>é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œç¡®ä¿CUDAçš„binç›®å½•åœ¨<code>PATH</code>è¡Œé‡Œï¼Œåœ¨cmdé‡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -v</span><br></pre></td></tr></table></figure><ol start="3"><li><p>pytorch.orgé‡Œä¸‹è½½pytorch</p></li><li><p>ä¸‹è½½pycharmï¼Œè¿™æ˜¯ä¸€ä¸ªpythonçš„IDE</p></li></ol><p>é…ç½®ç¼–è¯‘å™¨ä¸ºPython</p><h2 id="P2ï¼šæ¢¯åº¦ä¸‹é™ç®—æ³•"><a href="#P2ï¼šæ¢¯åº¦ä¸‹é™ç®—æ³•" class="headerlink" title="P2ï¼šæ¢¯åº¦ä¸‹é™ç®—æ³•"></a>P2ï¼šæ¢¯åº¦ä¸‹é™ç®—æ³•</h2><p><img src="https://ae01.alicdn.com/kf/H33b92bc02a41476cb6c9d73410ecf1c4O.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H33b92bc02a41476cb6c9d73410ecf1c4O.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ±‚è§£çº¿æ€§æ–¹ç¨‹ï¼Œå¦‚æœå­˜åœ¨å™ªå£°ï¼Ÿ</p><p>æ±‚å–è¿‘ä¼¼å€¼w,bã€‚</p><p><img src="https://ae01.alicdn.com/kf/H3b83f138e0734623a1f16fe56ecb2629s.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H3b83f138e0734623a1f16fe56ecb2629s.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å‡è®¾é‡‡æ ·æ•°æ®è¾“å…¥xå’Œç†è®ºçœŸå®è¾“å‡ºyæ»¡è¶³ y=wx+bçš„çº¿æ€§å›å½’å‡½æ•°ã€‚Linear Regression</p><p>é‚£ä¹ˆ<br>$$<br>loss\ function=\sum(wx+b-y)^2<br>$$</p><blockquote><p>æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼šæœ‰è‹¥å¹²ä¸ªwbä¸åŒçš„å‡½æ•°y=wx+bï¼Œè¿™äº›å‡½æ•°èƒ½å¤Ÿå°†é‡‡æ ·è¾“å…¥xå¾—å‡ºä¸€ä¸ªè‹¥å¹²ä¸ªè¾“å‡ºå€¼w1x+b1ã€w2x+b2ç­‰ç­‰ï¼Œè¿™ä¸ªè¾“å‡ºå€¼wx+bä¸ç†è®ºè¾“å‡ºå€¼yå­˜åœ¨è¯¯å·®ï¼Œäºæ˜¯æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªloss functionæ¥è¡¨ç¤ºwå’Œbä¸åŒæ—¶ï¼Œwx+bä¸çœŸå®å€¼yä¹‹é—´çš„è¯¯å·®ã€‚é€šè¿‡å¯¹loss functionåšè¿ç®—èƒ½æ‰¾åˆ°ä¸€ç»„wå’Œbï¼Œè¿™ç»„wå’Œbå¯ä»¥ä½¿wx+bæœ€æ¥è¿‘yã€‚</p><p>å¯¹loss functionçš„è¿ç®—æ–¹å¼å«æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œå°†è‹¥å¹²ä¸ªé‡‡æ ·è¾“å…¥å’Œç†è®ºè¾“å‡ºå¸¦å…¥loss functionï¼Œå½¢æˆä¸€ä¸ªè¯¸å¦‚L(w,b)çš„æ–¹ç¨‹ã€‚è¦æ‰¾ä½¿å¾—L(w,b)æœ€å°çš„wå’Œbã€‚</p></blockquote><h2 id="P3ï¼šæ¢¯åº¦â…¡"><a href="#P3ï¼šæ¢¯åº¦â…¡" class="headerlink" title="P3ï¼šæ¢¯åº¦â…¡"></a>P3ï¼šæ¢¯åº¦â…¡</h2><p>å¯¹çº¿æ€§å›å½’y=wx+b</p><p>è®¡ç®—loss functionï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_error_for_line_given_points</span>(<span class="params">b,w,points</span>)ï¼š</span></span><br><span class="line">totalError=0</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(points)):</span><br><span class="line">        x = points[i,<span class="number">0</span>]</span><br><span class="line">        y = points[i,<span class="number">1</span>]</span><br><span class="line">        totalError += (y-(w*x+b))**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> totalError / float(len(points))</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä¸Šä¸€ä¸ªwå’Œbå€¼ï¼Œè®¡ç®—æ¢¯åº¦ï¼Œè¿”å›ä¸‹ä¸€ä¸ªwå’Œbï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step_gradient</span>(<span class="params">b_current,w_current,points,learningRate</span>):</span></span><br><span class="line">    b_gradient = <span class="number">0</span></span><br><span class="line">    w_gradient = <span class="number">0</span></span><br><span class="line">    N = float(len(points))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(points)):</span><br><span class="line">        x = points[i,<span class="number">0</span>]</span><br><span class="line">        y = points[i,<span class="number">1</span>]</span><br><span class="line">        b_gradient += -(<span class="number">2</span>/N) * (y - ((w_current*x) + b_current))</span><br><span class="line">        w_gradient += -(<span class="number">2</span>/N) * x * (y-((w_current*x)+b_current))</span><br><span class="line">    new_b = b_current - (learningRate * b_gradient)</span><br><span class="line">    new_w = w_current - (learningRate * w_gradient)</span><br><span class="line">    <span class="keyword">return</span> [new_b,new_w]</span><br></pre></td></tr></table></figure><p>è®¡ç®—æœ€ä¼˜è§£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradient_descent_runner</span>(<span class="params">points,starting_b,starting_w,learning_rate,num_iterations</span>):</span></span><br><span class="line">    b = starting_b</span><br><span class="line">    w = starting_w</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num_iterations):</span><br><span class="line">        b,w = step_gradient(b,w,np.array(points),learning_rate)</span><br><span class="line">    <span class="keyword">return</span> [b,w]</span><br></pre></td></tr></table></figure><h2 id="P4ï¼šæ‰‹å†™æ•°å­—é—®é¢˜"><a href="#P4ï¼šæ‰‹å†™æ•°å­—é—®é¢˜" class="headerlink" title="P4ï¼šæ‰‹å†™æ•°å­—é—®é¢˜"></a>P4ï¼šæ‰‹å†™æ•°å­—é—®é¢˜</h2><p>æ‰‹å†™0~9ï¼Œè¾“å‡ºæ‰‹å†™æ•°å­—</p><h2 id="P5ï¼šPytorchåŸºæœ¬æ•°æ®ç±»å‹"><a href="#P5ï¼šPytorchåŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="P5ï¼šPytorchåŸºæœ¬æ•°æ®ç±»å‹"></a>P5ï¼šPytorchåŸºæœ¬æ•°æ®ç±»å‹</h2><p>Int: IntTensor of size()</p><p>float: FloatTensor of size()</p><p>Int array: IntTensor of size [d1,d2â€¦â€¦]</p><blockquote><p>æ²¡æœ‰Stringç±»å‹ï¼Œåªèƒ½ç”¨å‘é‡æ¥è¡¨ç¤º[0,0,1,0â€¦â€¦]</p></blockquote><hr><h2 id="P6ï¼šå¼ é‡-Tensor"><a href="#P6ï¼šå¼ é‡-Tensor" class="headerlink" title="P6ï¼šå¼ é‡ Tensor"></a>P6ï¼šå¼ é‡ Tensor</h2><p>Tensoræˆ–è€…Numpyçš„ndarrays</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"><span class="keyword">import</span> torch</span><br></pre></td></tr></table></figure><p>æ„é€ ç©ºçŸ©é˜µ,äº”è¡Œä¸‰åˆ—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = torch.empty(<span class="number">5</span>,<span class="number">3</span>)</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><blockquote><p>tensor(1.00000e-04 *<br>       [[-0.0000,  0.0000,  1.5135],<br>        [ 0.0000,  0.0000,  0.0000],<br>        [ 0.0000,  0.0000,  0.0000],<br>        [ 0.0000,  0.0000,  0.0000],<br>        [ 0.0000,  0.0000,  0.0000]])</p></blockquote><p>æ„é€ ä¸€ä¸ªéšæœºæ•°çŸ©é˜µï¼Œéšæœºæ•°éƒ½åœ¨0åˆ°1ä¹‹é—´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = torch.rand(<span class="number">5</span>, <span class="number">3</span>) </span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><blockquote><p>tensor([[ 0.6291,  0.2581,  0.6414],<br>        [ 0.9739,  0.8243,  0.2276],<br>        [ 0.4184,  0.1815,  0.5131],<br>        [ 0.5533,  0.5440,  0.0718],<br>        [ 0.2908,  0.1850,  0.5297]])</p></blockquote><p>æ„é€ ä¸€ä¸ªå…¨0çŸ©é˜µï¼Œå­—ç¬¦ç±»å‹ä¸ºlongã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = torch.zeros(<span class="number">5</span>, <span class="number">3</span>, dtype=torch.long)</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><blockquote><p>tensor([[ 0,  0,  0],<br>        [ 0,  0,  0],<br>        [ 0,  0,  0],<br>        [ 0,  0,  0],<br>        [ 0,  0,  0]])</p></blockquote><p>ç›´æ¥è¾“å…¥æ•°æ®åˆ›å»ºä¸€ä¸ªå¼ é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = torch.tensor([<span class="number">5.5</span>, <span class="number">3</span>])</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure><blockquote><p>tensor([ 5.5000,  3.0000])</p></blockquote><p>åˆ›å»ºä¸€ä¸ªå¼ é‡ï¼ŒåŸºäºå·²å­˜åœ¨çš„å¼ é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x = x.new_ones(<span class="number">5</span>, <span class="number">3</span>, dtype=torch.double)    </span><br><span class="line"></span><br><span class="line"><span class="comment"># new_* methods take in sizes</span></span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line">x = torch.randn_like(x, dtype=torch.float)  </span><br><span class="line"></span><br><span class="line"><span class="comment"># override dtype!</span></span><br><span class="line">print(x)                                    </span><br><span class="line"></span><br><span class="line"><span class="comment"># result has the same size</span></span><br></pre></td></tr></table></figure><blockquote><p>tensor([[ 1.,  1.,  1.],<br>        [ 1.,  1.,  1.],<br>        [ 1.,  1.,  1.],<br>        [ 1.,  1.,  1.],<br>        [ 1.,  1.,  1.]], dtype=torch.float64)<br>tensor([[-0.2183,  0.4477, -0.4053],<br>        [ 1.7353, -0.0048,  1.2177],<br>        [-1.1111,  1.0878,  0.9722],<br>        [-0.7771, -0.2174,  0.0412],<br>        [-2.1750,  1.3609, -0.3322]])</p></blockquote><p>è·å–ç»´åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(x.size())</span><br></pre></td></tr></table></figure><blockquote><p>torch.Size([5, 3])</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> PyTorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSRè´Ÿè½½å‡è¡¡å®ç°è‡ªåŠ¨åˆ‡æ¢ç«¯å£</title>
      <link href="/2020/06/16/SSR%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E7%AB%AF%E5%8F%A3/"/>
      <url>/2020/06/16/SSR%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šå‡†å¤‡å·¥ä½œ"><a href="#1ï¼šå‡†å¤‡å·¥ä½œ" class="headerlink" title="1ï¼šå‡†å¤‡å·¥ä½œ"></a>1ï¼šå‡†å¤‡å·¥ä½œ</h1><ul><li>ä¸€å°å›½å†…æœåŠ¡å™¨ã€‚</li></ul><p>å›½å†…æœåŠ¡å™¨å¯ä»¥ç›‘æ§åˆ°å›½å¤–çš„æœåŠ¡å™¨ipæˆ–è€…ç«¯å£æ˜¯å¦è¢«å°é”ã€‚å¦‚æœä½ ç”¨å›½å¤–çš„æœåŠ¡å™¨ï¼Œä¹Ÿèƒ½åšåˆ°è´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯å¦‚æœè¿™å°æœåŠ¡å™¨è¢«å°é”ï¼Œé‚£SSRè¿˜æ˜¯ä¼šæ–­å¼€è¿æ¥ã€‚å›½å†…æœåŠ¡å™¨ä¸ä¼šè¢«å°é”ã€‚</p><ul><li>SSRæ·»åŠ å¤šä¸ªç«¯å£æˆ–è€…å¤šå°SSRæœåŠ¡å™¨</li></ul><p>ä¿®æ”¹SSRé…ç½®æ–‡ä»¶ï¼Œç›‘å¬å¤šä¸ªç«¯å£ã€Š<a href="https://ssr.tools/194">SSRæ·»åŠ å¤šç”¨æˆ·å¤šç«¯å£æ•™ç¨‹</a>ã€‹ï¼Œæˆ‘ç›‘å¬çš„æ˜¯34567ã€34568ã€34569ã€‚</p><blockquote><p>æ³¨æ„ï¼šä¸åŒç«¯å£æˆ–è€…IPçš„å¯†ç å’Œåè®®ç­‰ç­‰éƒ½å¿…é¡»ç›¸åŒã€‚</p></blockquote><h1 id="2ï¼šhaproxyä¸‹è½½å’Œé…ç½®"><a href="#2ï¼šhaproxyä¸‹è½½å’Œé…ç½®" class="headerlink" title="2ï¼šhaproxyä¸‹è½½å’Œé…ç½®"></a>2ï¼šhaproxyä¸‹è½½å’Œé…ç½®</h1><p>åœ¨Ubuntuä¸Šä¸‹è½½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get -y install haproxy</span><br></pre></td></tr></table></figure><p>åœ¨centosä¸Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install haproxy</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•åï¼Œæ‰“å¼€haproxyé…ç½®æ–‡ä»¶<code>/etc/haproxy/haproxy.cfg</code>ï¼Œä¿®æ”¹é…ç½®ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">global</span><br><span class="line">    log &#x2F;dev&#x2F;log local0</span><br><span class="line">    log &#x2F;dev&#x2F;log local1 notice</span><br><span class="line">    user root</span><br><span class="line">    group root</span><br><span class="line">    daemon</span><br><span class="line"></span><br><span class="line">defaults</span><br><span class="line">    log global</span><br><span class="line">    mode tcp</span><br><span class="line">    timeout connect 5s</span><br><span class="line">    timeout client 5s</span><br><span class="line">    timeout server 5s</span><br><span class="line">    option      dontlognull</span><br><span class="line">    option      redispatch</span><br><span class="line">    retries     3</span><br><span class="line"></span><br><span class="line">listen status</span><br><span class="line">  bind *:1111</span><br><span class="line">  mode  http</span><br><span class="line">  stats refresh 30s</span><br><span class="line">  stats uri &#x2F;status</span><br><span class="line">  stats realm Haproxy  </span><br><span class="line">  stats auth admin:admin</span><br><span class="line">  stats hide-version</span><br><span class="line">  stats admin if TRUE</span><br><span class="line"></span><br><span class="line">frontend shadowsocks-in</span><br><span class="line">    mode tcp</span><br><span class="line">    bind *:8388</span><br><span class="line">    default_backend shadowsocks-out</span><br><span class="line"></span><br><span class="line">backend shadowsocks-out</span><br><span class="line">    mode tcp</span><br><span class="line">    option      tcp-check</span><br><span class="line">    balance roundrobin</span><br><span class="line">    server  servername1    xxxxx1.com:8088  check</span><br><span class="line">    server  servername2    xxxxx2.net:8080  check</span><br><span class="line">    server  servername3    12.34.56.78:9999  check</span><br><span class="line">    server  servername4    123.234.234.123:443  check</span><br></pre></td></tr></table></figure><p>é…ç½®åˆ†ä¸ºäº”å¤§éƒ¨åˆ†ï¼š</p><ul><li><strong>global</strong>ï¼šå…¨å±€é…ç½®ï¼Œè¿™é‡Œä¸»è¦æ˜¯é…ç½®äº†æ—¥å¿—</li><li><strong>é»˜è®¤å€¼</strong>ï¼šé»˜è®¤é…ç½®ï¼Œä¹Ÿæ˜¯ä¸€äº›åˆ†å¸ƒå¼é…ç½®</li><li><strong>å¬</strong>ï¼šç›‘å¬é…ç½®ï¼Œæˆ‘åœ¨<code>1111</code>ç«¯å£é…ç½®äº†httpç›‘æ§é¡µé¢ï¼Œè®¿é—®<code>ip:1111/status</code>ï¼Œè®¤è¯ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯<code>admin</code>ï¼Œå…·ä½“å«ä¹‰å‚è€ƒåšå®¢<a href="https://www.centos.bz/2018/01/haproxy%E7%9B%91%E6%8E%A7%E9%A1%B5%E9%9D%A2-%E5%92%8C%E9%A1%B5%E9%9D%A2%E8%AF%A6%E7%BB%86%E5%8F%82%E6%95%B0/">â€œ haproxyç›‘æ§é¡µé¢å’Œé¡µé¢è¯¦ç»†å‚æ•°â€</a></li><li><strong>frontend</strong>ï¼šå‰ç«¯é…ç½®ï¼ŒShadowsocksæ•°æ®æµä»è¿™é‡Œè¿›å…¥ï¼Œæµå‘æŒ‡å®šæ ‡é¢˜ï¼Œæ³¨æ„è¿™é‡Œçš„ç«¯å£å·ï¼Œå³ä¸ºsså®¢æˆ·ç«¯çš„è¾“å…¥ç«¯å£</li><li><strong>backend</strong>ï¼šè°ƒæ•´é…ç½®ï¼Œ<code>balance</code>æŒ‡å®šè´Ÿè½½å¹³è¡¡æ–¹å¼ï¼Œæ¯ä¸ªæœåŠ¡å™¨å†™ä¸€ä¸ªæœåŠ¡å™¨è¡Œï¼ŒæœåŠ¡å™¨æ”¯æŒåŸŸåæˆ–IPã€‚å¦‚æœä½¿ç”¨åŸŸåï¼Œé‡å¯æœåŠ¡å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒåšå®¢<a href="https://www.solarck.com/systemd-wait-network-online.html">â€œè§£å†³Haproxyç”¨Systemdå¯åŠ¨å¤±è´¥çš„é—®é¢˜â€</a>ã€‚</li></ul><h1 id="3ï¼šå…¶ä»–è´Ÿè½½å‡è¡¡æ–¹å¼"><a href="#3ï¼šå…¶ä»–è´Ÿè½½å‡è¡¡æ–¹å¼" class="headerlink" title="3ï¼šå…¶ä»–è´Ÿè½½å‡è¡¡æ–¹å¼"></a>3ï¼šå…¶ä»–è´Ÿè½½å‡è¡¡æ–¹å¼</h1><p>ã€Š<a href="https://project-gutenberg.github.io/Pincong/post/16c147e99745aee701fe6e9fee34e466/">shadowsockså€ŸåŠ©nginxå®ç°è´Ÿè½½å‡è¡¡ï¼Œè‡ªåŠ¨åˆ‡æ¢â€œé›¶â€å®•æœº</a>ã€‹ä»‹ç»äº†ä½¿ç”¨nginxçš„æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥å°è¯•ã€‚</p><p>æˆ‘ä¹‹å‰ä½¿ç”¨è¿‡apacheæ¥åšè´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯æ— æ³•è¿æ¥ï¼ŒæŸ¥çœ‹apacheæ—¥å¿—åæç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Tue Jun <span class="number">16</span> <span class="number">00</span>:<span class="number">07</span>:<span class="number">30</span><span class="variable">.557609</span> <span class="number">2020</span>] [core:debug] [pid <span class="number">25543</span>:tid <span class="number">140127116449536</span>] protocol<span class="variable">.c</span>(<span class="number">1335</span>): [client <span class="number">127</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.1</span>:<span class="number">57310</span>] AH00566: request failed: malformed request line</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯è¯·æ±‚è¡Œæ ¼å¼é”™è¯¯ã€‚åˆšå¼€å§‹ä»¥ä¸ºé…ç½®é”™äº†ã€‚é˜…è¯»apacheçš„ç›¸å…³èµ„æ–™åæ‰çŸ¥é“ã€‚</p><blockquote><p>apacheåœ¨åšè´Ÿè½½å‡è¡¡æ—¶ï¼Œåªæ˜¯å¯¹å­ç›®å½•è¿›è¡Œäº†æ›¿æ¢ï¼Œæ¯”å¦‚è¯´ï¼Œä½ ç›‘å¬1234ç«¯å£ï¼Œå°†å‘é€ç»™ä¸»æœº1234ç«¯å£çš„æ•°æ®å‡è¡¡å‘é€ç»™192.1.1.1:5678ã€192.1.1.2:6789ã€‚é‚£ä¹ˆä½ åœ¨è®¿é—®baidu.com/test æ—¶ï¼Œå°†ä½ çš„è¯·æ±‚å‘é€ç»™1234ç«¯å£ï¼Œè€Œapacheåšçš„ä»…ä»…åªæ˜¯å°†è¯·æ±‚HOSTæ›¿æ¢æ‰ã€‚çœŸå®è¯·æ±‚åœ°å€æ˜¯192.1.1.1:5678/test æˆ–è€…192.1.1.2:6789/test ã€‚ã€‚è€ŒssråŠ å¯†åçš„æ•°æ®ï¼Œæ˜¯æ²¡æœ‰httpè¯·æ±‚å¤´çš„ï¼Œè¿™ä¾¿å¯¼è‡´äº†ï¼Œæ—¥å¿—æ‰€æ˜¾ç¤ºçš„è¯·æ±‚è¡Œæ ¼å¼é”™è¯¯ã€‚æ‰€ä»¥apacheå¹¶ä¸é€‚åˆåšå•çº¯çš„æ•°æ®è½¬å‘ã€‚</p></blockquote><h1 id="4ï¼šå‚è€ƒæ–‡çŒ®"><a href="#4ï¼šå‚è€ƒæ–‡çŒ®" class="headerlink" title="4ï¼šå‚è€ƒæ–‡çŒ®"></a>4ï¼šå‚è€ƒæ–‡çŒ®</h1><p>ã€Š<a href="https://tianws.github.io/skill/2019/07/11/gfw/">ç”¨Haproxyå®ç°å¤šVPSçº¿è·¯è´Ÿè½½å‡è¡¡</a>ã€‹</p><p>ã€Š<a href="https://project-gutenberg.github.io/Pincong/post/16c147e99745aee701fe6e9fee34e466/">shadowsockså€ŸåŠ©nginxå®ç°è´Ÿè½½å‡è¡¡ï¼Œè‡ªåŠ¨åˆ‡æ¢â€œé›¶â€å®•æœº</a>ã€‹</p><p>ã€Š<a href="https://www.jianshu.com/p/a7e3199a0a09">Haproxyï¼ˆäºŒï¼‰ä¹‹è´Ÿè½½å‡è¡¡é…ç½®è¯¦è§£</a>ã€‹</p><p>ã€Š<a href="https://blog.csdn.net/sforiz/article/details/79651643">Apache æ­£å‘ä»£ç†ä¸åå‘ä»£ç†é…ç½®</a>ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SSR </tag>
            
            <tag> haproxy </tag>
            
            <tag> è´Ÿè½½å‡è¡¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨è¿è¥å•†è¿‡æ»¤å¤–ç½‘æµé‡å’Œè§£å†³åŠæ³•</title>
      <link href="/2020/06/14/%E7%A7%BB%E5%8A%A8%E8%BF%90%E8%90%A5%E5%95%86%E8%BF%87%E6%BB%A4%E5%A4%96%E7%BD%91%E6%B5%81%E9%87%8F%E9%97%AE%E9%A2%98/"/>
      <url>/2020/06/14/%E7%A7%BB%E5%8A%A8%E8%BF%90%E8%90%A5%E5%95%86%E8%BF%87%E6%BB%A4%E5%A4%96%E7%BD%91%E6%B5%81%E9%87%8F%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p><strong>ç§»åŠ¨åœ¨å“ªäº›æ–¹é¢å¯¹ç”¨æˆ·è®¿é—®å¤–ç½‘è¿›è¡Œäº†é™åˆ¶</strong>ï¼Ÿ</p><ul><li>å›½å†…è¿‡æ»¤æ‰æµ·å¤–ç«™ç‚¹çš„httpè¯·æ±‚ã€‚</li></ul><p>æˆ‘ä»¬æœ€å¸¸ä½¿ç”¨çš„httpsåè®®æ˜¯ç”±httpå’Œtlsåè®®æ„æˆã€‚é€šå¸¸è®¿é—®ä¸€ä¸ªhttpsç½‘ç«™ï¼Œç¬¬ä¸€æ­¥æ˜¯ï¼Œå‘ç›®æ ‡ç½‘ç«™æ¯”å¦‚youtube.comå‘èµ·ä¸€ä¸ªhttpæ˜æ–‡è¯·æ±‚ï¼Œè¦æ±‚å»ºç«‹è¿æ¥ï¼Œä¹‹åä¼ é€’æ•°æ®æ‰ç”±tlsåè®®è¿›è¡ŒåŠ å¯†ã€‚ã€‚å¦‚æœåªæ˜¯å•çº¯çš„ä½¿ç”¨æµè§ˆå™¨ä»£ç†ï¼Œå‘é€åˆ°youtubeçš„httpè¯·æ±‚å°†è¢«ç§»åŠ¨ç½‘ç»œè¿‡æ»¤æ‰ï¼Œä»è€Œæ— æ³•å»ºç«‹è¿æ¥ã€‚</p><p>ä¸è¿‡ï¼Œssrã€v2rayåœ¨ä½¿ç”¨æ—¶ï¼Œå·²ç»å°†httpè¯·æ±‚è¿›è¡Œäº†åŠ å¯†è½¬å‘åˆ°ssrã€v2rayæœåŠ¡ç«¯ã€‚å› æ­¤httpè¯·æ±‚æ˜¯ç”±ssræœåŠ¡ç«¯åœ¨å¤–ç½‘å‘èµ·çš„ï¼Œä¸ç”¨æ‹…å¿ƒç§»åŠ¨è¿‡æ»¤httpè¯·æ±‚ã€‚</p><ul><li>å›½å†…å¤–ç½‘ç»œè¾¹ç•Œä¸Šå¯¹æ— ç‰¹å¾çš„tcpæµé‡é™æµé™é€Ÿ</li></ul><p>ssrå’Œv2rayä½¿ç”¨äº†åŠ å¯†å’Œæ··æ·†åè®®ï¼Œè¿™äº›åè®®ä¿è¯äº†å®ƒä»¬æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´ä¼ é€’çš„æ•°æ®æ— æ³•è¢«è§£å¯†ã€‚ç§»åŠ¨åœ¨è¿™æ–¹é¢ï¼Œç›´æ¥å¯¹è¿™ç±»æ²¡æœ‰ç‰¹å¾çš„tcpæµé‡è¿›è¡Œä¸¢åŒ…ï¼Œä¹Ÿå°±å¯¼è‡´äº†ï¼Œç§»åŠ¨ç”¨æˆ·è®¿é—®å¤–ç½‘é€Ÿåº¦ææ…¢ã€‚</p><ul><li>å›½å†…å¤–ç½‘ç»œè¾¹ç•Œä¸Šå¯¹tlsåè®®çš„tcpæµé‡æŒ‰ä¼˜å…ˆçº§æ”¾è¡Œ</li></ul><p>tlsåè®®æµé‡åœ¨å‡ºå›½æµé‡ä¸­æ˜¯æµ·é‡çš„ï¼Œæˆ‘ä»¬è®¿é—®æ™®é€šæµ·å¤–ç½‘ç«™çš„æ—¶ï¼Œä¹ŸåŒ…å«äº†å¤§é‡çš„tlsæµé‡ã€‚å› æ­¤ï¼Œç§»åŠ¨ä¸èƒ½å¯¹è¿™ç±»æµé‡è¿›è¡Œé™æµé™é€Ÿï¼Œè€Œæ˜¯å¯¹é‚£äº›ä¼˜å…ˆçº§æ¯”è¾ƒä½çš„ç”¨æˆ·è®¿é—®å¤–ç½‘è¿›è¡Œé™åˆ¶ï¼Œåœ¨é«˜å³°æ—¶æ®µï¼Œå¯èƒ½è®¿é—®å¤–ç½‘é€Ÿåº¦å¥‡æ…¢ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥ç›´æ¥èŠ±é’±è§£å†³ã€‚</p><p><strong>å¦‚ä½•è§£å†³ç§»åŠ¨ç½‘ç»œè®¿é—®å¤–ç½‘é™åˆ¶ï¼Ÿ</strong></p><ul><li>æ›´æ¢ç”µä¿¡æˆ–è”é€šç½‘ç»œã€‚</li></ul><blockquote><p>å¹¿ç”µä¹Ÿå¾ˆå‘ï¼Œè·Ÿç§»åŠ¨å·®ä¸å¤š</p></blockquote><ul><li>ä½¿ç”¨v2ray+ws+tlsæ–¹æ¡ˆï¼Œå³å°†ç¿»å¢™æµé‡ä¼ªè£…ä¸ºæ™®é€šçš„httpsæµé‡ã€‚å¦‚æœä½ çš„ç§»åŠ¨ç½‘ç»œå‡ºå›½ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œé«˜å³°æ—¶æ®µä¹Ÿä¼šå¾ˆæ‹¥æŒ¤ã€‚è¿™æ—¶å€™ï¼Œå°±å–å†³äºä½ çš„å¤–ç½‘æœåŠ¡å™¨äº†ã€‚å¤–ç½‘æœåŠ¡å™¨ä½¿ç”¨cn2giaè‡ªç„¶å°±ä¸ä¼šæ‹¥æŒ¤äº†ã€‚</li><li>å¦‚æœä½ ä¹°ä¸èµ·ä¸€ä¸ªcn2giaçº¿è·¯ï¼Œè¯•è¯•åœ¨å›½å†…éƒ¨ç½²ä¸€ä¸ªä¸­è½¬æœåŠ¡å™¨ï¼Œé˜¿é‡Œäº‘å¤´å¹´90å—ï¼ˆå­¦ç”Ÿä»·ä¹Ÿæœ‰ä¼˜æƒ ï¼‰ã€‚åœ¨è¿™ä¸ªè·¯ç”±å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªstunnelï¼ŒæŠŠssrã€v2rayçš„ä»£ç†è¯·æ±‚è½¬å‘åˆ°å›½å†…æœåŠ¡å™¨ï¼Œç„¶åå›½å†…æœåŠ¡å™¨å‘é€è‡³å›½å¤–æœåŠ¡å™¨ã€‚</li></ul><p>è¿™ä¸ªæ–¹æ¡ˆï¼Œå¯ä»¥è§£å†³ssrä¸å¸¦tlsåè®®çš„ç¼ºç‚¹ï¼ŒåŒæ—¶ï¼Œå³ä¾¿å¤–ç½‘æœåŠ¡å™¨ä¸æ˜¯cn2giaï¼Œä½ ç”¨çš„ä¹Ÿä¸æ˜¯ç”µä¿¡è”é€šï¼Œéƒ½æ²¡å…³ç³»ã€‚é˜¿é‡Œäº‘æœåŠ¡å™¨å‡ºå›½ä¼šèµ°ç”µä¿¡ï¼Œè€Œä¸”ä¼˜å…ˆçº§é«˜ï¼Œæ‰€ä»¥å³ä¾¿æ˜¯é«˜å³°æ—¶æœŸï¼Œç½‘é€Ÿä¹Ÿä¸ä¼šæœ‰å½±å“ã€‚</p><p>ç„¶è€Œï¼Œå—åˆ°å›½å†…å¸¦å®½ä»·æ ¼å½±å“ã€‚é˜¿é‡Œäº‘90ä¸€å¹´çš„æœåŠ¡å™¨ï¼Œå¸¦å®½ä»…ä¸º5Mpbsï¼Œæ‰€ä»¥ä¸‹è½½é€Ÿåº¦ä¹Ÿå°±åœ¨900kB/så·¦å³ã€‚ä¸è¿‡çœ‹1080Pçš„youtubeæ²¡æœ‰é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç§»åŠ¨ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BLOGåŒçº¿éƒ¨ç½²+https</title>
      <link href="/2020/06/14/BLOG%E5%8F%8C%E7%BA%BF%E9%83%A8%E7%BD%B2-https/"/>
      <url>/2020/06/14/BLOG%E5%8F%8C%E7%BA%BF%E9%83%A8%E7%BD%B2-https/</url>
      
        <content type="html"><![CDATA[<p>dns.laæ”¯æŒå¤šçº¿è§£æï¼Œè€Œä¸”å…è´¹ï¼Œéå¸¸å¥½ç”¨ã€‚æ¨èï¼</p><p>å…³äºè¯ä¹¦ç”³è¯·çš„æ–¹å¼ï¼Œå°±ä¸å¤šè¯´äº†ã€‚ä¹‹å‰åœ¨codingç”³è¯·è¯ä¹¦å¤±è´¥ï¼Œæ˜¯å› ä¸ºåŸŸåcnameè§£ææ²¡æœ‰é…ç½®æ­£ç¡®ã€‚å°†åŸŸåæœåŠ¡å•†ä¿®æ”¹ä¸º <a href="https://dns.la/">https://dns.la</a> åï¼Œéœ€è¦å…ˆå°†åŸŸåæµ·å¤–çº¿è·¯è§£æåˆ°codingã€‚</p><blockquote><p>å°†æµ·å¤–çº¿è·¯è§£æåˆ°codingæ˜¯ï¼Œcodingè¯ä¹¦èƒ½å¤Ÿç”³è¯·æˆåŠŸçš„å…³é”®ï¼<br>åœ¨githubç”³è¯·è¯ä¹¦æ—¶ï¼Œä¹Ÿéœ€è¦å°†æµ·å¤–çº¿è·¯è§£æåˆ°githubã€‚</p></blockquote><p>è¯ä¹¦ç”³è¯·å®Œæ¯•åï¼Œå¯ä»¥åœ¨dns.laä¸Šä¿®æ”¹dnsçº¿è·¯ï¼Œå›½å†…è§£æåˆ°codingï¼Œæµ·å¤–è§£æåˆ°githubã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSRåŠ é€Ÿå’Œé™ä½æœåŠ¡å™¨ç«¯å£è¢«å°é£é™©</title>
      <link href="/2020/06/08/SSR%E5%8A%A0%E9%80%9F%E5%92%8C%E9%99%8D%E4%BD%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%8F%A3%E8%A2%AB%E5%B0%81%E9%A3%8E%E9%99%A9/"/>
      <url>/2020/06/08/SSR%E5%8A%A0%E9%80%9F%E5%92%8C%E9%99%8D%E4%BD%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%8F%A3%E8%A2%AB%E5%B0%81%E9%A3%8E%E9%99%A9/</url>
      
        <content type="html"><![CDATA[<p>å¦å¤–éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè´­ä¹°çš„å›½å†…æœåŠ¡å™¨ï¼Œä¸éœ€è¦è¿›è¡Œå¤‡æ¡ˆï¼Œä½ å¯ä»¥å¸®å®šä¸€ä¸ªåŸŸååˆ°æ­¤æœåŠ¡å™¨ä¸Šï¼Œå¡«å†™ssrå®¢æˆ·ç«¯ä¹Ÿåªéœ€è¦ä½¿ç”¨è¿™ä¸ªåŸŸåï¼Œssrä¼šè‡ªåŠ¨å¸®ä½ æŸ¥è¯¢dnsï¼Œæ­¤åå³ä¾¿å›½å¤–ssrå‡ºç°ç«¯å£æˆ–ipè¢«å°ï¼Œä¹Ÿä¸éœ€è¦æ›´æ”¹ssrå®¢æˆ·ç«¯çš„é…ç½®ä¿¡æ¯ã€‚è€Œåªéœ€è¦å¦èµ·ä¸€å°å›½å¤–æœåŠ¡å™¨ï¼Œä¿®æ”¹å›½å†…ä¸­è½¬æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯ã€‚</p><p>å¦‚æœä½ æ‡‚å¾—æ›´å¤šç¼–ç¨‹çŸ¥è¯†ï¼Œä½ å¯ä»¥åœ¨å›½å†…å›½å¤–çš„ä¸¤å°æœåŠ¡å™¨ä¸Šè¿›è¡Œç¼–ç¨‹ï¼Œå®ç°ï¼Œå½“å›½å¤–æœåŠ¡å™¨ç«¯å£è¢«å°ï¼Œå›½å†…å’Œå›½å¤–æœåŠ¡å™¨è‡ªåŠ¨æ£€æµ‹ï¼Œè‹¥æ£€æµ‹åˆ°ç«¯å£è¢«å°ï¼Œåˆ™å›½å¤–æœåŠ¡å™¨ä¿®æ”¹ssré…ç½®ç«¯å£ï¼Œè€Œå›½å†…æœåŠ¡å™¨ä¿®æ”¹stunnelé…ç½®ä¿¡æ¯ã€‚è¿™æ ·ï¼Œæ— éœ€äººä¸ºå¹²é¢„ï¼Œä¹Ÿèƒ½å®ç°é•¿ä¹…è€Œç¨³å®šçš„è¿æ¥ã€‚å¦‚æœæœ‰ç©ºçš„è¯ï¼Œæˆ‘ä¼šå»æ¢ç´¢è¿™ä¸ªæ–¹æ¡ˆã€‚</p><h1 id="1ï¼šåŸç†è¯´æ˜"><a href="#1ï¼šåŸç†è¯´æ˜" class="headerlink" title="1ï¼šåŸç†è¯´æ˜"></a>1ï¼šåŸç†è¯´æ˜</h1><p>ç®€å•äº†è§£ï¼Œå¯ä»¥æé«˜ä½ å¯¹ç½‘ç»œçš„è®¤è¯†ã€‚</p><h2 id="1-1-ssrç½‘ç»œåŠ é€ŸåŸç†"><a href="#1-1-ssrç½‘ç»œåŠ é€ŸåŸç†" class="headerlink" title="1.1 ssrç½‘ç»œåŠ é€ŸåŸç†"></a>1.1 ssrç½‘ç»œåŠ é€ŸåŸç†</h2><p>ç”±äºä¸­å›½ç§»åŠ¨å¯¹æ™®é€šç”¨æˆ·çš„æµ·å¤–æµé‡éšæœºé«˜æ¦‚ç‡ä¸¢åŒ…ï¼Œå¯¼è‡´å›½å¤–æµé‡è¿›å…¥å›½å†…æ—¶ï¼Œèµ°ç§»åŠ¨çº¿è·¯ï¼Œå°±ä¼šæœ‰å¾ˆé«˜çš„ä¸¢åŒ…ç‡ã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å€ŸåŠ©ä¸€å°ï¼Œå±äºç§»åŠ¨vipçº§åˆ«çš„å›½å†…æœåŠ¡å™¨ï¼ˆè¿™æ ·ç§»åŠ¨å‡ºæµ·çº¿è·¯ä¼˜å…ˆçº§é«˜ï¼Œä¸å®¹æ˜“ä¸¢åŒ…ï¼‰ï¼Œæˆ–è€…å‡ºå…¥æµ·èµ°è”é€šç”µä¿¡çº¿è·¯çš„æœåŠ¡å™¨ã€‚é€šå¸¸ï¼Œé˜¿é‡Œäº‘ã€è…¾è®¯äº‘æœåŠ¡å™¨éƒ½èƒ½æ»¡è¶³è¦æ±‚ã€‚</p><p>å›½å†…æœåŠ¡å™¨ä¸Šå®‰è£…stunnelï¼Œå¹¶é…ç½®ä¸ºå®¢æˆ·ç«¯ã€‚å›½å¤–æœåŠ¡å™¨å®‰è£…stunnelæœåŠ¡ç«¯å’ŒssræœåŠ¡ç«¯ã€‚</p><p><img src="https://ae01.alicdn.com/kf/Hb7bba28a9bda457899c0f56c82042376m.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hb7bba28a9bda457899c0f56c82042376m.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="1-2-é™ä½ç«¯å£è¢«å°çš„é£é™©åŸç†"><a href="#1-2-é™ä½ç«¯å£è¢«å°çš„é£é™©åŸç†" class="headerlink" title="1.2 é™ä½ç«¯å£è¢«å°çš„é£é™©åŸç†"></a>1.2 é™ä½ç«¯å£è¢«å°çš„é£é™©åŸç†</h2><p>stunnelæ˜¯ä¸€ä¸ªå°†æµé‡åˆ©ç”¨sslè¯ä¹¦åŠ å¯†çš„è½¯ä»¶ï¼ŒåŠ å¯†åçš„æµé‡ï¼Œå‡ºå›½æ—¶å°†ä¼šè¢«è¯†åˆ«ä¸ºtlsåè®®ï¼Œå› æ­¤ä¸å†å…·æœ‰ssræµé‡ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨çš„httpsè¯·æ±‚ä¾¿åŸºäºsslè¯ä¹¦ï¼Œæ­¤æ—¶å›½å¤–æœåŠ¡å™¨ç«¯å£è¢«å°é”çš„å‡ ç‡å°†å¤§å¤§å‡å°ã€‚å‡ºå›½åï¼Œstunnelå°†æµé‡è§£å¯†ï¼Œå†ä¼ é€’ç»™ssræœåŠ¡ç«¯ã€‚</p><p>é€šè¿‡æŠ“å–ssræµé‡ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œssræµé‡åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œç”±äºåè®®åŠ å¯†ï¼Œå®ƒä¸å…·å¤‡ä»»ä½•å¸¸è§çš„ç½‘ç»œè¯·æ±‚ç‰¹å¾ï¼Œè€Œä½ åœ¨ä½¿ç”¨ssrä¸æµ·å¤–æœåŠ¡å™¨è¿›è¡Œæ•°æ®å¾€æ¥æ—¶ï¼Œé•¿æ—¶é—´çš„ä½¿ç”¨ä¸å…·æœ‰ç½‘ç»œè¯·æ±‚ç‰¹å¾çš„æµé‡è¿›è¡Œè¿æ¥ï¼Œå¾ˆå®¹æ˜“è¢«é˜²ç«å¢™è¯†åˆ«ä¸ºç¿»å¢™è½¯ä»¶ã€‚å› æ­¤è¢«å°ã€‚ä½¿ç”¨tlsåè®®ï¼Œå°±èƒ½å¤Ÿä¼ªè£…ä¸ºhttpsè¯·æ±‚ï¼Œhttps(httpåè®®+tlsåè®®)ã€‚å½“ç„¶ä¸ºäº†æ›´æœ‰è¿·æƒ‘æ€§ï¼Œåœ¨ssræœåŠ¡å™¨ç«¯å£åŠ ä¸€ä¸ªèƒ½è¢«è®¿é—®çš„ç½‘ç«™æ˜¯æœ€å¥½çš„ã€‚å› ä¸ºè™½ç„¶tlsåè®®ä½œä¸ºhttpsçš„ä¸€éƒ¨åˆ†ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œç”±äºæ²¡æœ‰httpåè®®çš„æµé‡ï¼Œé‚£ä¹ˆæ˜¯èƒ½è¢«æ¨æ–­å‡ºä½¿ç”¨stunnelè¿™ç±»åŠ å¯†éš§é“çš„ã€‚å¦‚æœé•¿æ—¶é—´å¤§æµé‡è®¿é—®ï¼Œä¹Ÿæœ‰è¢«å°é”çš„é£é™©ã€‚</p><p>è€Œä½¿ç”¨ä¸­è½¬æœåŠ¡å™¨ï¼Œæ‰€ä»˜å‡ºçš„ä»£ä»·ï¼Œä»…ä»…æ˜¯å›½å†…æœˆç§Ÿå‡ å—é’±çš„æœåŠ¡å™¨(é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰æœ‰å­¦ç”ŸæœåŠ¡å™¨ï¼Œä¸€å¹´ä¸€ç™¾å—å·¦å³)ï¼Œå’Œç›¸å½“ä½çš„stunnelåŠ è§£å¯†è¿‡ç¨‹æ‰€å¯¼è‡´çš„å»¶è¿Ÿï¼Œæ­¤å»¶è¿Ÿå‡ ä¹ä¸å¯è§ã€‚</p><h1 id="2ï¼šstunnelå’Œssrå®‰è£…"><a href="#2ï¼šstunnelå’Œssrå®‰è£…" class="headerlink" title="2ï¼šstunnelå’Œssrå®‰è£…"></a>2ï¼šstunnelå’Œssrå®‰è£…</h1><h2 id="2-1-stunnelå®‰è£…å’Œé…ç½®"><a href="#2-1-stunnelå®‰è£…å’Œé…ç½®" class="headerlink" title="2.1 stunnelå®‰è£…å’Œé…ç½®"></a>2.1 stunnelå®‰è£…å’Œé…ç½®</h2><p>stunnelå®‰è£…ï¼Œè¯·å‚è§æˆ‘ä¹‹é—´çš„æ–‡ç« ã€Š<a href="https://sci.ci/2020/05/28/stunnel-squid-dai-li-jia-su-ya-chen-jiao-xue-shi-pin-jia-su/">åˆ©ç”¨Stunnel+squidä»£ç†å®ç°å›½å†…æ— å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘</a>ã€‹ã€‚</p><blockquote><p>3.2èŠ‚æ˜¯åœ¨å›½å¤–æœåŠ¡å™¨ä¸Šå®‰è£…stunnelæœåŠ¡ç«¯ã€‚ç¬¬å››ç« ï¼Œåœ¨å›½å†…æœåŠ¡å™¨ä¸Šå®‰è£…stunnelå®¢æˆ·ç«¯ã€‚</p></blockquote><p>å°†ssrçš„æµé‡é€šè¿‡stunnelåŠ å¯†ï¼Œä½ éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚åœ¨ã€Š<a href="https://sci.ci/2020/05/28/stunnel-squid-dai-li-jia-su-ya-chen-jiao-xue-shi-pin-jia-su/">åˆ©ç”¨Stunnel+squidä»£ç†å®ç°å›½å†…æ— å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘</a>ã€‹å®‰è£…åçš„stunnelåŸºç¡€ä¸Šä¿®æ”¹ã€‚</p><p>ä¿®æ”¹å›½å¤–æœåŠ¡å™¨ä¸Šçš„stunnelæœåŠ¡ç«¯é…ç½®æ–‡ä»¶ï¼Œåœ¨<code>/etc/stunnel/stunnel.conf</code>æ–‡ä»¶é‡Œï¼Œ</p><p>åˆ é™¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[squid-proxy]</span><br><span class="line">; æœåŠ¡ç›‘å¬çš„ç«¯å£ï¼Œclientè¦è¿æ¥è¿™ä¸ªç«¯å£ä¸serveré€šä¿¡</span><br><span class="line">accept &#x3D; 3129</span><br><span class="line">; æœåŠ¡è¦è¿æ¥çš„ç«¯å£ï¼Œè¿æ¥åˆ°squidçš„3128ç«¯å£ï¼Œå°†æ•°æ®å‘ç»™squid</span><br><span class="line">connect &#x3D; localhost:3128</span><br></pre></td></tr></table></figure><p>æ·»åŠ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[tls2socks]</span><br><span class="line">;æœåŠ¡ç«¯ç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œè¿™ä¸ªç«¯å£ç”¨äºæ¥æ”¶stunnelå®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„æ•°æ®ï¼Œå»ºè®®è®¾ç½®åœ¨10000~60000ä¹‹é—´ï¼ŒåŠ¡å¿…åœ¨linuxé˜²ç«å¢™å’Œé˜¿é‡Œäº‘è¿™ç±»çš„æœåŠ¡å•†å®‰å…¨ç»„å¼€æ”¾ï¼Œä¾‹å¦‚è®¾ç½®ä¸ºï¼šaccept = 12345</span><br><span class="line">accpet = your accept port 1</span><br><span class="line">;è¿æ¥åˆ°ï¼Œssrçš„æœåŠ¡å™¨ç«¯å£ä¸Šï¼Œä¸ssræœåŠ¡ç«¯é…ç½®çš„ç«¯å£ä¿æŒä¸€è‡´</span><br><span class="line">connect = localhost:your ssr server port</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å›½å†…ä¸­è½¬æœåŠ¡å™¨ä¸Šçš„stunnelå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼Œåœ¨<code>/etc/stunnel/stunnel.conf</code>æ–‡ä»¶é‡Œï¼Œ</p><p>åˆ é™¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[squid-proxy]</span><br><span class="line">; ç›‘å¬3128ç«¯å£ï¼Œé‚£ä¹ˆç”¨æˆ·æµè§ˆå™¨çš„ä»£ç†è®¾ç½®å°±æ˜¯ stunnel-client-ip:3128</span><br><span class="line">accept = 3128</span><br><span class="line">; è¦è¿æ¥åˆ°çš„stunnel serverçš„ipä¸ç«¯å£ï¼Œä¿®æ”¹xx.xx.xx.xxä¸ºå›½å¤–çš„æœåŠ¡å™¨</span><br><span class="line">connect = xx.xx.xx.xx:3129</span><br></pre></td></tr></table></figure><p>æ·»åŠ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[socks2tls]</span><br><span class="line">;æœåŠ¡ç«¯ç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œè¿™ä¸ªç«¯å£ç”¨äºæ¥æ”¶ssrå®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„æ•°æ®ï¼Œå»ºè®®è®¾ç½®åœ¨10000~60000ä¹‹é—´ï¼ŒåŠ¡å¿…åœ¨linuxé˜²ç«å¢™å’Œé˜¿é‡Œäº‘è¿™ç±»çš„æœåŠ¡å•†å®‰å…¨ç»„å¼€æ”¾ã€‚ä¾‹å¦‚ accept = 34567</span><br><span class="line">accpet = your accept port 2</span><br><span class="line">;è¿æ¥åˆ°ï¼ŒstunnelæœåŠ¡ç«¯æ¥æ”¶ç«¯å£ä¸Šã€‚æŒ‰ç…§è¯¥æœåŠ¡ç«¯çš„ä¾‹å¦‚é…ç½®ï¼Œè¿™é‡Œåº”è¯¥ä¸ºï¼šconnect = xx.xx.xx.xx:12345ã€‚xxè¡¨ç¤ºå›½å¤–æœåŠ¡å™¨ipåœ°å€ã€‚</span><br><span class="line">connect = stunnel server ip:your accept port 1</span><br></pre></td></tr></table></figure><h2 id="2-2-ssrå®‰è£…å’Œé…ç½®"><a href="#2-2-ssrå®‰è£…å’Œé…ç½®" class="headerlink" title="2.2 ssrå®‰è£…å’Œé…ç½®"></a>2.2 ssrå®‰è£…å’Œé…ç½®</h2><p>ssrå®‰è£…ï¼Œå¯ä»¥å‚è€ƒã€Š<a href="https://ssr.tools/31">SSR ä¸€é”®å®‰è£…è„šæœ¬</a>ã€‹ï¼Œåœ¨å›½å¤–çš„æœåŠ¡å™¨ä¸Šå®‰è£…ã€‚</p><p>ssræœåŠ¡ç«¯ç«¯å£éœ€è¦å’ŒstunnelæœåŠ¡ç«¯çš„<code>connect</code>ç«¯å£ä¿æŒä¸€è‡´ã€‚</p><p>ssrå®¢æˆ·ç«¯é…ç½®ï¼Œå®¢æˆ·ç«¯åœ°å€ï¼Œåº”è¯¥å¡«å†™ä¸ºå›½å†…æœåŠ¡å™¨ipï¼ŒæœåŠ¡ç«¯å£ï¼Œåº”å¡«å†™ä¸ºstunnelå®¢æˆ·ç«¯çš„<code>accept</code>ç«¯å£(å›½å†…æœåŠ¡å™¨ä¸Šé…ç½®çš„accept = your accept port 2)ï¼Œä¾‹å­ä¸­ç»™çš„34567ç«¯å£ã€‚</p><p>é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥è¿æ¥ä¸Šç½‘äº†ã€‚</p><p>å³ä¾¿ä½¿ç”¨ç§»åŠ¨ç½‘ç»œï¼Œä¹Ÿèƒ½äº§ç”Ÿéå¸¸å¥½çš„è¿æ¥æ•ˆæœï¼Œè€Œä¸”åº”è¯¥åœ¨éå¸¸ä¹…å¾—æ—¶é—´é‡Œï¼Œç«¯å£éƒ½ä¸ä¼šè¢«å°ã€‚</p><h1 id="3ï¼šå¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#3ï¼šå¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="3ï¼šå¯èƒ½å‡ºç°çš„é—®é¢˜"></a>3ï¼šå¯èƒ½å‡ºç°çš„é—®é¢˜</h1><p>å¦‚æœé…ç½®åæ— æ³•ä¸Šç½‘ï¼Œè¯·æ£€æŸ¥ä½ è®¾ç½®å¾—ç«¯å£ï¼Œé€šè¿‡ <a href="https://port.ping.pe/">https://port.ping.pe</a> ç½‘å€æ£€æµ‹ä½ çš„ç«¯å£æ˜¯å¦å¼€å¯ï¼Œå¦‚æœæµ‹è¯•æœªå¼€å¯ï¼Œè¯·ä¿®æ”¹é˜²ç«å¢™é…ç½®ï¼Œåœ¨ã€Š<a href="https://sci.ci/2020/05/28/stunnel-squid-dai-li-jia-su-ya-chen-jiao-xue-shi-pin-jia-su/">åˆ©ç”¨Stunnel+squidä»£ç†å®ç°å›½å†…æ— å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘</a>ã€‹ä¸­ç¬¬4ç« æœ‰ä»‹ç»ã€‚è‹¥ä»»ç„¶æ²¡æœ‰å¯¼é€šï¼Œè¯·æ£€æŸ¥äº‘æœåŠ¡å•†çš„å®‰å…¨ç»„æ˜¯å¦å¼€å¯äº†ç«¯å£ã€‚</p><p>å¦‚æœç«¯å£å¼€æ”¾ï¼Œè€Œæ— æ³•è¿æ¥ï¼Œè¯·å°è¯•ï¼Œç»ˆæ­¢stunnelè¿›ç¨‹å¹¶é‡æ–°å¯ç”¨ã€‚</p><p>æ–¹æ³•1ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">servicer stunnel restart</span><br></pre></td></tr></table></figure><p>æ–¹æ³•2:</p><p>æ£€æŸ¥stunnelçš„è¿›ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep -i stunnel</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°è¿›ç¨‹å·pidï¼Œåœ¨ç¬¬äºŒåˆ—</p><p>æ€æ‰è¿›ç¨‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 æ›¿æ¢ä¸ºpid</span><br></pre></td></tr></table></figure><p>ç„¶åé‡æ–°å¯ç”¨stunnel</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stunnel</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºï¼Œåˆ™stunnelé‡å¯æˆåŠŸï¼Œä¸”é…ç½®æ–‡ä»¶æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚å¦åˆ™å°†æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SSR </tag>
            
            <tag> Stunnel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Squid+MySQLå‚¨å­˜ç”¨æˆ·éªŒè¯é€šè¿‡çš„IP</title>
      <link href="/2020/06/02/Squid-MySQL%E5%82%A8%E5%AD%98%E7%94%A8%E6%88%B7%E9%AA%8C%E8%AF%81%E9%80%9A%E8%BF%87%E7%9A%84IP/"/>
      <url>/2020/06/02/Squid-MySQL%E5%82%A8%E5%AD%98%E7%94%A8%E6%88%B7%E9%AA%8C%E8%AF%81%E9%80%9A%E8%BF%87%E7%9A%84IP/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šå‰æ–‡"><a href="#0ï¼šå‰æ–‡" class="headerlink" title="0ï¼šå‰æ–‡"></a>0ï¼šå‰æ–‡</h1><p>åœ¨æ–‡ç« ã€Š<a href="https://sci.ci/2020/05/28/stunnel-squid-dai-li-jia-su-ya-chen-jiao-xue-shi-pin-jia-su/">åˆ©ç”¨Stunnel+squidä»£ç†å®ç°å›½å†…æ— å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘</a>ã€‹ä¸­ï¼Œæåˆ°äº†ï¼Œå½“ä½¿ç”¨ä»£ç†éªŒè¯å®ç°ä»£ç†è®¿é—®æ—¶ï¼Œæ‰‹æœºçš„è½¯ä»¶æ— æ³•è¿æ¥ç½‘ç»œï¼Œè€Œä¸”åˆ‡æ¢æµè§ˆå™¨éœ€è¦é‡æ–°éªŒè¯ç”¨æˆ·åå’Œå¯†ç ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æå‡ºäº†å››ç§æ–¹æ¡ˆã€‚å‰ä¸¤ç§æ¼æ´å¤ªå¤§ï¼Œç¬¬ä¸‰ç§ï¼Œå¼€å‘æ¯”è¾ƒéº»çƒ¦ã€‚äºæ˜¯ï¼Œæˆ‘é‡‡ç”¨äº†ç¬¬å››ç§æ–¹æ³•ã€‚ä¸‹é¢å°†å¯¹ä»£ç å’Œå…·ä½“ç»†èŠ‚è¿›è¡Œè¯´æ˜ã€‚</p><p>é˜…è¯»æœ¬æ–‡ï¼Œè¯·ç¡®ä¿ä½ å·²ç»å®‰è£…äº†squid 3.5ä»¥ä¸Šç‰ˆæœ¬ã€‚<code>squid -v</code>å¯ä»¥æŸ¥çœ‹ä½ çš„å®‰è£…ç‰ˆæœ¬ã€‚</p><h1 id="1ï¼šé…ç½®åŸºæœ¬ç¯å¢ƒMySQLå’ŒPython"><a href="#1ï¼šé…ç½®åŸºæœ¬ç¯å¢ƒMySQLå’ŒPython" class="headerlink" title="1ï¼šé…ç½®åŸºæœ¬ç¯å¢ƒMySQLå’ŒPython"></a>1ï¼šé…ç½®åŸºæœ¬ç¯å¢ƒMySQLå’ŒPython</h1><h2 id="1-1-æ•°æ®åº“"><a href="#1-1-æ•°æ®åº“" class="headerlink" title="1.1 æ•°æ®åº“"></a>1.1 æ•°æ®åº“</h2><p>Mysqlè¢«å¹¿æ³›ç”¨äºç½‘ç«™æ•°æ®åº“ï¼Œç½‘ä¸Šçš„æ”¯æŒæ–‡æ¡£å¾ˆå¤šï¼Œé‡è¦çš„æ˜¯ï¼ŒMySQLåœ¨pythonç¼–ç¨‹ä¸Šå…·æœ‰éå¸¸å¥½çš„æ”¯æŒã€‚ä¹Ÿå°±æ˜¯mysqldbåº“ã€‚</p><p>ä½¿ç”¨æ•°æ®åº“ï¼Œä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾é€šè¿‡éªŒè¯å™¨éªŒè¯çš„å®¢æˆ·ç«¯ipï¼ŒACLè¾…åŠ©å™¨å¯ä»¥é€šè¿‡è¯»å–è¿™ä¸ªipï¼Œä»è€Œaclè¾…åŠ©å™¨é€šè¿‡çš„ipä¸å†éœ€è¦éªŒè¯å™¨éªŒè¯å¯†ç ã€‚æ‰€ä»¥ï¼Œä½ ä½¿ç”¨ä»»ä½•å…¶ä»–æ•°æ®åº“éƒ½æ˜¯å¯ä»¥çš„ã€‚å»ºè®®ä½ é€‰ç”¨ä½ è‡ªå·±ç†Ÿæ‚‰çš„æ•°æ®åº“ã€‚å› ä¸ºæœ¬æ–‡å¯¹äºå¦‚ä½•åœ¨mysqlä¸‹ï¼Œåˆ›å»ºæ•°æ®è¡¨ï¼Œåªåšå¤§æ¦‚è¯´æ˜ã€‚</p><p>æˆ‘å»ºè®®ä½¿ç”¨å®å¡”é¢æ¿<a href="bt.cn">bt.cn</a>å®‰è£…mysqlã€‚è¿™æ ·å¯ä»¥å¯è§†åŒ–çš„å®‰è£…mysqlå’Œåˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨ã€‚ä¹Ÿå¯ä»¥è§„é¿è®¸å¤šç”±äºæ•°æ®åº“æƒé™é—®é¢˜å¯¼è‡´çš„ä¸å¯æ§å› ç´ ã€‚å®å¡”é¢æ¿å®‰è£…å’Œåœ¨å®å¡”é¢æ¿ä¸­å®‰è£…mysqlæ•°æ®åº“ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚éå¸¸ç®€å•ã€‚</p><p>åœ¨å®Œæˆæ•°æ®åº“å®‰è£…åï¼Œè¯·ä½ åœ¨mysqlé‡Œæ·»åŠ ä¸€ä¸ªï¼Œåº“åä¸ºï¼šsquidã€‚ç”¨æˆ·åä¸ºï¼šsquidã€‚çš„æ•°æ®åº“ã€‚ç”¨äºå­˜æ”¾squidæ•°æ®ã€‚</p><p><img src="https://ae01.alicdn.com/kf/H9601fdba1d3f4c70add1ada5fbad87ddl.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H9601fdba1d3f4c70add1ada5fbad87ddl.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ•°æ®åº“æ–°å»ºæˆåŠŸåï¼Œç‚¹å‡»å³è¾¹çš„ç®¡ç†ã€‚è¿›å…¥phpmyadminï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®è¡¨ã€‚è¡¨åä¸ºï¼šsq_client_ipã€‚</p><p><img src="https://ae01.alicdn.com/kf/Hd7fb2278aa8e402cb347108ead39c32fZ.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hd7fb2278aa8e402cb347108ead39c32fZ.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>è¡¨çš„ç»“æ„ï¼š</p><p><img src="https://ae01.alicdn.com/kf/Ha096c13cec1c4defa80d6a23e12ec289b.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Ha096c13cec1c4defa80d6a23e12ec289b.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ³¨æ„ï¼Œidé¡¹ï¼Œæ–°å»ºè¡¨æ—¶ï¼Œå‹¾é€‰<code>AI</code>ï¼ŒAIè¡¨ç¤ºè®¾ç½®idä¸ºè‡ªå¢ä¸»é”®ã€‚è¿™æ ·æ¯æ·»åŠ ä¸€ä¸ªæ•°æ®è¿›å»ï¼Œidéƒ½ä¼šè‡ªè¡Œå¢åŠ ã€‚</p><h2 id="1-2-Python"><a href="#1-2-Python" class="headerlink" title="1.2 Python"></a>1.2 Python</h2><p>å®‰è£…Pythonï¼Œç®€å•çš„å®‰è£…pythonï¼Œä½ åªéœ€è¦è¾“å…¥ä¸‹é¢æŒ‡ä»¤</p><p>centos:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install python</span><br></pre></td></tr></table></figure><p>Ubuntu:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get -y install python</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œpythonï¼Œéœ€è¦å®‰è£…pythonçš„mysqldbåº“ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mysqldb</span><br></pre></td></tr></table></figure><h1 id="2ï¼šè‡ªå®šä¹‰åŸºæœ¬éªŒè¯å™¨"><a href="#2ï¼šè‡ªå®šä¹‰åŸºæœ¬éªŒè¯å™¨" class="headerlink" title="2ï¼šè‡ªå®šä¹‰åŸºæœ¬éªŒè¯å™¨"></a>2ï¼šè‡ªå®šä¹‰åŸºæœ¬éªŒè¯å™¨</h1><p>æ–°å»ºä¸€ä¸ªpythonæ–‡ä»¶<code>AuthPro.py</code>ã€‚åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># coding=UTF-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> MySQLdb</span><br><span class="line"><span class="string">&quot;&quot;&quot;&quot;&quot;&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">matchpasswd</span>(<span class="params">login,passwd</span>):</span></span><br><span class="line">    <span class="comment">#ç”¨æˆ·åå’Œå¯†ç ï¼Œç”¨äºéªŒè¯è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</span></span><br><span class="line">    <span class="comment">#ä½ å¯ä»¥è‡ªå®šä¹‰éªŒè¯é€šè¿‡çš„è¦æ±‚ï¼ŒéªŒè¯é€šè¿‡ï¼Œè¿”å›Trueï¼ŒéªŒè¯ä¸é€šè¿‡è¿”å›False</span></span><br><span class="line">    <span class="keyword">if</span> (login == <span class="string">&#x27;ä¿®æ”¹ä¸ºä½ çš„ç”¨æˆ·å&#x27;</span> <span class="keyword">and</span> passwd == <span class="string">&#x27;ä¿®æ”¹ä¸ºä½ çš„éªŒè¯å¯†ç &#x27;</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_client_ip_to_db</span>(<span class="params">username,client_ip</span>):</span></span><br><span class="line">    <span class="comment">#æ•°æ®åº“åœ°å€ï¼Œæ•°æ®åº“åï¼Œæ•°æ®åº“å¯†ç ï¼Œæ•°æ®åº“ç”¨æˆ·åï¼Œæ•°æ®åº“ç¼–ç æ ¼å¼</span></span><br><span class="line">    db=MySQLdb.connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;squid&quot;</span>,<span class="string">&quot;ä¿®æ”¹ä¸ºä½ çš„å¯†ç &quot;</span>,<span class="string">&quot;squid&quot;</span>,charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨cursor()æ–¹æ³•è·å–æ“ä½œæ¸¸æ ‡ </span></span><br><span class="line">    cursor = db.cursor()</span><br><span class="line">    <span class="comment"># å‘sq_client_ipè¡¨ä¸­æ’å…¥ç”¨æˆ·åå’Œç”¨æˆ·ip</span></span><br><span class="line">    sql = <span class="string">&quot;INSERT INTO sq_client_ip(username, client_ip) VALUES (&#x27;%s&#x27;, &#x27;%s&#x27;)&quot;</span> % (username,client_ip)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">       <span class="comment"># æ‰§è¡Œsqlè¯­å¥</span></span><br><span class="line">       cursor.execute(sql)</span><br><span class="line">       <span class="comment">#Ok åé¢çš„printè¯­å¥å¯ä»¥å‘cacheæ—¥å¿—ä¸­è¾“å‡ºæç¤ºã€‚/var/log/squid/cache.logæŸ¥çœ‹</span></span><br><span class="line">       print(<span class="string">&quot;æ‰§è¡Œsqlè¯­å¥&quot;</span>)</span><br><span class="line">       <span class="comment"># æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ</span></span><br><span class="line">       db.commit()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">       <span class="comment">#æ‰“å°é”™è¯¯å†…å®¹</span></span><br><span class="line">       info = sys.exc_info()  </span><br><span class="line">       print( info[<span class="number">0</span>], <span class="string">&quot;:&quot;</span>, info[<span class="number">1</span>]) </span><br><span class="line">   <span class="comment">#å‘ç”Ÿé”™è¯¯æ—¶å›æ»š</span></span><br><span class="line">       db.rollback()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…³é—­æ•°æ®åº“è¿æ¥</span></span><br><span class="line">    db.close()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># read a line from stdin</span></span><br><span class="line">    line = sys.stdin.readline()</span><br><span class="line">    line = line.strip()</span><br><span class="line">    <span class="comment">#æå–è¾“å…¥å‚æ•°ã€‚</span></span><br><span class="line">    username,password,client_ip = line.split()</span><br><span class="line">    <span class="comment">#åˆ¤æ–­å¯†ç æ˜¯å¦åŒ¹é…</span></span><br><span class="line">    <span class="keyword">if</span> matchpasswd(username, password):</span><br><span class="line">        <span class="comment">#è¾“å‡ºokè¡¨ç¤ºéªŒè¯é€šè¿‡</span></span><br><span class="line">        sys.stdout.write(<span class="string">&#x27;OK\n å¯†ç éªŒè¯é€šè¿‡&#x27;</span>)</span><br><span class="line">      <span class="comment">#å°†å®¢æˆ·ç«¯ipæ·»åŠ è‡³æ•°æ®åº“ipç™½åå•</span></span><br><span class="line">      write_client_ip_to_db(username,client_ip)</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sys.stdout.write(<span class="string">&#x27;ERR\n å¯†ç éªŒè¯å¤±è´¥&#x27;</span>)</span><br><span class="line">    <span class="comment"># Flush the output to stdout.</span></span><br><span class="line">    sys.stdout.flush()</span><br></pre></td></tr></table></figure><p>å°†<code>AuthPro.py</code>æ–‡ä»¶æ‹·è´åˆ°squidçš„é…ç½®æ–‡ä»¶å¤¹<code>/etc/squid</code>é‡Œ</p><h1 id="3ï¼šå¤–éƒ¨ACLè¾…åŠ©å™¨"><a href="#3ï¼šå¤–éƒ¨ACLè¾…åŠ©å™¨" class="headerlink" title="3ï¼šå¤–éƒ¨ACLè¾…åŠ©å™¨"></a>3ï¼šå¤–éƒ¨ACLè¾…åŠ©å™¨</h1><p>æ–°å»ºä¸€ä¸ªpythonæ–‡ä»¶<code>AclHelper.py</code>ã€‚åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># coding=UTF-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> MySQLdb</span><br><span class="line"><span class="string">&quot;&quot;&quot;å½“ç”¨æˆ·è¿æ¥squidï¼Œä¼ é€’ç”¨æˆ·å®¢æˆ·ç«¯ipåœ°å€åˆ°å¤–éƒ¨è¾…åŠ©å™¨ï¼Œè¾…åŠ©å™¨é€šè¿‡æ ‡å‡†è¾“å…¥è¯»å–ã€‚è¾…åŠ©å™¨æŸ¥è¯¢æ•°æ®åº“ç¬¦åˆå®¢æˆ·ç«¯ipçš„æ‰€æœ‰é¡¹ï¼Œå¦‚æœæŸ¥è¯¢ç»“æœï¼Œæ˜¾ç¤ºå®¢æˆ·ipåœ¨æ•°æ®åº“ä¸­ï¼Œåˆ™è¾“å‡ºokï¼Œå¦åˆ™è¾“å‡ºERR&quot;&quot;&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">matchclientip</span>(<span class="params">client_ip</span>):</span></span><br><span class="line">    <span class="comment">#æ•°æ®åº“åœ°å€ï¼Œæ•°æ®åº“åï¼Œæ•°æ®åº“å¯†ç ï¼Œæ•°æ®åº“ç”¨æˆ·åï¼Œæ•°æ®åº“ç¼–ç æ ¼å¼</span></span><br><span class="line">    db=MySQLdb.connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;squid&quot;</span>,<span class="string">&quot;ä½ çš„æ•°æ®åº“å¯†ç &quot;</span>,<span class="string">&quot;squid&quot;</span>,charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨cursor()æ–¹æ³•è·å–æ“ä½œæ¸¸æ ‡ </span></span><br><span class="line">    cursor = db.cursor()</span><br><span class="line">    <span class="comment"># SQL æ’å…¥è¯­å¥</span></span><br><span class="line">    sql = <span class="string">&quot;SELECT * FROM sq_client_ip  WHERE client_ip = &#x27;%s&#x27;&quot;</span> % (client_ip)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">       <span class="comment"># æ‰§è¡Œsqlè¯­å¥</span></span><br><span class="line">       cursor.execute(sql)</span><br><span class="line">       result = cursor.fetchone()</span><br><span class="line">       <span class="keyword">if</span> result:</span><br><span class="line">          exist_ip = <span class="literal">True</span></span><br><span class="line">       <span class="keyword">else</span>:</span><br><span class="line">          exist_ip = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">       <span class="comment"># å‘ç”Ÿé”™è¯¯æ—¶å›æ»š</span></span><br><span class="line">       db.rollback()</span><br><span class="line">       exist_ip = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…³é—­æ•°æ®åº“è¿æ¥</span></span><br><span class="line">    db.close()</span><br><span class="line">    <span class="keyword">return</span> exist_ip</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œï¼Œâ€œclient_ipâ€</span></span><br><span class="line">    line = sys.stdin.readline()</span><br><span class="line">    <span class="comment">#æå–è¾“å…¥å‚æ•°ã€‚squidï¼Œè¾“å…¥ç»™è¾…åŠ©å™¨çš„å­—ç¬¦ä¸²æ˜¯&quot;0 xx.xx.xx.xx&quot;æ ¼å¼</span></span><br><span class="line">    <span class="comment">#åˆ©ç”¨splitåˆ†å‰²å­—ç¬¦ä¸²ï¼Œå¾—åˆ°0å’Œclient_ipçš„list</span></span><br><span class="line">    client_ip = line.strip().split()[<span class="number">1</span>]</span><br><span class="line">    <span class="comment">#åˆ¤æ–­å¯†ç æ˜¯å¦åŒ¹é…</span></span><br><span class="line">    <span class="keyword">if</span> matchclientip(client_ip):</span><br><span class="line">        <span class="comment">#è¾“å‡ºokè¡¨ç¤ºéªŒè¯é€šè¿‡</span></span><br><span class="line">        sys.stdout.write(<span class="string">&#x27;OK\n&#x27;</span>)</span><br><span class="line">        <span class="comment">#printä¼šå°†ä¿¡æ¯è¾“å‡ºåˆ°/var/log/squid/cache.logä¸­ã€‚</span></span><br><span class="line">        print(<span class="string">&quot;Aclè¾…åŠ©å™¨éªŒè¯æˆåŠŸ&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sys.stdout.write(<span class="string">&#x27;ERR\n&#x27;</span>)</span><br><span class="line">        print(<span class="string">&quot;ACLè¾…åŠ©å™¨éªŒè¯å¤±è´¥&quot;</span>)</span><br><span class="line">    <span class="comment"># Flush the output to stdout.</span></span><br><span class="line">    sys.stdout.flush()</span><br></pre></td></tr></table></figure><p>å°†<code>AclHelper.py</code>æ–‡ä»¶æ‹·è´åˆ°squidçš„é…ç½®æ–‡ä»¶å¤¹<code>/etc/squid</code>é‡Œ</p><h1 id="4ï¼šä¿®æ”¹squidé…ç½®æ–‡ä»¶"><a href="#4ï¼šä¿®æ”¹squidé…ç½®æ–‡ä»¶" class="headerlink" title="4ï¼šä¿®æ”¹squidé…ç½®æ–‡ä»¶"></a>4ï¼šä¿®æ”¹squidé…ç½®æ–‡ä»¶</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> http_port è®¾ç½®ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ä¸º3128</span></span><br><span class="line">http_port 6666</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">çˆ¶squidé…ç½®ï¼Œé…åˆå›½å¤–æœåŠ¡å™¨server2ä½¿ç”¨</span></span><br><span class="line">nonhierarchical_direct off</span><br><span class="line"><span class="meta">#</span><span class="bash">è½¬å‘è¯·æ±‚é€šè¿‡stunnelè‡³çˆ¶squid</span></span><br><span class="line">cache_peer localhost parent 3128 0 default</span><br><span class="line">never_direct allow all</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> access_log è®¾ç½®accessæ—¥å¿—ï¼Œdaemonè¡¨ç¤ºåœ¨åå°å°†æ—¥å¿—å†™å…¥/var/<span class="built_in">log</span>/squid/access.logæ–‡ä»¶, </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> combinedæ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„logformatï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„logformat</span></span><br><span class="line">access_log daemon:/var/log/squid/access.log combined</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ACLs all, manager, localhost, and to_localhost are predefined.</span></span><br><span class="line">acl SSL_ports port 443</span><br><span class="line">acl Safe_ports port 80# http</span><br><span class="line">acl Safe_ports port 21# ftp</span><br><span class="line">acl Safe_ports port 443# https</span><br><span class="line">acl Safe_ports port 70# gopher</span><br><span class="line">acl Safe_ports port 210# wais</span><br><span class="line">acl Safe_ports port 1025-65535  # unregistered ports</span><br><span class="line">acl Safe_ports port 280# http-mgmt</span><br><span class="line">acl Safe_ports port 488# gss-http</span><br><span class="line">acl Safe_ports port 591# filemaker</span><br><span class="line">acl Safe_ports port 777# multiling http</span><br><span class="line">acl CONNECT method CONNECT</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰éSafe_portsçš„è¯·æ±‚</span></span><br><span class="line">http_access deny !Safe_ports</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰éSSL_protsçš„CONNECTè¯·æ±‚</span></span><br><span class="line">http_access deny CONNECT !SSL_ports</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Only allow cachemgr access from localhost</span></span><br><span class="line">http_access allow localhost manager</span><br><span class="line"><span class="meta">#</span><span class="bash">http_access deny manager</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…è®¸æ¥è‡ªæœ¬åœ°çš„è¯·æ±‚</span></span><br><span class="line">http_access allow localhost</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#####################################</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">å®šä¹‰ä¸€ä¸ªå¤–éƒ¨ACLè¾…åŠ©å™¨</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä½¿ç”¨pythonè§£é‡Šå™¨ï¼Œnegativettlè¡¨ç¤ºéªŒè¯é”™è¯¯æ—¶çš„ç¼“å­˜æ—¶é—´å•ä½ç§’ï¼Œconcurrencyè¡¨ç¤ºæœ€å¤šæ¥æ”¶çš„è®¤è¯é€šè¿‡ç”¨æˆ·ï¼Œipv4å¿…é¡»ï¼Œå¦‚æœæ²¡æœ‰ipv4ä¼šæŠ¥é”™ã€‚</span></span><br><span class="line">external_acl_type MyAclHelper negative_ttl=1 concurrency=30 ipv4 %SRC /usr/bin/python /etc/squid/AclHelper.py</span><br><span class="line">acl MyAcl external MyAclHelper</span><br><span class="line">http_access allow MyAcl</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å®šä¹‰ä¸€ä¸ªéªŒè¯å™¨</span></span><br><span class="line"><span class="meta">#</span><span class="bash">æŒ‡å®špythonè¿è¡Œç›®å½•ï¼Œå’Œpythonç¨‹åºçš„ç›®å½•</span></span><br><span class="line">auth_param basic program /usr/bin/python /etc/squid/AuthPro.py</span><br><span class="line"><span class="meta">#</span><span class="bash">å‘pythonç¨‹åºä¸­è¾“å…¥key_extraså˜é‡å®¢æˆ·ç«¯ip<span class="string">&quot;%&gt;a&quot;</span></span></span><br><span class="line">auth_param basic key_extras &quot;%&gt;a&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">å…è®¸å¤šå°‘ä¸ªå­ç¨‹åº</span></span><br><span class="line">auth_param basic children 30</span><br><span class="line"><span class="meta">#</span><span class="bash">è¾“å…¥æ¡†æç¤ºä¿¡æ¯</span></span><br><span class="line">auth_param basic realm è¾“å…¥ç”¨æˆ·åå’Œå¯†ç </span><br><span class="line"><span class="meta">#</span><span class="bash">éªŒè¯ä¿¡æ¯çš„ç¼“å­˜æ—¶é•¿</span></span><br><span class="line">auth_param basic credentialsttl 1 second</span><br><span class="line"><span class="meta">#</span><span class="bash">ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦åŒºåˆ†å¤§å°å†™</span></span><br><span class="line">auth_param basic casesensitive on</span><br><span class="line"><span class="meta">#</span><span class="bash">å¼ºåˆ¶ç”¨æˆ·éªŒè¯</span></span><br><span class="line">acl authenticated proxy_auth REQUIRED</span><br><span class="line">http_access allow authenticated</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">###############################################</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰è¯·æ±‚ï¼Œæœ€åå…œåº•çš„è§„åˆ™</span></span><br><span class="line">http_access deny all</span><br></pre></td></tr></table></figure><blockquote><p>ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ol><li><p>å¿…é¡»è¾…åŠ©å™¨é…ç½®åœ¨å‰ï¼Œè€ŒéªŒè¯å™¨é…ç½®åœ¨åã€‚ç”±äºsquidç‰¹æ®Šçš„å¤„ç†æœºåˆ¶ï¼Œå½“squidä»é…ç½®æ–‡ä»¶æŒ‡å®šçš„http_accessä¸­æ‰¾åˆ°äº†ç¬¦åˆçš„æ¡ä»¶çš„allowæˆ–denyä¿¡æ¯ï¼Œåˆ™åç»­çš„åˆ¤æ–­å°†ä¸ä¼šå†ç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨ç”¨æˆ·æ— æ³•é€šè¿‡è¾…åŠ©å™¨éªŒè¯æ—¶ï¼Œæ‰ä¼šè¿›è¡ŒéªŒè¯å™¨éªŒè¯ã€‚</p></li><li><p>è¾…åŠ©å™¨å¿…é¡»è®¾ç½®negative_ttlé¡¹ï¼Œè€Œä¸”è®¾ç½®çš„ä¸é€šè¿‡éªŒè¯æ—¶é—´ä¸æ˜“è¿‡é•¿ï¼Œæœ€å¥½åœ¨å‡ ç§’å†…ã€‚åŸå› æ˜¯ï¼Œå½“ç”¨æˆ·è¿æ¥squidåï¼Œé¦–å…ˆé€šè¿‡è¾…åŠ©å™¨æŸ¥æ‰¾æ•°æ®åº“æ˜¯å¦æœ‰æ­¤ipï¼Œå¦‚æœæ²¡æœ‰è¾…åŠ©å™¨ä¼šç¼“å­˜æ­¤ipä¿¡æ¯ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºæœªé€šè¿‡éªŒè¯ï¼Œå†è¿›å…¥éªŒè¯å™¨ã€‚è€Œé€šå¸¸ï¼Œæˆ‘ä»¬é¦–å…ˆäºsquidè¿æ¥ä¸Šç½‘çš„å¹¶ä¸æ˜¯æµè§ˆå™¨ï¼Œå¯èƒ½æ”¶å¾®åšè½¯ä»¶ç­‰ï¼Œè¿™äº›è½¯ä»¶ç”±äºæ— æ³•å¼¹å‡ºéªŒè¯çª—å£ï¼Œè€Œå¯¼è‡´éªŒè¯å™¨éªŒè¯å¤±è´¥ã€‚æ­¤åå³ä¾¿ä½ æ‰“å¼€æµè§ˆå™¨ï¼Œè€Œç”±äºä¸Šä¸€æ¬¡çš„éªŒè¯å¤±è´¥è€Œç¼“å­˜äº†å¤±è´¥ä¿¡æ¯ï¼Œè‡´ä½¿ï¼Œsquidä¸ä¼šå†è¿›è¡Œè¾…åŠ©å™¨å’ŒéªŒè¯å™¨éªŒè¯ï¼Œè€Œç›´æ¥æ‹’ç»è®¿é—®ã€‚å› æ­¤è®¾ç½®éªŒè¯å¤±è´¥ç¼“å­˜æ—¶é—´çŸ­ç‚¹ï¼Œå¯ä»¥ä¿è¯æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨æ—¶ï¼Œè¿˜èƒ½è¿›å…¥è¾…åŠ©å™¨éªŒè¯å’ŒéªŒè¯å™¨éªŒè¯ã€‚</p></li><li><p>éªŒè¯å™¨å¿…é¡»è®¾ç½®credentialsttlé¡¹ï¼Œä¸”è®¾ç½®æ—¶é—´ä¸æ˜“è¿‡é•¿ï¼Œæœ€å¥½åœ¨å‡ ç§’å†…ã€‚ä¹‹æ‰€ä»¥éªŒè¯å™¨éªŒè¯æˆåŠŸçš„ç¼“å­˜ä¸èƒ½å¤ªé•¿ï¼Œæ˜¯å› ä¸ºå½“æˆ‘ä»¬é¦–æ¬¡é€šè¿‡éªŒè¯å™¨éªŒè¯åï¼Œsquidç¼“å­˜æˆåŠŸéªŒè¯çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¸‹æ¬¡ç”¨æˆ·åˆ™æ— éœ€å†æ¬¡ç»è¿‡éªŒè¯å™¨å¯†ç éªŒè¯ï¼Œç›´æ¥è¯»å–ç”¨æˆ·åå’Œipã€‚ä½†æ˜¯ç”±äºsquidç¼“å­˜çš„æ˜¯ç”¨æˆ·çš„ipå’Œç”¨æˆ·åï¼Œå¦‚æœä½ ä½¿ç”¨äº†å¾®åšç­‰æ²¡æœ‰éªŒè¯æ¡†çš„è½¯ä»¶ï¼Œç”±äºæ²¡æœ‰å‘squidå‘é€ç”¨æˆ·åï¼Œä¼šå¯¼è‡´æ— æ³•è”ç½‘ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åˆ©ç”¨éªŒè¯å™¨ï¼Œåªæ˜¯ä¸ºäº†ä¿å­˜æˆåŠŸéªŒè¯çš„ç”¨æˆ·ipï¼Œç„¶åé€šè¿‡è¾…åŠ©å™¨æ¥éªŒè¯ç”¨æˆ·ã€‚æ‰€ä»¥ï¼Œé€šè¿‡ååˆ™æ¸…é™¤éªŒè¯å™¨çš„ç¼“å­˜ã€‚</p><p>ç”¨æˆ·å†æ¬¡ä¸Šç½‘ï¼Œä¾¿ä¼šé¦–å…ˆç»è¿‡è¾…åŠ©å™¨ï¼Œæ­¤æ—¶è¾…åŠ©å™¨å·²ç»èƒ½ä»æ•°æ®åº“è¯»å–åˆ°åˆšæ‰éªŒè¯å™¨ä¿å­˜çš„å®¢æˆ·ipã€‚è¾…åŠ©å™¨ï¼Œå¯ä»¥è®¾ç½®æ¯”è¾ƒä¹…çš„æˆåŠŸttlæ—¶é•¿ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªå°æ—¶ã€‚</p></li></ol></blockquote><h1 id="5ï¼šå‚è€ƒèµ„æ–™"><a href="#5ï¼šå‚è€ƒèµ„æ–™" class="headerlink" title="5ï¼šå‚è€ƒèµ„æ–™"></a>5ï¼šå‚è€ƒèµ„æ–™</h1><p>ã€Š<a href="http://blog.zyan.cc/book/squid/">squidä¸­æ–‡æƒå¨æŒ‡å—</a>ã€‹</p><p>ã€Š<a href="http://www.site-digger.com/html/articles/20161012/132.html">ç”¨Pythonè„šæœ¬æ‰“é€ Squidæƒé™è®¤è¯åç«¯ç¨‹åºä»¥åŠSquid3.5 auth_param key_extrasæ–°ç‰¹æ€§ä»‹ç»</a>ã€‹</p><p>ã€Š<a href="https://www.hawu.me/operation/852">ä½¿ç”¨squidæ­å»ºä»£ç†æœåŠ¡å™¨</a>ã€‹</p><p>ã€Š<a href="https://wiki.squid-cache.org/Features/AddonHelpers">Feature: Add-On Helpers for Request Manipulation</a>ã€‹</p><p>ã€Š<a href="https://stackoverflow.com/questions/26601943/how-to-configure-squid-to-pass-client-ip-to-authenticate-program?rq=1">stackoverflowä¸Šå…³äºè‡ªå®šä¹‰éªŒè¯å™¨è¾“å…¥å®¢æˆ·ç«¯IPçš„å›ç­”</a>ã€‹</p><blockquote><p>æœ€åï¼Œæ„Ÿè°¢<a href="https://www.hawu.me/">https://www.hawu.me</a>  ç«™é•¿ï¼Œæä¾›çš„ä¸€äº›å¸®åŠ©ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Squid </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨Stunnel+Squidä»£ç†å®ç°å›½å†…æ— å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘</title>
      <link href="/2020/05/28/%E5%88%A9%E7%94%A8Stunnel+squid%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E5%9B%BD%E5%86%85%E6%97%A0%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%BF%E9%97%AE%E5%A4%96%E7%BD%91/"/>
      <url>/2020/05/28/%E5%88%A9%E7%94%A8Stunnel+squid%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E5%9B%BD%E5%86%85%E6%97%A0%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%BF%E9%97%AE%E5%A4%96%E7%BD%91/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šåŠ é€ŸåŸç†"><a href="#1ï¼šåŠ é€ŸåŸç†" class="headerlink" title="1ï¼šåŠ é€ŸåŸç†"></a>1ï¼šåŠ é€ŸåŸç†</h1><h2 id="1-1-squidä»‹ç»"><a href="#1-1-squidä»‹ç»" class="headerlink" title="1.1 squidä»‹ç»"></a>1.1 squidä»‹ç»</h2><p>squidæ˜¯ä¸€ä¸ªç”¨äºä»£ç†çš„å¼€æºè½¯ä»¶ï¼Œç”¨æˆ·ä¸»æœºå°†httpè¯·æ±‚å‘é€åˆ°éƒ¨ç½²äº†squidçš„æœåŠ¡å™¨ï¼Œsquidå¯ä»¥å¸®åŠ©ç”¨æˆ·è½¬å‘httpè¯·æ±‚ã€‚åˆ©ç”¨squidï¼Œæˆ‘ä»¬å¯ä»¥è®©æœåŠ¡å™¨æ›¿æˆ‘ä»¬è¯·æ±‚æ•°æ®ï¼Œå†ç”±æœåŠ¡å™¨è½¬å‘ç»™æˆ‘ä»¬ã€‚</p><p>æŒ‰æ‰¾squidåŸç†ï¼Œæˆ‘ä»¬å°±å·²ç»å¯ä»¥è¿›è¡Œç¿»å¢™äº†ï¼Œåœ¨å›½å†…èƒ½å¤Ÿè®¿é—®çš„å›½å¤–æœåŠ¡å™¨ä¸Šéƒ¨ç½²squidï¼Œå°†è®¿é—®è°·æ­Œçš„è¯·æ±‚å‘é€ç»™squidï¼Œsquidæ›¿æˆ‘ä»¬è¯·æ±‚è°·æ­Œæ•°æ®ï¼Œå†å°†è°·æ­Œæ•°æ®è½¬å‘ç»™æˆ‘ä»¬ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ä½œè¿‡ç¨‹ã€‚</p><p>ä½†æ˜¯ç”±äºsquidè¯·æ±‚æŠ¥å¤´æœªåŠ å¯†ï¼Œåœ¨squidæœåŠ¡å™¨å‘æµè§ˆå™¨è¿”å›æ•°æ®æ—¶ï¼Œèƒ½å¤Ÿè¢«GFWæ£€æµ‹åˆ°è®¿é—®æ•°æ®æ¥è‡ªäºè°·æ­Œã€‚ä»è€Œå°†è¿”å›æ•°æ®è¿‡æ»¤æ‰ã€‚ä¹‹åé€šè¿‡squidè¿”å›çš„æ•°æ®ï¼Œéƒ½ä¼šè¢«GFWè¿‡æ»¤æ‰ï¼Œå³ä½¿æˆ‘ä»¬è®¿é—®çš„æ˜¯ç™¾åº¦ï¼Œä¹Ÿä¼šæ— æ³•æ”¶åˆ°è¿”å›æ•°æ®ã€‚</p><h2 id="1-2-Httpsä»‹ç»"><a href="#1-2-Httpsä»‹ç»" class="headerlink" title="1.2 Httpsä»‹ç»"></a>1.2 Httpsä»‹ç»</h2><p>è¿™ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº†åŠ å¯†çš„åŸç†ï¼š<a href="https://blog.csdn.net/clh604/article/details/22179907">https://blog.csdn.net/clh604/article/details/22179907</a></p><p><img src="https://ae01.alicdn.com/kf/Hdb6994b2de5f42e7adca8620e915331aQ.png" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hdb6994b2de5f42e7adca8620e915331aQ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="SSL"></p><h2 id="1-3-stunnelä»‹ç»"><a href="#1-3-stunnelä»‹ç»" class="headerlink" title="1.3 stunnelä»‹ç»"></a>1.3 stunnelä»‹ç»</h2><p>stunnelæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶ï¼Œä½¿ç”¨stunnelå¯ä»¥ä¸ºæˆ‘ä»¬ä½¿ç”¨tcpåè®®ä¼ è¾“çš„æ•°æ®ä½¿ç”¨SSLåè®®åŠ å¯†ï¼Œè¿™æ ·æˆ‘ä»¬çš„è¯·æ±‚ï¼Œé™¤äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œå…¶ä»–äººå°†æ— æ³•ä»æ•°æ®ä¸­æå–åˆ°æœ‰ç”¨ä¿¡æ¯ã€‚</p><p>ä¸ºäº†è®©GFWæ— æ³•è¯†åˆ«å‡ºä¸»æœºè®¿é—®è°·æ­Œå’Œè¿”å›çš„æ•°æ®æ¥è‡ªè°·æ­Œã€‚è¿™é‡Œä½¿ç”¨stunnelå°†ä¸»æœºå’Œsquidä¹‹é—´çš„é€šä¿¡æ•°æ®åŠ å¯†ï¼Œå°†httpè¯·æ±‚çš„æŠ¥å¤´ä¹ŸåŠ å¯†ã€‚</p><h2 id="1-4-ä»£ç†è¿‡ç¨‹"><a href="#1-4-ä»£ç†è¿‡ç¨‹" class="headerlink" title="1.4 ä»£ç†è¿‡ç¨‹"></a>1.4 ä»£ç†è¿‡ç¨‹</h2><p>åœ¨windowsä¸»æœºä¸Šè®¾ç½®å…¨å±€ä»£ç†ï¼Œå°†windowsçš„tcpè¯·æ±‚ï¼Œè½¬å‘åˆ°å›½å†…æœåŠ¡å™¨server 1ä¸Šï¼Œå›½å†…æœåŠ¡å™¨server 1ä¸å›½å¤–æœåŠ¡å™¨server 2æ­å»ºstunnelåŠ å¯†éš§é“è¿æ¥ï¼Œå›½å¤–æœåŠ¡å™¨server 2åˆ©ç”¨squidï¼Œå‘é€ä¸»æœºçš„è®¿é—®è¯·æ±‚ï¼Œå¹¶å°†è®¿é—®ç»“æœè¿”å›ç»™server 1ï¼Œserver 1åœ¨å‘é€ç»™ä¸»æœºæµè§ˆå™¨ã€‚åŠ é€ŸåŸç†å¦‚ä¸‹å›¾ã€‚</p><p>é€šå¸¸å¯ä»¥åªåˆ©ç”¨ä¸€ä¸ªå›½å¤–æœåŠ¡å™¨ï¼Œåœ¨å›½å¤–æœåŠ¡å™¨ä¸Šéƒ¨ç½²stunnelå’Œsquidï¼Œåœ¨æœ¬åœ°ä¸»æœºä¸Šæ­å»ºstunnelå®¢æˆ·ç«¯å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹å›¾</p><p><img src="https://ae01.alicdn.com/kf/H4ae21783bed543d7b6102e79eb735c89n.png" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H4ae21783bed543d7b6102e79eb735c89n.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä½†æ˜¯ï¼Œä¸ºäº†è®¿é—®æ–¹ä¾¿ï¼Œå³ä»»ä½•ç”¨æˆ·åªéœ€è¦è®¾ç½®windowsä¸Šç°æœ‰çš„ä»£ç†æœåŠ¡å™¨å°±èƒ½è®¿é—®å¤–ç½‘ï¼Œè€Œä¸éœ€è¦ä¸‹è½½stunnelå®¢æˆ·ç«¯å’Œé…ç½®å®¢æˆ·ç«¯å‚æ•°ã€‚</p><p>ç›¸æ¯”äºä¸»æœºä½¿ç”¨Stunnelå®¢æˆ·ç«¯ï¼Œå°†stunnelå®¢æˆ·ç«¯éƒ¨ç½²åˆ°å›½å†…æœåŠ¡å™¨çš„ç¼ºç‚¹æ˜¯ï¼šè¿™éœ€è¦å›½å†…å¤–å‡æœ‰æœåŠ¡å™¨ã€‚æˆæœ¬ä¼šæ›´é«˜ã€‚</p><p>æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸å›½å†…æœåŠ¡å™¨ä¹‹é—´çš„ä¿¡æ¯è¢«æŠ“å–åï¼Œèƒ½å¤Ÿè·å–åˆ°æˆ‘ä»¬è®¿é—®çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯è°·æ­Œã€ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬ç­‰ï¼Œä½†æ˜¯æ— æ³•çŸ¥é“å…·ä½“è®¿é—®å†…å®¹ã€‚ç”±äºæ˜¯ä¸å›½å†…æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œå› æ­¤è¢«æ¢æµ‹çš„å‡ ç‡å¾ˆå°ã€‚</p><h1 id="2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®"><a href="#2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®" class="headerlink" title="2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®"></a>2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®</h1><p>ä¸ºäº†è®©é˜…è¯»æœ¬æ–‡çš„è¯»è€…ï¼Œæå‰çš„çœ‹åˆ°æˆæœï¼Œå°†server1å’Œserver2éƒ½é…ç½®å¥½åï¼Œå…ˆä»‹ç»å¦‚ä½•åˆ©ç”¨ä½ æ­å»ºå¥½çš„æœåŠ¡å™¨è®¿é—®å¤–ç½‘ã€‚</p><ol><li>æ‰“å¼€<code>ä»£ç†æœåŠ¡å™¨è‰²è®¾ç½®</code></li></ol><p><img src="https://ae01.alicdn.com/kf/H70a59c178af24750b89d0d045ee16845R.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H70a59c178af24750b89d0d045ee16845R.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="2"><li>åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šè¾“å…¥å›½å†…æœåŠ¡å™¨server1çš„IPå’Œstunnelå®¢æˆ·ç«¯ç›‘å¬çš„ç«¯å£å·ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/Hcc9e9c1620b24b3da68519ffef92fd10N.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hcc9e9c1620b24b3da68519ffef92fd10N.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li>ä½¿ç”¨æµè§ˆå™¨ç™»é™†google</li></ol><p><img src="https://ae01.alicdn.com/kf/H2000b41723ff444bb46c057eee0bc5635.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H2000b41723ff444bb46c057eee0bc5635.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å®é™…ä¸Šä½¿ç”¨å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚å½“ç„¶ä¸ºäº†ä½ æ­å»ºçš„éš§é“ä¸ä¼šè¢«å…¶ä»–äººä½¿ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹èƒ½å¤Ÿè®¿é—®è¿™æ¡éš§é“çš„IPè¿›è¡Œé™åˆ¶ï¼Œæˆ–è€…è®¾ç½®ä¸€ä¸ªå¯†ç ã€‚ä¼šåœ¨åç»­ä¸­ä»‹ç»åˆ°ã€‚</p><h1 id="3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®"><a href="#3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®" class="headerlink" title="3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®"></a>3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®</h1><p>ç¡®ä¿åœ¨æœåŠ¡å•†å®‰å…¨ç»„é‡Œå¼€æ”¾äº†3128å’Œ3129ç«¯å£ï¼Œè¿™ä¸¤ä¸ªç«¯å£ï¼Œå°†ç”¨äºæ¥æ”¶å’Œè½¬å‘æ•°æ®ã€‚</p><h2 id="3-1-å®‰è£…é…ç½®Squid"><a href="#3-1-å®‰è£…é…ç½®Squid" class="headerlink" title="3.1 å®‰è£…é…ç½®Squid"></a>3.1 å®‰è£…é…ç½®Squid</h2><ol><li>å®‰è£…squid</li></ol><p>ubuntuä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install squid</span><br></pre></td></tr></table></figure><p>centosä½¿ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install squid</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>squid -v</code>æ£€æŸ¥squidæ˜¯å¦å®‰è£…å¥½ã€‚</p><ol start="2"><li>é…ç½®squid</li></ol><p>æ‰“å¼€squidé…ç½®æ–‡ä»¶<code>/etc/squid/squid.conf</code>ã€‚æ²¡æœ‰å°±æ–°å»ºæ­¤æ–‡ä»¶</p><p>å°†æ–‡ä»¶å†…å®¹ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> http_port è®¾ç½®ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ä¸º3128</span></span><br><span class="line">http_port 3128</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> access_log è®¾ç½®accessæ—¥å¿—ï¼Œdaemonè¡¨ç¤ºåœ¨åå°å°†æ—¥å¿—å†™å…¥/var/<span class="built_in">log</span>/squid/access.logæ–‡ä»¶, </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> combinedæ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„logformatï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„logformat</span></span><br><span class="line">access_log daemon:/var/log/squid/access.log combined</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> visible_hotname è®¾ç½®ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºå</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é»˜è®¤å–æœ¬æœºçš„hostname</span></span><br><span class="line">visible_hostname funway.aliyun.proxy</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ACLs all, manager, localhost, and to_localhost are predefined.</span></span><br><span class="line">acl SSL_ports port 443</span><br><span class="line">acl Safe_ports port 80    # http</span><br><span class="line">acl Safe_ports port 21    # ftp</span><br><span class="line">acl Safe_ports port 443    # https</span><br><span class="line">acl Safe_ports port 70    # gopher</span><br><span class="line">acl Safe_ports port 210    # wais</span><br><span class="line">acl Safe_ports port 1025-65535  # unregistered ports</span><br><span class="line">acl Safe_ports port 280    # http-mgmt</span><br><span class="line">acl Safe_ports port 488    # gss-http</span><br><span class="line">acl Safe_ports port 591    # filemaker</span><br><span class="line">acl Safe_ports port 777    # multiling http</span><br><span class="line">acl CONNECT method CONNECT</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰éSafe_portsçš„è¯·æ±‚</span></span><br><span class="line">http_access deny !Safe_ports</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰éSSL_protsçš„CONNECTè¯·æ±‚</span></span><br><span class="line">http_access deny CONNECT !SSL_ports</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Only allow cachemgr access from localhost</span></span><br><span class="line">http_access allow localhost manager</span><br><span class="line">http_access deny manager</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…è®¸æ¥è‡ªæœ¬åœ°çš„è¯·æ±‚</span></span><br><span class="line">http_access allow localhost</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰è¯·æ±‚ï¼Œæœ€åå…œåº•çš„è§„åˆ™</span></span><br><span class="line">http_access deny all</span><br></pre></td></tr></table></figure><p>æ›´å¤šè¯¦ç»†çš„é…ç½®å‚æ•°è§£é‡Šï¼Œè¯·å‚è€ƒåšæ–‡ã€Š<a href="https://www.hawu.me/operation/852">ä½¿ç”¨squidæ­å»ºä»£ç†æœåŠ¡å™¨</a>ã€‹</p><p>é…ç½®squidåªèƒ½æœ¬åœ°åœ°å€è®¿é—®ã€‚</p><ol start="3"><li>è¿è¡Œsquid</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service squid start //è¿è¡Œ</span><br><span class="line">service squid status //æŸ¥çœ‹squidè¿è¡ŒçŠ¶æ€</span><br></pre></td></tr></table></figure><h2 id="3-2-å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯"><a href="#3-2-å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯" class="headerlink" title="3.2 å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯"></a>3.2 å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯</h2><ol><li>ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼Œå¦‚æœæ²¡æœ‰openssléœ€è¦å…ˆå®‰è£…ã€‚</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -x509 -days 3650 -nodes -out stunnel.pem -keyout stunnel.pem</span><br></pre></td></tr></table></figure><p>å°†ç”Ÿæˆçš„è¯ä¹¦ï¼Œå¤åˆ¶åˆ°/etc/stunnelæ–‡ä»¶å¤¹ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp stunnel.pem /etc/stunnel</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¯ä¹¦è¿˜éœ€è¦ä¸‹è½½åˆ°ä¸»æœºï¼Œä¹‹åä¸Šä¼ åˆ°å›½å†…æœåŠ¡å™¨ï¼Œç”¨äºä¸ºstunnleå®¢æˆ·ç«¯è®¾ç½®çš„å…¬é’¥ã€‚</p><ol><li>ä¸‹è½½å®‰è£…stunnel</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install stunnel</span><br></pre></td></tr></table></figure><ol start="2"><li>è®¾ç½®stunnelé…ç½®æ–‡ä»¶</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">; è®¾ç½®å·¥ä½œç›®å½•ï¼Œæ²¡æœ‰ç›®å½•éœ€è¦å…ˆåˆ›å»º</span><br><span class="line">chroot = /var/run/stunnel/</span><br><span class="line">; è®¾ç½®stunnelçš„pidæ–‡ä»¶è·¯å¾„ï¼ˆåœ¨chrootä¸‹ï¼‰</span><br><span class="line">pid = /stunnel.pid</span><br><span class="line">; è®¾ç½®stunnelå·¥ä½œçš„ç”¨æˆ·ï¼ˆç»„ï¼‰</span><br><span class="line">setuid = root</span><br><span class="line">setgid = root</span><br><span class="line"></span><br><span class="line">; å¼€å¯æ—¥å¿—ç­‰çº§ï¼šemerg (0), alert (1), crit (2), err (3), warning (4), notice (5), info (6), or debug (7)</span><br><span class="line">; é»˜è®¤ä¸º5</span><br><span class="line">debug = 7</span><br><span class="line">; æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼ˆæˆ‘çš„serverçš„ç‰ˆæœ¬æœ‰ä¸ªbugï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿè¢«æ”¾åœ¨chrootè·¯å¾„ä¸‹äº†ï¼Œclientçš„ç‰ˆæœ¬åˆ™æ˜¯ç‹¬ç«‹çš„=ã€‚=#ï¼‰</span><br><span class="line">output = /stunnel.log</span><br><span class="line"></span><br><span class="line">; è¯ä¹¦æ–‡ä»¶ï¼Œå°±æ˜¯åœ¨æœ¬æ–‡2.2ä¸­ç”¨opensslç”Ÿæˆçš„è‡ªç­¾åè¯ä¹¦ï¼ˆserverç«¯å¿…é¡»è®¾ç½®è¿™ä¸¤é¡¹ï¼‰</span><br><span class="line">cert = /etc/stunnel/stunnel.pem</span><br><span class="line">; ç§é’¥æ–‡ä»¶</span><br><span class="line">key = /etc/stunnel/stunnel.pem</span><br><span class="line"></span><br><span class="line">; è®¾ç½®stunnelæœåŠ¡ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªæœåŠ¡ï¼Œç›‘å¬åŒçš„ç«¯å£ï¼Œå¹¶å‘ç»™ä¸åŒçš„serverã€‚</span><br><span class="line">; è‡ªå®šä¹‰æœåŠ¡åsquid-proxy</span><br><span class="line">[squid-proxy]</span><br><span class="line">; æœåŠ¡ç›‘å¬çš„ç«¯å£ï¼Œclientè¦è¿æ¥è¿™ä¸ªç«¯å£ä¸serveré€šä¿¡</span><br><span class="line">accept = 3129</span><br><span class="line">; æœåŠ¡è¦è¿æ¥çš„ç«¯å£ï¼Œè¿æ¥åˆ°squidçš„3128ç«¯å£ï¼Œå°†æ•°æ®å‘ç»™squid</span><br><span class="line">connect = localhost:3128</span><br><span class="line"></span><br><span class="line">; **************************************************************************</span><br><span class="line">; * ä¸‹é¢è¿™äº›é…ç½®æˆ‘éƒ½æ³¨é‡Šæ‰äº†ï¼Œä½†ä¹Ÿéœ€è¦äº†è§£ä¸‹ *</span><br><span class="line">; **************************************************************************</span><br><span class="line"></span><br><span class="line">; è®¾ç½®æ˜¯å¦å¯¹ä¼ è¾“æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œé»˜è®¤ä¸å¼€å¯ã€‚</span><br><span class="line">; è¿™æ˜¯è·Ÿopensslç›¸å…³çš„ï¼Œå¦‚æœä½ çš„opensslæ²¡æœ‰zlibï¼Œå¼€å¯è¿™ä¸ªè®¾ç½®ä¼šå¯¼è‡´å¯åŠ¨å¤±è´¥ï¼ˆfailed to initialize compression methodï¼‰</span><br><span class="line">;compression = zlib</span><br><span class="line"></span><br><span class="line">; è®¾ç½®sslç‰ˆæœ¬,è¿™ä¸ªä¹Ÿæ˜¯è·Ÿå®‰è£…çš„opensslæœ‰å…³çš„</span><br><span class="line">;sslVersion = TLSv1</span><br><span class="line"></span><br><span class="line">; Authentication stuff needs to be configured to prevent MITM attacks</span><br><span class="line">; It is important to understand that this option was solely designed for access control and not for authorization</span><br><span class="line">; It is not enabled by default!</span><br><span class="line">; ä¸‹é¢è¿™äº›é…ç½®ç”¨æ¥å®šä¹‰æ˜¯å¦ä¿¡ä»»å¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦ã€‚å°±å¥½æ¯”æµè§ˆå™¨è®¿é—®httpsçš„æ—¶å€™ï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä¿¡ä»»é‚£äº›ç”±æƒå¨CAæœºæ„ç­¾å‘çš„è¯ä¹¦ï¼Œ</span><br><span class="line">; å¯¹äºé‚£äº›è‡ªç­¾åè¯ä¹¦ï¼Œæµè§ˆå™¨å°±ä¼šå¼¹å‡ºå¯¹è¯æ¡†æé†’ç”¨æˆ·è¿™ä¸ªè¯ä¹¦å¯èƒ½ä¸å®‰å…¨ï¼Œæ˜¯å¦è¦ä¿¡ä»»è¯¥è¯ä¹¦ã€‚</span><br><span class="line">; è¿™æ˜¯æœ‰æ•ˆé˜²æ­¢ä¸­é—´äººæ”»å‡»çš„æ‰‹æ®µ</span><br><span class="line">; verify ç­‰çº§2è¡¨ç¤ºéœ€è¦éªŒè¯å¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦ï¼ˆé»˜è®¤0ï¼Œä¸éœ€è¦éªŒè¯ï¼Œéƒ½ä¿¡ä»»ï¼‰</span><br><span class="line">; å› ä¸ºè¿™ä¸ªé…ç½®æ˜¯serverç«¯çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç†ä¼šclientçš„è¯ä¹¦ï¼ˆclientä¹Ÿä¸ä¼šæ²¡äº‹å‘è¯ä¹¦è¿‡æ¥å•¦ï¼‰</span><br><span class="line">;verify = 2</span><br><span class="line">; CAfile è¡¨ç¤ºå—ä¿¡çš„è¯ä¹¦æ–‡ä»¶ï¼Œå³å¦‚æœå¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦åœ¨è¿™ä¸ªCAfileé‡Œï¼Œé‚£ä¹ˆå°±æ˜¯å—ä¿¡ä»»çš„è¯ä¹¦ï¼›å¦åˆ™ä¸ä¿¡ä»»è¯¥è¯ä¹¦ï¼Œæ–­å¼€è¿æ¥ã€‚</span><br><span class="line">;CAfile = /etc/stunnel/stunnel-client.pem</span><br></pre></td></tr></table></figure><ol start="3"><li>å¯åŠ¨åœæ­¢stunnel</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service stunnel start //å¼€å¯stunnel</span><br><span class="line">service stunnel restart //é‡å¯</span><br><span class="line">service stunnel stop //åœæ­¢</span><br><span class="line">service stunnel status  //æŸ¥çœ‹çŠ¶æ€</span><br></pre></td></tr></table></figure><h1 id="4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯"><a href="#4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯" class="headerlink" title="4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯"></a>4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯</h1><p>å›½å†…æœåŠ¡å™¨ï¼Œå°±æ˜¯åœ¨æµè§ˆå™¨ä»£ç†è®¾ç½®ä¸­ï¼Œå¡«å…¥çš„æœåŠ¡å™¨IPï¼Œè€Œç«¯å£ï¼Œåˆ™æ˜¯stunnelæ¥æ”¶ä»£ç†æ•°æ®çš„ç«¯å£ã€‚</p><ol><li>åœ¨æœåŠ¡å™¨æä¾›å•†ç½‘é¡µä¸­çš„å®‰å…¨ç»„è®¾ç½®é‡Œå¼€å¯stunnelæ¥æ”¶æ•°æ®çš„ç«¯å£ã€‚</li></ol><p>æœ¬äººä½¿ç”¨çš„é˜¿é‡Œäº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œè¿›å…¥é˜¿é‡Œäº‘æ§åˆ¶å°ç›¸åº”é¡µé¢åï¼Œæ‰¾åˆ°å®‰å…¨ç»„-&gt;é˜²ç«å¢™-&gt;æ·»åŠ æ–°è§„åˆ™ã€‚åœ¨æ–°è§„åˆ™é‡Œï¼Œå¼€æ”¾ï¼ŒTCPåè®®çš„3128æ¥å£ã€‚ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ¥å£ã€‚</p><ol start="2"><li>é…ç½®å¥½å®‰å…¨ç»„åï¼Œé˜¿é‡Œäº‘æœåŠ¡å™¨æœ¬èº«è¿˜æœ‰ä¸€ä¸ªé˜²ç«å¢™ï¼Œè¿˜éœ€è¦åœ¨æœåŠ¡å™¨é‡Œå¼€æ”¾3128ç«¯å£ã€‚</li></ol><p>æŸ¥çœ‹å¼€æ”¾ç«¯å£ï¼Œå¦‚æœæ²¡æœ‰firewallï¼Œè¯·å…ˆå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --list-all</span><br></pre></td></tr></table></figure><p>è®¾ç½®éœ€è¦å¼€æ”¾çš„ç«¯å£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=3128/tcp --permanent//è®¾ç½®</span><br><span class="line">firewall-cmd --reload//ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å†æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£ï¼Œå°±èƒ½çœ‹åˆ°3128ç«¯å£å·²å¼€æ”¾ã€‚</p><ol start="3"><li>å®‰è£…stunnelå®¢æˆ·ç«¯ã€‚</li></ol><p>ubuntuä½¿ç”¨:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install stunnel</span><br></pre></td></tr></table></figure><p>centosä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install stunnel</span><br></pre></td></tr></table></figure><ol start="4"><li>è®¾ç½®stunnelå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">; stunnelå·¥ä½œç›®å½•,å¦‚æœæ²¡æœ‰/var/run/stunnelæ–‡ä»¶å¤¹ï¼Œéœ€å…ˆåˆ›å»º</span><br><span class="line">chroot = /var/run/stunnel/</span><br><span class="line">; stunnelå·¥ä½œçš„ç”¨æˆ·ç»„</span><br><span class="line">setuid = root</span><br><span class="line">setgid = root</span><br><span class="line">; stunnelå·¥ä½œæ—¶å€™çš„pid</span><br><span class="line">pid = /stunnel.pid</span><br><span class="line">; æ—¥å¿—ç­‰çº§</span><br><span class="line">debug = 7</span><br><span class="line">; æ—¥å¿—æ–‡ä»¶</span><br><span class="line">output = /var/log/stunnel/stunnel.log</span><br><span class="line">; è¡¨ç¤ºä»¥clientæ¨¡å¼å¯åŠ¨stunnelï¼Œé»˜è®¤client = noï¼Œå³serveræ¨¡å¼</span><br><span class="line">client = yes</span><br><span class="line">; å®šä¹‰ä¸€ä¸ªæœåŠ¡</span><br><span class="line">[squid-proxy]</span><br><span class="line">; ç›‘å¬3128ç«¯å£ï¼Œé‚£ä¹ˆç”¨æˆ·æµè§ˆå™¨çš„ä»£ç†è®¾ç½®å°±æ˜¯ stunnel-client-ip:3128</span><br><span class="line">accept = 3128</span><br><span class="line">; è¦è¿æ¥åˆ°çš„stunnel serverçš„ipä¸ç«¯å£ï¼Œä¿®æ”¹xx.xx.xx.xxä¸ºå›½å¤–çš„æœåŠ¡å™¨</span><br><span class="line">connect = xx.xx.xx.xx:3129</span><br><span class="line">; éœ€è¦éªŒè¯å¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦</span><br><span class="line">verify = 2</span><br><span class="line">; ç”¨æ¥è¿›è¡Œè¯ä¹¦éªŒè¯çš„æ–‡ä»¶ï¼ˆé‡Œé¢æœ‰stunnel serverçš„è¯ä¹¦ï¼‰</span><br><span class="line">CAfile = /etc/stunnel/stunnel-server.pem</span><br><span class="line">; å®¢æˆ·ç«¯ä¸éœ€è¦ä¼ é€’è‡ªå·±çš„è¯ä¹¦ï¼Œæ‰€ä»¥æ³¨é‡Šæ‰</span><br><span class="line">;cert = /etc/stunnel/stunnel.pem</span><br><span class="line">;key = /etc/stunnel/stunnel.key</span><br></pre></td></tr></table></figure><ol start="5"><li>å°†stunnleå…¬é’¥è¯ä¹¦æ‹·è´ä¸€ä»½åˆ°stunnelå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶çš„æŒ‡å®šåœ°å€ä¸Šã€‚</li></ol><p>é…ç½®æ–‡ä»¶é‡Œ<code>CAfile = /etc/stunnel/stunnel-server.pem</code>å†™æ˜äº†æˆ‘ä»¬éœ€è¦å°†å…¬é’¥ä¿å­˜çš„ä½ç½®å’Œå…¬é’¥çš„æ–‡ä»¶åã€‚</p><p>æˆ‘ä»¬åªéœ€è¦å°†ï¼Œ3.2èŠ‚ç”Ÿæˆçš„è¯ä¹¦æ‰“å¼€ï¼Œå¤åˆ¶å·²<code>BEGIN CERTIFICATION</code>å¼€å¤´åˆ°<code>END CERTIFICATION</code>ç»“æŸçš„å…¬é’¥ã€‚ç„¶åï¼Œæ–°å»º<code>/etc/stunnel/stunnel-server.pem</code>æ–‡ä»¶ï¼Œå°†å…¬é’¥ç²˜è´´è¿›å»ã€‚</p><p>è¿™æ ·stunnelå®¢æˆ·ç«¯å°±èƒ½å°†æ•°æ®åŠ å¯†åå‘é€ç»™stunnelæœåŠ¡å™¨äº†ã€‚</p><ol start="6"><li>å¯åŠ¨å’Œåœæ­¢stunnel</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service stunnel start &#x2F;&#x2F;å¼€å¯stunnel</span><br><span class="line">service stunnel restart &#x2F;&#x2F;é‡å¯</span><br><span class="line">service stunnel stop &#x2F;&#x2F;åœæ­¢</span><br><span class="line">service stunnel status  &#x2F;&#x2F;æŸ¥çœ‹çŠ¶æ€</span><br></pre></td></tr></table></figure><h1 id="5ï¼šä¸è¶³å’Œä¼˜åŒ–"><a href="#5ï¼šä¸è¶³å’Œä¼˜åŒ–" class="headerlink" title="5ï¼šä¸è¶³å’Œä¼˜åŒ–"></a>5ï¼šä¸è¶³å’Œä¼˜åŒ–</h1><h2 id="5-1-ä»£ç†æ–¹æ³•çš„ä¸è¶³"><a href="#5-1-ä»£ç†æ–¹æ³•çš„ä¸è¶³" class="headerlink" title="5.1 ä»£ç†æ–¹æ³•çš„ä¸è¶³"></a>5.1 ä»£ç†æ–¹æ³•çš„ä¸è¶³</h2><ol><li><p>ç”±äºå®¢æˆ·ç«¯çš„stunnelç›´æ¥ç›‘å¬3128ç«¯å£ï¼Œè€Œæ²¡æœ‰ä»»ä½•çš„éªŒè¯å’Œè®¿é—®é™åˆ¶ï¼Œå› æ­¤ï¼Œä»»ä½•çŸ¥é“ipå’Œç«¯å£çš„äººéƒ½èƒ½é€šè¿‡è®¾ç½®ä»£ç†ï¼Œä½¿ç”¨ä½ çš„ä»£ç†æ¥å£ã€‚</p></li><li><p>stunnelæœåŠ¡ç«¯æ²¡æœ‰è®¾ç½®å¯¹å®¢æˆ·ç«¯çš„è¯ä¹¦éªŒè¯ï¼Œä»»ä½•é€šè¿‡è‡ªå»ºstunnelå®¢æˆ·ç«¯çš„äººï¼Œéƒ½æœ‰å¯èƒ½ä½¿ç”¨ä½ çš„stunnelæœåŠ¡ï¼Œè¿›è¡Œé€šä¿¡ã€‚</p></li></ol><h2 id="5-2-ä¼˜åŒ–"><a href="#5-2-ä¼˜åŒ–" class="headerlink" title="5.2 ä¼˜åŒ–"></a>5.2 ä¼˜åŒ–</h2><ol><li>é…ç½®squidç”¨æˆ·æˆæƒï¼Œå³åœ¨ç”¨æˆ·ä½¿ç”¨ä»£ç†ä¸Šç½‘æ—¶ï¼Œå¼¹å‡ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¾“å…¥æ­£ç¡®ï¼Œæ‰èƒ½ä½¿ç”¨squid</li></ol><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶<code>/etc/squid/squid.conf</code>ï¼Œåœ¨<code>http_access deny all</code>ä¹‹å‰è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼Œå¹¶æ³¨é‡Šæ‰<code>http_access allow localhost</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> auth_param è®¾ç½®ä»£ç†çš„è®¤è¯æ–¹å¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨æ³•ï¼šauth_param scheme parameter [setting]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> schemeè¡¨ç¤ºè®¤è¯æœºåˆ¶ï¼Œsquidæ”¯æŒBasicï¼ŒDigestï¼ŒNTLMï¼ŒNegotiateå››ç§è®¤è¯æœºåˆ¶</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> program è®¾ç½®è®¤è¯ç¨‹åºä¸ºncsa_authï¼ˆsquidè‡ªå¸¦ä¸å°‘è®¤è¯ç¨‹åºä»¥åŠå…¶ä»–æ‹“å±•ç¨‹åºï¼‰ï¼Œç¨‹åºæ‰€éœ€å¯†ç æ–‡ä»¶passwdã€‚ã€‚å¦‚æœlinuxæ˜¯32ä½ç³»ç»Ÿï¼Œè®¤è¯ç¨‹åº/usr/lib/squid/ç›®å½•ä¸‹ã€‚è®¤è¯ç¨‹åºåç§°æœ‰å¯èƒ½æ˜¯basic_ncsa_authã€‚éœ€è¦å…·ä½“æ‰“å¼€æ–‡ä»¶å¤¹åæŸ¥çœ‹ã€‚</span></span><br><span class="line">auth_param basic program /usr/lib64/squid/ncsa_auth /etc/squid/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> children è®¾ç½®åå°å¯åŠ¨å‡ ä¸ªè®¤è¯ç¨‹åºè¿›ç¨‹</span></span><br><span class="line">auth_param basic children 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> credentialsttl è®¾ç½®è®¤è¯å¤±æ•ˆæ—¶é—´ï¼Œè¿‡æœŸåéœ€é‡æ–°è®¤è¯</span></span><br><span class="line">auth_param basic credentialsttl 10 hours</span><br><span class="line"><span class="meta">#</span><span class="bash"> realm è®¾ç½®è®¤è¯æ—¶è¿”å›å¤´é‡Œå¤¹å¸¦çš„ä¿¡æ¯â€œwlecome to using my proxyâ€</span></span><br><span class="line">auth_param basic realm welecome to using my proxy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ï¼ï¼ï¼ä¸Šé¢åªæ˜¯è®¾ç½®äº†éœ€è¦è®¤è¯ï¼Œå¹¶æœªå°†è®¤è¯ç”Ÿæ•ˆï¼Œè¿˜éœ€è®¾ç½®aclä¸http_access</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ åä¸ºAuthUsersè®¿é—®åˆ—è¡¨ï¼Œè¡¨ç¤ºé€šè¿‡è®¤è¯çš„ç”¨æˆ·</span></span><br><span class="line">acl AuthUsers proxy_auth REQUIRED</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…è®¸AuthUsersçš„ä»£ç†è¯·æ±‚</span></span><br><span class="line">http_access allow AuthUsers</span><br></pre></td></tr></table></figure><ul><li>æ–°å»ºå¯†ç æ–‡ä»¶</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c /etc/squid/passwd qifei</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰htpasswdï¼Œåˆ™æŒ‰æç¤ºå®‰è£…ã€‚è¾“å…¥å¯†ç å³å¯ã€‚</p><ul><li>é‡å¯squid</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service squid restart</span><br></pre></td></tr></table></figure><ol start="2"><li>æ·»åŠ stunnelå¯¹å®¢æˆ·ç«¯çš„è¯ä¹¦éªŒè¯ï¼Œéœ€è¦å†æ–°å»ºä¸€ä¸ªè¯ä¹¦æ–‡ä»¶ï¼ŒåŒæ—¶ä¿®æ”¹æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ã€‚</li></ol><h1 id="6ï¼šé—®é¢˜å’Œè°ƒè¯•"><a href="#6ï¼šé—®é¢˜å’Œè°ƒè¯•" class="headerlink" title="6ï¼šé—®é¢˜å’Œè°ƒè¯•"></a>6ï¼šé—®é¢˜å’Œè°ƒè¯•</h1><h2 id="6-1-å›½å†…squidèƒ½æ¥é€šï¼Œä½†æ— æ³•è®¿é—®ç½‘ç»œ"><a href="#6-1-å›½å†…squidèƒ½æ¥é€šï¼Œä½†æ— æ³•è®¿é—®ç½‘ç»œ" class="headerlink" title="6.1 å›½å†…squidèƒ½æ¥é€šï¼Œä½†æ— æ³•è®¿é—®ç½‘ç»œ"></a>6.1 å›½å†…squidèƒ½æ¥é€šï¼Œä½†æ— æ³•è®¿é—®ç½‘ç»œ</h2><p>è¿™å¯èƒ½æ˜¯æœåŠ¡å™¨ç«¯å£æ²¡å¼€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;port.ping.pe&#x2F;xx.xx.xx.xx:port</span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°ç½‘å€ï¼Œä¿®æ”¹ipåœ°å€å’Œç«¯å£åï¼Œé€šè¿‡æµè§ˆå™¨æ‰“å¼€ï¼Œçœ‹çœ‹æœåŠ¡å™¨ç«¯å£æ˜¯å¦èƒ½å¤Ÿæ¥é€šï¼Œå¦‚æœæ˜¾ç¤ºfailedï¼Œé‚£ä¹ˆå‚ç…§ç¬¬å››ç« å†…å®¹ï¼Œå®‰è£…firewaldï¼Œå¹¶æ‰“å¼€å¯¹åº”ç«¯å£ã€‚</p><h2 id="6-2-ä¸­å›½ç§»åŠ¨åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube"><a href="#6-2-ä¸­å›½ç§»åŠ¨åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube" class="headerlink" title="6.2 ä¸­å›½ç§»åŠ¨åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube"></a>6.2 ä¸­å›½ç§»åŠ¨åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube</h2><h3 id="5-30æ—¥æ›´æ–°ï¼š"><a href="#5-30æ—¥æ›´æ–°ï¼š" class="headerlink" title="5.30æ—¥æ›´æ–°ï¼š"></a>5.30æ—¥æ›´æ–°ï¼š</h3><p>åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„ä½¿ç”¨åï¼Œä¸Šç§æ–¹æ³•å­˜åœ¨ä¸€äº›å¼Šç«¯ã€‚</p><p>åœ¨å¼€å¯ä»£ç†åï¼Œå¯ä»¥è®¿é—®è°·æ­Œï¼Œå’Œä¸€äº›å…¶ä»–å¤–ç½‘ç½‘ç«™ã€‚ä½†æ˜¯ï¼Œæ— æ³•è®¿é—®youtubeã€facebookç­‰ç½‘ç«™ã€‚åå¤åˆ·æ–°ï¼Œè¿˜æ˜¯å¯ä»¥è®¿é—®åˆ°youtubeã€‚æ‰‹æœºä¸Šçš„è®¸å¤šä¾èµ–å¤–ç½‘çš„è½¯ä»¶æ¯”å¦‚è°·æ­Œå•†åº—ï¼Œæ— æ³•ä½¿ç”¨ã€‚</p><p>åˆ©ç”¨wiresharkå¯¹æ— çº¿ç½‘å¡è¿›è¡ŒæŠ“åŒ…ã€‚å‘ç°ï¼Œåœ¨æµè§ˆå™¨è®¿é—®youtubeæ—¶ï¼Œæµè§ˆå™¨å‘å›½å†…çš„ä¸­è½¬ä»£ç†æœåŠ¡å™¨ï¼Œå‘é€äº†httpåè®®æ•°æ®ã€‚æ­¤æ•°æ®å¸¦æœ‰æ˜æ˜¾çš„è¯·æ±‚å¤´url<code>youtube.com</code>ã€‚çŒœæµ‹å¯èƒ½æ˜¯å›½å†…è·¯ç”±ï¼Œå°†å«youtubeç­‰urlçš„è¯·æ±‚å¤´è¿‡æ»¤æ‰äº†ã€‚è¿™æ ·ï¼Œè¯·æ±‚youtubeçš„æ•°æ®æ ¹æœ¬æ— æ³•åˆ°è¾¾ä¸­è½¬æœåŠ¡å™¨ã€‚</p><p>è€Œå¤šæ¬¡åˆ·æ–°youtubeç½‘ç«™ï¼Œè¿˜æ˜¯èƒ½å¤Ÿè¿åŒï¼Œè¯´æ˜å›½å†…è·¯ç”±å¹¶æ²¡æœ‰å®Œå…¨ä¸¢å¼ƒyoutubeè¯·æ±‚ï¼Œè€Œæ˜¯éƒ¨åˆ†ä¸¢å¼ƒäº†æˆ‘ä»¬çš„è¯·æ±‚ã€‚</p><p>ä¹‹æ‰€ä»¥è°·æ­Œèƒ½å®Œå…¨æ— é˜»åœ°æ¥é€šï¼Œæˆ‘çŒœæµ‹ï¼Œæ˜¯å› ä¸ºå›½å†…è®¸å¤šç½‘ç«™ï¼Œæœ‰ä¾èµ–è°·æ­Œçš„å„ç§apiï¼Œå› æ­¤å±è”½çš„æŸå¤±è¿œå¤§äºå°é”çš„æŸå¤±ã€‚å› æ­¤åªåœ¨å›½é™…å‡ºå£ä¸Šï¼Œå¯¹è°·æ­Œè¿›è¡Œäº†å°é”ï¼Œè€Œå›½å†…æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ²¡æœ‰é—®é¢˜ã€‚</p><p>æŸ¥é˜…httpsåè®®çš„å·¥ä½œåŸç†ä¸éš¾çŸ¥é“ã€‚æµè§ˆå™¨éœ€è¦é¦–å…ˆä½¿ç”¨httpåè®®ï¼Œå‘youtubeæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒyoutubeæœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨SSLè¯ä¹¦å…¬é’¥ï¼Œä¹‹åæµè§ˆå™¨å’ŒyoutubeæœåŠ¡å™¨æ‰ä¼šä½¿ç”¨SSLåŠ å¯†åçš„æ•°æ®è¿›è¡Œé€šè®¯ã€‚</p><p>åœ¨youtubeæœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´æ·»åŠ ä»£ç†ï¼Œä¹Ÿåªæ˜¯è½¬å‘æ•°æ®ï¼Œå¹¶æ²¡æœ‰æ”¹å˜æµè§ˆå™¨è®¿é—®youtubeæœåŠ¡å™¨æ—¶ï¼Œå‘é€åŒ…å«åŒ…å¤´çš„httpæ•°æ®çš„äº‹å®ã€‚</p><p>å› æ­¤ï¼Œå³ä¾¿æˆ‘ä»¬åœ¨å›½å†…stunnelå®¢æˆ·ç«¯å’Œå›½å¤–çš„stunnelå®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®è¿›è¡Œäº†åŠ å¯†ï¼Œä¹Ÿæ— æ³•è§„é¿æ‰æµè§ˆå™¨åˆ°å›½å†…stunnelæœåŠ¡å™¨ä¹‹é—´æœ‰httpè¯·æ±‚ï¼Œé€ æˆè¯·æ±‚è¢«ä¸¢å¼ƒçš„é—®é¢˜ã€‚</p><p>æœ€å¥½çš„åŠæ³•è¿˜æ˜¯ï¼Œåœ¨æµè§ˆå™¨æ‰€åœ¨ä¸»æœºæŒ‰è½¬stunnelå®¢æˆ·ç«¯ã€‚ç›´æ¥ä½¿ç”¨stunnelå®¢æˆ·ç«¯å‘å›½å¤–stunnelæœåŠ¡å™¨å‘é€æ•°æ®ï¼Œå°†æµè§ˆå™¨çš„æ‰€æœ‰å‡ºå£æµé‡åŠ å¯†ï¼Œç›´åˆ°å‘é€åˆ°å›½å¤–å†è§£å¯†ï¼Œå¹¶è½¬å‘ã€‚</p><p>è¿™æ ·åšï¼Œå…¶å®å’Œä½¿ç”¨ssæˆ–è€…ssråŸç†ç›¸åŒã€‚ä½†æ˜¯ï¼Œç¼ºå°‘ä¸€äº›ä¼ªè£…ã€‚</p><h3 id="5-31æ—¥æ›´æ–°ï¼š"><a href="#5-31æ—¥æ›´æ–°ï¼š" class="headerlink" title="5.31æ—¥æ›´æ–°ï¼š"></a>5.31æ—¥æ›´æ–°ï¼š</h3><p>æˆ‘ä½¿ç”¨ping.peç½‘ç«™æä¾›çš„ç«¯å£æµ‹è¯•ï¼Œå‘ç°ï¼Œå½“æˆ‘è®¿é—®å›½å†…æœåŠ¡å™¨3128ç«¯å£æ—¶ï¼Œé™¤äº†ä¸­å›½ç§»åŠ¨çš„ç½‘ç»œï¼Œå…¶ä»–åŒ…æ‹¬ä¸­å›½ç”µä¿¡å’Œè”é€šï¼Œå¤–ç½‘åœ¨å†…çš„æ‰€æœ‰è¿è¥å•†å‡èƒ½pingåŒ3128ç«¯å£ã€‚</p><p>æˆ‘çŒœæµ‹å¯èƒ½ä¸­å›½ç§»åŠ¨ä¼šå¯¹3128ç«¯å£è¿›è¡Œéšæœºä¸¢åŒ…ã€‚æ¥é˜»æ­¢squidä»£ç†çš„ä½¿ç”¨ã€‚</p><p>æˆ‘ä¿®æ”¹äº†æ¥æ”¶ä»£ç†çš„ç«¯å£å·ã€‚å†æ¬¡åœ¨Ping.peä¸Šæµ‹è¯•ï¼Œç§»åŠ¨å·²ç»èƒ½å¤Ÿpingé€šç«¯å£ã€‚ç„¶è€Œï¼Œä»ç„¶å­˜åœ¨è°·æ­Œèƒ½å¤Ÿè®¿é—®ï¼Œè€Œyoutubeå’Œfbä¸èƒ½è®¿é—®çš„é—®é¢˜ã€‚</p><p>çŒœæµ‹ï¼Œå¯èƒ½ä¸­å›½ç§»åŠ¨ä¼šéšæœºä¸¢å¼ƒè¯·æ±‚åœ°å€æ˜¯youtubeçš„httpè¯·æ±‚æ•°æ®ã€‚äºæ˜¯æˆ‘æ›´æ¢äº†æˆ‘çš„è”é€šæ‰‹æœºå¡ï¼Œæ¥ä»£ç†ä¸Šç½‘ã€‚å‘ç°è°·æ­Œã€youtubeå’Œå…¶ä»–å¤–ç½‘ç½‘ç«™ï¼Œå‡èƒ½å¾ˆå¥½çš„è®¿é—®ã€‚æˆ‘åˆæµ‹è¯•äº†ç”µä¿¡ç½‘ç»œï¼Œå‘ç°ç»“æœä¹Ÿæ˜¯å¥½çš„ã€‚</p><p><strong>ç»“è®º</strong>ï¼Œä¸­å›½ç§»åŠ¨ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨ä»£ç†ä¸Šç½‘æ—¶ï¼Œä¼šå¯¹è¯·æ±‚urlä¸ºyoutube.comä¹‹ç±»çš„httpè¯·æ±‚è¿›è¡Œäººä¸ºéšæœºä¸¢åŒ…ï¼Œè€Œä¸”ä¸¢åŒ…ç‡æé«˜ã€‚é¢„æµ‹è¶…è¿‡ç™¾åˆ†ä¹‹å…«åã€‚ã€‚äº†è§£ç§»åŠ¨å›½é™…å¸¦å®½ä¿æœ‰ç‡ï¼Œä¸éš¾å‘ç°ï¼Œç§»åŠ¨çš„å›½é™…å¸¦å®½å æœ‰ç‡æ˜¯ä¸‰å¤§è¿è¥å•†é‡Œæœ€ä½çš„ï¼Œå´æœ‰ç¬¬äºŒçš„å›½é™…ç”¨æˆ·ã€‚å¯è§ä¸ºäº†è§£å†³å¸¦å®½ä¸è¶³é—®é¢˜ï¼Œä»–åœ¨å›½å†…ä¾¿å¯¹youtubeæµé‡è¿›è¡Œäº†ä¸¢å¼ƒï¼Œè€Œä¸æ˜¯åˆ°å›½é™…å‡ºå£å†ä¸¢å¼ƒã€‚ã€‚</p><p>è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯ï¼Œå‡å°‘äº†youtubeè¿™ç±»åœ¨å›½é™…å‡ºå£ä¼šè¢«æ‹¦æˆªçš„æµé‡å ç”¨ä¼ é€’æ—¶çš„å¸¦å®½ï¼Œé™ä½å›½é™…å‡ºå£è¿‡æ»¤è®¾å¤‡çš„æŠ•å…¥ã€‚ç¼ºç‚¹æ˜¯ï¼Œä¼šåŠ å¤§åœ¨å›½å†…è·¯ç”±è¿‡æ»¤è®¾å¤‡çš„æŠ•å…¥ã€‚</p><p>é€šè¿‡å¯¹httpsåŸç†å’Œç§»åŠ¨è¿‡æ»¤youtubeæµé‡çš„åˆ†æï¼Œæˆ‘ä»¬åº”è¯¥çŸ¥é“ï¼Œåœ¨ä½¿ç”¨å›½å†…ä¸­è½¬æ–¹å¼è¿›è¡Œå¤–ç½‘è®¿é—®æ—¶ï¼Œè¿è¥å•†èƒ½å¤ŸçŸ¥é“ä½ æ­£åœ¨è®¿é—®å¤–ç½‘ã€‚è™½ç„¶æµé‡æµå‘äº†å›½å†…æœåŠ¡å™¨ï¼Œå¦‚æœç½‘è­¦å¯¹æ‹¦æˆªçš„æµé‡è¿›è¡Œåˆ†æï¼Œæ˜¯èƒ½å¤ŸçŸ¥é“ä½ è®¿é—®äº†å“ªäº›å¤–å›½ç½‘ç«™çš„ã€‚ã€‚åå‘æº¯æºï¼Œå¦‚æœä½ ä½¿ç”¨äº†æ‰‹æœº4Gç½‘ç»œè®¿é—®ï¼Œé‚£ä¹ˆï¼Œè¥è¿å•†é…åˆï¼Œèƒ½å¤Ÿå®šä½åˆ°ä½ æœ¬äººã€‚å¦‚æœä½¿ç”¨wifiè®¿é—®ï¼Œèƒ½å¤Ÿå®šä½åˆ°ä½ çš„å®¶åº­ã€‚å¦‚æœç½‘è­¦æŸ¥çœ‹è·¯ç”±å™¨æ—¥å¿—ï¼Œä¸éš¾æ‰¾åˆ°ï¼Œæ˜¯å“ªä¸ªæ‰‹æœºè®¿é—®äº†è¿™äº›å¤–ç½‘ã€‚</p><p>è€Œhttpè¯·æ±‚å¤´ä¸­åŒ…å«çš„è®¾å¤‡ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯ä»€ä¹ˆç”µè„‘ï¼Œæµè§ˆå™¨å“ç‰Œå’Œç‰ˆæœ¬ç­‰ï¼Œæ— ç–‘é™ä½äº†æ‰¾åˆ°ä½ çš„éš¾åº¦ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œä¸ºäº†ç½‘ç»œå®‰å…¨ï¼Œé™ä½è¢«å®¡æŸ¥çš„é£é™©ã€‚åœ¨æœ¬åœ°ä¸»æœºéƒ¨ç½²stunnelå®¢æˆ·ç«¯ï¼Œæ¯”åœ¨å›½å†…æœåŠ¡å™¨ä¸­è½¬æ›´åŠ å®‰å…¨ã€‚ä½†æ˜¯é•¿æ—¶é—´çš„åŠ å¯†è¿æ¥å›½å¤–æœåŠ¡å™¨ï¼Œä¸éš¾è®©äººçŒœå‡ºï¼Œä½ æ­£åœ¨ä½¿ç”¨vpnä¹‹ç±»çš„è½¯ä»¶è®¿é—®å¤–ç½‘ã€‚ä½¿ç”¨wifiçš„ä»£ç†æ¯”ä½¿ç”¨æ‰‹æœºç½‘ç»œçš„ä»£ç†æ›´åŠ å®‰å…¨ã€‚</p><h2 id="6-3-ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†"><a href="#6-3-ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†" class="headerlink" title="6.3 ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†"></a>6.3 ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†</h2><p>åœ¨å®é™…ä»£ç†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½¿ç”¨wifiæˆ–æ‰‹æœºç½‘ç»œçš„è½¯ä»¶ï¼Œæ— æ³•å¼¹å‡ºsquidçš„ä»£ç†è®¤è¯æ¡†ï¼Œä»è€Œæ— æ³•è¾“å…¥è´¦å·å’Œå¯†ç ã€‚å› æ­¤ï¼Œè½¯ä»¶ä¼šæ²¡åŠæ³•è®¿é—®å¤–ç½‘ï¼Œåªæœ‰æµè§ˆå™¨å¯ä»¥è®¿é—®ã€‚</p><h3 id="æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†"><a href="#æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†" class="headerlink" title="æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†"></a>æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†</h3><p>ä¿®æ”¹<code>squid.conf</code>å…³é—­ç”¨æˆ·åå’Œå¯†ç éªŒè¯ã€‚å…è®¸æœ¬åœ°ipç™»é™†ã€‚æ­¤æ—¶æ‰€æœ‰çŸ¥é“IPå’Œç«¯å£çš„ç”¨æˆ·éƒ½èƒ½ä½¿ç”¨ä»£ç†è®¿é—®ã€‚ã€‚è¿™ç§æ–¹æ³•æ˜¯æä¸å®‰å…¨çš„ï¼Œå› ä¸ºï¼Œæœ‰è®¸å¤šçˆ¬è™«è½¯ä»¶ï¼Œèƒ½å¤Ÿé€šè¿‡æ‰«æipå’Œç«¯å£ï¼Œæ”¶é›†èƒ½å¤Ÿä½¿ç”¨ä»£ç†çš„ipå’Œå¯¹åº”ç«¯å£ã€‚çŸ­æ—¶é—´çš„ä½¿ç”¨æ–¹æ³•ä¸€æ˜¯å¯ä»¥çš„ï¼Œä½†é•¿æœŸä¸‹æ¥ï¼Œå®¹æ˜“è¢«æ”»ç ´ã€‚</p><h3 id="æ–¹æ³•2ï¼šIPé™åˆ¶"><a href="#æ–¹æ³•2ï¼šIPé™åˆ¶" class="headerlink" title="æ–¹æ³•2ï¼šIPé™åˆ¶"></a>æ–¹æ³•2ï¼šIPé™åˆ¶</h3><p>åœ¨å›½å†…ä¸­è½¬æœåŠ¡å™¨ä¸Šä¹Ÿå®‰è£…squidã€‚ç”¨æˆ·è¿æ¥squidç«¯å£ï¼Œsquidå°†å†…å®¹å‘é€åˆ°ä¸­è½¬æœåŠ¡å™¨çš„stunnelæ¥å£ï¼ŒstunnelåŠ å¯†ä¼ è¾“åˆ°å›½å¤–ï¼Œå›½å¤–æœåŠ¡å™¨ï¼Œstunnelè§£å¯†å†åˆ†å‘è¯·æ±‚ã€‚</p><p>å®Œæ•´æ‹“æ‰‘ç»“æ„ï¼šç”¨æˆ·ä¸»æœº-&gt;squidï¼ˆå›½å†…ï¼‰-&gt;stunnelï¼ˆå›½å†…ï¼‰-&gt;stunnelï¼ˆå›½å¤–ï¼‰-&gt;squidï¼ˆå›½å¤–ï¼‰-&gt;ç½‘ç«™æœåŠ¡å™¨</p><p>æ·»åŠ squidçš„ç›®çš„æ˜¯ï¼Œsquidå¯ä»¥éªŒè¯ç”¨æˆ·ä¸»æœºipã€‚é€šè¿‡squidè®¾ç½®èƒ½å¤Ÿè¿æ¥squidçš„ipæ± ã€‚stunnelæ˜¯æ— æ³•éªŒè¯çš„ã€‚æˆ‘ä»¬ä¹‹å‰çš„ç”¨æˆ·åå’Œå¯†ç éªŒè¯ï¼Œæ˜¯é€šè¿‡å›½å¤–squidéªŒè¯çš„ï¼Œå›½å¤–squidæ— æ³•éªŒè¯ipï¼Œæ˜¯å› ä¸ºï¼Œå›½å¤–squidæ¥æ”¶çš„ä¿¡æ¯ï¼Œå…¨éƒ¨æ¥è‡ªlocalhostçš„ç«¯å£ã€‚ä¹Ÿå°±æ˜¯å›½å¤–stunnelå‘å‡ºçš„ã€‚</p><h3 id="æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯"><a href="#æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯" class="headerlink" title="æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯"></a>æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯</h3><p>ç¬¬ä¸€æ¬¡ç™»é™†è·³è½¬ç½‘é¡µéªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œä¹‹åæ°¸ä¹…æˆ–ç¼“å­˜ä¿å­˜ipï¼Œå…äºæ­¤ipéªŒè¯ã€‚</p><p><strong>è®¾è®¡æ€è·¯</strong></p><ol><li>ç”¨æˆ·è®¾ç½®ipå’Œç«¯å£ï¼Œæ— å¯†ç è¿æ¥ä»£ç†æœåŠ¡å™¨ã€‚</li><li>ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ä»»æ„ç½‘é¡µ</li><li>åˆ©ç”¨squidSGuardé‡å®šå‘æ— è®¿é—®æƒé™ipçš„è®¿é—®urlï¼Œè½¬åˆ°è®¤è¯ç½‘é¡µã€‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li>ç½‘é¡µåå°éªŒè¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å¹¶ä¿å­˜ç”¨æˆ·ipã€‚</li><li>ç¼–å†™squid ACLè¾…åŠ©å™¨ï¼Œè¯»å–å¹¶éªŒè¯æŸ¥æ‰¾æ˜¯å¦æœ‰è¿™ä¸ªipã€‚å­˜åœ¨åˆ™é€šè¿‡ï¼Œä¸å­˜åœ¨ï¼Œåˆ™è¿›è¡Œé‡å®šå‘åˆ°éªŒè¯é¡µé¢ã€‚</li></ol><h3 id="æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯"><a href="#æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯" class="headerlink" title="æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯"></a>æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯</h3><p>ç¬¬ä¸€æ¬¡ç™»é™†ï¼Œå¼¹å‡ºä»£ç†ç™»é™†æ¡†ï¼Œé€šè¿‡åä¿å­˜ip</p><ol><li>ç”¨æˆ·è®¾ç½®ipå’Œç«¯å£ï¼Œè¿æ¥ä»£ç†æœåŠ¡å™¨ã€‚</li><li>ä»£ç†æœåŠ¡å™¨é€šè¿‡ACLè¾…åŠ©å™¨éªŒè¯æ­¤IPæ˜¯å¦åœ¨ç™½åå•ä¸­ã€‚</li><li>ä¸åœ¨ç™½åå•åˆ™ï¼Œè¿›å…¥è‡ªå®šä¹‰éªŒè¯å™¨ï¼Œåœ¨ï¼Œåˆ™é€šè¿‡ä»£ç†ã€‚</li><li>è¿›å…¥éªŒè¯å™¨ï¼ŒéªŒè¯å™¨éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœé€šè¿‡ï¼Œåˆ™ä¿å­˜IPåˆ°ç™½åå•ï¼Œå¦åˆ™ä¸é€šè¿‡ã€‚</li></ol><p>æˆ‘é‡‡ç”¨æ–¹æ³•å››è¿›è¡Œç”¨æˆ·éªŒè¯ï¼Œå…¶ä¸­è›®å¤šç»†èŠ‚ï¼Œäºæ˜¯å¦èµ·ä¸€æ–‡è®²è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stunnel </tag>
            
            <tag> Squid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨Stunnel+squidä»£ç†å®ç°å›½å†…æ— å®¢æˆ·ç«¯è®¿é—®å¤–ç½‘</title>
      <link href="/2020/05/28/Stunnel-squid%E4%BB%A3%E7%90%86%E5%8A%A0%E9%80%9F%E4%BA%9A%E7%90%9B%E6%95%99%E5%AD%A6%E8%A7%86%E9%A2%91%E5%8A%A0%E9%80%9F/"/>
      <url>/2020/05/28/Stunnel-squid%E4%BB%A3%E7%90%86%E5%8A%A0%E9%80%9F%E4%BA%9A%E7%90%9B%E6%95%99%E5%AD%A6%E8%A7%86%E9%A2%91%E5%8A%A0%E9%80%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šåŠ é€ŸåŸç†"><a href="#1ï¼šåŠ é€ŸåŸç†" class="headerlink" title="1ï¼šåŠ é€ŸåŸç†"></a>1ï¼šåŠ é€ŸåŸç†</h1><h2 id="1-1-squidä»‹ç»"><a href="#1-1-squidä»‹ç»" class="headerlink" title="1.1 squidä»‹ç»"></a>1.1 squidä»‹ç»</h2><p>squidæ˜¯ä¸€ä¸ªç”¨äºä»£ç†çš„å¼€æºè½¯ä»¶ï¼Œç”¨æˆ·ä¸»æœºå°†httpè¯·æ±‚å‘é€åˆ°éƒ¨ç½²äº†squidçš„æœåŠ¡å™¨ï¼Œsquidå¯ä»¥å¸®åŠ©ç”¨æˆ·è½¬å‘httpè¯·æ±‚ã€‚åˆ©ç”¨squidï¼Œæˆ‘ä»¬å¯ä»¥è®©æœåŠ¡å™¨æ›¿æˆ‘ä»¬è¯·æ±‚æ•°æ®ï¼Œå†ç”±æœåŠ¡å™¨è½¬å‘ç»™æˆ‘ä»¬ã€‚</p><p>æŒ‰æ‰¾squidåŸç†ï¼Œæˆ‘ä»¬å°±å·²ç»å¯ä»¥è¿›è¡Œç¿»å¢™äº†ï¼Œåœ¨å›½å†…èƒ½å¤Ÿè®¿é—®çš„å›½å¤–æœåŠ¡å™¨ä¸Šéƒ¨ç½²squidï¼Œå°†è®¿é—®è°·æ­Œçš„è¯·æ±‚å‘é€ç»™squidï¼Œsquidæ›¿æˆ‘ä»¬è¯·æ±‚è°·æ­Œæ•°æ®ï¼Œå†å°†è°·æ­Œæ•°æ®è½¬å‘ç»™æˆ‘ä»¬ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ä½œè¿‡ç¨‹ã€‚</p><p>ä½†æ˜¯ç”±äºsquidè¯·æ±‚æŠ¥å¤´æœªåŠ å¯†ï¼Œåœ¨squidæœåŠ¡å™¨å‘æµè§ˆå™¨è¿”å›æ•°æ®æ—¶ï¼Œèƒ½å¤Ÿè¢«GFWæ£€æµ‹åˆ°è®¿é—®æ•°æ®æ¥è‡ªäºè°·æ­Œã€‚ä»è€Œå°†è¿”å›æ•°æ®è¿‡æ»¤æ‰ã€‚ä¹‹åé€šè¿‡squidè¿”å›çš„æ•°æ®ï¼Œéƒ½ä¼šè¢«GFWè¿‡æ»¤æ‰ï¼Œå³ä½¿æˆ‘ä»¬è®¿é—®çš„æ˜¯ç™¾åº¦ï¼Œä¹Ÿä¼šæ— æ³•æ”¶åˆ°è¿”å›æ•°æ®ã€‚</p><h2 id="1-2-Httpsä»‹ç»"><a href="#1-2-Httpsä»‹ç»" class="headerlink" title="1.2 Httpsä»‹ç»"></a>1.2 Httpsä»‹ç»</h2><p>è¿™ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº†åŠ å¯†çš„åŸç†ï¼š<a href="https://blog.csdn.net/clh604/article/details/22179907">https://blog.csdn.net/clh604/article/details/22179907</a></p><p><img src="https://ae01.alicdn.com/kf/Hdb6994b2de5f42e7adca8620e915331aQ.png" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hdb6994b2de5f42e7adca8620e915331aQ.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="SSL"></p><h2 id="1-3-stunnelä»‹ç»"><a href="#1-3-stunnelä»‹ç»" class="headerlink" title="1.3 stunnelä»‹ç»"></a>1.3 stunnelä»‹ç»</h2><p>stunnelæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶ï¼Œä½¿ç”¨stunnelå¯ä»¥ä¸ºæˆ‘ä»¬ä½¿ç”¨tcpåè®®ä¼ è¾“çš„æ•°æ®ä½¿ç”¨SSLåè®®åŠ å¯†ï¼Œè¿™æ ·æˆ‘ä»¬çš„è¯·æ±‚ï¼Œé™¤äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œå…¶ä»–äººå°†æ— æ³•ä»æ•°æ®ä¸­æå–åˆ°æœ‰ç”¨ä¿¡æ¯ã€‚</p><p>ä¸ºäº†è®©GFWæ— æ³•è¯†åˆ«å‡ºä¸»æœºè®¿é—®è°·æ­Œå’Œè¿”å›çš„æ•°æ®æ¥è‡ªè°·æ­Œã€‚è¿™é‡Œä½¿ç”¨stunnelå°†ä¸»æœºå’Œsquidä¹‹é—´çš„é€šä¿¡æ•°æ®åŠ å¯†ï¼Œå°†httpè¯·æ±‚çš„æŠ¥å¤´ä¹ŸåŠ å¯†ã€‚</p><h2 id="1-4-ä»£ç†è¿‡ç¨‹"><a href="#1-4-ä»£ç†è¿‡ç¨‹" class="headerlink" title="1.4 ä»£ç†è¿‡ç¨‹"></a>1.4 ä»£ç†è¿‡ç¨‹</h2><p>åœ¨windowsä¸»æœºä¸Šè®¾ç½®å…¨å±€ä»£ç†ï¼Œå°†windowsçš„tcpè¯·æ±‚ï¼Œè½¬å‘åˆ°å›½å†…æœåŠ¡å™¨server 1ä¸Šï¼Œå›½å†…æœåŠ¡å™¨server 1ä¸å›½å¤–æœåŠ¡å™¨server 2æ­å»ºstunnelåŠ å¯†éš§é“è¿æ¥ï¼Œå›½å¤–æœåŠ¡å™¨server 2åˆ©ç”¨squidï¼Œå‘é€ä¸»æœºçš„è®¿é—®è¯·æ±‚ï¼Œå¹¶å°†è®¿é—®ç»“æœè¿”å›ç»™server 1ï¼Œserver 1åœ¨å‘é€ç»™ä¸»æœºæµè§ˆå™¨ã€‚åŠ é€ŸåŸç†å¦‚ä¸‹å›¾ã€‚</p><p>é€šå¸¸å¯ä»¥åªåˆ©ç”¨ä¸€ä¸ªå›½å¤–æœåŠ¡å™¨ï¼Œåœ¨å›½å¤–æœåŠ¡å™¨ä¸Šéƒ¨ç½²stunnelå’Œsquidï¼Œåœ¨æœ¬åœ°ä¸»æœºä¸Šæ­å»ºstunnelå®¢æˆ·ç«¯å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹å›¾</p><p><img src="https://ae01.alicdn.com/kf/H4ae21783bed543d7b6102e79eb735c89n.png" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H4ae21783bed543d7b6102e79eb735c89n.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä½†æ˜¯ï¼Œä¸ºäº†è®¿é—®æ–¹ä¾¿ï¼Œå³ä»»ä½•ç”¨æˆ·åªéœ€è¦è®¾ç½®windowsä¸Šç°æœ‰çš„ä»£ç†æœåŠ¡å™¨å°±èƒ½è®¿é—®å¤–ç½‘ï¼Œè€Œä¸éœ€è¦ä¸‹è½½stunnelå®¢æˆ·ç«¯å’Œé…ç½®å®¢æˆ·ç«¯å‚æ•°ã€‚</p><p>ç›¸æ¯”äºä¸»æœºä½¿ç”¨Stunnelå®¢æˆ·ç«¯ï¼Œå°†stunnelå®¢æˆ·ç«¯éƒ¨ç½²åˆ°å›½å†…æœåŠ¡å™¨çš„ç¼ºç‚¹æ˜¯ï¼šè¿™éœ€è¦å›½å†…å¤–å‡æœ‰æœåŠ¡å™¨ã€‚æˆæœ¬ä¼šæ›´é«˜ã€‚</p><p>æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸å›½å†…æœåŠ¡å™¨ä¹‹é—´çš„ä¿¡æ¯è¢«æŠ“å–åï¼Œèƒ½å¤Ÿè·å–åˆ°æˆ‘ä»¬è®¿é—®çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯è°·æ­Œã€ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬ç­‰ï¼Œä½†æ˜¯æ— æ³•çŸ¥é“å…·ä½“è®¿é—®å†…å®¹ã€‚ç”±äºæ˜¯ä¸å›½å†…æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œå› æ­¤è¢«æ¢æµ‹çš„å‡ ç‡å¾ˆå°ã€‚</p><h1 id="2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®"><a href="#2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®" class="headerlink" title="2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®"></a>2ï¼šä¸»æœºè®¾ç½®ä»£ç†è®¿é—®</h1><p>ä¸ºäº†è®©é˜…è¯»æœ¬æ–‡çš„è¯»è€…ï¼Œæå‰çš„çœ‹åˆ°æˆæœï¼Œå°†server1å’Œserver2éƒ½é…ç½®å¥½åï¼Œå…ˆä»‹ç»å¦‚ä½•åˆ©ç”¨ä½ æ­å»ºå¥½çš„æœåŠ¡å™¨è®¿é—®å¤–ç½‘ã€‚</p><ol><li>æ‰“å¼€<code>ä»£ç†æœåŠ¡å™¨è‰²è®¾ç½®</code></li></ol><p><img src="https://ae01.alicdn.com/kf/H70a59c178af24750b89d0d045ee16845R.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H70a59c178af24750b89d0d045ee16845R.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="2"><li>åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šè¾“å…¥å›½å†…æœåŠ¡å™¨server1çš„IPå’Œstunnelå®¢æˆ·ç«¯ç›‘å¬çš„ç«¯å£å·ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/Hcc9e9c1620b24b3da68519ffef92fd10N.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hcc9e9c1620b24b3da68519ffef92fd10N.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li>ä½¿ç”¨æµè§ˆå™¨ç™»é™†google</li></ol><p><img src="https://ae01.alicdn.com/kf/H2000b41723ff444bb46c057eee0bc5635.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H2000b41723ff444bb46c057eee0bc5635.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å®é™…ä¸Šä½¿ç”¨å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚å½“ç„¶ä¸ºäº†ä½ æ­å»ºçš„éš§é“ä¸ä¼šè¢«å…¶ä»–äººä½¿ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹èƒ½å¤Ÿè®¿é—®è¿™æ¡éš§é“çš„IPè¿›è¡Œé™åˆ¶ï¼Œæˆ–è€…è®¾ç½®ä¸€ä¸ªå¯†ç ã€‚ä¼šåœ¨åç»­ä¸­ä»‹ç»åˆ°ã€‚</p><h1 id="3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®"><a href="#3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®" class="headerlink" title="3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®"></a>3ï¼šå›½å¤–æœåŠ¡å™¨é…ç½®</h1><p>ç¡®ä¿åœ¨æœåŠ¡å•†å®‰å…¨ç»„é‡Œå¼€æ”¾äº†3128å’Œ3129ç«¯å£ï¼Œè¿™ä¸¤ä¸ªç«¯å£ï¼Œå°†ç”¨äºæ¥æ”¶å’Œè½¬å‘æ•°æ®ã€‚</p><h2 id="3-1-å®‰è£…é…ç½®Squid"><a href="#3-1-å®‰è£…é…ç½®Squid" class="headerlink" title="3.1 å®‰è£…é…ç½®Squid"></a>3.1 å®‰è£…é…ç½®Squid</h2><ol><li>å®‰è£…squid</li></ol><p>ubuntuä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install squid</span><br></pre></td></tr></table></figure><p>centosä½¿ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install squid</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>squid -v</code>æ£€æŸ¥squidæ˜¯å¦å®‰è£…å¥½ã€‚</p><ol start="2"><li>é…ç½®squid</li></ol><p>æ‰“å¼€squidé…ç½®æ–‡ä»¶<code>/etc/squid/squid.conf</code>ã€‚æ²¡æœ‰å°±æ–°å»ºæ­¤æ–‡ä»¶</p><p>å°†æ–‡ä»¶å†…å®¹ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> http_port è®¾ç½®ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ä¸º3128</span></span><br><span class="line">http_port 3128</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> access_log è®¾ç½®accessæ—¥å¿—ï¼Œdaemonè¡¨ç¤ºåœ¨åå°å°†æ—¥å¿—å†™å…¥/var/<span class="built_in">log</span>/squid/access.logæ–‡ä»¶, </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> combinedæ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„logformatï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„logformat</span></span><br><span class="line">access_log daemon:/var/log/squid/access.log combined</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> visible_hotname è®¾ç½®ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºå</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é»˜è®¤å–æœ¬æœºçš„hostname</span></span><br><span class="line">visible_hostname funway.aliyun.proxy</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ACLs all, manager, localhost, and to_localhost are predefined.</span></span><br><span class="line">acl SSL_ports port 443</span><br><span class="line">acl Safe_ports port 80    # http</span><br><span class="line">acl Safe_ports port 21    # ftp</span><br><span class="line">acl Safe_ports port 443    # https</span><br><span class="line">acl Safe_ports port 70    # gopher</span><br><span class="line">acl Safe_ports port 210    # wais</span><br><span class="line">acl Safe_ports port 1025-65535  # unregistered ports</span><br><span class="line">acl Safe_ports port 280    # http-mgmt</span><br><span class="line">acl Safe_ports port 488    # gss-http</span><br><span class="line">acl Safe_ports port 591    # filemaker</span><br><span class="line">acl Safe_ports port 777    # multiling http</span><br><span class="line">acl CONNECT method CONNECT</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰éSafe_portsçš„è¯·æ±‚</span></span><br><span class="line">http_access deny !Safe_ports</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰éSSL_protsçš„CONNECTè¯·æ±‚</span></span><br><span class="line">http_access deny CONNECT !SSL_ports</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Only allow cachemgr access from localhost</span></span><br><span class="line">http_access allow localhost manager</span><br><span class="line">http_access deny manager</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…è®¸æ¥è‡ªæœ¬åœ°çš„è¯·æ±‚</span></span><br><span class="line">http_access allow localhost</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹’ç»æ‰€æœ‰è¯·æ±‚ï¼Œæœ€åå…œåº•çš„è§„åˆ™</span></span><br><span class="line">http_access deny all</span><br></pre></td></tr></table></figure><p>æ›´å¤šè¯¦ç»†çš„é…ç½®å‚æ•°è§£é‡Šï¼Œè¯·å‚è€ƒåšæ–‡ã€Š<a href="https://www.hawu.me/operation/852">ä½¿ç”¨squidæ­å»ºä»£ç†æœåŠ¡å™¨</a>ã€‹</p><p>é…ç½®squidåªèƒ½æœ¬åœ°åœ°å€è®¿é—®ã€‚</p><ol start="3"><li>è¿è¡Œsquid</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service squid start //è¿è¡Œ</span><br><span class="line">service squid status //æŸ¥çœ‹squidè¿è¡ŒçŠ¶æ€</span><br></pre></td></tr></table></figure><h2 id="3-2-å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯"><a href="#3-2-å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯" class="headerlink" title="3.2 å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯"></a>3.2 å®‰è£…é…ç½®stunnelæœåŠ¡ç«¯</h2><ol><li>ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼Œå¦‚æœæ²¡æœ‰openssléœ€è¦å…ˆå®‰è£…ã€‚</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -x509 -days 3650 -nodes -out stunnel.pem -keyout stunnel.pem</span><br></pre></td></tr></table></figure><p>å°†ç”Ÿæˆçš„è¯ä¹¦ï¼Œå¤åˆ¶åˆ°/etc/stunnelæ–‡ä»¶å¤¹ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp stunnel.pem /etc/stunnel</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¯ä¹¦è¿˜éœ€è¦ä¸‹è½½åˆ°ä¸»æœºï¼Œä¹‹åä¸Šä¼ åˆ°å›½å†…æœåŠ¡å™¨ï¼Œç”¨äºä¸ºstunnleå®¢æˆ·ç«¯è®¾ç½®çš„å…¬é’¥ã€‚</p><ol><li>ä¸‹è½½å®‰è£…stunnel</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install stunnel</span><br></pre></td></tr></table></figure><ol start="2"><li>è®¾ç½®stunnelé…ç½®æ–‡ä»¶</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">; è®¾ç½®å·¥ä½œç›®å½•ï¼Œæ²¡æœ‰ç›®å½•éœ€è¦å…ˆåˆ›å»º</span><br><span class="line">chroot = /var/run/stunnel/</span><br><span class="line">; è®¾ç½®stunnelçš„pidæ–‡ä»¶è·¯å¾„ï¼ˆåœ¨chrootä¸‹ï¼‰</span><br><span class="line">pid = /stunnel.pid</span><br><span class="line">; è®¾ç½®stunnelå·¥ä½œçš„ç”¨æˆ·ï¼ˆç»„ï¼‰</span><br><span class="line">setuid = root</span><br><span class="line">setgid = root</span><br><span class="line"></span><br><span class="line">; å¼€å¯æ—¥å¿—ç­‰çº§ï¼šemerg (0), alert (1), crit (2), err (3), warning (4), notice (5), info (6), or debug (7)</span><br><span class="line">; é»˜è®¤ä¸º5</span><br><span class="line">debug = 7</span><br><span class="line">; æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼ˆæˆ‘çš„serverçš„ç‰ˆæœ¬æœ‰ä¸ªbugï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿè¢«æ”¾åœ¨chrootè·¯å¾„ä¸‹äº†ï¼Œclientçš„ç‰ˆæœ¬åˆ™æ˜¯ç‹¬ç«‹çš„=ã€‚=#ï¼‰</span><br><span class="line">output = /stunnel.log</span><br><span class="line"></span><br><span class="line">; è¯ä¹¦æ–‡ä»¶ï¼Œå°±æ˜¯åœ¨æœ¬æ–‡2.2ä¸­ç”¨opensslç”Ÿæˆçš„è‡ªç­¾åè¯ä¹¦ï¼ˆserverç«¯å¿…é¡»è®¾ç½®è¿™ä¸¤é¡¹ï¼‰</span><br><span class="line">cert = /etc/stunnel/stunnel.pem</span><br><span class="line">; ç§é’¥æ–‡ä»¶</span><br><span class="line">key = /etc/stunnel/stunnel.pem</span><br><span class="line"></span><br><span class="line">; è®¾ç½®stunnelæœåŠ¡ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªæœåŠ¡ï¼Œç›‘å¬åŒçš„ç«¯å£ï¼Œå¹¶å‘ç»™ä¸åŒçš„serverã€‚</span><br><span class="line">; è‡ªå®šä¹‰æœåŠ¡åsquid-proxy</span><br><span class="line">[squid-proxy]</span><br><span class="line">; æœåŠ¡ç›‘å¬çš„ç«¯å£ï¼Œclientè¦è¿æ¥è¿™ä¸ªç«¯å£ä¸serveré€šä¿¡</span><br><span class="line">accept = 3129</span><br><span class="line">; æœåŠ¡è¦è¿æ¥çš„ç«¯å£ï¼Œè¿æ¥åˆ°squidçš„3128ç«¯å£ï¼Œå°†æ•°æ®å‘ç»™squid</span><br><span class="line">connect = localhost:3128</span><br><span class="line"></span><br><span class="line">; **************************************************************************</span><br><span class="line">; * ä¸‹é¢è¿™äº›é…ç½®æˆ‘éƒ½æ³¨é‡Šæ‰äº†ï¼Œä½†ä¹Ÿéœ€è¦äº†è§£ä¸‹ *</span><br><span class="line">; **************************************************************************</span><br><span class="line"></span><br><span class="line">; è®¾ç½®æ˜¯å¦å¯¹ä¼ è¾“æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œé»˜è®¤ä¸å¼€å¯ã€‚</span><br><span class="line">; è¿™æ˜¯è·Ÿopensslç›¸å…³çš„ï¼Œå¦‚æœä½ çš„opensslæ²¡æœ‰zlibï¼Œå¼€å¯è¿™ä¸ªè®¾ç½®ä¼šå¯¼è‡´å¯åŠ¨å¤±è´¥ï¼ˆfailed to initialize compression methodï¼‰</span><br><span class="line">;compression = zlib</span><br><span class="line"></span><br><span class="line">; è®¾ç½®sslç‰ˆæœ¬,è¿™ä¸ªä¹Ÿæ˜¯è·Ÿå®‰è£…çš„opensslæœ‰å…³çš„</span><br><span class="line">;sslVersion = TLSv1</span><br><span class="line"></span><br><span class="line">; Authentication stuff needs to be configured to prevent MITM attacks</span><br><span class="line">; It is important to understand that this option was solely designed for access control and not for authorization</span><br><span class="line">; It is not enabled by default!</span><br><span class="line">; ä¸‹é¢è¿™äº›é…ç½®ç”¨æ¥å®šä¹‰æ˜¯å¦ä¿¡ä»»å¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦ã€‚å°±å¥½æ¯”æµè§ˆå™¨è®¿é—®httpsçš„æ—¶å€™ï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä¿¡ä»»é‚£äº›ç”±æƒå¨CAæœºæ„ç­¾å‘çš„è¯ä¹¦ï¼Œ</span><br><span class="line">; å¯¹äºé‚£äº›è‡ªç­¾åè¯ä¹¦ï¼Œæµè§ˆå™¨å°±ä¼šå¼¹å‡ºå¯¹è¯æ¡†æé†’ç”¨æˆ·è¿™ä¸ªè¯ä¹¦å¯èƒ½ä¸å®‰å…¨ï¼Œæ˜¯å¦è¦ä¿¡ä»»è¯¥è¯ä¹¦ã€‚</span><br><span class="line">; è¿™æ˜¯æœ‰æ•ˆé˜²æ­¢ä¸­é—´äººæ”»å‡»çš„æ‰‹æ®µ</span><br><span class="line">; verify ç­‰çº§2è¡¨ç¤ºéœ€è¦éªŒè¯å¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦ï¼ˆé»˜è®¤0ï¼Œä¸éœ€è¦éªŒè¯ï¼Œéƒ½ä¿¡ä»»ï¼‰</span><br><span class="line">; å› ä¸ºè¿™ä¸ªé…ç½®æ˜¯serverç«¯çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç†ä¼šclientçš„è¯ä¹¦ï¼ˆclientä¹Ÿä¸ä¼šæ²¡äº‹å‘è¯ä¹¦è¿‡æ¥å•¦ï¼‰</span><br><span class="line">;verify = 2</span><br><span class="line">; CAfile è¡¨ç¤ºå—ä¿¡çš„è¯ä¹¦æ–‡ä»¶ï¼Œå³å¦‚æœå¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦åœ¨è¿™ä¸ªCAfileé‡Œï¼Œé‚£ä¹ˆå°±æ˜¯å—ä¿¡ä»»çš„è¯ä¹¦ï¼›å¦åˆ™ä¸ä¿¡ä»»è¯¥è¯ä¹¦ï¼Œæ–­å¼€è¿æ¥ã€‚</span><br><span class="line">;CAfile = /etc/stunnel/stunnel-client.pem</span><br></pre></td></tr></table></figure><ol start="3"><li>å¯åŠ¨åœæ­¢stunnel</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service stunnel start //å¼€å¯stunnel</span><br><span class="line">service stunnel restart //é‡å¯</span><br><span class="line">service stunnel stop //åœæ­¢</span><br><span class="line">service stunnel status  //æŸ¥çœ‹çŠ¶æ€</span><br></pre></td></tr></table></figure><h1 id="4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯"><a href="#4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯" class="headerlink" title="4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯"></a>4ï¼šå›½å†…æœåŠ¡å™¨é…ç½®Stunnelå®¢æˆ·ç«¯</h1><p>å›½å†…æœåŠ¡å™¨ï¼Œå°±æ˜¯åœ¨æµè§ˆå™¨ä»£ç†è®¾ç½®ä¸­ï¼Œå¡«å…¥çš„æœåŠ¡å™¨IPï¼Œè€Œç«¯å£ï¼Œåˆ™æ˜¯stunnelæ¥æ”¶ä»£ç†æ•°æ®çš„ç«¯å£ã€‚</p><ol><li>åœ¨æœåŠ¡å™¨æä¾›å•†ç½‘é¡µä¸­çš„å®‰å…¨ç»„è®¾ç½®é‡Œå¼€å¯stunnelæ¥æ”¶æ•°æ®çš„ç«¯å£ã€‚</li></ol><p>æœ¬äººä½¿ç”¨çš„é˜¿é‡Œäº‘è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œè¿›å…¥é˜¿é‡Œäº‘æ§åˆ¶å°ç›¸åº”é¡µé¢åï¼Œæ‰¾åˆ°å®‰å…¨ç»„-&gt;é˜²ç«å¢™-&gt;æ·»åŠ æ–°è§„åˆ™ã€‚åœ¨æ–°è§„åˆ™é‡Œï¼Œå¼€æ”¾ï¼ŒTCPåè®®çš„3128æ¥å£ã€‚ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ¥å£ã€‚</p><ol start="2"><li>é…ç½®å¥½å®‰å…¨ç»„åï¼Œé˜¿é‡Œäº‘æœåŠ¡å™¨æœ¬èº«è¿˜æœ‰ä¸€ä¸ªé˜²ç«å¢™ï¼Œè¿˜éœ€è¦åœ¨æœåŠ¡å™¨é‡Œå¼€æ”¾3128ç«¯å£ã€‚</li></ol><p>æŸ¥çœ‹å¼€æ”¾ç«¯å£ï¼Œå¦‚æœæ²¡æœ‰firewallï¼Œè¯·å…ˆå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --list-all</span><br></pre></td></tr></table></figure><p>è®¾ç½®éœ€è¦å¼€æ”¾çš„ç«¯å£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=3128/tcp --permanent//è®¾ç½®</span><br><span class="line">firewall-cmd --reload//ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å†æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£ï¼Œå°±èƒ½çœ‹åˆ°3128ç«¯å£å·²å¼€æ”¾ã€‚</p><ol start="3"><li>å®‰è£…stunnelå®¢æˆ·ç«¯ã€‚</li></ol><p>ubuntuä½¿ç”¨:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install stunnel</span><br></pre></td></tr></table></figure><p>centosä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install stunnel</span><br></pre></td></tr></table></figure><ol start="4"><li>è®¾ç½®stunnelå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">; stunnelå·¥ä½œç›®å½•,å¦‚æœæ²¡æœ‰/var/run/stunnelæ–‡ä»¶å¤¹ï¼Œéœ€å…ˆåˆ›å»º</span><br><span class="line">chroot = /var/run/stunnel/</span><br><span class="line">; stunnelå·¥ä½œçš„ç”¨æˆ·ç»„</span><br><span class="line">setuid = root</span><br><span class="line">setgid = root</span><br><span class="line">; stunnelå·¥ä½œæ—¶å€™çš„pid</span><br><span class="line">pid = /stunnel.pid</span><br><span class="line">; æ—¥å¿—ç­‰çº§</span><br><span class="line">debug = 7</span><br><span class="line">; æ—¥å¿—æ–‡ä»¶</span><br><span class="line">output = /var/log/stunnel/stunnel.log</span><br><span class="line">; è¡¨ç¤ºä»¥clientæ¨¡å¼å¯åŠ¨stunnelï¼Œé»˜è®¤client = noï¼Œå³serveræ¨¡å¼</span><br><span class="line">client = yes</span><br><span class="line">; å®šä¹‰ä¸€ä¸ªæœåŠ¡</span><br><span class="line">[squid-proxy]</span><br><span class="line">; ç›‘å¬3128ç«¯å£ï¼Œé‚£ä¹ˆç”¨æˆ·æµè§ˆå™¨çš„ä»£ç†è®¾ç½®å°±æ˜¯ stunnel-client-ip:3128</span><br><span class="line">accept = 3128</span><br><span class="line">; è¦è¿æ¥åˆ°çš„stunnel serverçš„ipä¸ç«¯å£ï¼Œä¿®æ”¹xx.xx.xx.xxä¸ºå›½å¤–çš„æœåŠ¡å™¨</span><br><span class="line">connect = xx.xx.xx.xx:3129</span><br><span class="line">; éœ€è¦éªŒè¯å¯¹æ–¹å‘è¿‡æ¥çš„è¯ä¹¦</span><br><span class="line">verify = 2</span><br><span class="line">; ç”¨æ¥è¿›è¡Œè¯ä¹¦éªŒè¯çš„æ–‡ä»¶ï¼ˆé‡Œé¢æœ‰stunnel serverçš„è¯ä¹¦ï¼‰</span><br><span class="line">CAfile = /etc/stunnel/stunnel-server.pem</span><br><span class="line">; å®¢æˆ·ç«¯ä¸éœ€è¦ä¼ é€’è‡ªå·±çš„è¯ä¹¦ï¼Œæ‰€ä»¥æ³¨é‡Šæ‰</span><br><span class="line">;cert = /etc/stunnel/stunnel.pem</span><br><span class="line">;key = /etc/stunnel/stunnel.key</span><br></pre></td></tr></table></figure><ol start="5"><li>å°†stunnleå…¬é’¥è¯ä¹¦æ‹·è´ä¸€ä»½åˆ°stunnelå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶çš„æŒ‡å®šåœ°å€ä¸Šã€‚</li></ol><p>é…ç½®æ–‡ä»¶é‡Œ<code>CAfile = /etc/stunnel/stunnel-server.pem</code>å†™æ˜äº†æˆ‘ä»¬éœ€è¦å°†å…¬é’¥ä¿å­˜çš„ä½ç½®å’Œå…¬é’¥çš„æ–‡ä»¶åã€‚</p><p>æˆ‘ä»¬åªéœ€è¦å°†ï¼Œ3.2èŠ‚ç”Ÿæˆçš„è¯ä¹¦æ‰“å¼€ï¼Œå¤åˆ¶å·²<code>BEGIN CERTIFICATION</code>å¼€å¤´åˆ°<code>END CERTIFICATION</code>ç»“æŸçš„å…¬é’¥ã€‚ç„¶åï¼Œæ–°å»º<code>/etc/stunnel/stunnel-server.pem</code>æ–‡ä»¶ï¼Œå°†å…¬é’¥ç²˜è´´è¿›å»ã€‚</p><p>è¿™æ ·stunnelå®¢æˆ·ç«¯å°±èƒ½å°†æ•°æ®åŠ å¯†åå‘é€ç»™stunnelæœåŠ¡å™¨äº†ã€‚</p><ol start="6"><li>å¯åŠ¨å’Œåœæ­¢stunnel</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service stunnel start &#x2F;&#x2F;å¼€å¯stunnel</span><br><span class="line">service stunnel restart &#x2F;&#x2F;é‡å¯</span><br><span class="line">service stunnel stop &#x2F;&#x2F;åœæ­¢</span><br><span class="line">service stunnel status  &#x2F;&#x2F;æŸ¥çœ‹çŠ¶æ€</span><br></pre></td></tr></table></figure><h1 id="5ï¼šä¸è¶³å’Œä¼˜åŒ–"><a href="#5ï¼šä¸è¶³å’Œä¼˜åŒ–" class="headerlink" title="5ï¼šä¸è¶³å’Œä¼˜åŒ–"></a>5ï¼šä¸è¶³å’Œä¼˜åŒ–</h1><h2 id="5-1-ä»£ç†æ–¹æ³•çš„ä¸è¶³"><a href="#5-1-ä»£ç†æ–¹æ³•çš„ä¸è¶³" class="headerlink" title="5.1 ä»£ç†æ–¹æ³•çš„ä¸è¶³"></a>5.1 ä»£ç†æ–¹æ³•çš„ä¸è¶³</h2><ol><li><p>ç”±äºå®¢æˆ·ç«¯çš„stunnelç›´æ¥ç›‘å¬3128ç«¯å£ï¼Œè€Œæ²¡æœ‰ä»»ä½•çš„éªŒè¯å’Œè®¿é—®é™åˆ¶ï¼Œå› æ­¤ï¼Œä»»ä½•çŸ¥é“ipå’Œç«¯å£çš„äººéƒ½èƒ½é€šè¿‡è®¾ç½®ä»£ç†ï¼Œä½¿ç”¨ä½ çš„ä»£ç†æ¥å£ã€‚</p></li><li><p>stunnelæœåŠ¡ç«¯æ²¡æœ‰è®¾ç½®å¯¹å®¢æˆ·ç«¯çš„è¯ä¹¦éªŒè¯ï¼Œä»»ä½•é€šè¿‡è‡ªå»ºstunnelå®¢æˆ·ç«¯çš„äººï¼Œéƒ½æœ‰å¯èƒ½ä½¿ç”¨ä½ çš„stunnelæœåŠ¡ï¼Œè¿›è¡Œé€šä¿¡ã€‚</p></li></ol><h2 id="5-2-ä¼˜åŒ–"><a href="#5-2-ä¼˜åŒ–" class="headerlink" title="5.2 ä¼˜åŒ–"></a>5.2 ä¼˜åŒ–</h2><ol><li>é…ç½®squidç”¨æˆ·æˆæƒï¼Œå³åœ¨ç”¨æˆ·ä½¿ç”¨ä»£ç†ä¸Šç½‘æ—¶ï¼Œå¼¹å‡ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¾“å…¥æ­£ç¡®ï¼Œæ‰èƒ½ä½¿ç”¨squid</li></ol><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶<code>/etc/squid/squid.conf</code>ï¼Œåœ¨<code>http_access deny all</code>ä¹‹å‰è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼Œå¹¶æ³¨é‡Šæ‰<code>http_access allow localhost</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> auth_param è®¾ç½®ä»£ç†çš„è®¤è¯æ–¹å¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨æ³•ï¼šauth_param scheme parameter [setting]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> schemeè¡¨ç¤ºè®¤è¯æœºåˆ¶ï¼Œsquidæ”¯æŒBasicï¼ŒDigestï¼ŒNTLMï¼ŒNegotiateå››ç§è®¤è¯æœºåˆ¶</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> program è®¾ç½®è®¤è¯ç¨‹åºä¸ºncsa_authï¼ˆsquidè‡ªå¸¦ä¸å°‘è®¤è¯ç¨‹åºä»¥åŠå…¶ä»–æ‹“å±•ç¨‹åºï¼‰ï¼Œç¨‹åºæ‰€éœ€å¯†ç æ–‡ä»¶passwdã€‚ã€‚å¦‚æœlinuxæ˜¯32ä½ç³»ç»Ÿï¼Œè®¤è¯ç¨‹åº/usr/lib/squid/ç›®å½•ä¸‹ã€‚è®¤è¯ç¨‹åºåç§°æœ‰å¯èƒ½æ˜¯basic_ncsa_authã€‚éœ€è¦å…·ä½“æ‰“å¼€æ–‡ä»¶å¤¹åæŸ¥çœ‹ã€‚</span></span><br><span class="line">auth_param basic program /usr/lib64/squid/ncsa_auth /etc/squid/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> children è®¾ç½®åå°å¯åŠ¨å‡ ä¸ªè®¤è¯ç¨‹åºè¿›ç¨‹</span></span><br><span class="line">auth_param basic children 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> credentialsttl è®¾ç½®è®¤è¯å¤±æ•ˆæ—¶é—´ï¼Œè¿‡æœŸåéœ€é‡æ–°è®¤è¯</span></span><br><span class="line">auth_param basic credentialsttl 10 hours</span><br><span class="line"><span class="meta">#</span><span class="bash"> realm è®¾ç½®è®¤è¯æ—¶è¿”å›å¤´é‡Œå¤¹å¸¦çš„ä¿¡æ¯â€œwlecome to using my proxyâ€</span></span><br><span class="line">auth_param basic realm welecome to using my proxy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ï¼ï¼ï¼ä¸Šé¢åªæ˜¯è®¾ç½®äº†éœ€è¦è®¤è¯ï¼Œå¹¶æœªå°†è®¤è¯ç”Ÿæ•ˆï¼Œè¿˜éœ€è®¾ç½®aclä¸http_access</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ åä¸ºAuthUsersè®¿é—®åˆ—è¡¨ï¼Œè¡¨ç¤ºé€šè¿‡è®¤è¯çš„ç”¨æˆ·</span></span><br><span class="line">acl AuthUsers proxy_auth REQUIRED</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…è®¸AuthUsersçš„ä»£ç†è¯·æ±‚</span></span><br><span class="line">http_access allow AuthUsers</span><br></pre></td></tr></table></figure><ul><li>æ–°å»ºå¯†ç æ–‡ä»¶</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c /etc/squid/passwd qifei</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰htpasswdï¼Œåˆ™æŒ‰æç¤ºå®‰è£…ã€‚è¾“å…¥å¯†ç å³å¯ã€‚</p><ul><li>é‡å¯squid</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service squid restart</span><br></pre></td></tr></table></figure><ol start="2"><li>æ·»åŠ stunnelå¯¹å®¢æˆ·ç«¯çš„è¯ä¹¦éªŒè¯ï¼Œéœ€è¦å†æ–°å»ºä¸€ä¸ªè¯ä¹¦æ–‡ä»¶ï¼ŒåŒæ—¶ä¿®æ”¹æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ã€‚</li></ol><h1 id="6ï¼šè¡¥å……"><a href="#6ï¼šè¡¥å……" class="headerlink" title="6ï¼šè¡¥å……"></a>6ï¼šè¡¥å……</h1><h2 id="6-1-åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube"><a href="#6-1-åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube" class="headerlink" title="6.1 åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube"></a>6.1 åªèƒ½è®¿é—®è°·æ­Œè€Œæ— æ³•è®¿é—®YouTube</h2><h3 id="5-30æ—¥æ›´æ–°ï¼š"><a href="#5-30æ—¥æ›´æ–°ï¼š" class="headerlink" title="5.30æ—¥æ›´æ–°ï¼š"></a>5.30æ—¥æ›´æ–°ï¼š</h3><p>åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„ä½¿ç”¨åï¼Œä¸Šç§æ–¹æ³•å­˜åœ¨ä¸€äº›å¼Šç«¯ã€‚</p><p>åœ¨å¼€å¯ä»£ç†åï¼Œå¯ä»¥è®¿é—®è°·æ­Œï¼Œå’Œä¸€äº›å…¶ä»–å¤–ç½‘ç½‘ç«™ã€‚ä½†æ˜¯ï¼Œæ— æ³•è®¿é—®youtubeã€facebookç­‰ç½‘ç«™ã€‚åå¤åˆ·æ–°ï¼Œè¿˜æ˜¯å¯ä»¥è®¿é—®åˆ°youtubeã€‚æ‰‹æœºä¸Šçš„è®¸å¤šä¾èµ–å¤–ç½‘çš„è½¯ä»¶æ¯”å¦‚è°·æ­Œå•†åº—ï¼Œæ— æ³•ä½¿ç”¨ã€‚</p><p>åˆ©ç”¨wiresharkå¯¹æ— çº¿ç½‘å¡è¿›è¡ŒæŠ“åŒ…ã€‚å‘ç°ï¼Œåœ¨æµè§ˆå™¨è®¿é—®youtubeæ—¶ï¼Œæµè§ˆå™¨å‘å›½å†…çš„ä¸­è½¬ä»£ç†æœåŠ¡å™¨ï¼Œå‘é€äº†httpåè®®æ•°æ®ã€‚æ­¤æ•°æ®å¸¦æœ‰æ˜æ˜¾çš„è¯·æ±‚å¤´url<code>youtube.com</code>ã€‚çŒœæµ‹å¯èƒ½æ˜¯å›½å†…è·¯ç”±ï¼Œå°†å«youtubeç­‰urlçš„è¯·æ±‚å¤´è¿‡æ»¤æ‰äº†ã€‚è¿™æ ·ï¼Œè¯·æ±‚youtubeçš„æ•°æ®æ ¹æœ¬æ— æ³•åˆ°è¾¾ä¸­è½¬æœåŠ¡å™¨ã€‚</p><p>è€Œå¤šæ¬¡åˆ·æ–°youtubeç½‘ç«™ï¼Œè¿˜æ˜¯èƒ½å¤Ÿè¿åŒï¼Œè¯´æ˜å›½å†…è·¯ç”±å¹¶æ²¡æœ‰å®Œå…¨ä¸¢å¼ƒyoutubeè¯·æ±‚ï¼Œè€Œæ˜¯éƒ¨åˆ†ä¸¢å¼ƒäº†æˆ‘ä»¬çš„è¯·æ±‚ã€‚</p><p>ä¹‹æ‰€ä»¥è°·æ­Œèƒ½å®Œå…¨æ— é˜»åœ°æ¥é€šï¼Œæˆ‘çŒœæµ‹ï¼Œæ˜¯å› ä¸ºå›½å†…è®¸å¤šç½‘ç«™ï¼Œæœ‰ä¾èµ–è°·æ­Œçš„å„ç§apiï¼Œå› æ­¤å±è”½çš„æŸå¤±è¿œå¤§äºå°é”çš„æŸå¤±ã€‚å› æ­¤åªåœ¨å›½é™…å‡ºå£ä¸Šï¼Œå¯¹è°·æ­Œè¿›è¡Œäº†å°é”ï¼Œè€Œå›½å†…æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ²¡æœ‰é—®é¢˜ã€‚</p><p>æŸ¥é˜…httpsåè®®çš„å·¥ä½œåŸç†ä¸éš¾çŸ¥é“ã€‚æµè§ˆå™¨éœ€è¦é¦–å…ˆä½¿ç”¨httpåè®®ï¼Œå‘youtubeæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒyoutubeæœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨SSLè¯ä¹¦å…¬é’¥ï¼Œä¹‹åæµè§ˆå™¨å’ŒyoutubeæœåŠ¡å™¨æ‰ä¼šä½¿ç”¨SSLåŠ å¯†åçš„æ•°æ®è¿›è¡Œé€šè®¯ã€‚</p><p>åœ¨youtubeæœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´æ·»åŠ ä»£ç†ï¼Œä¹Ÿåªæ˜¯è½¬å‘æ•°æ®ï¼Œå¹¶æ²¡æœ‰æ”¹å˜æµè§ˆå™¨è®¿é—®youtubeæœåŠ¡å™¨æ—¶ï¼Œå‘é€åŒ…å«åŒ…å¤´çš„httpæ•°æ®çš„äº‹å®ã€‚</p><p>å› æ­¤ï¼Œå³ä¾¿æˆ‘ä»¬åœ¨å›½å†…stunnelå®¢æˆ·ç«¯å’Œå›½å¤–çš„stunnelå®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®è¿›è¡Œäº†åŠ å¯†ï¼Œä¹Ÿæ— æ³•è§„é¿æ‰æµè§ˆå™¨åˆ°å›½å†…stunnelæœåŠ¡å™¨ä¹‹é—´æœ‰httpè¯·æ±‚ï¼Œé€ æˆè¯·æ±‚è¢«ä¸¢å¼ƒçš„é—®é¢˜ã€‚</p><p>æœ€å¥½çš„åŠæ³•è¿˜æ˜¯ï¼Œåœ¨æµè§ˆå™¨æ‰€åœ¨ä¸»æœºæŒ‰è½¬stunnelå®¢æˆ·ç«¯ã€‚ç›´æ¥ä½¿ç”¨stunnelå®¢æˆ·ç«¯å‘å›½å¤–stunnelæœåŠ¡å™¨å‘é€æ•°æ®ï¼Œå°†æµè§ˆå™¨çš„æ‰€æœ‰å‡ºå£æµé‡åŠ å¯†ï¼Œç›´åˆ°å‘é€åˆ°å›½å¤–å†è§£å¯†ï¼Œå¹¶è½¬å‘ã€‚</p><p>è¿™æ ·åšï¼Œå…¶å®å’Œä½¿ç”¨ssæˆ–è€…ssråŸç†ç›¸åŒã€‚ä½†æ˜¯ï¼Œç¼ºå°‘ä¸€äº›ä¼ªè£…ã€‚</p><h3 id="5-31æ—¥æ›´æ–°ï¼š"><a href="#5-31æ—¥æ›´æ–°ï¼š" class="headerlink" title="5.31æ—¥æ›´æ–°ï¼š"></a>5.31æ—¥æ›´æ–°ï¼š</h3><p>æˆ‘ä½¿ç”¨ping.peç½‘ç«™æä¾›çš„ç«¯å£æµ‹è¯•ï¼Œå‘ç°ï¼Œå½“æˆ‘è®¿é—®å›½å†…æœåŠ¡å™¨3128ç«¯å£æ—¶ï¼Œé™¤äº†ä¸­å›½ç§»åŠ¨çš„ç½‘ç»œï¼Œå…¶ä»–åŒ…æ‹¬ä¸­å›½ç”µä¿¡å’Œè”é€šï¼Œå¤–ç½‘åœ¨å†…çš„æ‰€æœ‰è¿è¥å•†å‡èƒ½pingåŒ3128ç«¯å£ã€‚</p><p>æˆ‘çŒœæµ‹å¯èƒ½ä¸­å›½ç§»åŠ¨ä¼šå¯¹3128ç«¯å£è¿›è¡Œéšæœºä¸¢åŒ…ã€‚æ¥é˜»æ­¢squidä»£ç†çš„ä½¿ç”¨ã€‚</p><p>æˆ‘ä¿®æ”¹äº†æ¥æ”¶ä»£ç†çš„ç«¯å£å·ã€‚å†æ¬¡åœ¨Ping.peä¸Šæµ‹è¯•ï¼Œç§»åŠ¨å·²ç»èƒ½å¤Ÿpingé€šç«¯å£ã€‚ç„¶è€Œï¼Œä»ç„¶å­˜åœ¨è°·æ­Œèƒ½å¤Ÿè®¿é—®ï¼Œè€Œyoutubeå’Œfbä¸èƒ½è®¿é—®çš„é—®é¢˜ã€‚</p><p>çŒœæµ‹ï¼Œå¯èƒ½ä¸­å›½ç§»åŠ¨ä¼šéšæœºä¸¢å¼ƒè¯·æ±‚åœ°å€æ˜¯youtubeçš„httpè¯·æ±‚æ•°æ®ã€‚äºæ˜¯æˆ‘æ›´æ¢äº†æˆ‘çš„è”é€šæ‰‹æœºå¡ï¼Œæ¥ä»£ç†ä¸Šç½‘ã€‚å‘ç°è°·æ­Œã€youtubeå’Œå…¶ä»–å¤–ç½‘ç½‘ç«™ï¼Œå‡èƒ½å¾ˆå¥½çš„è®¿é—®ã€‚æˆ‘åˆæµ‹è¯•äº†ç”µä¿¡ç½‘ç»œï¼Œå‘ç°ç»“æœä¹Ÿæ˜¯å¥½çš„ã€‚</p><p><strong>ç»“è®º</strong>ï¼Œä¸­å›½ç§»åŠ¨ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨ä»£ç†ä¸Šç½‘æ—¶ï¼Œä¼šå¯¹è¯·æ±‚urlä¸ºyoutube.comä¹‹ç±»çš„httpè¯·æ±‚è¿›è¡Œäººä¸ºéšæœºä¸¢åŒ…ï¼Œè€Œä¸”ä¸¢åŒ…ç‡æé«˜ã€‚é¢„æµ‹è¶…è¿‡ç™¾åˆ†ä¹‹å…«åã€‚ã€‚äº†è§£ç§»åŠ¨å›½é™…å¸¦å®½ä¿æœ‰ç‡ï¼Œä¸éš¾å‘ç°ï¼Œç§»åŠ¨çš„å›½é™…å¸¦å®½å æœ‰ç‡æ˜¯ä¸‰å¤§è¿è¥å•†é‡Œæœ€ä½çš„ï¼Œå´æœ‰ç¬¬äºŒçš„å›½é™…ç”¨æˆ·ã€‚å¯è§ä¸ºäº†è§£å†³å¸¦å®½ä¸è¶³é—®é¢˜ï¼Œä»–åœ¨å›½å†…ä¾¿å¯¹youtubeæµé‡è¿›è¡Œäº†ä¸¢å¼ƒï¼Œè€Œä¸æ˜¯åˆ°å›½é™…å‡ºå£å†ä¸¢å¼ƒã€‚ã€‚</p><p>è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯ï¼Œå‡å°‘äº†youtubeè¿™ç±»åœ¨å›½é™…å‡ºå£ä¼šè¢«æ‹¦æˆªçš„æµé‡å ç”¨ä¼ é€’æ—¶çš„å¸¦å®½ï¼Œé™ä½å›½é™…å‡ºå£è¿‡æ»¤è®¾å¤‡çš„æŠ•å…¥ã€‚ç¼ºç‚¹æ˜¯ï¼Œä¼šåŠ å¤§åœ¨å›½å†…è·¯ç”±è¿‡æ»¤è®¾å¤‡çš„æŠ•å…¥ã€‚</p><p>é€šè¿‡å¯¹httpsåŸç†å’Œç§»åŠ¨è¿‡æ»¤youtubeæµé‡çš„åˆ†æï¼Œæˆ‘ä»¬åº”è¯¥çŸ¥é“ï¼Œåœ¨ä½¿ç”¨å›½å†…ä¸­è½¬æ–¹å¼è¿›è¡Œå¤–ç½‘è®¿é—®æ—¶ï¼Œè¿è¥å•†èƒ½å¤ŸçŸ¥é“ä½ æ­£åœ¨è®¿é—®å¤–ç½‘ã€‚è™½ç„¶æµé‡æµå‘äº†å›½å†…æœåŠ¡å™¨ï¼Œå¦‚æœç½‘è­¦å¯¹æ‹¦æˆªçš„æµé‡è¿›è¡Œåˆ†æï¼Œæ˜¯èƒ½å¤ŸçŸ¥é“ä½ è®¿é—®äº†å“ªäº›å¤–å›½ç½‘ç«™çš„ã€‚ã€‚åå‘æº¯æºï¼Œå¦‚æœä½ ä½¿ç”¨äº†æ‰‹æœº4Gç½‘ç»œè®¿é—®ï¼Œé‚£ä¹ˆï¼Œè¥è¿å•†é…åˆï¼Œèƒ½å¤Ÿå®šä½åˆ°ä½ æœ¬äººã€‚å¦‚æœä½¿ç”¨wifiè®¿é—®ï¼Œèƒ½å¤Ÿå®šä½åˆ°ä½ çš„å®¶åº­ã€‚å¦‚æœç½‘è­¦æŸ¥çœ‹è·¯ç”±å™¨æ—¥å¿—ï¼Œä¸éš¾æ‰¾åˆ°ï¼Œæ˜¯å“ªä¸ªæ‰‹æœºè®¿é—®äº†è¿™äº›å¤–ç½‘ã€‚</p><p>è€Œhttpè¯·æ±‚å¤´ä¸­åŒ…å«çš„è®¾å¤‡ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯ä»€ä¹ˆç”µè„‘ï¼Œæµè§ˆå™¨å“ç‰Œå’Œç‰ˆæœ¬ç­‰ï¼Œæ— ç–‘é™ä½äº†æ‰¾åˆ°ä½ çš„éš¾åº¦ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œä¸ºäº†ç½‘ç»œå®‰å…¨ï¼Œé™ä½è¢«å®¡æŸ¥çš„é£é™©ã€‚åœ¨æœ¬åœ°ä¸»æœºéƒ¨ç½²stunnelå®¢æˆ·ç«¯ï¼Œæ¯”åœ¨å›½å†…æœåŠ¡å™¨ä¸­è½¬æ›´åŠ å®‰å…¨ã€‚ä½†æ˜¯é•¿æ—¶é—´çš„åŠ å¯†è¿æ¥å›½å¤–æœåŠ¡å™¨ï¼Œä¸éš¾è®©äººçŒœå‡ºï¼Œä½ æ­£åœ¨ä½¿ç”¨vpnä¹‹ç±»çš„è½¯ä»¶è®¿é—®å¤–ç½‘ã€‚ä½¿ç”¨wifiçš„ä»£ç†æ¯”ä½¿ç”¨æ‰‹æœºç½‘ç»œçš„ä»£ç†æ›´åŠ å®‰å…¨ã€‚</p><h2 id="6-2-ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†"><a href="#6-2-ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†" class="headerlink" title="6.2 ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†"></a>6.2 ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ‰‹æœºè½¯ä»¶ä¸èƒ½å¼¹å‡ºç™»é™†æ¡†</h2><p>åœ¨å®é™…ä»£ç†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½¿ç”¨wifiæˆ–æ‰‹æœºç½‘ç»œçš„è½¯ä»¶ï¼Œæ— æ³•å¼¹å‡ºsquidçš„ä»£ç†è®¤è¯æ¡†ï¼Œä»è€Œæ— æ³•è¾“å…¥è´¦å·å’Œå¯†ç ã€‚å› æ­¤ï¼Œè½¯ä»¶ä¼šæ²¡åŠæ³•è®¿é—®å¤–ç½‘ï¼Œåªæœ‰æµè§ˆå™¨å¯ä»¥è®¿é—®ã€‚</p><h3 id="æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†"><a href="#æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†" class="headerlink" title="æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†"></a>æ–¹æ³•1ï¼šå®Œå…¨å¼€æ”¾ä»£ç†</h3><p>ä¿®æ”¹<code>squid.conf</code>å…³é—­ç”¨æˆ·åå’Œå¯†ç éªŒè¯ã€‚å…è®¸æœ¬åœ°ipç™»é™†ã€‚æ­¤æ—¶æ‰€æœ‰çŸ¥é“IPå’Œç«¯å£çš„ç”¨æˆ·éƒ½èƒ½ä½¿ç”¨ä»£ç†è®¿é—®ã€‚ã€‚è¿™ç§æ–¹æ³•æ˜¯æä¸å®‰å…¨çš„ï¼Œå› ä¸ºï¼Œæœ‰è®¸å¤šçˆ¬è™«è½¯ä»¶ï¼Œèƒ½å¤Ÿé€šè¿‡æ‰«æipå’Œç«¯å£ï¼Œæ”¶é›†èƒ½å¤Ÿä½¿ç”¨ä»£ç†çš„ipå’Œå¯¹åº”ç«¯å£ã€‚çŸ­æ—¶é—´çš„ä½¿ç”¨æ–¹æ³•ä¸€æ˜¯å¯ä»¥çš„ï¼Œä½†é•¿æœŸä¸‹æ¥ï¼Œå®¹æ˜“è¢«æ”»ç ´ã€‚</p><h3 id="æ–¹æ³•2ï¼šIPé™åˆ¶"><a href="#æ–¹æ³•2ï¼šIPé™åˆ¶" class="headerlink" title="æ–¹æ³•2ï¼šIPé™åˆ¶"></a>æ–¹æ³•2ï¼šIPé™åˆ¶</h3><p>åœ¨å›½å†…ä¸­è½¬æœåŠ¡å™¨ä¸Šä¹Ÿå®‰è£…squidã€‚ç”¨æˆ·è¿æ¥squidç«¯å£ï¼Œsquidå°†å†…å®¹å‘é€åˆ°ä¸­è½¬æœåŠ¡å™¨çš„stunnelæ¥å£ï¼ŒstunnelåŠ å¯†ä¼ è¾“åˆ°å›½å¤–ï¼Œå›½å¤–æœåŠ¡å™¨ï¼Œstunnelè§£å¯†å†åˆ†å‘è¯·æ±‚ã€‚</p><p>å®Œæ•´æ‹“æ‰‘ç»“æ„ï¼šç”¨æˆ·ä¸»æœº-&gt;squidï¼ˆå›½å†…ï¼‰-&gt;stunnelï¼ˆå›½å†…ï¼‰-&gt;stunnelï¼ˆå›½å¤–ï¼‰-&gt;squidï¼ˆå›½å¤–ï¼‰-&gt;ç½‘ç«™æœåŠ¡å™¨</p><p>æ·»åŠ squidçš„ç›®çš„æ˜¯ï¼Œsquidå¯ä»¥éªŒè¯ç”¨æˆ·ä¸»æœºipã€‚é€šè¿‡squidè®¾ç½®èƒ½å¤Ÿè¿æ¥squidçš„ipæ± ã€‚stunnelæ˜¯æ— æ³•éªŒè¯çš„ã€‚æˆ‘ä»¬ä¹‹å‰çš„ç”¨æˆ·åå’Œå¯†ç éªŒè¯ï¼Œæ˜¯é€šè¿‡å›½å¤–squidéªŒè¯çš„ï¼Œå›½å¤–squidæ— æ³•éªŒè¯ipï¼Œæ˜¯å› ä¸ºï¼Œå›½å¤–squidæ¥æ”¶çš„ä¿¡æ¯ï¼Œå…¨éƒ¨æ¥è‡ªlocalhostçš„ç«¯å£ã€‚ä¹Ÿå°±æ˜¯å›½å¤–stunnelå‘å‡ºçš„ã€‚</p><h3 id="æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯"><a href="#æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯" class="headerlink" title="æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯"></a>æ–¹æ³•3ï¼šç½‘é¡µéªŒè¯åŠ è‡ªå®šä¹‰ACLè¾…åŠ©å™¨éªŒè¯</h3><p>ç¬¬ä¸€æ¬¡ç™»é™†è·³è½¬ç½‘é¡µéªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œä¹‹åæ°¸ä¹…æˆ–ç¼“å­˜ä¿å­˜ipï¼Œå…äºæ­¤ipéªŒè¯ã€‚</p><p><strong>è®¾è®¡æ€è·¯</strong></p><ol><li>ç”¨æˆ·è®¾ç½®ipå’Œç«¯å£ï¼Œæ— å¯†ç è¿æ¥ä»£ç†æœåŠ¡å™¨ã€‚</li><li>ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ä»»æ„ç½‘é¡µ</li><li>åˆ©ç”¨squidSGuardé‡å®šå‘æ— è®¿é—®æƒé™ipçš„è®¿é—®urlï¼Œè½¬åˆ°è®¤è¯ç½‘é¡µã€‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li>ç½‘é¡µåå°éªŒè¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å¹¶ä¿å­˜ç”¨æˆ·ipã€‚</li><li>ç¼–å†™squid ACLè¾…åŠ©å™¨ï¼Œè¯»å–å¹¶éªŒè¯æŸ¥æ‰¾æ˜¯å¦æœ‰è¿™ä¸ªipã€‚å­˜åœ¨åˆ™é€šè¿‡ï¼Œä¸å­˜åœ¨ï¼Œåˆ™è¿›è¡Œé‡å®šå‘åˆ°éªŒè¯é¡µé¢ã€‚</li></ol><h3 id="æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯"><a href="#æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯" class="headerlink" title="æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯"></a>æ–¹æ³•4ï¼šè‡ªå®šä¹‰éªŒè¯å™¨åŠ ACLè¾…åŠ©å™¨éªŒè¯</h3><p>ç¬¬ä¸€æ¬¡ç™»é™†ï¼Œå¼¹å‡ºä»£ç†ç™»é™†æ¡†ï¼Œé€šè¿‡åä¿å­˜ip</p><ol><li>ç”¨æˆ·è®¾ç½®ipå’Œç«¯å£ï¼Œè¿æ¥ä»£ç†æœåŠ¡å™¨ã€‚</li><li>ä»£ç†æœåŠ¡å™¨é€šè¿‡ACLè¾…åŠ©å™¨éªŒè¯æ­¤IPæ˜¯å¦åœ¨ç™½åå•ä¸­ã€‚</li><li>ä¸åœ¨ç™½åå•åˆ™ï¼Œè¿›å…¥è‡ªå®šä¹‰éªŒè¯å™¨ï¼Œåœ¨ï¼Œåˆ™é€šè¿‡ä»£ç†ã€‚</li><li>è¿›å…¥éªŒè¯å™¨ï¼ŒéªŒè¯å™¨éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœé€šè¿‡ï¼Œåˆ™ä¿å­˜IPåˆ°ç™½åå•ï¼Œå¦åˆ™ä¸é€šè¿‡ã€‚</li></ol><p>æˆ‘é‡‡ç”¨æ–¹æ³•å››è¿›è¡Œç”¨æˆ·éªŒè¯ï¼Œå…¶ä¸­è›®å¤šç»†èŠ‚ï¼Œäºæ˜¯å¦èµ·ä¸€æ–‡è®²è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stunnelä»£ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºšç›å·¥å¤§æ•™å­¦è§†é¢‘æ·»åŠ ä¸­å¾·å­—å¹•</title>
      <link href="/2020/05/27/%E4%BA%9A%E7%90%9B%E5%B7%A5%E5%A4%A7%E6%95%99%E5%AD%A6%E8%A7%86%E9%A2%91%E6%B7%BB%E5%8A%A0%E4%B8%AD%E5%BE%B7%E5%AD%97%E5%B9%95/"/>
      <url>/2020/05/27/%E4%BA%9A%E7%90%9B%E5%B7%A5%E5%A4%A7%E6%95%99%E5%AD%A6%E8%A7%86%E9%A2%91%E6%B7%BB%E5%8A%A0%E4%B8%AD%E5%BE%B7%E5%AD%97%E5%B9%95/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -æ’ä»¶ç”¨æˆ·æ‰‹å†Œ"><a href="#ç¬¬ä¸€ç« -æ’ä»¶ç”¨æˆ·æ‰‹å†Œ" class="headerlink" title="ç¬¬ä¸€ç«  æ’ä»¶ç”¨æˆ·æ‰‹å†Œ"></a>ç¬¬ä¸€ç«  æ’ä»¶ç”¨æˆ·æ‰‹å†Œ</h1><h2 id="1-1-é€‚ç”¨åœºæ™¯å’ŒåŠŸèƒ½è¯´æ˜"><a href="#1-1-é€‚ç”¨åœºæ™¯å’ŒåŠŸèƒ½è¯´æ˜" class="headerlink" title="1.1 é€‚ç”¨åœºæ™¯å’ŒåŠŸèƒ½è¯´æ˜"></a>1.1 é€‚ç”¨åœºæ™¯å’ŒåŠŸèƒ½è¯´æ˜</h2><ol><li>æœ¬æ’ä»¶é€‚ç”¨äºåŸºäºchromiumå†…æ ¸å¼€å‘çš„æµè§ˆå™¨ï¼ŒåŒ…æ‹¬<strong>Chromeæµè§ˆå™¨ã€360å®‰å…¨æµè§ˆå™¨ã€QQæµè§ˆå™¨</strong>ç­‰ã€‚</li><li>æ’ä»¶åªåœ¨æ»¡è¶³<strong>https://*/rwth-aachen.de/*</strong>åŸŸå<strong>åŒ¹é…</strong>æ—¶å·¥ä½œï¼Œä¸”é™¤äº†æ·»åŠ å­—å¹•å¤–æ— å…¶ä»–åŠŸèƒ½ã€‚</li><li>æ”¯æŒ<strong>å¾·è¯­ã€ä¸­æ–‡ã€åŒè¯­</strong>å­—å¹•</li><li>æ’ä»¶åªèƒ½ä¸º<strong>æ•°æ®åº“é‡Œå­˜åœ¨çš„è§†é¢‘</strong>èµ„æº<strong>æ·»åŠ å­—å¹•</strong>ã€‚æ›´å¤šè§†é¢‘å­—å¹•ï¼Œä¼šé€æ¸ä¸Šä¼ ã€‚</li></ol><h2 id="1-2-æ•ˆæœå›¾é¢„è§ˆ"><a href="#1-2-æ•ˆæœå›¾é¢„è§ˆ" class="headerlink" title="1.2 æ•ˆæœå›¾é¢„è§ˆ"></a>1.2 æ•ˆæœå›¾é¢„è§ˆ</h2><p>ä»¥ä¸‹ä»…å±•ç¤ºäº†åŒè¯­å­—å¹•ã€‚</p><p><img src="https://ae01.alicdn.com/kf/U82f285cdeda645b1b2b1c6aaafdec57f2.png" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/U82f285cdeda645b1b2b1c6aaafdec57f2.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="1-3-æ’ä»¶å®‰è£…"><a href="#1-3-æ’ä»¶å®‰è£…" class="headerlink" title="1.3 æ’ä»¶å®‰è£…"></a>1.3 æ’ä»¶å®‰è£…</h2><ol><li><p>ä¸‹è½½æ’ä»¶<a href="https://lanzous.com/ick15oh">https://lanzous.com/ick15oh</a></p></li><li><p>è§£å‹æ’ä»¶åˆ°æ¡Œé¢ã€‚è·å¾—ä»¥captions-for-moodleä¸ºåçš„æ–‡ä»¶å¤¹ã€‚</p><p><img src="https://ae01.alicdn.com/kf/Hf2869255fa0c49bf973aa50825ba47ff8.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hf2869255fa0c49bf973aa50825ba47ff8.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p></li><li><p>æ‰“å¼€chromeæµè§ˆå™¨ï¼Œä¾æ¬¡ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹å›¾æ ‡â€”&gt;æ›´å¤šå·¥å…·â€”&gt;æ‰©å±•ç¨‹åºã€‚æˆ–è€…åœ¨åœ°å€æ è¾“å…¥<code>chrome://extensions/</code>ä»¥æ‰“å¼€æ‰©å±•ç¨‹åºã€‚</p><p><img src="https://ae01.alicdn.com/kf/Hd3b1aedb657a41519bbb456c43198d18D.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hd3b1aedb657a41519bbb456c43198d18D.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p></li><li><p>å•å‡»æ‰“å¼€æ‰©å±•ç¨‹åºå³ä¸Šè§’çš„å¼€å‘è€…é€‰é¡¹ã€‚</p></li></ol><p><img src="https://ae01.alicdn.com/kf/Hbb3e047e6d16498da7592aafb7749abbY.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hbb3e047e6d16498da7592aafb7749abbY.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç„¶åå¼€å‘è€…æ¨¡å¼ä¸‹æ–¹å°†å‡ºç°<code>åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº</code>ã€‚</p><p><img src="https://ae01.alicdn.com/kf/Hbb72c1ae5ca74a6f819042e5131ce7efp.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hbb72c1ae5ca74a6f819042e5131ce7efp.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="5"><li>ç‚¹å‡»<strong>åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº</strong>ï¼Œåœ¨å¼¹å‡ºé¡µé¢ï¼Œé€‰æ‹©åç§°ä¸º<code>captions-for-moodle</code>æ–‡ä»¶å¤¹ã€‚ç‚¹å‡»<strong>é€‰æ‹©æ–‡ä»¶å¤¹</strong>ã€‚æ­¤æ—¶é¡µé¢å‡ºç°Captions for Moodle RWTH 1.0æ’ä»¶ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/H0b0a0d26f66541c5809fd11e17d0b36bE.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H0b0a0d26f66541c5809fd11e17d0b36bE.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="6"><li>è‡³æ­¤æ’ä»¶å®‰è£…å®Œæˆï¼Œç¡®è®¤æ’ä»¶å¡ç‰‡é‡Œçš„é€‰æ‹©æŒ‰é’®ä¸ºè“è‰²ï¼Œè¡¨ç¤ºæ’ä»¶å·²æ¿€æ´»ã€‚æ’ä»¶æ¿€æ´»åï¼Œåœ¨æµè§ˆå™¨å³ä¸Šè§’ï¼Œå°†å‡ºç°RWTHçš„å›¾æ ‡ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/H82bd3a2c0c1a4760b7d576a735ad812eQ.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H82bd3a2c0c1a4760b7d576a735ad812eQ.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¸”å½“ä½ æ‰“å¼€ï¼Œ<code>moodle.rwth-aachen.de</code>æ—¶ï¼Œé¡µé¢å‡ºç°ç»¿è‰²æµ®åŠ¨æŒ‰é’®ã€‚</p><p><img src="https://ae01.alicdn.com/kf/H84b78f1894a545848e82bb899f2b1577V.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H84b78f1894a545848e82bb899f2b1577V.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="1-4-æ’ä»¶ä½¿ç”¨"><a href="#1-4-æ’ä»¶ä½¿ç”¨" class="headerlink" title="1.4 æ’ä»¶ä½¿ç”¨"></a>1.4 æ’ä»¶ä½¿ç”¨</h2><ol><li>æ‰“å¼€moodleè¯¾ç¨‹è§†é¢‘é¡µé¢ï¼Œé¡µé¢å‡ºç°ç»¿è‰²æ‚¬æµ®æŒ‰é’®ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/H3f9b8280cb794400ae6106988a71e3e6U.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H3f9b8280cb794400ae6106988a71e3e6U.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="2"><li>ç‚¹å‡»æ’­æ”¾è§†é¢‘ï¼Œç›´åˆ°<strong>è§†é¢‘</strong>åŠ è½½æˆåŠŸä¸”<strong>å¼€å§‹æ’­æ”¾</strong>ï¼Œ<strong>å•å‡»</strong>ç»¿è‰²æ‚¬æµ®<strong>æŒ‰é’®</strong>ï¼Œï¼é‡è¦ï¼Œ<strong>ç­‰å¾…å‡ ç§’é’Ÿ</strong>ã€‚å¾…å­—å¹•ä¸‹è½½å®Œæ¯•ï¼Œä¼šè‡ªåŠ¨åŠ è½½åˆ°è§†é¢‘ä¸Šã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/H3e5382f96fd44da487b4d5da77053754O.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H3e5382f96fd44da487b4d5da77053754O.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li><p>ä¸‹è½½å®Œæ¯•çš„å­—å¹•ï¼Œ<strong>é»˜è®¤ä¸ºå¾·è¯­å­—å¹•</strong>ï¼Œ<strong>å†æ¬¡å•å‡»</strong>ç»¿è‰²æŒ‰é’®ï¼Œåˆ‡æ¢<strong>ä¸­æ–‡</strong>å­—å¹•ï¼›å†æ¬¡å•å‡»ï¼Œåˆ‡æ¢åŒè¯­å­—å¹•ï¼›å†æ¬¡å•å‡»æ¸…é™¤å­—å¹•ã€‚ä¾æ¬¡å¾ªç¯ã€‚</p></li><li><p>è‹¥å½“å‰è§†é¢‘è¿˜æ²¡æœ‰ä¸Šä¼ å­—å¹•ï¼Œè§†é¢‘å­—å¹•ä¼šæ˜¾ç¤º</p></li></ol><p><img src="https://ae01.alicdn.com/kf/H5cdfa43615ea49708d22223eb72d7b06J.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H5cdfa43615ea49708d22223eb72d7b06J.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>åœ¨å‡ºç°æ­¤å­—å¹•æ—¶ï¼Œå•å‡»ä¸‰æ¬¡æŒ‰é’®ï¼Œå³æ­¤æ¸…é™¤å­—å¹•æˆ–å½“è§†é¢‘æ’­æ”¾åˆ°ä¸¤åˆ†é’Ÿæ—¶è‡ªåŠ¨æ¸…é™¤ã€‚</p><ol start="5"><li>ä¸‹è½½å­—å¹•åˆ°æœ¬åœ°</li></ol><p>å¦‚æœå½“å‰è§†é¢‘å­˜åœ¨å­—å¹•ï¼Œå¾…é¡µé¢åŠ è½½å®Œæ¯•åï¼Œç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’æ’ä»¶å›¾æ ‡ï¼Œå³å¯çœ‹åˆ°å­—å¹•ä¸‹è½½é“¾æ¥å’Œè§†é¢‘ä¸‹è½½é“¾æ¥ã€‚</p><p><img src="https://ae01.alicdn.com/kf/Hec0a5e0fdb4947a7ba464fd51bc0738fv.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hec0a5e0fdb4947a7ba464fd51bc0738fv.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="1-5-å…¶ä»–è¯´æ˜"><a href="#1-5-å…¶ä»–è¯´æ˜" class="headerlink" title="1.5 å…¶ä»–è¯´æ˜"></a>1.5 å…¶ä»–è¯´æ˜</h2><p>ç›®å‰å·²æ”¯æŒçš„è¯¾ç¨‹æœ‰</p><ul><li>Bioenergie</li><li>Grundoperationen der Energietechnik (VO)</li><li>Petrochemie und Raffinerietechnik (VU)</li><li>å¾…æ·»åŠ </li></ul><h1 id="ç¬¬äºŒç« -æ•™å­¦è§†é¢‘ä¸‹è½½å’Œå­—å¹•è½¬æ¢"><a href="#ç¬¬äºŒç« -æ•™å­¦è§†é¢‘ä¸‹è½½å’Œå­—å¹•è½¬æ¢" class="headerlink" title="ç¬¬äºŒç«  æ•™å­¦è§†é¢‘ä¸‹è½½å’Œå­—å¹•è½¬æ¢"></a>ç¬¬äºŒç«  æ•™å­¦è§†é¢‘ä¸‹è½½å’Œå­—å¹•è½¬æ¢</h1><h2 id="2-1-ç³»ç»Ÿè¦æ±‚å’Œç½‘ç»œè¦æ±‚"><a href="#2-1-ç³»ç»Ÿè¦æ±‚å’Œç½‘ç»œè¦æ±‚" class="headerlink" title="2.1 ç³»ç»Ÿè¦æ±‚å’Œç½‘ç»œè¦æ±‚"></a>2.1 ç³»ç»Ÿè¦æ±‚å’Œç½‘ç»œè¦æ±‚</h2><p>æ’ä»¶ç”¨æˆ·å®‰è£…æˆ‘æä¾›çš„è§†é¢‘ä¸‹è½½å’Œå­—å¹•è½¬æ¢å·¥å…·ã€‚æ’ä»¶æ²¡æä¾›çš„å­—å¹•ï¼Œç”¨æˆ·å¯è‡ªè¡Œæœ¬åœ°è½¬æ¢ï¼Œå­—å¹•è½¬æ¢æˆåŠŸåï¼Œå¯é€šè¿‡ä¸Šä¼ æ¥å£ï¼Œå°†è½¬æ¢çš„å­—å¹•å…±äº«ç»™æ¯ä¸€ä½ä½¿ç”¨æ’ä»¶çš„ç”¨æˆ·ã€‚</p><ol><li>ç³»ç»Ÿè¦æ±‚</li></ol><p>æ­¤æ•™ç¨‹ä»…<strong>é€‚ç”¨äºwindowsç³»ç»Ÿ</strong>ï¼Œè‹¥æœ‰éœ€æ±‚ï¼Œåç»­å¯å‡ºUbuntuç³»ç»Ÿæ•™ç¨‹ã€‚Macç³»ç»Ÿæš‚ä¸æ”¯æŒã€‚</p><ol start="2"><li>ç½‘ç»œè¦æ±‚â­</li></ol><ul><li><p><strong>è½¯ä»¶çš„å®‰è£…éœ€è¦è¿æ¥å¤–ç½‘ï¼</strong></p></li><li><p><strong>è§†é¢‘ä¸‹è½½ä¸éœ€è¦è¿æ¥å¤–ç½‘ï¼</strong></p></li><li><p><strong>ç”Ÿæˆå­—å¹•éœ€è¿æ¥å¤–ç½‘ï¼</strong>å­—å¹•è½¬æ¢å°†è¯·æ±‚è°·æ­Œçš„æ–‡å­—ç¿»è¯‘APIæ¥å£ã€‚è¯·ç¡®ä¿ä½ åœ¨è¿›è¡Œæœ¬ç« <strong>ç¬¬5èŠ‚</strong>å†…å®¹ï¼Œå³è·å–å­—å¹•æ—¶ï¼Œæ»¡è¶³ä»¥ä¸‹ä¸¤ç§æ¡ä»¶ï¼š</p><ul><li>ç”¨æˆ·ç”µè„‘ç½‘ç»œå¤„äºé™¤ä¸­å›½å¤§é™†ä»¥å¤–çš„åœ°åŒºã€‚</li><li>ç”¨æˆ·è¿æ¥ç½‘é€Ÿè¾ƒå¥½çš„VPNç½‘ç»œã€‚<strong>æ³¨æ„ï¼šVPNç½‘ç»œä¸ä½³ï¼Œå°†ä½¿å­—å¹•è½¬æ¢å‡ºç°ä¸­æ–­ã€‚</strong></li></ul></li></ul><h2 id="2-2-è½¯ä»¶ç¯å¢ƒæ­å»º"><a href="#2-2-è½¯ä»¶ç¯å¢ƒæ­å»º" class="headerlink" title="2.2 è½¯ä»¶ç¯å¢ƒæ­å»º"></a>2.2 è½¯ä»¶ç¯å¢ƒæ­å»º</h2><ol><li>æ‰“å¼€å‘½ä»¤ç®¡ç†å™¨ã€‚</li></ol><p>æ‰“å¼€windowsæ¡Œé¢å³ä¸Šè§’æœç´¢åŠŸèƒ½</p><p><img src="https://ae01.alicdn.com/kf/H4eaaea2ca879428e9bcd8210dd41a884t.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H4eaaea2ca879428e9bcd8210dd41a884t.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>åœ¨æœç´¢æ¡†è¾“å…¥cmdï¼Œå¹¶ç‚¹å‡»â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€ã€‚</p><p><img src="https://ae01.alicdn.com/kf/H138e311a7cb24cc7a19af0ae7a2031c6z.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H138e311a7cb24cc7a19af0ae7a2031c6z.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ‰“å¼€åå¦‚å›¾ã€‚æ³¨æ„ï¼šå‘½ä»¤è¡Œå¼€å¤´æ˜¯ï¼šC:\WINDOWS\system32</p><p><img src="https://ae01.alicdn.com/kf/H918346e5c4b84b7c82f955e37ec0c9c76.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H918346e5c4b84b7c82f955e37ec0c9c76.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="2"><li>å®‰è£…åŒ…ç®¡ç†å™¨chocolatey</li></ol><p><strong>å¤åˆ¶ä»¥ä¸‹</strong>æŒ‡ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@&quot;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&quot; -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString(&#39;https:&#x2F;&#x2F;chocolatey.org&#x2F;install.ps1&#39;))&quot; &amp;&amp; SET &quot;PATH&#x3D;%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot;</span><br></pre></td></tr></table></figure><p>â­â­â­<strong>æ¸©é¦¨æç¤ºï¼šå‘½ä»¤æç¤ºç¬¦é‡Œï¼Œä½¿ç”¨å³é”®å•å‡»å³å¯å¤åˆ¶å’Œç²˜è´´ï¼</strong></p><p>åœ¨å‘½ä»¤æ¡†é‡Œï¼Œ<strong>å³é”®å•å‡»</strong>ã€‚å¦‚å›¾ï¼Œç„¶åå›è½¦è¿è¡Œã€‚ç­‰å¾…å®‰è£…å®Œæˆã€‚</p><p><img src="https://ae01.alicdn.com/kf/H196b206989f648559c11ba0c8c0034cc0.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H196b206989f648559c11ba0c8c0034cc0.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>é€šå¸¸ï¼Œæœªå‡ºç°çº¢è‰²æç¤ºï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><p>å½“ç„¶ä¸ºäº†ç¡®ä¿æˆåŠŸå®‰è£…ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤æç¤ºç¬¦é‡Œè¾“å…¥æŒ‡ä»¤ï¼Œæ³¨æ„Væ˜¯å¤§å†™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco -V</span><br></pre></td></tr></table></figure><p>è¾“å‡º<strong>ç»¿è‰²ç‰ˆæœ¬å·</strong>ã€‚åˆ™å®‰è£…æˆåŠŸï¼Œä¾‹å¦‚:0.10.15ã€‚</p><p><img src="https://ae01.alicdn.com/kf/H8e190142f7fc4acb8a29dbb4e97d61bfo.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H8e190142f7fc4acb8a29dbb4e97d61bfo.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li>å®‰è£… git python curl ffmpegã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco install git python curl ffmpeg -y</span><br></pre></td></tr></table></figure><p>æ­¤å®‰è£…è¿‡ç¨‹è¾ƒé•¿ï¼Œä¸”å–å†³äºä½ å½“å‰æ‰€å¤„ç½‘ç»œç¯å¢ƒã€‚è¯·è€å¿ƒç­‰å¾…ï¼Œä¿æŒç”µè„‘æ¿€æ´»çŠ¶æ€ã€‚</p><p>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œæœªæç¤ºçº¢è‰²å­—ä½“ï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><p>â­â­å®‰è£…å®Œæˆåï¼Œ<strong>é€€å‡ºcmd</strong>ï¼Œ<strong>é‡æ–°</strong>ç”¨ç®¡ç†å‘˜æƒé™<strong>æ‰“å¼€</strong>ï¼Œä»¥åˆ·æ–°gitã€pythonç­‰çš„ç¯å¢ƒå˜é‡ã€‚</p><p>å¯é€‰ï¼šä½ å¯é€šè¿‡åˆ†åˆ«è¾“å…¥<code>git --version</code>ï¼Œ<code>python -V</code>,<code>curl -V</code>ï¼Œ<code>ffmpeg -V</code>ã€‚ä¾æ¬¡æŸ¥çœ‹è¿™å‡ ä¸ªè½¯ä»¶æ˜¯å¦å®‰è£…æˆåŠŸï¼Œè‹¥å‡ºç°ç‰ˆæœ¬å·åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><p>å¦‚æœæŸä¸ªç¨‹åºæ²¡æœ‰å®‰è£…ä¸Šï¼Œæ¯”å¦‚pythonï¼Œä½ å¯å•ç‹¬ä½¿ç”¨æŒ‡ä»¤ <code>choco install python -y</code>æ¥å®‰è£…ã€‚å®‰è£…å®Œæˆåéœ€é‡å¯cmdï¼Œæ‰èƒ½ä½¿ç”¨<code>python -V</code>æŒ‡ä»¤æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ã€‚</p><ol start="4"><li>ä¸‹è½½pythonç¨‹åºå¹¶å®‰è£…ï¼Œâ­æ­¤æ­¥éª¤éœ€è¦<strong>è¿æ¥å¤–ç½‘</strong>ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python get-pip.py</span><br><span class="line">pip install git+https:&#x2F;&#x2F;github.com&#x2F;BingLingGroup&#x2F;autosub.git@alpha ffmpeg-normalize langcodes</span><br></pre></td></tr></table></figure><ol start="5"><li><p>å®‰è£…æˆåŠŸã€‚è¾“å…¥æŒ‡ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">autosub -V</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œåˆ™å®‰è£…æˆåŠŸã€‚</p></li></ol><p><img src="https://ae01.alicdn.com/kf/Hefd55d64696a4fbd82cce452048b27f0E.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hefd55d64696a4fbd82cce452048b27f0E.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="6"><li>è‹¥å‡ºç°é”™è¯¯æç¤ºå¦‚ä¸‹å›¾</li></ol><p><img src="https://ae01.alicdn.com/kf/H95f9347ba00c4ebe87e17c66beb2867ae.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H95f9347ba00c4ebe87e17c66beb2867ae.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å¯èƒ½æ˜¯ä½ ç³»ç»Ÿçš„æœªå®‰è£…<strong>Microsoft Visual C++ 14.0</strong>ã€‚</p><p>æ‰“å¼€è¿æ¥</p><p><a href="https://964279924.ctfile.com/fs/1445568-239446865">https://964279924.ctfile.com/fs/1445568-239446865</a></p><p>ä¸‹è½½<strong>å®‰è£…VC++**ã€‚å®‰è£…åï¼Œ</strong>é‡å¤ç¬¬4æ­¥**ã€‚</p><h2 id="2-3-è·å¾—è§†é¢‘åœ°å€"><a href="#2-3-è·å¾—è§†é¢‘åœ°å€" class="headerlink" title="2.3 è·å¾—è§†é¢‘åœ°å€"></a><strong>2.3 è·å¾—</strong>è§†é¢‘åœ°å€</h2><p>è§†é¢‘ä¸‹è½½åœ°å€ï¼Œå°†åœ¨ç¬¬ä¸€ç« ï¼Œ1.4èŠ‚æ’ä»¶ä½¿ç”¨ä¸­æœ‰è¯¦ç»†ä»‹ç»ã€‚</p><p>åœ¨æ‰“å¼€è§†é¢‘åœ°å€åï¼Œç‚¹å‡»å³ä¸Šè§’æ’ä»¶å›¾æ ‡ï¼Œå³å¯çœ‹åˆ°è§†é¢‘ä¸‹è½½åœ°å€çš„urlã€‚</p><h2 id="2-4-ä¸‹è½½è§†é¢‘"><a href="#2-4-ä¸‹è½½è§†é¢‘" class="headerlink" title="2.4 ä¸‹è½½è§†é¢‘"></a>2.4 ä¸‹è½½è§†é¢‘</h2><p>å¦‚æœä½ <strong>éœ€è¦è½¬æ¢å­—å¹•ï¼Œ</strong>è¯·<strong>è·³è¿‡æ­¤èŠ‚</strong>ï¼Œä¸‹èŠ‚å†…å®¹ï¼Œå°†åŒ…æ‹¬è§†é¢‘çš„ä¸‹è½½å’Œå­—å¹•è½¬æ¢ã€‚</p><p>å¦‚æœä½ åªæƒ³ä¸‹è½½è§†é¢‘ï¼Œè€Œä¸éœ€è¦è½¬æ¢å­—å¹•ï¼Œè¯·çœ‹æ­¤ç« ã€‚</p><ol><li>ä½ å·²ç»å®‰è£…äº†ç¬¬äºŒèŠ‚æä¾›çš„è½¯ä»¶ï¼Œå¹¶åœ¨ç¬¬ä¸‰èŠ‚<strong>è·å–åˆ°äº†è§†é¢‘çš„ä¸‹è½½åœ°å€</strong>ï¼Œé‚£ä¹ˆåœ¨è¿™èŠ‚ï¼Œä½ å°†çŸ¥é“ï¼Œå¦‚ä½•åˆ©ç”¨ffmpegå·¥å…·ï¼Œå°†m3u8æ–‡ä»¶è½¬ä¸ºmp4æ ¼å¼è§†é¢‘ã€‚å…³äºm3u8æ–‡ä»¶ï¼Œå¯çœ‹æœ¬èŠ‚è¡¥å……è¯´æ˜ã€‚</li><li>æ‰“å¼€<strong>å‘½ä»¤æç¤ºç¬¦</strong>ï¼Œæ— éœ€ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ï¼åœ¨æœç´¢æ è¾“å…¥<code>cmd</code>ã€‚åŒå‡»æ‰“å¼€ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/Hc9c7a15d63f8409a8d66d9d93c2668acm.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hc9c7a15d63f8409a8d66d9d93c2668acm.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li>å¤åˆ¶ä»¥ä¸‹ä»£ç ï¼Œåœ¨cmdçª—å£å³é”®å•å‡»ï¼Œç„¶åå›è½¦è¿è¡Œã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd %USERPROFILE%\Desktop &amp;&amp; curl -O https:&#x2F;&#x2F;gitee.com&#x2F;xieqifei&#x2F;captions_for_moodle&#x2F;raw&#x2F;master&#x2F;getcaptions.bat &amp;&amp; call getcaptions.bat</span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨é€‰æ‹©æ“ä½œæ—¶ï¼Œè¾“å…¥<strong>2ï¼šç½‘ç»œä¸‹è½½è§†é¢‘ï¼Œä½†ä¸ç”Ÿæˆå­—å¹•</strong>ï¼Œ</li></ol><p><img src="https://ae01.alicdn.com/kf/Hd5b0070930894da7bafd1ea489d1cab8r.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hd5b0070930894da7bafd1ea489d1cab8r.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="5"><li>åœ¨è¾“å…¥è§†é¢‘çš„ç½‘ç»œåœ°å€é‡Œï¼Œè¾“å…¥2.3èŠ‚è·å–çš„ï¼Œä»¥.m3u8ç»“å°¾çš„é“¾æ¥ã€‚ç„¶åå›è½¦</li></ol><p><img src="https://ae01.alicdn.com/kf/H896116a606d2454d99828b2001cb7f48w.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H896116a606d2454d99828b2001cb7f48w.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="6"><li>è¾“å…¥ä¿å­˜è§†é¢‘å’Œå­—å¹•çš„åœ°å€ï¼Œè¿™é‡Œç›´æ¥å›è½¦ï¼Œå°†å­—å¹•ä¿å­˜åˆ°æ¡Œé¢ã€‚æ­¤æ—¶ï¼Œè½¯ä»¶å¼€å§‹å·¥ä½œã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/H7873a672675b4fcf8a1208867e8556f6q.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H7873a672675b4fcf8a1208867e8556f6q.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="https://ae01.alicdn.com/kf/Hdc06bb5d333f451eb3960cf358193742p.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hdc06bb5d333f451eb3960cf358193742p.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>è¡¥å……è¯´æ˜ï¼šm3u8æ˜¯ä¸€ä¸ªè§†é¢‘ç‰‡æ®µçš„åœ°å€åˆ—è¡¨ï¼Œåˆ©ç”¨è§†é¢‘å¤„ç†å·¥å…·ï¼Œè¯»å–è¿™ä¸ªåœ°å€è¡¨ï¼Œå°†åˆ‡å‰²æˆç‰‡æ®µçš„tsæ ¼å¼è§†é¢‘æ‹¼æ¥æˆä¸€ä¸ªtsæ ¼å¼è§†é¢‘ï¼Œåœ¨å°†tsæ ¼å¼è§†é¢‘è½¬åŒ–ä¸ºmp4æ ¼å¼ã€‚</p><h2 id="2-5-è½¬æ¢å­—å¹•å’Œä¸Šä¼ å­—å¹•"><a href="#2-5-è½¬æ¢å­—å¹•å’Œä¸Šä¼ å­—å¹•" class="headerlink" title="2.5 è½¬æ¢å­—å¹•å’Œä¸Šä¼ å­—å¹•"></a>2.5 è½¬æ¢å­—å¹•å’Œä¸Šä¼ å­—å¹•</h2><p>â­è¯·æ³¨æ„ï¼Œæ‰§è¡Œæœ¬èŠ‚å†…å®¹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼Œä½ çš„ç½‘ç»œå·²è¿æ¥å¤–ç½‘ï¼Œå¹¶ä¸”èƒ½æ‰“å¼€<code>https://www.google.com</code>ï¼Œå¦åˆ™å°†æ— æ³•è¿›è¡Œå­—å¹•è½¬æ¢æ“ä½œã€‚</p><p>å­—å¹•ä¸Šä¼ åŠŸèƒ½ï¼Œä»…åœ¨ä½ ä½¿ç”¨æ­¤è„šæœ¬çš„é€‰é¡¹â€œç½‘ç»œä¸‹è½½è§†é¢‘ï¼Œå¹¶ç”Ÿæˆä¸­å¾·å­—å¹•â€æ—¶å¯ç”¨ã€‚</p><ol><li><p>æœç´¢å¹¶æ‰“å¼€cmdå‘½ä»¤æç¤ºç¬¦</p></li><li><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¸‹è½½å¹¶æ‰§è¡Œæ‰¹å¤„ç†è„šæœ¬</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> %USERPROFILE%\Desktop &amp;&amp; curl -O https://gitee.com/xieqifei/captions_for_moodle/raw/master/getcaptions.bat &amp;&amp; call getcaptions.bat</span><br></pre></td></tr></table></figure><p><img src="https://ae01.alicdn.com/kf/Hf10f415aaabd4db2b7e763f8e6a0fd74e.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hf10f415aaabd4db2b7e763f8e6a0fd74e.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="3"><li>æŒ‰ç…§æç¤ºå¼€å§‹é€‰æ‹©æŒ‡ä»¤ã€‚ç›´æ¥å›è½¦ã€‚é€‰æ‹©1ï¼šç½‘ç»œä¸‹è½½è§†é¢‘ï¼Œå¹¶ç”Ÿæˆä¸­å¾·å­—å¹•ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/Hc7bea45505354e95ab0d4e43192d1bd2R.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hc7bea45505354e95ab0d4e43192d1bd2R.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="4"><li>å¡«å†™è§†é¢‘çš„ä¸‹è½½é“¾æ¥ï¼Œå‚ç…§<strong>ç¬¬ä¸‰èŠ‚</strong>å†…å®¹ï¼Œå¤åˆ¶ç¬¬ä¸‰èŠ‚è·å–åˆ°çš„è§†é¢‘é“¾æ¥ã€‚ç›´æ¥åœ¨cmdçª—å£ä¸Šå³é”®å•å‡»ï¼Œå³å¯ç²˜è´´ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/Hec0a5e0fdb4947a7ba464fd51bc0738fv.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hec0a5e0fdb4947a7ba464fd51bc0738fv.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>é“¾æ¥ä¾‹å­ï¼š<code>https://streaming.rwth-aachen.de/rwth/smil:engage-player_0fe26b35-3e44-47f0-acf6-a9c4fd05b0bc_presentation.smil/playlist.m3u8</code></p><p><img src="https://ae01.alicdn.com/kf/Hb092253dbd0b40d488c96ed68d7f17e9a.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hb092253dbd0b40d488c96ed68d7f17e9a.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="5"><li>å¡«å†™è§†é¢‘å’Œå­—å¹•çš„ä¿å­˜åœ°å€ã€‚ç›´æ¥å›è½¦ï¼Œé»˜è®¤ä¿å­˜åˆ°æ¡Œé¢ã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/Hee6ac3e4ee22457089bc60c7cff675f12.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hee6ac3e4ee22457089bc60c7cff675f12.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="6"><li>ç¨‹åºå°†è‡ªåŠ¨å¼€å§‹è¿è¡Œï¼Œç°åœ¨ï¼Œä½ å¯ä»¥å»æ³¡æ¯èŒ¶ï¼Œç­‰å¾…è§†é¢‘å’Œå­—å¹•è½¬æ¢å®Œæˆã€‚</li></ol><p><img src="https://ae01.alicdn.com/kf/H3e241700e878434b9343e00a5901cfceW.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H3e241700e878434b9343e00a5901cfceW.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ol start="7"><li>å­—å¹•è½¬æ¢å®Œæˆï¼Œæ£€æŸ¥å­—å¹•æ–‡ä»¶æ˜¯å¦æ­£ç¡®æ— è¯¯ï¼Œç„¶åç»§ç»­å›è½¦ä¸Šä¼ å­—å¹•ã€‚</li></ol><p>å‡ºç°å­—å¹•ä¸Šä¼ æˆåŠŸå­—æ ·ï¼Œåˆ™å­—å¹•å·²æ›´æ–°è‡³æœåŠ¡å™¨ï¼Œå¯é€šè¿‡æ’ä»¶åœ¨çº¿ç»™è§†é¢‘æ·»åŠ å­—å¹•ï¼Œå…¶ä»–ç”¨æˆ·ä¹Ÿå¯ä»¥ç‚¹å‡»å³ä¸Šè§’æ’ä»¶æŒ‰é’®ä¸‹è½½å­—å¹•ã€‚</p><ol start="8"><li>ä¸‹æ¬¡è¿è¡Œè„šæœ¬ï¼Œå¯ä»¥ç›´æ¥åœ¨æ¡Œé¢åŒå‡»æ‰“å¼€<code>getcaptions.bat</code>æ–‡ä»¶,è€Œæ— éœ€å†æ¬¡ä¸‹è½½æ­¤è„šæœ¬ã€‚è‹¥è„šæœ¬æœ‰æ›´æ–°ï¼Œå¯æ‰§è¡Œæ­¥éª¤2çš„ä»£ç ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµè§ˆå™¨æ’ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ShopXOå•†åŸä¼˜åŒ–-å•†åŸåå°ã€å°ç¨‹åºã€é£é¹…è®¢å•æ‰“å°ã€å…¬ä¼—å·æ–°è®¢å•æ¨é€</title>
      <link href="/2020/05/26/ShopXO%E5%95%86%E5%9F%8E%E4%BC%98%E5%8C%96%E5%95%86%E5%93%81%E4%BB%B7%E6%A0%BC%E4%BF%AE%E6%94%B9/"/>
      <url>/2020/05/26/ShopXO%E5%95%86%E5%9F%8E%E4%BC%98%E5%8C%96%E5%95%86%E5%93%81%E4%BB%B7%E6%A0%BC%E4%BF%AE%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šå†…å®¹æ¢—æ¦‚"><a href="#1ï¼šå†…å®¹æ¢—æ¦‚" class="headerlink" title="1ï¼šå†…å®¹æ¢—æ¦‚"></a>1ï¼šå†…å®¹æ¢—æ¦‚</h1><p>ShopXOæ˜¯æ¬¾éå¸¸ä¼˜ç§€çš„å¼€æºå•†åŸè½¯ä»¶ã€‚ä¸ºäº†è®©å•†åŸæ›´åŠ é€‚åˆæ²¡æœ‰ç½‘ç«™ç®¡ç†ç»éªŒçš„äººä½¿ç”¨ï¼Œæˆ‘ä¼˜åŒ–äº†æ‰‹æœºå’Œç”µè„‘ç«¯çš„å•†åŸåå°ã€‚ä¿®å¤äº†å°ç¨‹åºçš„ä¸€äº›BUGï¼Œå¹¶åšäº†ä¸€äº›å…¶ä»–ä¼˜åŒ–ã€‚ä½¿ç”¨é£é¹…æ‰“å°æœºï¼Œæ¥æ”¶æ–°è®¢å•æ¨é€é€šçŸ¥å’Œè®¢å•æ‰“å°ã€‚åˆ©ç”¨å¾®ä¿¡è®¤è¯çš„å…¬ä¼—å·ï¼Œåœ¨æœ‰æ–°è®¢å•æ—¶ï¼Œé€šè¿‡å…¬ä¼—å·ç»™å¾®ä¿¡æ¨é€æ–°è®¢å•æ¶ˆæ¯ã€‚</p><p>ç‰¹åˆ«è¯´æ˜ï¼šæ­¤ç¯‡æ–‡ç« å»ºè®®æœ‰ä¸€å®šå‰åç«¯åŸºç¡€çš„æœ‹å‹é˜…è¯»ï¼Œå¦åˆ™ï¼Œä½ åœ¨æŒ‰ç…§æœ¬æ–‡ä¿®æ”¹ä½ çš„ç½‘ç«™æ—¶ï¼Œå¯èƒ½ç”±äºæˆ‘åœ¨å†™ä½œæ—¶ï¼Œå°†æŸä¸ªç¯èŠ‚é—æ¼ï¼Œè€Œå¯¼è‡´ä½ çš„ç½‘ç«™æ— æ³•åšåˆ°åƒæˆ‘ä¿®æ”¹åä¸€æ ·çš„ç»“æœã€‚æ­¤æ—¶ï¼Œä¼šå¾—ä¸å¿å¤±ã€‚åŒæ—¶ï¼Œè‹¥ä½ å¯¹æœ¬æ–‡å†…å®¹æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ä½ é€šè¿‡é‚®ç®±ä¸æˆ‘è”ç³»ã€‚é‚®ç®±å‡ ä¹æ¯å¤©ä¸€çœ‹ã€‚</p><p>åœ¨è¿›è¡Œä¸‹é¢ä¿®æ”¹æ—¶ï¼Œå»ºè®®ä½ å…ˆå°†ä½ çš„ç½‘ç«™å‹ç¼©æ‰“åŒ…ï¼Œä¿å­˜ä¸€ä¸‹ã€‚é¿å…æ“ä½œå¤±è¯¯æ— æ³•ä¿®å¤ã€‚å¦‚æœä½ çš„ä¿®æ”¹åœ¨è¾¾åˆ°ç†æƒ³æ•ˆæœåï¼Œå»ºè®®ä½ éƒ½è¿›è¡Œä¸€ä¸‹ä¿å­˜æ“ä½œ</p><h1 id="2ï¼šå•†åŸåå°ä¼˜åŒ–"><a href="#2ï¼šå•†åŸåå°ä¼˜åŒ–" class="headerlink" title="2ï¼šå•†åŸåå°ä¼˜åŒ–"></a>2ï¼šå•†åŸåå°ä¼˜åŒ–</h1><h2 id="2-1-ä¼˜åŒ–è¯´æ˜"><a href="#2-1-ä¼˜åŒ–è¯´æ˜" class="headerlink" title="2.1 ä¼˜åŒ–è¯´æ˜"></a>2.1 ä¼˜åŒ–è¯´æ˜</h2><blockquote><p>ä¼˜åŒ–è¯´æ˜ï¼š</p><ol><li>æ‰‹æœºç«¯æ˜¾ç¤ºå•†å“ç¼©ç‡å›¾</li><li>ç›´æ¥ç‚¹å‡»ä»·æ ¼ï¼Œå¼¹å‡ºä»·æ ¼ä¿®æ”¹æ¡†ï¼Œå¿«é€Ÿæ”¹ä»·ã€‚</li><li>éšè—â€œæŸ¥çœ‹æ›´å¤šâ€æŒ‰é’®ã€‚ï¼ˆç»™ç¼©ç•¥å›¾è®©ç©ºé—´ï¼‰</li></ol></blockquote><p>å¯¹æ¯”ï¼š</p><p><img src="https://ae01.alicdn.com/kf/H00d9341b2269430e9a8655a814b116a8g.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H00d9341b2269430e9a8655a814b116a8g.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¼˜åŒ–åç‚¹å‡»å•†å“ä»·æ ¼æ”¹ä»·ï¼š</p><p><img src="https://ae01.alicdn.com/kf/Hd8eb006aab414041aea83683efe4cdaaO.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hd8eb006aab414041aea83683efe4cdaaO.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="2-2-ä¼˜åŒ–å·¥ä½œ"><a href="#2-2-ä¼˜åŒ–å·¥ä½œ" class="headerlink" title="2.2 ä¼˜åŒ–å·¥ä½œ"></a>2.2 ä¼˜åŒ–å·¥ä½œ</h2><ul><li>é¦–å…ˆåœ¨æ‰‹æœºç«¯æ˜¾ç¤ºç¼©ç‡å›¾å’Œä»·æ ¼ã€‚éšè—æŸ¥çœ‹æ›´å¤šã€‚</li></ul><p>æ ¸å¿ƒä»£ç ï¼šæ›¿æ¢åŸæœ‰çš„ä»·æ ¼æ˜¾ç¤ºæ ·å¼ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªjsæ§åˆ¶çš„å¼¹çª—ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;td &gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;am-btn am-btn-success price-changed am-btn-xs am-radius&quot; data-id&#x3D;&quot;&#123;&#123;$v.id&#125;&#125;&quot; data-url&#x3D;&quot;&#123;&#123;:MyUrl(&#39;admin&#x2F;goods&#x2F;pricechanged&#39;)&#125;&#125;&quot; id&#x3D;&quot;doc-prompt-toggle&#123;&#123;$v.id&#125;&#125;&quot; &gt;&#123;&#123;$v.price&#125;&#125;&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;am-modal am-modal-prompt&quot; tabindex&#x3D;&quot;-1&quot; id&#x3D;&quot;my-prompt&#123;&#123;$v.id&#125;&#125;&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;am-modal-dialog&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;am-modal-hd&quot;&gt;&#123;&#123;$v.title&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;am-modal-bd&quot;&gt;</span><br><span class="line">                &lt;img src&#x3D;&quot;&#123;&#123;$v[&#39;images&#39;]&#125;&#125;&quot; class&#x3D;&quot;am-radius&quot; style&#x3D;&quot;width:100%&quot;&#x2F;&gt;</span><br><span class="line">                &lt;input type&#x3D;&quot;number&quot; class&#x3D;&quot;am-modal-prompt-input&quot;  pattern&#x3D;&quot;^([0-9]&#123;1&#125;\d&#123;0,6&#125;)(\.\d&#123;1,2&#125;)?$&quot; data-validation-message&#x3D;&quot;è¯·å¡«å†™æœ‰æ•ˆçš„é”€å”®é‡‘é¢&quot; placeholder&#x3D;&quot;&#123;&#123;$v.price&#125;&#125;&quot;&gt;å…ƒ</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;am-modal-footer&quot;&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;am-modal-btn&quot; data-am-modal-cancel&gt;å–æ¶ˆ&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;am-modal-btn&quot; data-am-modal-confirm&gt;æäº¤&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    &#123;&#123;if !empty($v[&#39;original_price&#39;]) and $v[&#39;original_price&#39;] gt 0&#125;&#125;</span><br><span class="line">    &lt;br &#x2F;&gt;&lt;span class&#x3D;&quot;am-badge am-radius&quot;&gt;åŸä»· &#123;&#123;$v.original_price&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">    &#123;&#123;&#x2F;if&#125;&#125;</span><br><span class="line">&lt;&#x2F;td&gt;</span><br></pre></td></tr></table></figure><p>å®Œæ•´<code>index.html</code>ä»£ç é“¾æ¥ï¼š<a href="https://github.com/xieqifei/shopxo/blob/master/application/admin/view/default/goods/index.html">https://github.com/xieqifei/shopxo/blob/master/application/admin/view/default/goods/index.html</a></p><p>å°†æ­¤é“¾æ¥ä¸­çš„ä»£ç ä¸‹è½½ä¸‹æ¥ï¼Œæ›¿æ¢åŸåå°å•†å“ç®¡ç†çš„htmlä»£ç ã€‚æ›¿æ¢<code>ä½ çš„ç½‘ç«™æ ¹ç›®å½•/application/admin/view/default/goods/index.html</code>ã€‚</p><ul><li>ä¿®æ”¹jsæ–‡ä»¶ï¼Œå®ç°ç‚¹å‡»ä»·æ ¼ï¼Œå¼¹å‡ºå¯¹è¯æ¡†ï¼Œæäº¤å‘é€postè¯·æ±‚ä¿®æ”¹æ•°æ®åº“</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [doc-prompt-toggle ä»·æ ¼ä¿®æ”¹å¼¹çª—]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author   <span class="variable">Qifei</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@blog     </span>https://sci.ci/</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version  </span>0.0.1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@datetime </span>2020-05-25T14:22:39+0800</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param    <span class="type">&#123;[int] [data-id] [æ•°æ®id]&#125;</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param    <span class="type">&#123;[int] [data-field][æ•°æ®åº“å†…å®¹]&#125;</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param    <span class="type">&#123;[string] [data-url] [è¯·æ±‚åœ°å€]&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> $(<span class="built_in">document</span>).on(<span class="string">&#x27;click&#x27;</span>,<span class="string">&#x27;.price-changed&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> tag = $(<span class="built_in">this</span>);</span><br><span class="line"> <span class="keyword">var</span> id = tag.attr(<span class="string">&#x27;data-id&#x27;</span>);</span><br><span class="line"> <span class="keyword">var</span> $my_prompt=<span class="string">&#x27;#my-prompt&#x27;</span>+id;</span><br><span class="line"> <span class="keyword">var</span> url = tag.attr(<span class="string">&#x27;data-url&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> field = tag.attr(<span class="string">&#x27;data-field&#x27;</span>) || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    $($my_prompt).modal(&#123;</span><br><span class="line">      relatedElement: <span class="built_in">this</span>,</span><br><span class="line">      onConfirm: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">           <span class="comment">//è·å–inputæ ‡ç­¾ä¸­çš„valueå€¼</span></span><br><span class="line">      price=data[<span class="string">&#x27;data&#x27;</span>];</span><br><span class="line">      <span class="keyword">if</span>(id == <span class="literal">undefined</span> || url == <span class="literal">undefined</span>)</span><br><span class="line">&#123;</span><br><span class="line">Prompt(<span class="string">&#x27;å‚æ•°é…ç½®æœ‰è¯¯&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¯·æ±‚æ›´æ–°æ•°æ®</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">url:url,</span><br><span class="line">type:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">dataType:<span class="string">&quot;json&quot;</span>,</span><br><span class="line">timeout:tag.attr(<span class="string">&#x27;data-timeout&#x27;</span>) || <span class="number">30000</span>,</span><br><span class="line">data:&#123;<span class="string">&quot;id&quot;</span>:id, <span class="string">&quot;price&quot;</span>:price, <span class="string">&quot;field&quot;</span>:field&#125;,</span><br><span class="line">success:<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(result.code == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">Prompt(result.msg, <span class="string">&#x27;success&#x27;</span>);</span><br><span class="line"><span class="comment">// æˆåŠŸåˆ™æ›´æ–°ä»·æ ¼</span></span><br><span class="line">tag.html(price);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">Prompt(result.msg);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">error:<span class="function"><span class="keyword">function</span>(<span class="params">xhr, type</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Prompt(<span class="string">&#x27;ç½‘ç»œå¼‚å¸¸å‡ºé”™&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      onCancel: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"> </span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šä»£ç åŠ å…¥åˆ°common.jsæ–‡ä»¶ä¸­ï¼Œæˆ–è€…ä¸‹è½½æˆ‘çš„commonjså®Œå…¨æ›¿æ¢è¿™ä¸ªæ–‡ä»¶</p></blockquote><p>æ›¿æ¢<code>ä½ çš„ç½‘ç«™/public/static/common/js/common.js</code></p><p>å®Œæ•´ä»£ç ï¼š<a href="https://github.com/xieqifei/shopxo/blob/master/public/static/common/js/common.js">https://github.com/xieqifei/shopxo/blob/master/public/static/common/js/common.js</a></p><ul><li>åœ¨Goodsæ§åˆ¶å™¨é‡Œæ–°å»ºä¸€ä¸ªæ§åˆ¶å™¨å‡½æ•°PriceChanged()ã€‚å®ç°æ¥æ”¶POSTæ•°æ®ã€‚</li></ul><p>åœ¨<code>application/admin/controller/Goods.php</code>é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç ã€‚æˆ–è€…å®Œå…¨æ›¿æ¢ä¸ºæˆ‘çš„<code>Goods.php</code>ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [PriceChanged ä¿®æ”¹å•†å“ä»·æ ¼]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>   Qifei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@blog</span>     https://sci.ci/</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>  0.0.1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@datetime</span> 2020-05-25T22:23:06+0800</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">PriceChanged</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// æ˜¯å¦ajax</span></span><br><span class="line"><span class="keyword">if</span>(!IS_AJAX)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">$this</span>-&gt;error(<span class="string">&#x27;éæ³•è®¿é—®&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">$filename=<span class="string">&quot;a.txt&quot;</span>;</span><br><span class="line">$handle=fopen($filename,<span class="string">&quot;a+&quot;</span>);</span><br><span class="line">$str=fwrite($handle,<span class="string">&quot;test\n&quot;</span>);</span><br><span class="line"> fclose($handle);</span><br><span class="line"><span class="comment">// å¼€å§‹æ“ä½œ</span></span><br><span class="line">$params = input(<span class="string">&#x27;post.&#x27;</span>);</span><br><span class="line">$params[<span class="string">&#x27;admin&#x27;</span>] = <span class="keyword">$this</span>-&gt;admin;</span><br><span class="line">$params[<span class="string">&#x27;field&#x27;</span>] = <span class="string">&#x27;price&#x27;</span>;</span><br><span class="line">        <span class="comment">//è°ƒç”¨å•†å“ç®¡ç†æœåŠ¡ï¼Œæ›´æ–°æ•°æ®åº“ã€‚</span></span><br><span class="line"><span class="keyword">return</span> GoodsService::GoodsPriceUpdate($params);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›¿æ¢<code>ä½ çš„ç½‘ç«™/application/admin/controller/Goods.php</code></p><p>å®Œæ•´çš„Goods.phpä»£ç ï¼š<a href="https://github.com/xieqifei/shopxo/blob/master/application/admin/controller/Goods.php">https://github.com/xieqifei/shopxo/blob/master/application/admin/controller/Goods.php</a></p><ul><li>åœ¨å•†å“åå°æœåŠ¡ä¸­æ·»åŠ æ›´æ–°ä»·æ ¼çš„æœåŠ¡å‡½æ•°</li></ul><p>å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°<code>ä½ çš„ç½‘ç«™/application/service/GoodsService.php</code>,æˆ–è€…ä¸‹è½½æˆ‘çš„<code>GoodsService.php</code>æ–‡ä»¶ï¼Œå®Œå…¨æ›¿æ¢å®ƒã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹å•†å“ä»·æ ¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span>   Qifei</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@blog</span>    https://sci.ci/</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span>    2020-05-25</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span>    description</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>   [int]          $goods_id [å•†å“id]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">GoodsPriceUpdate</span>(<span class="params">$params = []</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// è¯·æ±‚å‚æ•°</span></span><br><span class="line">        $p = [</span><br><span class="line">            [</span><br><span class="line">                <span class="string">&#x27;checked_type&#x27;</span>      =&gt; <span class="string">&#x27;empty&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;key_name&#x27;</span>          =&gt; <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;error_msg&#x27;</span>         =&gt; <span class="string">&#x27;æ“ä½œidæœ‰è¯¯&#x27;</span>,</span><br><span class="line">            ],</span><br><span class="line">            [</span><br><span class="line">                <span class="string">&#x27;checked_type&#x27;</span>      =&gt; <span class="string">&#x27;empty&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;key_name&#x27;</span>          =&gt; <span class="string">&#x27;field&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;error_msg&#x27;</span>         =&gt; <span class="string">&#x27;æœªæŒ‡å®šæ“ä½œå­—æ®µ&#x27;</span>,</span><br><span class="line">            ],</span><br><span class="line">            [<span class="comment">//ä»·æ ¼åœ¨0åˆ°5000è¿™ä¸ªåŒºé—´</span></span><br><span class="line">                <span class="string">&#x27;checked_type&#x27;</span>      =&gt; <span class="string">&#x27;between&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;key_name&#x27;</span>          =&gt; <span class="string">&#x27;price&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;checked_data&#x27;</span>      =&gt; [<span class="number">0</span>,<span class="number">5000</span>],</span><br><span class="line">                <span class="string">&#x27;error_msg&#x27;</span>         =&gt; <span class="string">&#x27;ä»·æ ¼ä¸èƒ½å°äº0ï¼Œå¤§äº5000&#x27;</span>,</span><br><span class="line">            ],</span><br><span class="line">        ];</span><br><span class="line">        $ret = ParamsChecked($params, $p);</span><br><span class="line">        <span class="keyword">if</span>($ret !== <span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> DataReturn($ret, <span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ•°æ®æ›´æ–°</span></span><br><span class="line">        <span class="keyword">if</span>(Db::name(<span class="string">&#x27;Goods&#x27;</span>)-&gt;where([<span class="string">&#x27;id&#x27;</span>=&gt;intval($params[<span class="string">&#x27;id&#x27;</span>])])-&gt;update([$params[<span class="string">&#x27;field&#x27;</span>]=&gt;number_format($params[<span class="string">&#x27;price&#x27;</span>],<span class="number">2</span>),<span class="string">&#x27;min_price&#x27;</span>=&gt;number_format($params[<span class="string">&#x27;price&#x27;</span>],<span class="number">2</span>),<span class="string">&#x27;max_price&#x27;</span>=&gt;number_format($params[<span class="string">&#x27;price&#x27;</span>],<span class="number">2</span>), <span class="string">&#x27;upd_time&#x27;</span>=&gt;time()])&amp;&amp;Db::name(<span class="string">&#x27;GoodsSpecBase&#x27;</span>)-&gt;where([<span class="string">&#x27;goods_id&#x27;</span>=&gt;intval($params[<span class="string">&#x27;id&#x27;</span>])])-&gt;update([$params[<span class="string">&#x27;field&#x27;</span>]=&gt;number_format($params[<span class="string">&#x27;price&#x27;</span>],<span class="number">2</span>)]))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> DataReturn(<span class="string">&#x27;æ“ä½œæˆåŠŸ&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DataReturn(<span class="string">&#x27;æ“ä½œå¤±è´¥&#x27;</span>, <span class="number">-100</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´<code>GoodsService.php</code>åœ°å€ï¼š<a href="https://github.com/xieqifei/shopxo/blob/master/application/service/GoodsService.php">https://github.com/xieqifei/shopxo/blob/master/application/service/GoodsService.php</a></p><p>æ›¿æ¢<code>ä½ çš„ç½‘ç«™/application/service/GoodsService.php</code></p><ul><li>æœ€åï¼Œä½ éœ€è¦ç»™æ–°çš„æ§åˆ¶å™¨æ–¹æ³•æ·»åŠ è®¿é—®æ•°æ®åº“æƒé™ã€‚</li></ul><p>æ‰“å¼€ShopXOç½‘ç«™åå°<code>ä½ çš„ç½‘ç«™ç½‘å€/admin.php</code></p><p><img src="https://ae01.alicdn.com/kf/H293d34dbf9a147c592d74b4954d64654G.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H293d34dbf9a147c592d74b4954d64654G.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>æ·»åŠ æƒé™ï¼š<img src="https://ae01.alicdn.com/kf/He9b4b848c75644fcbdc2c2d960cb52d5Y.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/He9b4b848c75644fcbdc2c2d960cb52d5Y.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç‚¹å‡»ä¿å­˜ã€‚è‡³æ­¤å•†å“åå°ä¼˜åŒ–å·²ç»å®Œæˆã€‚</p><h1 id="3ï¼šWXå°ç¨‹åºä¼˜åŒ–"><a href="#3ï¼šWXå°ç¨‹åºä¼˜åŒ–" class="headerlink" title="3ï¼šWXå°ç¨‹åºä¼˜åŒ–"></a>3ï¼šWXå°ç¨‹åºä¼˜åŒ–</h1><h2 id="3-1-ä¼˜åŒ–è¯´æ˜"><a href="#3-1-ä¼˜åŒ–è¯´æ˜" class="headerlink" title="3.1 ä¼˜åŒ–è¯´æ˜"></a>3.1 ä¼˜åŒ–è¯´æ˜</h2><blockquote><p>ä¼˜åŒ–å†…å®¹ï¼š</p><ol><li>ä¿®æ”¹é¦–é¡µå¯¼èˆªæ ä¸Šä¼ å›¾ç‰‡ï¼Œæ˜¾ç¤ºå¤ªå°</li><li>ä¿®æ”¹åˆ†ç±»æ— æ³•æŸ¥çœ‹ä¸€çº§åˆ†ç±»ã€‚</li></ol></blockquote><p>ä¿®æ”¹å‰åå¯¹æ¯”</p><p><img src="https://ae01.alicdn.com/kf/H7290adc40303410fbb2bb29573e26349o.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H7290adc40303410fbb2bb29573e26349o.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="https://ae01.alicdn.com/kf/H1f69c3e41d8b45c6ae974c37aa3c0e08R.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H1f69c3e41d8b45c6ae974c37aa3c0e08R.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h2 id="3-2-ä¼˜åŒ–å·¥ä½œ"><a href="#3-2-ä¼˜åŒ–å·¥ä½œ" class="headerlink" title="3.2 ä¼˜åŒ–å·¥ä½œ"></a>3.2 ä¼˜åŒ–å·¥ä½œ</h2><ul><li>å¯¼èˆªæ ä¿®æ”¹</li></ul><ol><li>æ‰“å¼€å°ç¨‹åºæºä»£ç ï¼Œæ‰¾åˆ°<code>components</code>-&gt;<code>icon-nav</code></li></ol><p>æ›¿æ¢<code>icon-nav.wxml</code>å†…å®¹ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;propData.length &gt; 0&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;data-list&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;items&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;propData&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;key&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;item.bg_color===&#x27;#FFFFFF&#x27;&#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;items-content&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;&#123;&#123;item.event_value&#125;&#125;&quot;</span> <span class="attr">data-type</span>=<span class="string">&quot;&#123;&#123;item.event_type&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;navigation_event&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color:#fff;padding:0;height:110rpx;width:110rpx;border-radius:0%&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item.images_url&#125;&#125;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:110rpx;height:110rpx&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span> <span class="attr">class</span>=<span class="string">&quot;items-content&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;&#123;&#123;item.event_value&#125;&#125;&quot;</span> <span class="attr">data-type</span>=<span class="string">&quot;&#123;&#123;item.event_type&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;navigation_event&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color:&#123;&#123;item.bg_color&#125;&#125;;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item.images_url&#125;&#125;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span> <span class="attr">style</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»£ç é€»è¾‘ï¼šå½“æ£€æµ‹åˆ°å¯¼èˆªæ èƒŒæ™¯é¢œè‰²ä¸ºç™½è‰²æ—¶ï¼Œè®¾ç½®å›¾ç‰‡ä¸Šä¸€å±‚Viewæ ‡ç­¾çš„å†…è¾¹è·padding ä¸º0ï¼ˆåŸä¸º20rpxï¼‰é«˜å®½è®¾ç½®ä¸º110rpxã€‚å¹¶ä¸”å°†å›¾ç‰‡é«˜å®½å‡å¢åŠ 40rpxï¼ˆåŸä¸º70rpxï¼‰ï¼Œå¼¥è¡¥å†…è¾¹è·ã€‚</p></blockquote><ol start="2"><li>ä¿®æ”¹<code>icon-nav.wxss</code>æ–‡ä»¶</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.data-list</span> <span class="selector-class">.items</span> <span class="selector-tag">image</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">60</span>rpx ;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx ;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†åŸæ¥çš„é«˜å®½åé¢çš„<code>!important</code>å»æ‰ï¼Œä¸ºäº†ä½¿æ­¥éª¤1ä¸­å†…è”çš„é«˜å®½æ ·å¼ç”Ÿæ•ˆã€‚</p><p>æœ€åï¼Œç‰¹åˆ«æ³¨æ„ï¼šä½ åœ¨ç½‘ç«™åå°ä¿®æ”¹å¯¼èˆªæ å›¾ç‰‡æ—¶ï¼Œå¿…é¡»è®¾ç½®å¯¼èˆªæ èƒŒæ™¯è‰²ä¸ºç™½è‰²ã€‚ä¸è®¾ç½®æˆ–è€…è®¾ç½®ä¸ºå…¶ä»–é¢œè‰²ï¼Œåˆ™é‡‡ç”¨é»˜è®¤çš„æ ·å¼ã€‚æ­¤æ—¶å›¾ç‰‡ä¼šæ¯”è¾ƒå°ã€‚</p><p>ä¿®æ”¹å¯¼èˆªæ ï¼š<code>ä½ çš„ç½‘ç«™/admin.php</code>-&gt;<code>æ‰‹æœºç«¯ç®¡ç†</code>-&gt;<code>é¦–é¡µå¯¼èˆª</code>,ä¿®æ”¹å¯¼èˆªæ </p><p><img src="https://ae01.alicdn.com/kf/H74bc60750cb04428817d42273a0f89fa6.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H74bc60750cb04428817d42273a0f89fa6.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç¡®ä¿é¢œè‰²ä»£ç ä¸º<code>#FFFFFF</code></p><p><img src="https://ae01.alicdn.com/kf/H2adb7476accc4be3b43acb4517f560d0h.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H2adb7476accc4be3b43acb4517f560d0h.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><ul><li>æ·»åŠ åˆ†ç±»<code>å…¨éƒ¨</code>é€‰é¡¹</li></ul><p>å®Œå…¨æ›¿æ¢å°ç¨‹åºæºä»£ç ä¸­<code>pages</code>-&gt;<code>goods-category</code>-&gt;<code>goods-category.wxml</code>æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&#39;left-nav&#39;&gt;</span><br><span class="line">  &lt;block wx:for&#x3D;&quot;&#123;&#123;data_list&#125;&#125;&quot; wx:key&#x3D;&quot;key&quot;&gt;</span><br><span class="line">    &lt;view class&#x3D;&#39;items &#123;&#123;item.active || &quot;&quot;&#125;&#125;&#39; data-index&#x3D;&quot;&#123;&#123;index&#125;&#125;&quot; bindtap&#x3D;&#39;nav_event&#39;&gt;</span><br><span class="line">      &lt;text&gt;&#123;&#123;item.name&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">    &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;&#x2F;block&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br><span class="line">&lt;view class&#x3D;&#39;right-content bg-white&#39;&gt;</span><br><span class="line">  &lt;view class&#x3D;&quot;content-items&quot; data-value&#x3D;&quot;&#123;&#123;data_first_class[&#39;id&#39;]&#125;&#125;&quot; bindtap&#x3D;&quot;category_event&quot;&gt;</span><br><span class="line">        &lt;view class&#x3D;&quot;text single-text&quot;&gt;å…¨éƒ¨&lt;&#x2F;view&gt;</span><br><span class="line">  &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;block wx:if&#x3D;&quot;&#123;&#123;data_content.length &gt; 0&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;block wx:for&#x3D;&quot;&#123;&#123;data_content&#125;&#125;&quot; wx:key&#x3D;&quot;keys&quot; wx:for-item&#x3D;&quot;v&quot;&gt;</span><br><span class="line">      &lt;view class&#x3D;&quot;content-items&quot; data-value&#x3D;&quot;&#123;&#123;v.id&#125;&#125;&quot; bindtap&#x3D;&quot;category_event&quot;&gt;</span><br><span class="line">        &lt;image wx:if&#x3D;&quot;&#123;&#123;(v.icon || null) !&#x3D; null&#125;&#125;&quot; src&#x3D;&quot;&#123;&#123;v.icon&#125;&#125;&quot; mode&#x3D;&quot;aspectFit&quot; class&#x3D;&quot;icon&quot; &#x2F;&gt;</span><br><span class="line">        &lt;view class&#x3D;&quot;text single-text&quot;&gt;&#123;&#123;v.name&#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">      &lt;&#x2F;view&gt;</span><br><span class="line">    &lt;&#x2F;block&gt;</span><br><span class="line">  &lt;&#x2F;block&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br><span class="line"></span><br><span class="line">&lt;view wx:if&#x3D;&quot;&#123;&#123;data_list.length &#x3D;&#x3D; 0 &amp;&amp; data_list_loding_status !&#x3D; 0&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;import src&#x3D;&quot;&#x2F;pages&#x2F;common&#x2F;nodata.wxml&quot; &#x2F;&gt;</span><br><span class="line">  &lt;template is&#x3D;&quot;nodata&quot; data&#x3D;&quot;&#123;&#123;status: data_list_loding_status&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>pages</code>-&gt;<code>goods-category</code>-&gt;<code>goods-category.js</code>ä¸­éƒ¨åˆ†ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼èˆªäº‹ä»¶</span></span><br><span class="line">  nav_event(e) &#123;</span><br><span class="line">    <span class="keyword">var</span> index = e.currentTarget.dataset.index;</span><br><span class="line">    <span class="keyword">var</span> temp_data = <span class="built_in">this</span>.data.data_list;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> temp_data)</span><br><span class="line">    &#123;</span><br><span class="line">      temp_data[i][<span class="string">&#x27;active&#x27;</span>] = (index == i) ? <span class="string">&#x27;nav-active&#x27;</span> : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">      data_list: temp_data,</span><br><span class="line">      data_first_class: temp_data[index],</span><br><span class="line">      data_content: temp_data[index][<span class="string">&#x27;items&#x27;</span>],</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘è¿è¡Œï¼Œå³ä¿®æ”¹å®Œæ¯•ã€‚</p><blockquote><p>æœ‰ä¸ªå°bugï¼Œæ‰“å¼€åˆ†ç±»é¡µé¢ï¼Œç¬¬ä¸€ä¸ªä¸€çº§åˆ†ç±»çš„â€œå…¨éƒ¨â€ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ‰“å¼€æ—¶ï¼Œä¼šæŒ‡å‘å…¨éƒ¨å•†å“ï¼Œè€Œä¸æ˜¯ä¸€çº§åˆ†ç±»çš„å•†å“ã€‚åˆ‡æ¢åˆ°ç¬¬äºŒä¸ªä¸€çº§åˆ†ç±»ï¼Œå†å›æ¥ï¼Œæ­¤æ—¶ç‚¹å‡»â€œå…¨éƒ¨â€ï¼Œå°±å˜æ­£å¸¸äº†ã€‚ã€‚åç»­å†ä¿®å¤å§ã€‚</p></blockquote><h1 id="4ï¼šæ–°è®¢å•é€šçŸ¥æ¨é€"><a href="#4ï¼šæ–°è®¢å•é€šçŸ¥æ¨é€" class="headerlink" title="4ï¼šæ–°è®¢å•é€šçŸ¥æ¨é€"></a>4ï¼šæ–°è®¢å•é€šçŸ¥æ¨é€</h1><p>æ–°è®¢å•æ¨é€ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿å•†å®¶ï¼Œæ¥æ”¶å„ä¸ªç«¯ä¸‹å•æ¶ˆæ¯ã€‚é€šå¸¸ï¼Œé€šå¸¸éƒ½æ˜¯ä½¿ç”¨çŸ­ä¿¡å’Œé‚®ç®±æ–¹å¼æ¥æ¥æ”¶æ¶ˆæ¯ï¼Œä½†æ˜¯é‚®ç®±æ¥æ”¶æ•ˆç‡å¤ªä½ã€‚çŸ­ä¿¡åˆéœ€è¦æ”¶è´¹ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ç§åŠæ—¶çš„æ¨é€æ–¹å¼ï¼Œç¬¬ä¸€ç§ï¼Œé£é¹…æ‰“å°æœºã€‚å…¥ä½ç¾å›¢ã€é¥¿äº†ä¹ˆçš„å•†å®¶ï¼Œé€šå¸¸éƒ½ä¼šè´­ä¹°è¿™ä¸ªæ‰“å°æœºï¼Œå› ä¸ºä»–æ˜¯å…¨å¹³å°çš„ï¼Œè€Œä¸”å¯ä»¥è°ƒç”¨å®ƒçš„APIæ¥å£ï¼Œè‡ªå®šä¹‰æ‰“å°å†…å®¹ã€‚</p><p>ç¬¬äºŒç§ï¼Œå¾®ä¿¡å…¬ä¼—å·æ¨é€ã€‚å½“ç½‘ç«™åå°æ¥æ”¶åˆ°æ–°è®¢å•ï¼Œå³é€šè¿‡å¾®ä¿¡å…¬ä¼—å·çš„æ¨¡æ¿æ¶ˆæ¯åŠŸèƒ½ï¼Œå‘æŒ‡å®šå¾®ä¿¡æ¨é€æ–°è®¢å•æ¶ˆæ¯ã€‚</p><p>å½“ç„¶å¦‚æœä½ å…·å¤‡ä¸€äº›ç¼–ç¨‹çŸ¥è¯†ï¼Œè¿˜å¯ä»¥è‡ªå·±å†™ä¸ªç¨‹åºï¼Œå‘ä¸‹å•çš„ç”¨æˆ·æ¨é€è®¢å•çš„è¿›å±•ã€‚ï¼ˆå¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œè°ƒç”¨è®¢å•çš„ç›¸å…³é’©å­ã€‚ï¼‰</p><p><img src="https://ae01.alicdn.com/kf/Hbf03630cbb7b499e946293ebe107df1fU.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hbf03630cbb7b499e946293ebe107df1fU.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ä¸ºäº†å‡å°‘å·¥ä½œé‡ï¼Œæ¶ˆæ¯é€šçŸ¥ï¼Œæ˜¯åœ¨åŸæœ‰æ’ä»¶<code>æ–°è®¢å•æé†’</code>åŸºç¡€ä¸Šè¿›è¡Œçš„ä¿®æ”¹ã€‚æ–°çš„æ’ä»¶å…·æœ‰äº†é™¤é‚®ç®±å’ŒçŸ­ä¿¡ä»¥å¤–çš„å…¬ä¼—å·å’Œé£é¹…æ‰“å°åŠŸèƒ½ã€‚</p><p><img src="https://ae01.alicdn.com/kf/H47729d1cdad342dbbf295c7e53404a9cQ.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/H47729d1cdad342dbbf295c7e53404a9cQ.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ShopXO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ æ·±åº¦å­¦ä¹ æå®æ¯…ç‰ˆ-å­¦ä¹ ç¬”è®°</title>
      <link href="/2020/05/21/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/05/21/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -Regression-å›å½’"><a href="#ç¬¬ä¸€ç« -Regression-å›å½’" class="headerlink" title="ç¬¬ä¸€ç«  Regression å›å½’"></a>ç¬¬ä¸€ç«  Regression å›å½’</h1><p>$$<br>f(input)=output<br>$$</p><p>è¾“å…¥ä¸€ä¸ªå¯¹è±¡åï¼Œæœ‰æŒ‡å®šçš„è¾“å‡ºç»“æœã€‚</p><p><strong>ç¤ºä¾‹åº”ç”¨ï¼š</strong>æ•°ç å®è´åŸå§‹cpå€¼ï¼Œæ±‚è¿›åŒ–ä¸€æ¬¡åçš„cpå€¼</p><p>Step 1: Model</p><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼šç¡®å®šè¾“å…¥åŸå§‹cpå€¼å’Œè¾“å‡ºè¿›åŒ–åçš„cpå€¼ã€‚<br>$$<br>y=b+w*x_{cp}<br>$$</p><blockquote><p>w and b are parameters</p></blockquote><p>Step 2: Goodness of Functionæ–¹ç¨‹å¥½å</p><p>å¯¹è±¡1ï¼šfunction input: cp612-&gt;x1      function output:cp979-&gt;y1<br>$$<br>(x^1,y^1)<br>$$</p><p>$$<br>(x^2,y^2)<br>$$</p><p>$$<br>â€¦â€¦<br>$$</p><p>$$<br>(x^{10},y^{10})<br>$$</p><p>å®šä¹‰å¦ä¸€ä¸ªå‡½æ•°ï¼šç¡®å®šç¬¬ä¸€ä¸ªå‡½æ•°æ•ˆæœå¦‚ä½•ã€‚è¾“å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å‡ºå‡½æ•°å¥½åç¨‹åº¦ã€‚</p><p>Loss Function<br>$$<br>\begin{split}<br>L(f) &amp;= L(w,b)<br>\ &amp;=\sum_{n=1}^{10}\left(y^n-\left(b+w*x^n_{cp}\right)\right)^2<br>\end{split}<br>$$<br>Step 3: Best Functionæœ€å¥½çš„å‡½æ•°</p><p>Gradient Descent<br>$$<br>w^*=arg\ min\ L(w)<br>$$<br>æšä¸¾wå€¼ï¼Œæ‰¾åˆ°Loss Functionæœ€å°çš„wå€¼ã€‚</p><ul><li><p>éšæœºé€‰æ‹©ä¸€ä¸ªåˆå§‹w0,</p></li><li><p>$$<br>\frac{dL}{dw}|w=w^0<br>$$</p></li></ul><p>åœ¨w0ä½ç½®ï¼Œå¦‚æœæ–œç‡ä¸ºæ­£ï¼Œåˆ™wå‘å°çš„ä½ç½®ç§»åŠ¨ï¼Œåä¹‹å‘wå¢å¤§çš„ä½ç½®ç§»åŠ¨ï¼Œç›®çš„æ˜¯æ‰¾åˆ°L(w)æ›´å°çš„ä½ç½®ã€‚ä¸‹ä¸€ä¸ªä½ç½®w1ã€‚<br>$$<br>w^1=w^0-\eta\frac{\partial L}{\partial w}|w=w^0,b=b^0<br>\b^1=b^0-\eta\frac{\partial L}{\partial b}|w=w^0,b=b^0<br>\\etaè¡¨ç¤ºå­¦ä¹ ç‡ã€‚<br>$$<br>æœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªæœ€ä½³çš„wå’Œbï¼Œç¡®å®šä¸€ä¸ªL(f)æœ€å°ã€‚</p><p>ç„¶è€Œï¼Œç”±äºæ•°ç å®è´çš„ç‰©ç§ä¸åŒï¼Œbå’Œwçš„å–å€¼å°†ä¸åŒã€‚</p><p><strong>ä¿®æ”¹æ¨¡å‹</strong></p><p>Step 1:é€‰æ‹©æ¨¡å‹<br>$$<br>y=b_1<em>\delta(x^s=å®è´1)+w_1</em>\delta(x_s=å®è´1)<em>x_{cp}+b_2</em>\delta(x^s=å®è´2)+w_2*\delta(x_s=å®è´2)*x_{cp}+â€¦â€¦<br>$$</p><p>$$<br>\delta(x_s=å®è´1)\begin{cases}<br>=1\ if,x_s=å®è´1 \\<br>=0\ else\end{cases}<br>$$</p><p>æ­¤æ—¶å·²ç»å¾ˆç²¾å‡†äº†ï¼Œä½†æ˜¯å¯èƒ½è¿˜å­˜åœ¨å…¶ä»–é™¤äº†ç§ç±»ä»¥å¤–çš„å½±å“å› ç´ ï¼Œæ¯”å¦‚èº«é«˜ï¼Œä½“é‡ï¼Œhpã€‚</p><p>å›åˆ°Step 2:Regularization<br>$$<br>y=b+\sum w_ix_i<br>\L=\sum_n(y^n-(b+\sum w_ix_i))^2+\lambda\sum (w_i)^2<br>$$<br>ä¸ºäº†è·å–ä¸€ä¸ªæ›´å…‰æ»‘çš„æ›²çº¿ï¼Œæ¥å‡å°‘å™ªéŸ³å¯¹è¾“å‡ºç»“æœçš„å½±å“ã€‚</p><blockquote><p><strong>é‡‡ç”¨è¾ƒå°çš„æ‹Ÿåˆæ¬¡æ•°ç®€å•çš„modelï¼Œé€šå¸¸å…·æœ‰æ›´å°çš„æ–¹å·®ï¼Œä½†åå·®æ›´å¤§ï¼Œå³ç»“æœé›†ä¸­ä½†é›†ä¸­ä½ç½®åç¦»çœŸå®å€¼ï¼›è¾ƒå¤§çš„æ‹Ÿåˆæ¬¡æ•°å¤æ‚çš„modelï¼Œæ–¹å·®æ¯”è¾ƒå¤§ï¼Œä½†åå·®æ›´å°ã€‚</strong></p></blockquote><p>åå·®å¤§ï¼š</p><ol><li>æ›´å¤šè®­ç»ƒæ•°æ®</li><li>æ›´å¤æ‚çš„æ¨¡å‹</li></ol><p>æ–¹å·®å¤§ï¼š</p><ol><li>æ›´å¤šè®­ç»ƒæ•°æ®</li></ol><p>è·å–æ¨¡å‹ï¼šValidation</p><p>è®­ç»ƒæ•°æ®-&gt;åˆ†ä¸‰ä»½ï¼Œä¸¤ä»½è·å–æ¨¡å‹ï¼Œä¸€ä»½éªŒè¯æ¨¡å‹ã€‚</p><h1 id="ç¬¬äºŒç« -Gradient-Descentæ¢¯åº¦ä¸‹é™æ³•"><a href="#ç¬¬äºŒç« -Gradient-Descentæ¢¯åº¦ä¸‹é™æ³•" class="headerlink" title="ç¬¬äºŒç«  Gradient Descentæ¢¯åº¦ä¸‹é™æ³•"></a>ç¬¬äºŒç«  Gradient Descentæ¢¯åº¦ä¸‹é™æ³•</h1><p>åœ¨ç¬¬ä¸€ç« Step 3ä¸­ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ä¸€ä¸ªæœ€ä½çš„loss function<br>$$<br>\theta^*=arg\ max\ L(\theta) \ \ \ \ L:loss\ function\ \ \theta:parameters<br>$$<br>å‡è®¾$\theta$æœ‰ä¸¤ä¸ªå‚æ•°${\theta_1,\theta_2}$</p><p>éšæœºè®¾ç½®ä¸€ä¸ª$\theta^0=\begin{bmatrix}\theta_1^0\\theta_2^0\end{bmatrix}$<br>$$<br>\begin{bmatrix}\theta_1^1\\theta_2^1\end{bmatrix}=\begin{bmatrix}\theta_1^0\\theta^0_2\end{bmatrix}-\eta\begin{bmatrix}\frac{\partial(\theta_1^0)}{\partial\theta_1}\\frac{\partial(\theta_2^0)}{\partial\theta_2}\end{bmatrix}<br>$$</p><p>$$<br>\begin{bmatrix}\theta_1^2\\theta_2^2\end{bmatrix}=\begin{bmatrix}\theta_1^1\\theta^1_2\end{bmatrix}-\eta\begin{bmatrix}\frac{\partial(\theta_1^1)}{\partial\theta_1}\\frac{\partial(\theta_2^1)}{\partial\theta_2}\end{bmatrix}<br>$$</p><p>ç®€åŒ–å…¬å¼ï¼š<br>$$<br>\bigtriangledown L(\theta)=\begin{bmatrix}\frac{\partial L(\theta_1)}{\partial\theta_1}\\frac{\partial L(\theta_2)}{\partial\theta_2}\end{bmatrix}<br>\\theta^1=\theta^0-\eta\bigtriangledown L(\theta^0)<br>$$<br>éœ€è¦è°ƒèŠ‚å­¦ä¹ ç‡ï¼ˆæ­¥é•¿ï¼‰$\eta$åˆ°åˆé€‚çš„å€¼ã€‚</p><blockquote><p>ä¸åŒçš„$\theta$ç»™ä¸åŒçš„$\eta$ã€‚</p></blockquote><p>Adagrad:éšç€å‚æ•°å¢åŠ ï¼Œæ­¥é•¿é€æ¸å‡å°ã€‚<br>$$<br>w^1\gets w^1-\frac{\eta^0}{\sigma^0}g^0 \ \ \ \sigma^0=\sqrt{(g^0)^2}<br>\\vdots<br>\\vdots<br>\w^{t+1}\gets w^t-\frac{\eta^t}{\sigma^t}g^t\ \ \ \sigma^t=\sqrt{\frac{1}{t+1}\sum^t_{i=0}(g^i)^2}<br>$$</p><p>$$<br>\eta^t=\frac{\eta}{\sqrt{t+1}}<br>$$</p><p>Feature Scaling:</p><p>å°†å¤šä¸ªxè¾“å…¥çš„èŒƒå›´ç»Ÿä¸€åˆ°ä¸€ä¸ªèŒƒå›´ï¼Œä»¥ä¿è¯åœ¨è®¡ç®—L(f)æ—¶ï¼Œæ¯ä¸ªwå¯¹L(f)çš„å½±å“ç›¸åŒã€‚</p><blockquote><p>Gradient Descentä¼šå¡åœ¨å±€éƒ¨æœ€å°å€¼çš„ä½ç½®</p></blockquote><h1 id="ç¬¬ä¸‰ç« -New-Optimizers-for-Deep-Learning-ä¼˜åŒ–"><a href="#ç¬¬ä¸‰ç« -New-Optimizers-for-Deep-Learning-ä¼˜åŒ–" class="headerlink" title="ç¬¬ä¸‰ç«  New Optimizers for Deep Learning ä¼˜åŒ–"></a>ç¬¬ä¸‰ç«  New Optimizers for Deep Learning ä¼˜åŒ–</h1><p>ä¸€äº›è®°å·ï¼š</p><p>$\theta_t$:æ¨¡å‹å‚æ•°</p><p>$m_{t+1}$:ä»step 0åˆ°step t çš„åŠ¨é‡ã€‚</p><p><strong>SGDï¼š</strong></p><p>SGDMã€Learning rate schedulingã€NAG</p><p>èµ°åˆ°æœ€ä½ç‚¹æ—¶ï¼Œè¿˜ä¸ä¼šåœä¸‹æ¥ï¼Œç”±äºä¹‹å‰çš„åŠ¨é‡å½±å“ï¼Œå­˜åœ¨ä¸€ä¸ªç±»ä¼¼çš„æƒ¯æ€§ä½œç”¨ï¼Œä¼šç»§ç»­å‘ä¸Šçˆ¬å¡ã€‚</p><p><strong>Adamï¼š</strong></p><p>Adagradã€RMSPropã€AMSGradã€AdaBoundã€RAdamã€Nadamã€AdamW</p><p>SGD+Adam-&gt;SWATS</p><p><strong>Lookahead</strong></p><h1 id="ç¬¬å››ç« -Classification-åˆ†ç±»"><a href="#ç¬¬å››ç« -Classification-åˆ†ç±»" class="headerlink" title="ç¬¬å››ç«  Classification åˆ†ç±»"></a>ç¬¬å››ç«  Classification åˆ†ç±»</h1><p>ä¾‹ï¼šæŠ•ç®€å†</p><ul><li>è¾“å…¥ï¼šæ”¶å…¥ã€å­˜æ¬¾ã€ä¸“ä¸šã€å¹´çºª</li><li>è¾“å‡ºï¼šå½•å–æˆ–æ‹’ç»</li></ul><p>æ¨¡å‹ï¼š<br>$$<br>x\rightarrow f(x)\begin{cases}g(x)&gt;0\ &amp;Output=class1\else \ \ &amp;Output=class2\end{cases}<br>$$<br>Loss functionï¼š<br>$$<br>L(f)=\sum_n\delta(f(x^n)\ne y^n)<br>$$<br>79ä¸ªæ°´ç³»ï¼ˆC1ï¼‰å®å¯æ¢¦ï¼Œ61åªæ™®é€šç³»ï¼ˆC2ï¼‰çš„å®å¯æ¢¦</p><p>$P(x|C_1)$çš„å¯èƒ½æ€§ã€‚</p><p>$P(x|C_1)$æ»¡è¶³é«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„é«˜é€Ÿåˆ†å¸ƒç³»æ•°$\mu$å’Œ$E$</p><p>ä½¿ç”¨è´å¶æ–¯å…¬å¼ï¼Œæ±‚æµ‹è¯•æ•°æ®$P(C_1|x)$çš„æ¦‚ç‡ã€‚</p><p>æ‰€ä»¥ï¼š</p><p>æ¨¡å‹<br>$$<br>x\rightarrow P(C_1|x)=\frac{P(x|C_1)P(C_1)}{P(x|C_1)P(C_1)+P(x|C_2)P(C_2)}<br>$$<br>å‡½æ•°çš„å¥½åï¼š</p><p>å¹³å‡å€¼$\mu$å’Œ$E$ã€‚</p><p>ä¸€å †æ•°å­¦è¿ç®—â€¦â€¦</p><p>æ¨¡å‹ï¼š<br>$$<br>P_{w,b}(C_2|x)=\sigma(z)<br>\<br>\sigma(z)=\frac{1}{1+exp(-z)}<br>\<br>z=w*x+b<br>$$</p><h1 id="ç¬¬äº”ç« -Logistic-Regression"><a href="#ç¬¬äº”ç« -Logistic-Regression" class="headerlink" title="ç¬¬äº”ç«  Logistic Regression"></a>ç¬¬äº”ç«  Logistic Regression</h1><p>$$<br>f_{w,b}(x)=\sigma(\sum w_ix+b)<br>$$<br>$x_1$å±äº$C_1$,$x_2$å±äº$C_1$,$x_3$å±äº$C_2$â€¦â€¦<br>$$<br>L(w,b)=f_{w,b}(x^1)f_{w,b}(x^2)(1-f_{w,b}(x^3))â€¦<br>$$<br>æ‰¾åˆ°ä¸€ä¸ª$w^*,b^*$æ»¡è¶³$arg\ max,L(w,b)$æœ€å¤§ã€‚</p><h1 id="ç¬¬å…­ç« -Deep-learning"><a href="#ç¬¬å…­ç« -Deep-learning" class="headerlink" title="ç¬¬å…­ç«  Deep learning"></a>ç¬¬å…­ç«  Deep learning</h1><p>å†å²ï¼š</p><p>1958: Perceptron(linear model)</p><p>1980: Multi-layer perceptron</p><p>1986: Backpropagation</p><p>1989: 1 hidden layer is â€œgood enoughâ€</p><p>2006: RBM initialization</p><p>2009: GPU</p><p>2011: Speech recognizition</p><p>æ­¥éª¤ï¼š</p><ol><li>æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°-&gt;Neural Network</li></ol><p><img src="https://ae01.alicdn.com/kf/Hfab376d7115d4542a9bca22bbae41b31b.jpg" class="lazyload" data-srcset="https://ae01.alicdn.com/kf/Hfab376d7115d4542a9bca22bbae41b31b.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>Deep = Many hidden layers</p><h1 id="ç¬¬ä¸ƒç« -Backpropagation-åå‘ä¼ æ’­"><a href="#ç¬¬ä¸ƒç« -Backpropagation-åå‘ä¼ æ’­" class="headerlink" title="ç¬¬ä¸ƒç«  Backpropagation åå‘ä¼ æ’­"></a>ç¬¬ä¸ƒç«  Backpropagation åå‘ä¼ æ’­</h1><p>è®©è®¡ç®—æ¢¯åº¦ä¸‹é™æ³•çš„å‚æ•°æ›´æœ‰æ•ˆã€‚</p><p>Chain Rule é“¾å¼æ³•åˆ™ï¼š</p><p>Case1ï¼š<br>$$<br>y=g(x) \ \ \ \ z=h(y)<br>\\triangle x \rightarrow \triangle y\rightarrow \triangle z<br>\ \frac{dz}{dx}=\frac{dz}{dy}\frac{dy}{dx}<br>$$<br>Case2:<br>$$<br>x=g(s) \ \ y=h(s) \ \ z=k(x,y)<br>\ \frac{dz}{ds}=\frac{\partial z}{\partial x}\frac{dx}{ds}+\frac{\partial z}{\partial y}\frac{dy}{ds}<br>$$</p><p>Loss functionæ˜¯æ‰€æœ‰è¾“å…¥ç»ç¥ç»ç½‘ç»œå¤„ç†åçš„è¾“å‡ºï¼Œä¸ç†æƒ³è¾“å‡ºè¯¯å·®ä¹‹å’Œã€‚<br>$$<br>L(\theta)=\sum_nC(\theta)<br>$$<br>å¯¹Loss functionæ±‚å¯¼ï¼š<br>$$<br>\frac{\partial L}{\partial w}=\sum_n\frac{\partial C}{\partial w}<br>$$<br>åªè®¨è®ºç¥ç»ç½‘ç»œçš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><p><img src="https://i.loli.net/2020/06/20/o5kCyJMm9NULnFI.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/20/o5kCyJMm9NULnFI.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>$$<br>\frac{\partial C}{\partial w}=\frac{\part C}{\part z}\frac{\part z}{\part w}<br>$$<br>æ±‚zå¯¹wæ±‚å¯¼ï¼Œå¾ˆç®€å•ï¼Œå¯¹w1æ±‚å¯¼æ˜¯x1ï¼Œå¯¹w2æ±‚å¯¼æ˜¯x2ã€‚</p><p><img src="https://i.loli.net/2020/06/20/gICwHOfq65uS9dj.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/20/gICwHOfq65uS9dj.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å‡è®¾ç¬¬äºŒå±‚ç¥ç»èŠ‚ç‚¹çš„è¾“å…¥aï¼Œæ˜¯å°†zé€šè¿‡ä¸€ä¸ªä¿¡å·å‡½æ•°(signal) $\sigma(z)$å¾—åˆ°çš„ç°åœ¨æ±‚$\frac{\part C}{\part z}$<br>$$<br>\frac{\part C}{\part z}=\frac{\part a}{\part z}\frac{\part C}{\part a}<br>$$<br>åˆ©ç”¨é“¾å¼æ³•åˆ™ï¼Œæ±‚$\frac{\part C}{\part a}$</p><p>å…¬å¼è§ä¸Šå›¾ã€‚æ­¤æ—¶ï¼Œé€šè¿‡åå‘ä¼ é€’æ³•åˆ™ã€‚å‡è®¾çº¢è‰²çš„ä¿¡å·èŠ‚ç‚¹å°±æ˜¯ç¥ç»ç½‘ç»œçš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹åº”è¾“å‡ºå°±æ˜¯ç¥ç»ç½‘ç»œè¾“å‡ºã€‚é‚£ä¹ˆå¯ä»¥å€’æ¨å›å»ã€‚$\frac{\part C}{\part z^,}$å°±ç­‰äºæœ€åçš„signå‡½æ•°å¯¼æ•°ã€‚å› æ­¤èƒ½æ±‚å¾—$\frac{\part C}{\part a}$ï¼Œè¿™æ ·ä¾æ¬¡åæ¨å›å»ã€‚æœ€ç»ˆæ±‚å¾—æ¯ä¸ªèŠ‚ç‚¹çš„$\frac{\part C}{\part z}$ã€‚ä»è€Œæ±‚å¾—Loss functionçš„å¯¼æ•°ã€‚</p><h1 id="ç¬¬å…«ç« -Tips-for-Deep-Learning"><a href="#ç¬¬å…«ç« -Tips-for-Deep-Learning" class="headerlink" title="ç¬¬å…«ç«  Tips for Deep Learning"></a>ç¬¬å…«ç«  Tips for Deep Learning</h1><ol><li><p>å®šä¹‰ä¸€ä¸ªæ–¹ç¨‹</p></li><li><p>æ–¹ç¨‹å¥½å</p></li><li><p>é€‰æ‹©æœ€å¥½çš„æ–¹ç¨‹</p></li><li><p>è·å¾—ä¸€ä¸ªNeural Network</p></li><li><p>æ˜¯å¦è·å¾—ä¸€ä¸ªå¥½çš„ç»“æœåœ¨Training Dataï¼Œå¦‚æœä¸å¥½é‡æ–°é€‰æ‹©æœ€å¥½çš„æ–¹ç¨‹</p></li><li><p>åœ¨Testing Dataè·å¾—ä¸å¥½çš„ç»“æœï¼Œoverfittingï¼Œåˆ™é‡æ–°å®šä¹‰ä¸€ä¸ªæ–¹ç¨‹ã€‚</p></li></ol><p><strong>ReLU</strong></p><p>Rectified Linear Unit.çŸ«æ­£çº¿æ€§å•å…ƒ</p><p><img src="https://i.loli.net/2020/06/20/YxX9CrsUGl2ot1J.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/20/YxX9CrsUGl2ot1J.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å¦‚æœæŸä¸ªèŠ‚ç‚¹ï¼Œè¾“å‡ºæ˜¯é›¶ï¼Œé‚£ä¹ˆä»–å¯¹æœ€åçš„ç»“æœæ²¡æœ‰ä»»ä½•å½±å“ã€‚æ‰€ä»¥ï¼Œè¾“å‡ºä¸ºé›¶å…³è”çš„ä¹‹åèŠ‚ç‚¹éƒ½å¯ä»¥è¢«æ‹¿æ‰ã€‚</p><p><strong>ReLU -variant</strong></p><p>å½“zå°äº0æ—¶ï¼Œa=mzã€‚</p><p>Leaky ReLU ï¼šm=0.01</p><p>Parametric: må¯å˜</p><p><strong>Maxout</strong></p><p>æœ€å¤§è¾“å‡ºï¼Œå°†ä¸åŒè¾“å…¥çš„è¾“å‡ºzåˆ†ç»„ï¼Œç»„å†…é€‰å‡ºæœ€å¤§çš„å€¼ï¼Œä½œä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¾“å…¥ã€‚</p><p><strong>RMSProp</strong><br>$$<br>w^1 \leftarrow w^0-\frac{\eta}{\sigma^0}g^0 \ \ \ \ \ \sigma^0=g^0<br>\<br>w^2 \leftarrow w^1-\frac{\eta}{\sigma^1}g^1 \ \ \ \ \ \sigma^1=\sqrt{\alpha (\sigma^0)^2+(1-\alpha)(g^1)^2}<br>\â€¦â€¦<br>$$<br>$\alpha$å¯ä»¥è®¾ç½®ã€‚</p><p><strong>Momentum</strong></p><p>åœ¨åˆå§‹ç‚¹$\theta^0$å¤„ï¼ŒåŠ é€Ÿåº¦æ–¹å‘ä¸ºgradientæ–¹å‘ã€‚</p><p>åˆå§‹ç§»åŠ¨è·ç¦»:$v_0=0$</p><p>åŠ é€Ÿåº¦(ç¬¬ä¸€ç‚¹å¤„çš„gradient):$\triangledown L(\theta^0)$</p><p>ç§»åŠ¨è·ç¦»:$v^1=\lambda v^0-\eta \triangledown L(\theta^0)$</p><p>ç§»åˆ°ç¬¬äºŒç‚¹:$\theta^1=\theta^0+v^1$</p><p>è®¡ç®—ç¬¬äºŒç‚¹çš„åŠ é€Ÿåº¦:$\triangledown L(\theta^1)$</p><p>ä¸‹ä¸€æ¬¡ç§»åŠ¨è·ç¦»:$v^2=\lambda v^1-\eta \triangledown L(\theta^1)$</p><p>ç§»åŠ¨åˆ°ç¬¬ä¸‰ç‚¹:$\theta^2=\theta^1+v^2$</p><p><strong>Adam</strong>:RMSProp+Momentum</p><p><strong>è¿‡æ‹Ÿåˆé—®é¢˜</strong></p><ol><li>early stop</li></ol><p>é€šè¿‡æƒ…å†µå¯èƒ½å‡ºå¸­ï¼Œå½“è®­ç»ƒé›†å¢åŠ æ—¶ï¼Œæµ‹è¯•é›†çš„æ­£ç¡®ç‡åè€Œä¸‹é™ï¼Œå› æ­¤é€šè¿‡å‡å°‘è®­ç»ƒé›†çš„æ•°æ®æ¥è¾¾åˆ°é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p><ol start="2"><li>Regularization</li></ol><p>$$<br>L^,(\theta)=L(\theta)+\lambda \frac{1}{2}||\theta||_2<br>$$</p><p>$$<br>||\theta||_2=(w_1)^2+(w_2)^2+â€¦â€¦<br>$$</p><p>$||\theta||_2$ä¸è€ƒè™‘biasesï¼Œå› ä¸ºæ­£åˆ™åŒ–æ˜¯ä¸ºäº†è®©loss functionæ›´åŠ å¹³æ»‘ï¼Œbiaseså¹¶ä¸ä¼šèµ·åˆ°ä½œç”¨ã€‚</p><p>Loss functionæ±‚å¯¼:<br>$$<br>\frac{\partial L^,}{\partial w}=\frac{\partial L}{\part w}+\lambda w<br>$$<br>åœ¨æ‰¾ä¸‹ä¸€ä¸ª<br>$$<br>w^{t+1}\rightarrow w^t-\eta\frac{\part L^,}{\part w} =w^t-\eta(\frac{\part L}{\part w}+\lambda w^t)=(1-\eta\lambda)w^t-\eta\frac{\part L}{\part w}<br>$$</p><ol start="3"><li>Dropout</li></ol><p>åœ¨æ›´æ–°å‚æ•°ä¹‹å‰ï¼š</p><ul><li>æ¯ä¸ªèŠ‚ç‚¹æœ‰p%å‡ ç‡è¢«ä¸¢æ‰</li><li>ä½¿ç”¨æ–°çš„ç½‘ç»œå»è®­ç»ƒ</li></ul><p>æµ‹è¯•æ—¶ï¼š</p><p>æ²¡æœ‰ä¸¢å¼ƒèŠ‚ç‚¹</p><ul><li>å¦‚æœä¸¢å¼ƒç‡ä¸ºp%ï¼Œæ‰€æœ‰çš„weights times(1-p)%</li></ul><p>å¯ä»¥ç†è§£ä¸ºï¼Œåœ¨è®­ç»ƒæ—¶ï¼Œè…¿ä¸Šç»‘é‡ç‰©ï¼Œæµ‹è¯•æ—¶æŠŠé‡ç‰©æ‹¿æ‰ã€‚</p><p>ä¸ºä»€ä¹ˆè¦ä¹˜(1-p)%</p><p><img src="https://i.loli.net/2020/06/21/dAis9PpjHgMKWy7.png" class="lazyload" data-srcset="https://i.loli.net/2020/06/21/dAis9PpjHgMKWy7.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å‡è®¾ä¸¢å¼ƒç‡ä¸º50%,åœ¨è®­ç»ƒæ—¶ä¸€åŠèŠ‚ç‚¹è¢«æ‹¿æ‰ï¼Œè€Œæµ‹è¯•æ—¶ä½¿ç”¨äº†æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¯¼è‡´èŠ‚ç‚¹zç›¸å·®ä¸¤å€ï¼Œåœ¨æµ‹è¯•æ—¶å°†æ‰€æœ‰weightä¹˜50%ï¼Œä¿è¯æµ‹è¯•æ—¶çš„$zâ€™\approx z$</p><h1 id="ç¬¬å…«ç« -Why-deep"><a href="#ç¬¬å…«ç« -Why-deep" class="headerlink" title="ç¬¬å…«ç«  Why deep"></a>ç¬¬å…«ç«  Why deep</h1><p>çŸ®èƒ–ï¼Ÿé«˜ç˜¦ï¼Ÿ</p><p>å®éªŒæ•°æ®è¡¨æ˜ï¼Œç›¸åŒå‚æ•°æƒ…å†µä¸‹ï¼Œdeepçš„é”™è¯¯ç‡æ›´å°ã€‚</p><p><strong>Modularization</strong></p><ul><li>Deep-&gt;Modularization</li></ul><p>æ¯”å¦‚è¾¨åˆ«ç”·ç”Ÿé•¿å‘ã€ç”·ç”ŸçŸ­å‘ã€å¥³ç”Ÿé•¿å‘ã€å¥³ç”Ÿé•¿å‘ã€‚</p><p>ç”·ç”Ÿé•¿å‘çš„è®­ç»ƒé›†æ˜¯å¾ˆå°‘çš„ã€‚</p><p>ä½¿ç”¨æ¨¡ç»„åŒ–ï¼Œå¯ä»¥å…ˆè¾¨åˆ«æ€§åˆ«ï¼Œåœ¨è¾¨åˆ«å¤´å‘é•¿çŸ­ã€‚è¿™æ ·æ€§åˆ«å’Œé•¿çŸ­å‘çš„è®­ç»ƒé›†éƒ½æ˜¯å·®ä¸å¤šçš„ã€‚è¿™æ ·ç”·ç”Ÿé•¿å‘ä¹Ÿæœ‰å¥½çš„æ­£ç¡®ç‡ã€‚</p><ul><li>Deep-&gt;Modularization-&gt;Less training data</li></ul><p><strong>Modularization-Speech</strong></p><p>äººç±»è¯­è¨€çš„æ¶æ„</p><p>Phoneme:äººç±»å‘éŸ³çš„éŸ³èŠ‚ï¼Œ</p><p>Tri-phone:ä¸åŒçš„ç»„åˆ</p><p>State: ä¸åŒçš„èŠ‚</p><ul><li>è¯­éŸ³è¯†åˆ«ï¼š</li></ul><p>åˆ†ç±»ï¼šinput-&gt;acoustic feature,output-&gt;state</p><blockquote><p>deepçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥æŠŠå¤æ‚çš„é—®é¢˜ï¼Œä½¿ç”¨å¾ˆå¤šä¸ªç®€å•çš„functionè¿æ¥åœ¨ä¸€èµ·ã€‚</p></blockquote><h1 id="ç¬¬ä¹ç« -Pytorch"><a href="#ç¬¬ä¹ç« -Pytorch" class="headerlink" title="ç¬¬ä¹ç«  Pytorch"></a>ç¬¬ä¹ç«  Pytorch</h1><p>æŒ‡å®šè®¾å¤‡ï¼Œè¿ç§»åˆ°æŸä¸ªè®¾å¤‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cpu = torch.device(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">gpu=torch.device(<span class="string">&quot;gpu&quot;</span>)</span><br><span class="line">x= torch.rand(<span class="number">10</span>)</span><br><span class="line">print(x)</span><br><span class="line">x=x.to(gpu)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œæŠ€æœ¯å­¦ä¹ ç¬”è®°</title>
      <link href="/2020/04/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/04/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šåŸºç¡€æ¦‚å¿µ"><a href="#1ï¼šåŸºç¡€æ¦‚å¿µ" class="headerlink" title="1ï¼šåŸºç¡€æ¦‚å¿µ"></a>1ï¼šåŸºç¡€æ¦‚å¿µ</h1><ol><li><p>å±€åŸŸç½‘ã€åŸåŸŸç½‘ã€å¹¿åŸŸç½‘çš„åŒºåˆ«</p></li><li><p>å®è®­ä»»åŠ¡ï¼šå®½å¸¦åŸåŸŸç½‘çš„é€»è¾‘ç»“æ„ï¼Œâ€œä¸‰ä¸ªå¹³å°ä¸€ä¸ªå‡ºå£â€</p></li></ol><p>ç®¡ç†å¹³å°ã€ä¸šåŠ¡å¹³å°ã€ç½‘ç»œå¹³å°ï¼ˆæ ¸å¿ƒå±‚ã€æ±‡èšå±‚ã€æ¥å…¥å±‚ï¼‰ã€åŸå¸‚å®½å¸¦å‡ºå£- </p><p>æ ¸å¿ƒå±‚ï¼š</p><ul><li>ä¸ºæ±‡èšå±‚çš„ç½‘ç»œæä¾›é«˜é€Ÿåˆ†ç»„è½¬å‘ï¼Œä¸ºåŸå¸‚æä¾›ä¸€ä¸ªé«˜é€Ÿå®‰å…¨ä¸å…·æœ‰QoSä¿éšœèƒ½åŠ›çš„æ•°æ®ä¼ è¾“ç¯å¢ƒ</li><li>æä¾›åŸå¸‚çš„å®½å¸¦IPå‡ºå£</li><li>ç”¨æˆ·è®¿é—®Internetæ‰€éœ€çš„è·¯ç”±è®¿é—®</li></ul><p>æ±‡èšå±‚ï¼š</p><ul><li>æ±‡èšæ¥å…¥å±‚çš„ç”¨æˆ·æµé‡</li><li>è¿›è¡Œæœ¬åœ°è·¯ç”±ï¼ŒQoSä¼˜å…ˆçº§çš„ç®¡ç†ç­‰</li><li>ç”¨æˆ·æµé‡è½¬å‘åˆ°æ ¸å¿ƒå±‚</li></ul><p>æ¥å…¥å±‚ï¼š</p><ul><li>è¿æ¥æœ€ç»ˆç”¨æˆ·</li></ul><p>ä¸‰å±‚ç»“æ„æ€æƒ³ï¼šä¸Šå±‚è´Ÿè´£ä¸‹å±‚çš„æ•°æ®æ±‡èšï¼Œæ ¸å¿ƒæä¾›å‡ºå£å’ŒQoSã€æ±‡èšæœ¬åœ°è·¯ç”±ã€æ¥å…¥æœåŠ¡ç”¨æˆ·ã€‚</p><ol start="3"><li>QoSæœåŠ¡è´¨é‡çš„ä¿è¯ï¼š</li></ol><ul><li>èµ„æºé¢„ç•™ã€åŒºåˆ†æœåŠ¡ã€å¤šåè®®æ ‡è®°äº¤æ¢</li></ul><p>RPRï¼šå¼¹æ€§åˆ†ç»„ç¯ï¼Œå·¥ä½œæŠ€æœ¯ï¼ŒåŠ¨æ€åˆ†ç»„ä¼ è¾“ï¼ˆDPTï¼‰ï¼Œåœ¨å…‰ä»¥å¤ªç½‘ä¸Šé«˜æ•ˆä¼ è¾“IPåˆ†ç»„çš„ä¼ è¾“æŠ€æœ¯ã€‚é¡ºæ—¶é’ˆä¼ è¾“çš„å…‰çº¤å«åšå¤–ç¯ï¼Œå†…å¤–ç¯éƒ½å¯ä»¥ä¼ è¾“æ•°æ®åˆ†ç»„å’Œæ§åˆ¶åˆ†ç»„</p><h1 id="2ï¼šä¸­å°å‹ç½‘æ ¼ç³»ç»Ÿæ€»ä½“è§„åˆ’"><a href="#2ï¼šä¸­å°å‹ç½‘æ ¼ç³»ç»Ÿæ€»ä½“è§„åˆ’" class="headerlink" title="2ï¼šä¸­å°å‹ç½‘æ ¼ç³»ç»Ÿæ€»ä½“è§„åˆ’"></a>2ï¼šä¸­å°å‹ç½‘æ ¼ç³»ç»Ÿæ€»ä½“è§„åˆ’</h1><p><strong>è€ƒç‚¹ï¼šè·¯ç”±å™¨æŠ€æœ¯æŒ‡æ ‡ã€ç½‘æ ¼ç³»ç»Ÿåˆ†å±‚è®¾è®¡ã€äº¤æ¢æœºæŠ€æœ¯æŒ‡æ ‡ã€ç½‘ç»œæœåŠ¡å™¨æ€§èƒ½</strong></p><h2 id="2-1-åŸºç¡€çŸ¥è¯†"><a href="#2-1-åŸºç¡€çŸ¥è¯†" class="headerlink" title="2.1 åŸºç¡€çŸ¥è¯†"></a>2.1 åŸºç¡€çŸ¥è¯†</h2><h3 id="2-1-1-åŸºäºç½‘ç»œçš„ä¿¡æ¯ç³»ç»ŸåŸºæœ¬ç»“æ„"><a href="#2-1-1-åŸºäºç½‘ç»œçš„ä¿¡æ¯ç³»ç»ŸåŸºæœ¬ç»“æ„" class="headerlink" title="2.1.1 åŸºäºç½‘ç»œçš„ä¿¡æ¯ç³»ç»ŸåŸºæœ¬ç»“æ„"></a>2.1.1 åŸºäºç½‘ç»œçš„ä¿¡æ¯ç³»ç»ŸåŸºæœ¬ç»“æ„</h3><ul><li>ç½‘ç»œè¿è¡Œç¯å¢ƒï¼šæœºæˆ¿å’Œç”µæº</li><li>ç½‘ç»œç³»ç»Ÿ</li><li>ç½‘ç»œæ“ä½œç³»ç»Ÿ</li><li>ç½‘ç»œåº”ç”¨è½¯ä»¶å¼€å‘å’Œè¿è¡Œç¯å¢ƒ</li></ul><h3 id="2-1-2-ç½‘ç»œéœ€æ±‚è°ƒç ”ä¸ç³»ç»Ÿè®¾è®¡çš„åŸºæœ¬åŸåˆ™"><a href="#2-1-2-ç½‘ç»œéœ€æ±‚è°ƒç ”ä¸ç³»ç»Ÿè®¾è®¡çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="2.1.2 ç½‘ç»œéœ€æ±‚è°ƒç ”ä¸ç³»ç»Ÿè®¾è®¡çš„åŸºæœ¬åŸåˆ™"></a>2.1.2 ç½‘ç»œéœ€æ±‚è°ƒç ”ä¸ç³»ç»Ÿè®¾è®¡çš„åŸºæœ¬åŸåˆ™</h3><h2 id="2-2-å®è®­ä»»åŠ¡"><a href="#2-2-å®è®­ä»»åŠ¡" class="headerlink" title="2.2 å®è®­ä»»åŠ¡"></a>2.2 å®è®­ä»»åŠ¡</h2><h3 id="2-2-1-ç½‘ç»œç”¨æˆ·è°ƒæŸ¥ä¸ç½‘ç»œå·¥ç¨‹éœ€æ±‚åˆ†æ"><a href="#2-2-1-ç½‘ç»œç”¨æˆ·è°ƒæŸ¥ä¸ç½‘ç»œå·¥ç¨‹éœ€æ±‚åˆ†æ" class="headerlink" title="2.2.1 ç½‘ç»œç”¨æˆ·è°ƒæŸ¥ä¸ç½‘ç»œå·¥ç¨‹éœ€æ±‚åˆ†æ"></a>2.2.1 ç½‘ç»œç”¨æˆ·è°ƒæŸ¥ä¸ç½‘ç»œå·¥ç¨‹éœ€æ±‚åˆ†æ</h3><p>ç½‘ç»œéœ€æ±‚åˆ†æåŒ…æ‹¬ï¼šç½‘ç»œæ€»ä½“éœ€æ±‚åˆ†æã€ç»¼åˆå¸ƒçº¿éœ€æ±‚åˆ†æã€ç½‘ç»œå¯ç”¨æ€§ä¸å¯é æ€§åˆ†æã€ç½‘ç»œå®‰å…¨æ€§åˆ†æ</p><h3 id="2-2-2-è·¯ç”±å™¨é€‰å‹çš„ä¾æ®"><a href="#2-2-2-è·¯ç”±å™¨é€‰å‹çš„ä¾æ®" class="headerlink" title="2.2.2 è·¯ç”±å™¨é€‰å‹çš„ä¾æ®"></a>2.2.2 è·¯ç”±å™¨é€‰å‹çš„ä¾æ®</h3><ol><li>è·¯ç”±å™¨çš„åˆ†ç±»â€”â€”æ ¹æ®è·¯ç”±å™¨èƒŒæ¿äº¤æ¢èƒ½åŠ›åˆ’åˆ†</li></ol><p>äº¤æ¢èƒ½åŠ›å¤§äº<strong>40Gbps</strong>çš„ä¸ºé«˜ç«¯è·¯ç”±å™¨</p><ol start="2"><li>è·¯ç”±å™¨çš„æŠ€æœ¯æŒ‡æ ‡</li></ol><ul><li><p>ååé‡ï¼šåŒ…è½¬å‘èƒ½åŠ›ã€‚èƒ½åŠ›ä¸<strong>ç«¯å£æ•°é‡ã€ç«¯å£æ•ˆç‡ã€åŒ…é•¿ã€åŒ…ç±»å‹</strong>æœ‰å…³</p></li><li><p>èƒŒæ¿èƒ½åŠ›ï¼šè·¯ç”±å™¨çš„è¾“å…¥ç«¯ä¸è¾“å‡ºç«¯ä¹‹é—´çš„ç‰©ç†é€šé“ã€‚ä¼ ç»Ÿï¼Œå…±äº«èƒŒæ¿ï¼Œé«˜æ€§èƒ½ï¼Œäº¤æ¢å¼ç»“æ„ã€‚èƒŒæ¿èƒ½åŠ›å†³å®šäº†ååé‡</p></li><li><p>ä¸¢åŒ…ç‡ï¼šæŒç»­è´Ÿè·ä¸‹ï¼ŒåŒ…ä¸¢å¤±çš„æ¦‚ç‡ã€‚è¡¡é‡è·¯ç”±å™¨è¶…è´Ÿè·å·¥ä½œæ—¶çš„æŒ‡æ ‡</p></li><li><p>å»¶æ—¶ä¸å»¶æ—¶æŠ–åŠ¨ï¼šç¬¬ä¸€ä¸ªæ¯”ç‰¹è¿›å…¥è·¯ç”±å™¨ï¼Œåˆ°è¯¥å¸§çš„æœ€åä¸€ä¸ªæ¯”ç‰¹ç¦»å¼€è·¯ç”±å™¨æ‰€ç»å†çš„æ—¶é—´ã€‚é«˜é€Ÿè·¯ç”±å™¨ï¼Œ1518Bçš„IPåŒ…ï¼Œå»¶æ—¶è¦æ±‚å°äº1msã€‚å»¶æ—¶æŠ–åŠ¨æŒ‡å»¶æ—¶çš„å˜åŒ–é‡ï¼Œè¯­éŸ³ã€è§†é¢‘å¯¹å»¶æ—¶æŠ–åŠ¨è¦æ±‚è¾ƒé«˜ã€‚</p></li><li><p>çªå‘å¤„ç†èƒ½åŠ›ï¼šæœ€å°å¸§é—´éš”å‘é€æ•°æ®åŒ…è€Œä¸å¼•èµ·ä¸¢å¤±çš„æœ€å¤§å‘é€é€Ÿç‡</p></li><li><p>è·¯ç”±è¡¨å®¹é‡</p></li><li><p>æœåŠ¡è´¨é‡ï¼šä¸»è¦è¡¨ç°åœ¨é˜Ÿåˆ—ç®¡ç†æœºåˆ¶ã€ç«¯å£ç¡¬ä»¶é˜Ÿåˆ—ç®¡ç†å’ŒQoSåè®®ä¸Š</p></li><li><p>ç½‘ç®¡èƒ½åŠ›</p></li><li><p>å¯é æ€§å’Œå¯ç”¨æ€§ï¼šè®¾å¤‡çš„å†—ä½™ã€çƒ­æ’æ‹”ã€æ— æ•…éšœå·¥ä½œæ—¶é—´ã€å†…éƒ¨é’Ÿè¡¨ç²¾åº¦</p></li></ul><h3 id="2-2-3-äº¤æ¢æœºåˆ†ç±»ä¸ä¸»è¦æŠ€æœ¯æŒ‡æ ‡"><a href="#2-2-3-äº¤æ¢æœºåˆ†ç±»ä¸ä¸»è¦æŠ€æœ¯æŒ‡æ ‡" class="headerlink" title="2.2.3 äº¤æ¢æœºåˆ†ç±»ä¸ä¸»è¦æŠ€æœ¯æŒ‡æ ‡"></a>2.2.3 äº¤æ¢æœºåˆ†ç±»ä¸ä¸»è¦æŠ€æœ¯æŒ‡æ ‡</h3><ol><li><p>äº¤æ¢æœºçš„åˆ†ç±»</p></li><li><p>äº¤æ¢æœºçš„æ€§èƒ½æŒ‡æ ‡</p></li></ol><ul><li>èƒŒæ¿å¸¦å®½</li><li>å…¨åŒå·¥ç«¯å£å¸¦å®½ï¼šç«¯å£æ•°xç«¯å£é€Ÿç‡x2</li></ul><h3 id="2-2-4-ç½‘ç»œæœåŠ¡å™¨é€‰å‹"><a href="#2-2-4-ç½‘ç»œæœåŠ¡å™¨é€‰å‹" class="headerlink" title="2.2.4 ç½‘ç»œæœåŠ¡å™¨é€‰å‹"></a>2.2.4 ç½‘ç»œæœåŠ¡å™¨é€‰å‹</h3><ol><li><p>åˆ†ç±»</p><p>æ–‡ä»¶æœåŠ¡å™¨ã€æ•°æ®åº“æœåŠ¡å™¨ã€Interneté€šç”¨æœåŠ¡å™¨ã€åº”ç”¨æœåŠ¡å™¨</p></li></ol><p>åº”ç”¨æœåŠ¡å™¨çš„ä¸»è¦æŠ€æœ¯ç‰¹ç‚¹ï¼šé‡‡ç”¨æµè§ˆå™¨/æœåŠ¡å™¨ï¼ˆB/Sï¼‰æ¨¡å¼ã€‚ä¼ ç»Ÿçš„ï¼ˆC/Sï¼‰å®¢æˆ·/æœåŠ¡å™¨</p><ol start="2"><li>åŠŸèƒ½</li></ol><ul><li><p>çƒ­æ’æ‹”</p></li><li><p>RAIDç£ç›˜å†—ä½™é˜µåˆ—</p></li><li><p>CISCå¤„ç†å™¨ç»“æ„</p></li></ul><ol start="3"><li>ç½‘ç»œæœåŠ¡å™¨æ€§èƒ½</li></ol><ul><li>è¿ç®—å¤„ç†èƒ½åŠ›</li><li>ç£ç›˜å­˜å‚¨èƒ½åŠ›</li><li>ç³»ç»Ÿçš„é«˜å¯é æ€§=MTBF/ï¼ˆMTBF+MRBRï¼‰ï¼ŒMTBFï¼Œå¹³å‡æ— æ•…éšœæ—¶é—´ï¼ŒMRBRï¼Œå¹³å‡ä¿®å¤æ—¶é—´</li></ul><h1 id="3ï¼šIPåœ°å€è§„åˆ’è®¾è®¡"><a href="#3ï¼šIPåœ°å€è§„åˆ’è®¾è®¡" class="headerlink" title="3ï¼šIPåœ°å€è§„åˆ’è®¾è®¡"></a>3ï¼šIPåœ°å€è§„åˆ’è®¾è®¡</h1><h2 id="3-1-åŸºç¡€çŸ¥è¯†"><a href="#3-1-åŸºç¡€çŸ¥è¯†" class="headerlink" title="3.1 åŸºç¡€çŸ¥è¯†"></a>3.1 åŸºç¡€çŸ¥è¯†</h2><h3 id="3-1-1-IPåœ°å€çš„æ¦‚å¿µå’Œåˆ’åˆ†åœ°å€æ–°æŠ€æœ¯çš„ç ”ç©¶"><a href="#3-1-1-IPåœ°å€çš„æ¦‚å¿µå’Œåˆ’åˆ†åœ°å€æ–°æŠ€æœ¯çš„ç ”ç©¶" class="headerlink" title="3.1.1 IPåœ°å€çš„æ¦‚å¿µå’Œåˆ’åˆ†åœ°å€æ–°æŠ€æœ¯çš„ç ”ç©¶"></a>3.1.1 IPåœ°å€çš„æ¦‚å¿µå’Œåˆ’åˆ†åœ°å€æ–°æŠ€æœ¯çš„ç ”ç©¶</h3><p>æ ‡å‡†åˆ†ç±»ï¼šAç±»ã€Bç±»ã€Cç±»IPåœ°å€é‡‡ç”¨åŒ…æ‹¬ç½‘ç»œå·-ä¸»æœºå·</p><p>åˆ’åˆ†å­ç½‘çš„ä¸‰çº§ç»“æ„ï¼šç½‘ç»œå·-å­ç½‘å·-ä¸»æœºå·</p><p>æ— ç±»åŸŸé—´è·¯ç”±ï¼ˆCIDRï¼‰ï¼šä¹Ÿç§°è¶…ç½‘ï¼Œå°†è¿ç»­å°çš„ç½‘ç»œç»„æˆä¸€ä¸ªå¤§çš„ç½‘ç»œ</p><p>ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ï¼šå…¬å¸å†…éƒ¨æ¯ä¸€å°ä¸»æœºåˆ†é…ä¸èƒ½å†Internetä¸Šä½¿ç”¨çš„ä¸“ç”¨IPåœ°å€ï¼Œè®¿é—®å¤–ç½‘æ—¶ï¼Œä¸“ç”¨IPåœ°å€è½¬æ¢æˆå…¨å±€IPåœ°å€ã€‚</p><h3 id="3-1-2-æ ‡å‡†åˆ†ç±»IPåœ°å€"><a href="#3-1-2-æ ‡å‡†åˆ†ç±»IPåœ°å€" class="headerlink" title="3.1.2 æ ‡å‡†åˆ†ç±»IPåœ°å€"></a>3.1.2 æ ‡å‡†åˆ†ç±»IPåœ°å€</h3><p>Aç±»ï¼š0+7ä½ç½‘ç»œå·+24ä½ä¸»æœºå·ï¼š1.0.0.0~127.255.255.255</p><p>Bç±»ï¼š10+14ä½ç½‘ç»œå·+16ä½ä¸»æœºå·ï¼š128.0.0.0~191.255.255.255</p><p>Cç±»ï¼š110+21ä½ç½‘ç»œå·+8ä½ä¸»æœºå·ï¼š192.0.0.0~223.255.255.255</p><p>Dç±»ï¼š1110+21ä½ç»„æ’­åœ°å€ï¼š224.0.0.0~</p><p>Eç±»ï¼š11110+ä¿ç•™å·</p><ol><li>Aç±»åœ°å€ï¼Œä¸€å…±127å—ï¼Œç¬¬ä¸€å—å’Œæœ€åä¸€å—ä¿ç•™ç”¨ä½œç‰¹æ®Šç”¨é€”ï¼Œå¦å¤–ï¼Œç½‘ç»œå·=10çš„ï¼Œç”¨äºä¸“ç”¨åœ°å€ï¼Œå…¶ä½™125å—å¯æŒ‡æ´¾ç»™ä¸€äº›æœºæ„ï¼Œå¯ç”¨çš„ä¸»æœºå·ä¸º2^24-2.</li><li>Bç±»åœ°å€ï¼Œç½‘ç»œå·é•¿åº¦ä¸º14ä½ï¼Œç½‘ç»œå·æ€»æ•°ä¸º16384ï¼Œå› æ­¤æ¯ä¸ªBç±»ç½‘ç»œå¯ä»¥æœ‰2^16=65536ä¸ªä¸»æœºå·ã€‚å…¨0å’Œå…¨1ä¿ç•™ç”¨äºç‰¹æ®Šç›®çš„ï¼Œå› æ­¤å…è®¸åˆ†é…çš„ä¸»æœºå·ä½65534ä¸ªã€‚</li><li>Cç±»åœ°å€ï¼Œç½‘ç»œå·é•¿åº¦21ä½ï¼Œä¸»æœºå·é•¿åº¦ä¸º8ä½ï¼Œå…è®¸æœ‰2097152ä¸ªç½‘ç»œä½ï¼Œå…è®¸åˆ†é…çš„ä¸»æœºå·ä¸º254ä¸ªã€‚</li></ol><p>ç‰¹æ®Šåœ°å€å½¢å¼ï¼š</p><ul><li>ç›´æ¥å¹¿æ’­åœ°å€ï¼šåœ¨Aç±»Bç±»Cç±»IPåœ°å€ä¸­ï¼Œä¸»æœºå·æ˜¯å…¨1ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸»æœºå·ä¸ºç›´æ¥å¹¿æ’­åœ°å€</li><li>å—é™å¹¿æ’­åœ°å€ï¼š32ä½å…¨ä¸º1çš„å¹¿æ’­åœ°å€ï¼ˆ255.255.255.255ï¼‰ä¸ºå—é™å¹¿æ’­åœ°å€ï¼Œç”¨æ¥å°†ä¸€ä¸ªåˆ†ç»„ä»¥å¹¿æ’­æ–¹å¼å‘é€ç»™æœ¬ç½‘ç»œçš„æ‰€æœ‰ä¸»æœºã€‚</li><li>è¿™ä¸ªç½‘ç»œä¸Šçš„ç‰¹å®šä¸»æœºåœ°å€ï¼šç½‘ç»œå·å…¨é›¶ï¼Œä¸»æœºå·ä¸å˜</li><li>å›é€åœ°å€ï¼šAç±»åœ°å€ä¸­çš„127.0.0.0æ˜¯å›é€åœ°å€ï¼Œä»–æ˜¯ä¸€ä¸ªä¿ç•™åœ°å€ï¼Œä¼šé€åœ°å€ç”¨äºç½‘ç»œè½¯ä»¶æµ‹è¯•å’Œæœ¬åœ°è¿›ç¨‹é—´é€šä¿¡</li></ul><h3 id="3-1-3-åˆ’åˆ†å­ç½‘çš„ä¸‰çº§ç½‘ç»œç»“æ„"><a href="#3-1-3-åˆ’åˆ†å­ç½‘çš„ä¸‰çº§ç½‘ç»œç»“æ„" class="headerlink" title="3.1.3 åˆ’åˆ†å­ç½‘çš„ä¸‰çº§ç½‘ç»œç»“æ„"></a>3.1.3 åˆ’åˆ†å­ç½‘çš„ä¸‰çº§ç½‘ç»œç»“æ„</h3><ol><li><p>å­ç½‘çš„åŸºæœ¬æ¦‚å¿µ</p></li><li><p>ä¸‰çº§å±‚æ¬¡æ˜¯IPåœ°å€ï¼šnetIDâ€”â€”subnetIDâ€”â€”hostID</p></li><li><p>å­ç½‘æ©ç çš„æ¦‚å¿µï¼šå¦‚ä½•ä»ä¸€ä¸ªIPåœ°å€ä¸­æå–å‡ºå­ç½‘å·ã€‚</p></li></ol><p>Aç±»åœ°å€ï¼š8ä½ç½‘ç»œå·ï¼šå…¨1ï¼Œ24ä½ä¸»æœºå·å…¨0-ã€‚255.0.0.0</p><p>Bç±»ï¼š255.255.0.0</p><p>Cç±»ï¼š255.255.255.0</p><p>è®¡ç®—ï¼š</p><p>Bç±»åœ°å€ï¼Œè¦åˆ†å‡º64ä¸ªå­ç½‘ï¼Œä»ä¸»æœºä½å€Ÿ6ä½ï¼Œç°åœ¨ç½‘ç»œå·22ä½ï¼Œä¸»æœºä½10ä½ï¼Œå­ç½‘æ©ç æ˜¯ï¼Œç½‘ç»œå·å…¨1ï¼Œä¸»æœºå·å…¨0ï¼Œæ‰€ä»¥å­ç½‘æ©ç ä¸ºï¼Œ255.255.252.0æˆ–è€…â€œç½‘ç»œå·/22â€.</p><p>åˆ†128ä¸ªå­ç½‘ï¼Œåˆ™ç½‘ç»œå·23ä½ï¼Œä¸»æœºå·9ä½ï¼Œå­ç½‘æ©ç ï¼š255.255.254.0</p><h2 id="3-2-å®è®­ä»»åŠ¡"><a href="#3-2-å®è®­ä»»åŠ¡" class="headerlink" title="3.2 å®è®­ä»»åŠ¡"></a>3.2 å®è®­ä»»åŠ¡</h2><p>ç½‘ç»œåœ°å€è½¬æ¢NATå·¥ä½œåŸç†</p><ul><li>é™æ€NATï¼ˆä¸€å¯¹ä¸€ï¼‰</li><li>åŠ¨æ€åœ°å€NATï¼ˆä¸€å¯¹å¤šï¼‰</li><li>ç½‘ç»œåœ°å€ç«¯å£è£…æ¬¢NAPTï¼ˆç«¯å£åŒºåˆ†ï¼‰</li></ul><p>IPv6åœ°å€çš„ä¸»è¦ç‰¹å¾</p><ul><li>æ–°çš„åè®®æ ¼å¼ï¼Œå·¨å¤§çš„åœ°å€ç©ºé—´ï¼Œæœ‰æ•ˆçš„åˆ†æœºå¯»å€å’Œè·¯ç”±ç»“æ„ï¼Œåœ°å€è‡ªåŠ¨é…ç½®ï¼Œæ”¯æŒQoSæœåŠ¡</li><li>IP v6åœ°å€é•¿åº¦è§„å®šä¸º128ä½ï¼Œç”¨16ä½è¾¹ç•Œåˆ’åˆ†ï¼Œæ¯ä¸ª16ä½æ®µè½¬æ¢æ›´4ä½åå…­è¿›åˆ¶æ•°å­—ï¼Œç”¨å†’å·åˆ†éš”</li><li>å‹ç¼©é›¶ï¼Œæœ‰ä¸€æ®µè¿ç»­çš„åå…­è¿›åˆ¶æ®µéƒ½ä¸º0ï¼Œç”¨åŒå†’å·å‹ç¼©ï¼ŒFE8C::2AA:FF:FE9A:4CA2ã€‚æ®µå†…å‹ç¼©ï¼Œåªèƒ½å‹ç¼©å‰é¢çš„é›¶ï¼ŒåŒå†’å·åœ¨ä¸€ä¸ªåœ°å€ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</li><li>IPv6ä¸æ”¯æŒå­ç½‘æ©ç ï¼ŒFE8C::2AA:FF:FE9A:4CA2/48ã€‚ç”¨å‰ç¼€ä½è¡¨ç¤º48ä½å‰ç¼€ã€‚</li></ul><h1 id="4ï¼šè·¯ç”±è®¾è®¡æŠ€æœ¯"><a href="#4ï¼šè·¯ç”±è®¾è®¡æŠ€æœ¯" class="headerlink" title="4ï¼šè·¯ç”±è®¾è®¡æŠ€æœ¯"></a>4ï¼šè·¯ç”±è®¾è®¡æŠ€æœ¯</h1><p>è€ƒç‚¹ï¼šRIPè·¯ç”±åè®®ã€OSPFã€BGPã€IPè·¯ç”±é€‰æ‹©å’Œè·¯ç”±æ±‡èš</p><p>å†…éƒ¨è·¯ç”±åè®®ï¼šRIPã€OSPF</p><p>å¤–éƒ¨è·¯ç”±åè®®ï¼šBGP</p><h2 id="4-1-è·¯ç”±ä¿¡æ¯åè®®ï¼ˆRIPï¼‰çš„å·¥ä½œè¿‡ç¨‹ï¼š"><a href="#4-1-è·¯ç”±ä¿¡æ¯åè®®ï¼ˆRIPï¼‰çš„å·¥ä½œè¿‡ç¨‹ï¼š" class="headerlink" title="4.1 è·¯ç”±ä¿¡æ¯åè®®ï¼ˆRIPï¼‰çš„å·¥ä½œè¿‡ç¨‹ï¼š"></a>4.1 è·¯ç”±ä¿¡æ¯åè®®ï¼ˆRIPï¼‰çš„å·¥ä½œè¿‡ç¨‹ï¼š</h2><ol><li>è·¯ç”±è¡¨çš„å»ºç«‹ï¼Œåˆå§‹åŒ–çš„è·¯ç”±åªåŒ…å«æ‰€æœ‰ä¸è¯¥è·¯ç”±å™¨ç›´æ¥ç›¸è¿çš„ç½‘ç»œçš„è·¯ç”±ã€‚è·ç¦»ä¸º0.</li><li>è·¯ç”±è¡¨ä¿¡æ¯çš„æ›´æ–°</li></ol><ul><li>å¦‚æœè‡ªå·±çš„è·¯ç”±è¡¨æ²¡æœ‰è¯¥é¡¹ï¼Œå¢åŠ è¯¥é¡¹ï¼Œè·ç¦»+1</li><li>å¦‚æœè‡ªå·±çš„è·¯ç”±è¡¨å·²æœ‰è¯¥é¡¹<ul><li>åŸè·ç¦»æ¯”å¯¹æ–¹çš„è·ç¦»ï¼ˆè·³æ•°ï¼‰+1è¿˜è¦å¤§ï¼Œè·ç¦»è®¾ç½®ä¸ºå¯¹æ–¹è·ç¦»+1ã€‚è·¯ç”±ä¸ºå¯¹æ–¹</li><li>åŸè·ç¦»æ¯”å¯¹æ–¹çš„è·ç¦»+1è¿˜è¦å°ï¼Œä¿æŒä¸å˜ã€‚</li><li>ç›¸åŒä¸å˜</li></ul></li></ul><p>è·¯ç”±åˆ·æ–°ä¿æ¸©ä¸»è¦å†…å®¹æ˜¯ç”±è‹¥å¹²ï¼ˆVã€Dï¼‰ç»„æˆçš„è¡¨</p><h2 id="4-2-æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®ï¼ˆOSPFï¼‰"><a href="#4-2-æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®ï¼ˆOSPFï¼‰" class="headerlink" title="4.2 æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®ï¼ˆOSPFï¼‰"></a>4.2 æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®ï¼ˆOSPFï¼‰</h2><h3 id="4-2-1-å’ŒRIPæ¯”è¾ƒï¼Œå…¶ç‰¹ç‚¹"><a href="#4-2-1-å’ŒRIPæ¯”è¾ƒï¼Œå…¶ç‰¹ç‚¹" class="headerlink" title="4.2.1 å’ŒRIPæ¯”è¾ƒï¼Œå…¶ç‰¹ç‚¹"></a>4.2.1 å’ŒRIPæ¯”è¾ƒï¼Œå…¶ç‰¹ç‚¹</h3><ol><li>OSPFæ˜¯ä½¿ç”¨<strong>åˆ†å¸ƒå¼é“¾è·¯çŠ¶æ€åè®®</strong>ï¼›</li><li>é“¾è·¯çŠ¶æ€åº¦é‡ä¸»è¦æ˜¯æŒ‡<strong>è´¹ç”¨ã€è·ç¦»ã€å»¶æ—¶ã€å¸¦å®½</strong>ã€‚RIPä¸»è¦çœ‹è·³æ•°ï¼›</li><li>é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç”¨<strong>æ´ªæ³›æ³•</strong>å‘æ‰€æœ‰è·¯ç”±å™¨å‘é€æ­¤ä¿¡æ¯ï¼›</li><li>æ‰€æœ‰çš„OSFPFè·¯ç”±å™¨äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œ<strong>æœ€ç»ˆå»ºç«‹ä¸€ä¸ªé“¾è·¯çŠ¶æ€æ•°æ®åº“</strong>ï¼Œè¿™ä¸ªæ•°æ®åº“å®é™…ä¸Šå°±æ˜¯<strong>å…¨ç½‘çš„æ‹“æ‰‘ç»“æ„å›¾</strong>ï¼›</li><li>OSPFå¯ä»¥å°†ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿå†åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ›´å°çš„èŒƒå›´ï¼Œå³<strong>åŒºåŸŸ</strong>ï¼Œæ¯ä¸ªåŒºåŸŸæœ‰ä¸€ä¸ª<strong>32ä½çš„åŒºåŸŸæ ‡è¯†ç¬¦</strong>ï¼Œä¸€ä¸ªåŒºåŸŸè·¯ç”±å™¨<strong>ä¸è¶…è¿‡200ä¸ª</strong>ã€‚</li></ol><p>è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„åŒºåŸŸåˆ’åˆ†ï¼Œå¥½å¤„åœ¨äºåˆ©ç”¨æ´ªæ³›æ³•å°†é“¾è·¯çŠ¶æ€ä¿¡æ¯èŒƒå›´å±€é™å†æ¯ä¸ªåŒºåŸŸè€Œä¸æ˜¯æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿã€‚<strong>å±‚æ¬¡ç»“æ„åˆ’åˆ†</strong>ï¼Œå°†ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿåˆ’åˆ†æˆ<strong>è‹¥å¹²åŒºåŸŸä¸ä¸€ä¸ªä¸»å¹²åŒºåŸŸ</strong>ã€‚ä¸»å¹²åŒºåŸŸå†…éƒ¨çš„è·¯ç”±å™¨å«ä¸»å¹²è·¯ç”±å™¨ï¼Œè¿æ¥å„ä¸ªåŒºåŸŸçš„è·¯ç”±å™¨å«åšåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼ŒåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨æ¥æ”¶ä»å…¶ä»–åŒºåŸŸæ¥çš„ä¿¡æ¯ã€‚</p><h3 id="4-2-2-OSPFåè®®çš„æ‰§è¡Œè¿‡ç¨‹"><a href="#4-2-2-OSPFåè®®çš„æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="4.2.2 OSPFåè®®çš„æ‰§è¡Œè¿‡ç¨‹"></a>4.2.2 OSPFåè®®çš„æ‰§è¡Œè¿‡ç¨‹</h3><ol><li>åˆå§‹åŒ–è¿‡ç¨‹ï¼šOSPFè®©æ¯ä¸ªè·¯ç”±å™¨ç”¨æ•°æ®åº“æè¿°åˆ†ç»„å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢æœ¬æ•°æ®åº“å·²æœ‰çš„é“¾è·¯çŠ¶æ€æ‘˜è¦ä¿¡æ¯ï¼Œæ‘˜è¦ä¿¡æ¯ä¸»è¦å€å‡ºå“ªäº›è·¯ç”±å™¨çš„é“¾è·¯çŠ¶æ€ä¿¡æ¯å·²ç»å†™å…¥æ•°æ®åº“ã€‚</li><li>ç½‘ç»œäº‘å¿ƒè¿‡ç¨‹ï¼šåªè¦ä¸€ä¸ªè·¯ç”±å™¨çš„é“¾è·¯å‘ç”Ÿå˜åŒ–ï¼Œè¯¥è·¯ç”±å™¨å°±è¦ä½¿ç”¨é“¾è·¯çŠ¶æ€å‘é€åˆ†ç»„ä¿¡æ¯ã€‚</li></ol><h2 id="4-3-å¤–éƒ¨ç½‘å…³åè®®BGP"><a href="#4-3-å¤–éƒ¨ç½‘å…³åè®®BGP" class="headerlink" title="4.3 å¤–éƒ¨ç½‘å…³åè®®BGP"></a>4.3 å¤–éƒ¨ç½‘å…³åè®®BGP</h2><p>åŸºæœ¬æ€æƒ³ï¼š</p><ul><li>å¤–éƒ¨ç½‘å…³åè®®æ˜¯ä¸åŒè‡ªæ²»ç³»ç»Ÿçš„è·¯ç”±å™¨ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯çš„åè®®ã€‚</li><li>BGP-4é‡‡ç”¨äº†è·¯ç”±å‘é‡è·¯ç”±åè®®ï¼Œæ¯ä¸ªè‡ªæ²»ç³»ç»Ÿè‡³å°‘é€‰æ‹©ä¸€ä¸ªè·¯ç”±å™¨ä½œä¸ºè‡ªæ²»ç³»ç»Ÿçš„â€œå‘è¨€äººâ€ï¼Œä¸€ä¸ªBGPå‘è¨€äººä¸å…¶ä»–è‡ªæ²»ç³»ç»Ÿçš„å‘è¨€äººäº¤æ¢è·¯ç”±ä¿¡æ¯è¦å…ˆå»ºç«‹TCPè¿æ¥ã€‚</li></ul><p>BGPè·¯ç”±é€‰æ‹©åè®®çš„å·¥ä½œè¿‡ç¨‹</p><ol><li>BGPåˆå§‹åŒ–è¿‡ç¨‹ï¼šBGP<strong>åˆšåˆšè¿è¡Œæ—¶ï¼Œäº¤æ¢æ•´ä¸ªè·¯ç”±è¡¨ï¼Œä»¥ååªéœ€è¦åœ¨å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–°æœ‰å˜åŒ–çš„éƒ¨åˆ†</strong>ï¼›</li><li>BGPåè®®çš„å››ç§åˆ†ç»„ï¼š</li></ol><ul><li>æ‰“å¼€åˆ†ç»„ï¼šä¸å¦ä¸€ä¸ªBGPå‘è¨€äººå»ºç«‹å…³ç³»ï¼›</li><li>æ›´æ–°åˆ†ç»„ï¼šå‘é€æŸä¸€è·¯ç”±ä¿¡æ¯ï¼Œä»¥åŠåˆ—å‡ºè¦æ’¤é”€çš„å¤šæ¡è·¯ç”±ï¼›</li><li>ä¿æ´»åˆ†ç»„ï¼šç¡®è®¤æ‰“å¼€åˆ†ç»„ï¼Œä»¥åŠå‘¨æœŸè¯å®ç›¸é‚»è¾¹ç•Œè·¯ç”±å™¨å­˜åœ¨ï¼›</li><li>é€šçŸ¥åˆ†ç»„ï¼šå‘é€æ£€æµ‹åˆ°çš„å·®é”™ã€‚</li></ul><p>BGPå‘è¨€äººå‘¨æœŸï¼ˆ30ç§’ï¼‰äº¤æ¢â€œä¿æ´»åˆ†ç»„â€ã€‚</p><p>â€œæ›´æ–°åˆ†ç»„â€æ˜¯BGPåè®®çš„æ ¸å¿ƒã€‚</p><h1 id="5ï¼šå±€åŸŸç½‘æŠ€æœ¯"><a href="#5ï¼šå±€åŸŸç½‘æŠ€æœ¯" class="headerlink" title="5ï¼šå±€åŸŸç½‘æŠ€æœ¯"></a>5ï¼šå±€åŸŸç½‘æŠ€æœ¯</h1><p>è€ƒç‚¹ï¼šä»¥å¤ªç½‘ç»„ç½‘æ–¹æ³•ï¼ˆå¿«é€Ÿä»¥å¤ªç½‘ï¼‰ã€å±€åŸŸç½‘ç»„ç½‘è®¾å¤‡ï¼ˆé›†çº¿å™¨ã€äº¤æ¢æœºï¼‰ã€ç»¼åˆå¸ƒçº¿å­ç³»ç»Ÿè®¾è®¡ï¼ˆæ°´å¹³å­ç³»ç»Ÿã€å»ºç­‘ç¾¤å­ç³»ç»Ÿï¼‰</p><h2 id="5-1-åŸºç¡€çŸ¥è¯†"><a href="#5-1-åŸºç¡€çŸ¥è¯†" class="headerlink" title="5.1 åŸºç¡€çŸ¥è¯†"></a>5.1 åŸºç¡€çŸ¥è¯†</h2><h3 id="5-1-1-å±€åŸŸç½‘ç»„ç½‘çš„åŸºç¡€çŸ¥è¯†"><a href="#5-1-1-å±€åŸŸç½‘ç»„ç½‘çš„åŸºç¡€çŸ¥è¯†" class="headerlink" title="5.1.1 å±€åŸŸç½‘ç»„ç½‘çš„åŸºç¡€çŸ¥è¯†"></a>5.1.1 å±€åŸŸç½‘ç»„ç½‘çš„åŸºç¡€çŸ¥è¯†</h3><p>å±€åŸŸç½‘ï¼ˆLANï¼‰æ˜¯æŒ‡åˆ†å¸ƒåœ¨ç›¸å¯¹è¾ƒå°è·ç¦»èŒƒå›´å†…çš„è®¡ç®—æœºç½‘ç»œã€‚</p><p>å±€åŸŸç½‘æ ‡å‡†ï¼šIEEE802â€”â€”&gt;æ•°æ®é“¾è·¯å±‚åˆ†ä¸ºäº†ä¸¤ä¸ªå­å±‚ï¼ŒLLCå­å±‚å’ŒMACå­å±‚</p><p>äº¤æ¢å¼å±€åŸŸç½‘çš„åŸºæœ¬æ¦‚å¿µï¼Œäº¤æ¢å±€åŸŸç½‘æ˜¯ç›¸å¯¹å…±äº«å¼å±€åŸŸç½‘è€Œè¨€ã€‚å±€åŸŸç½‘äº¤æ¢æœºå¯ä»¥åœ¨å¤šä¸ªç«¯å£ä¹‹é—´å»ºç«‹å¤šä¸ªå¹¶å‘è¿æ¥ã€‚ä¸»è¦é‡‡ç”¨<strong>å¿«æ·äº¤æ¢æ–¹å¼å’Œå­˜å‚¨è½¬å‘æ–¹å¼</strong></p><p>è™šæ‹Ÿå±€åŸŸç½‘çš„åŸºæœ¬æ¦‚å¿µï¼ˆVLANï¼‰ï¼Œä»¥<strong>è½¯ä»¶</strong>çš„æ–¹æ³•å°†ç½‘ç»œä¸­çš„èŠ‚ç‚¹æŒ‰å·¥ä½œæ€§è´¨ä¸éœ€è¦åˆ’åˆ†æˆè‹¥å¹²â€œé€»è¾‘å±€åŸŸç½‘â€ã€‚</p><p>æ–¹æ³•é€šå¸¸å››ç§ï¼š</p><ul><li>åŸºäºç«¯å£çš„è™šæ‹Ÿå±€åŸŸç½‘</li><li>åŸºäºMACåœ°å€çš„è™šæ‹Ÿå±€åŸŸç½‘</li><li>åŸºäºç½‘ç»œå±‚åœ°å€å®šä¹‰çš„è™šæ‹Ÿå±€åŸŸç½‘</li><li>åŸºäºIPå¹¿æ’­ç»„çš„è™šæ‹Ÿå±€åŸŸç½‘</li></ul><h3 id="5-1-2-ç»¼åˆå¸ƒçº¿çš„æ¦‚å¿µ"><a href="#5-1-2-ç»¼åˆå¸ƒçº¿çš„æ¦‚å¿µ" class="headerlink" title="5.1.2 ç»¼åˆå¸ƒçº¿çš„æ¦‚å¿µ"></a>5.1.2 ç»¼åˆå¸ƒçº¿çš„æ¦‚å¿µ</h3><p>ç»¼åˆå¸ƒçº¿æ˜¯ä¸€ç§æ¨¡å—åŒ–çš„ã€çµæ´»æ€§æé«˜çš„å»ºç­‘ç‰©å†…æˆ–å»ºç­‘ç¾¤ä¹‹é—´çš„ä¿¡æ¯ä¼ è¾“é€šé“ã€‚ç”±ä¸åŒç³»åˆ—å’Œè§„æ ¼çš„ä¸è§ç»„æˆï¼ŒåŒ…æ‹¬ï¼šä¼ è¾“ä»‹è´¨ã€ç›¸å…³è¿æ¥ç¡¬ä»¶ä»¥åŠç”µæ°”ä¿æŠ¤è®¾å¤‡ã€‚</p><p>ç‰¹ç‚¹ï¼šå…¼å®¹æ€§ã€å¼€æ”¾æ€§ç­‰</p><p>ç»„æˆï¼š<strong>å·¥ä½œåŒºã€é…çº¿ï¼ˆæ°´å¹³å­ç³»ç»Ÿï¼‰ã€å¹²çº¿ï¼ˆå‚ç›´å­ç³»ç»Ÿï¼‰ã€è®¾å¤‡é—´ã€å»ºç­‘ç¾¤ã€ç®¡ç†</strong>å…­å¤§å­ç³»ç»Ÿ</p><h2 id="5-2-å®è®­ä»»åŠ¡"><a href="#5-2-å®è®­ä»»åŠ¡" class="headerlink" title="5.2 å®è®­ä»»åŠ¡"></a>5.2 å®è®­ä»»åŠ¡</h2><ol><li>ä»¥å¤ªç½‘ç»„ç½‘çš„åŸºæœ¬æ–¹æ³•</li></ol><p>ä»¥å¤ªç½‘çš„ç‰©ç†å±‚æ ‡å‡†çš„å‘½åæ–¹æ³•ï¼š</p><p>IEEE802.3x(Mb/s) |Type-y|Name(å±€åŸŸç½‘åç§°)</p><p>10BASE-5ï¼Œ10Mç½‘ï¼ŒBaseåŸºå¸¦ä¼ è¾“æ–¹å¼ï¼Œyä¸ºç½‘ç»œçš„æœ€å¤§é•¿åº¦ï¼Œå•ä½100mã€‚</p><p>10BASE-Tæ ‡å‡†ä»¥å¤ªç½‘ç»„ç½‘çš„è®¾è®¡æ–¹æ³•ï¼Œ-Tè¡¨ç¤ºéå±è”½åŒç»çº¿å’ŒRJ-45æ¥å£</p><p>å¿«é€Ÿä»¥å¤ªç½‘ç»„ç½‘çš„åŸºæœ¬è®¾è®¡æ–¹æ³•ï¼š</p><p>ç‰¹ç‚¹ï¼šIEEE802.3uã€ å¯å·¥ä½œåœ¨10Må’Œ100M</p><p>å¿«é€Ÿä»¥å¤ªç½‘ä»‹è´¨ä¸“ç”¨æ¥å£MII</p><p>å¿«é€Ÿä»¥å¤ªç½‘çš„ç‰©ç†æ ‡å‡†ï¼š</p><ul><li><p>100BASE-TXï¼šä½¿ç”¨<strong>5ç±»éå±è”½åŒç»çº¿æˆ–å±è”½åŒç»çº¿</strong>ï¼ˆæŠ—å¹²æ‰°æ€§æ›´å¼ºï¼‰ï¼Œä¸¤é˜ŸåŒç»çº¿ï¼Œ<strong>ä¸€å¯¹ç”¨äºå‘é€ï¼Œä¸€å¯¹ç”¨äºæ¥æ”¶</strong>ã€‚åœ¨ä¼ è¾“ä¸­ä½¿ç”¨<strong>4B/5Bç¼–ç </strong>æ–¹å¼ã€‚æœ€å¤§ç½‘æ®µé•¿åº¦ä¸º100mã€‚æ”¯æŒ<strong>å…¨åŒå·¥</strong></p></li><li><p>100BASE-FXï¼šä¸¤æ¡<strong>å…‰çº¤</strong>ã€‚<strong>å…¨åŒå·¥</strong></p></li><li><p>100BASE-T4ï¼š<strong>4å¯¹3ç±»</strong>éå±è”½åŒç»çº¿ï¼Œ3å¯¹ç”¨äºä¼ é€æ•°æ®ï¼Œ1å¯¹ç”¨äºæ£€æµ‹å†²çªä¿¡å·ã€‚ä¼ è¾“<strong>8B/6Tç¼–ç </strong>ã€‚<strong>åŠåŒå·¥</strong>ã€‚</p></li></ul><p>å…¨åŒå·¥ï¼šä»»æ„æ—¶åˆ»ï¼Œä¿¡å·åŒå‘ä¼ è¾“ä¿¡å·ã€‚æ˜¯ä¸€ç§ç‚¹åˆ°ç‚¹è¿æ¥æ–¹å¼ï¼Œæ”¯æŒå…¨åŒå·¥çš„ä»¥å¤ªç½‘æ‹“æ‰‘ç»“æ„ä¸€å®šæ˜¯æ˜Ÿå½¢ã€‚</p><p>10Mbpsä¸100Mpbsé€Ÿç‡è‡ªåŠ¨åå•†åŠŸèƒ½ï¼Œåªèƒ½ç”¨äºä½¿ç”¨åŒç»çº¿çš„ä»¥å¤ªç½‘ï¼Œéœ€è¦åœ¨500mså†…å®Œæˆã€‚</p><ol start="2"><li>ä¸­ç»§å™¨</li></ol><p>ä¸­ç»§å™¨æ˜¯ç½‘ç»œç‰©ç†å±‚ä¸Šé¢çš„è¿æ¥è®¾å¤‡ã€‚é€šè¿‡å¯¹æ•°æ®ä¿¡å·çš„é‡æ–°å‘é€æˆ–è½¬å‘ï¼Œæ¥æ‰©å¤§ç½‘ç»œä¼ è¾“çš„è®¾å¤‡ã€‚</p><p>543è§„åˆ™ï¼šæ˜¯ä»¥å¤ªç½‘æ ‡å‡†ä¸­è§„å®šäº†ä»¥å¤ªç½‘åªå…è®¸å‡ºç°5ä¸ªç½‘æ®µï¼Œæœ€å¤šä½¿ç”¨4ä¸ªä¸­ç»§å™¨ï¼Œå…¶ä¸­3æ®µå¯ä»¥è¿æ¥è®¡ç®—æœº</p><ol start="3"><li>é›†çº¿å™¨</li></ol><p>å¤šç«¯å£çš„ä¸­ç»§å™¨ï¼ŒåŒºåˆ«ä»…åœ¨äºä¸­ç»§å™¨åªæ˜¯è¿æ¥ä¸¤ä¸ªç½‘æ®µï¼Œè€Œé›†çº¿å™¨èƒ½å¤Ÿæä¾›æ›´å¤šç«¯å£æœåŠ¡ï¼Œé‡‡ç”¨<strong>CSMA/CD</strong>ä»‹è´¨è®¿é—®æ§åˆ¶æ–¹æ³•ã€‚è¿æ¥ä¸€ä¸ªé›†çº¿å™¨çš„<strong>æ‰€æœ‰èŠ‚ç‚¹å…±äº«ä¸€ä¸ªå†²çªåŸŸ</strong>ã€‚</p><p><strong>ä¸²è”ä¸€ä¸ªé›†çº¿å™¨å¯ä»¥ç›‘å¬</strong>è¯¥é“¾è·¯ä¸­çš„æ•°æ®åŒ…ã€‚</p><p>è¿æ¥åˆ°ä¸€ä¸ªé›†çº¿å™¨çš„èŠ‚ç‚¹ï¼Œ<strong>ä¸èƒ½åŒæ—¶å‘é€æ•°æ®å¸§ï¼Œä½†èƒ½åŒæ—¶æ¥æ”¶</strong></p><ol start="4"><li>ç½‘æ¡¥</li></ol><p>å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚çš„è®¾å¤‡ã€‚å±€åŸŸç½‘äº’è”ï¼Œäº¤æ¢æ•°æ®å’Œå…±äº«èµ„æº</p><p>ç‰¹å¾ï¼šèƒ½äº’è”ä¸¤ä¸ªé‡‡ç”¨<strong>ä¸åŒæ•°æ®é“¾è·¯å±‚åè®®ã€ä¸åŒä¼ è¾“ä»‹è´¨ã€ä¸åŒä¼ è¾“é€Ÿç‡</strong>çš„ç½‘ç»œã€‚ç½‘æ¡¥ä»¥æ¥æ”¶ã€å‚¨å­˜ã€åœ°å€è¿‡æ»¤å’Œè½¬å‘å®ç°è¿æ¥ã€‚</p><p>ç½‘æ¡¥æœ€é‡è¦çš„ç»´æŠ¤å·¥ä½œæ˜¯æ„å»ºå’Œç»´æŠ¤MACåœ°å€è¡¨ã€‚MACåœ°å€è¡¨è®°å½•äº†ä¸åŒçš„èŠ‚ç‚¹çš„ç‰©ç†åœ°å€ä¸ç½‘æ¡¥è½¬å‘ç«¯å£çš„å…³ç³»ã€‚</p><p>ä¸ºé¿å…ç½‘æ¡¥äº’è”æ—¶çš„ç¯çŠ¶ç»“æ„ï¼Œé€æ˜ç½‘æ¡¥ä½¿ç”¨ç”Ÿæˆæ ‘ç®—æ³•ã€‚</p><p>ç”Ÿæˆæ ‘åè®®ï¼šå…¶èƒ½å¤Ÿé€»è¾‘åœ°é˜»æ–­ç½‘ç»œä¸­å­˜åœ¨åœ°å†—ä½™é“¾è·¯ï¼Œä»¥æ¶ˆé™¤è·¯å¾„ä¸­åœ°ç¯è·¯ï¼Œæ´»åŠ¨é“¾è·¯å‡ºç°æ•…éšœæ—¶ï¼Œé‡æ–°æ¿€æ´»å†—ä½™é“¾è·¯æ¥æ¢å¤ç½‘ç»œçš„è¿æ¥ã€‚</p><ol start="5"><li>äº¤æ¢æœº</li></ol><p>äº¤æ¢æœºå¯ä»¥åœ¨ä»–çš„å¤šä¸ªç«¯å£ä¹‹é—´å»ºç«‹å¹¶å‘è¿æ¥ï¼Œäº¤æ¢å¼ä»¥å¤ªç½‘æ˜¯å…¸å‹åœ°äº¤æ¢å¼å±€åŸŸç½‘ï¼Œå®ƒçš„æ ¸å¿ƒéƒ¨ä»¶æ˜¯ä»¥å¤ªç½‘äº¤æ¢æœºã€‚</p><p>äº¤æ¢æœºä¸ç½‘æ¡¥åœ°ä¸»è¦åŒºåˆ«ï¼šç½‘æ¡¥ä¸€èˆ¬åªæœ‰ä¸€ä¸ªCPUï¼Œé€šè¿‡è½¯ä»¶æ–¹æ³•å®Œæˆç½‘æ¡¥åœ°æ¥æ”¶ã€å­˜å‚¨ã€åœ°å€è¿‡æ»¤ä¸è½¬å‘ç­‰ã€‚</p><p>äº¤æ¢æœºä½¿ç”¨ä¸ºå¸§è½¬å‘è®¾è®¡åœ°ä¸“ç”¨é›†æˆç”µè·¯èŠ¯ç‰‡ASICã€‚æˆ–é‡‡å–å¤šä¸ªCPUå¹¶å‘å·¥ä½œåœ°è®¡ç®—æœºç»“æ„</p><ol start="6"><li>ç»¼åˆå¸ƒçº¿ç³»ç»Ÿå­ç³»ç»Ÿè®¾è®¡</li></ol><ul><li>å·¥ä½œåŒºå­ç³»ç»Ÿè®¾è®¡ï¼šæŒ‡ä»è®¾å¤‡å‡ºçº¿åˆ°ä¿¡æ¯æ’åº§åœ°æ•´ä¸ªåŒºåŸŸ</li></ul><p>ç¡®å®šä¿¡æ¯æ’åº§åœ°æ•°é‡å’Œç±»å‹ï¼šä¿¡æ¯æ’åº§åˆ†ä¸ºï¼ŒåµŒå…¥å¼å®‰è£…æ’åº§ï¼ˆæš—ç›’ï¼‰ã€è¡¨é¢å®‰è£…æ’åº§ï¼ˆæ˜ç›’ï¼‰ã€å¤šä»‹è´¨ä¿¡æ¯æ’åº§ï¼ˆå…‰çº¤å’Œé“œç¼†ï¼‰</p><p>é€‚é…å™¨çš„é€‰ç”¨ï¼šè®¾å¤‡è¿æ¥å¤„ç”¨çš„ä¸åŒä¿¡æ¯æ’åº§ï¼Œå¯ç”¨ä¸“ç”¨ç”µç¼†å’Œé€‚é…å™¨ã€‚æŒ¡åœ¨å•ä¸€ä¿¡æ¯æ’åº§ä¸Šï¼Œè¿›è¡Œä¸¤é¡¹æœåŠ¡ï¼Œåº”ç”¨â€œYâ€å‹é€‚é…å™¨ã€‚é€‰ç”¨ç”µç¼†ç±»å‹ä¸åŒä¸è®¾å¤‡æ‰€éœ€çš„ç”µç¼†ç±»å‹æ—¶ï¼Œä»¥åŠåœ¨è¿æ¥ä½¿ç”¨ä¸åŒä¿¡å·çš„æ•°æ¨¡è½¬æ¢è´§æ•°æ®é€Ÿç‡è½¬æ¢ï¼Œåº”é‡‡ç”¨é€‚é…å™¨ã€‚</p><ul><li>æ°´å¹³å­ç³»ç»Ÿè®¾è®¡</li></ul><p>é‡‡ç”¨5ç±»æˆ–è¶…5ç±»4å¯¹éå±è”½åŒç»çº¿ï¼Œ90mä»¥å†…</p><ul><li><p>ç®¡ç†å­ç³»ç»Ÿè®¾è®¡</p></li><li><p>å¹²çº¿å­ç³»ç»Ÿè®¾è®¡</p></li></ul><p>å»ºç­‘ç‰©ä¸»é¦ˆç”µç¼†</p><ul><li>å»ºç­‘ç¾¤å­ç³»ç»Ÿ</li></ul><p>ä¸¤ä¸ªæˆ–ä»¥ä¸Šå»ºç­‘ç‰©ä¹‹é—´ï¼Œç”±ç”µç¼†ã€å…‰ç¼†å’Œå…¥æ¥¼å¤„çº¿ç¼†ä¸Šè¿‡æµè¿‡å‹çš„ç”µå™¨ä¿æŠ¤è®¾å¤‡</p><p>æœ€å¥½çš„æ˜¯â€”â€”ç®¡é“å¸ƒçº¿æ³•</p><hr><h1 id="6ï¼š-å±€åŸŸç½‘äº¤æ¢æœº"><a href="#6ï¼š-å±€åŸŸç½‘äº¤æ¢æœº" class="headerlink" title="6ï¼š å±€åŸŸç½‘äº¤æ¢æœº"></a>6ï¼š å±€åŸŸç½‘äº¤æ¢æœº</h1><h2 id="6-1-åŸºç¡€çŸ¥è¯†"><a href="#6-1-åŸºç¡€çŸ¥è¯†" class="headerlink" title="6.1 åŸºç¡€çŸ¥è¯†"></a>6.1 åŸºç¡€çŸ¥è¯†</h2><h3 id="6-1-1-å±€åŸŸç½‘äº¤æ¢æœºçš„åŸºæœ¬åŠŸèƒ½"><a href="#6-1-1-å±€åŸŸç½‘äº¤æ¢æœºçš„åŸºæœ¬åŠŸèƒ½" class="headerlink" title="6.1.1 å±€åŸŸç½‘äº¤æ¢æœºçš„åŸºæœ¬åŠŸèƒ½"></a>6.1.1 å±€åŸŸç½‘äº¤æ¢æœºçš„åŸºæœ¬åŠŸèƒ½</h3><p>äº¤æ¢æœºçš„åŸºæœ¬æ¦‚å¿µï¼šå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚çš„ç½‘ç»œè®¾å¤‡ã€‚äº¤æ¢æœºæ ¹æ®è¿›å…¥ç«¯å£æ•°æ®å¸§ä¸­çš„MACåœ°å€ï¼Œè¿‡æ»¤ã€è½¬å‘æ•°æ®å¸§ã€‚ç‹¬å æ•°æ®é€šé“ã€ç‹¬äº«ä¿¡é“å¸¦å®½ï¼ŒåŒæ—¶å…è®¸å¤šå¯¹ç«™ç‚¹è¿›è¡Œé€šä¿¡ã€ç³»ç»Ÿå¸¦å®½ç­‰äºæ‰€æœ‰ç«¯å£å¸¦å®½ä¹‹å’Œã€‚</p><p>äº¤æ¢æœºçš„åŠŸèƒ½ï¼š</p><ol><li><p>å»ºç«‹å’Œç»´æŠ¤ä¸€ä¸ªè¡¨ç¤º<strong>MACåœ°å€ä¸äº¤æ¢æœºç«¯å£</strong>å¯¹åº”å…³ç³»çš„äº¤æ¢è¡¨ã€‚</p></li><li><p>åœ¨å‘é€èŠ‚ç‚¹å’Œæ¥æ”¶èŠ‚ç‚¹ä¹‹é—´å»ºç«‹ä¸€ä¸ª<strong>è™šè¿æ¥</strong>ã€‚</p></li><li><p>å®Œæˆæ•°æ®å¸§çš„è½¬å‘å’Œè¿‡æ»¤ã€‚</p></li></ol><p>äº¤æ¢æœºåˆ†ææ¯ä¸€ä¸ªè¿›æ¥çš„æ•°æ®å¸§ï¼Œæ ¹æ®å¸§ä¸­çš„ç›®çš„MACåœ°å€ï¼Œé€šè¿‡æŸ¥è¯¢äº¤æ¢è¡¨ï¼Œç¡®å®šæ˜¯ä¸¢å¼ƒè¿˜æ˜¯è½¬å‘ã€‚</p><h3 id="6-1-2-å±€åŸŸç½‘äº¤æ¢æœºçš„å·¥ä½œåŸç†"><a href="#6-1-2-å±€åŸŸç½‘äº¤æ¢æœºçš„å·¥ä½œåŸç†" class="headerlink" title="6.1.2 å±€åŸŸç½‘äº¤æ¢æœºçš„å·¥ä½œåŸç†"></a>6.1.2 å±€åŸŸç½‘äº¤æ¢æœºçš„å·¥ä½œåŸç†</h3><p>äº¤æ¢æœºçš„å·¥ä½œåŸç†ä¸ç½‘æ¡¥ç›¸ä¼¼ï¼Œé€šè¿‡è‡ªå­¦ä¹ çš„æ–¹å¼ã€‚</p><h3 id="6-1-3-äº¤æ¢è¡¨å†…å®¹çš„å»ºç«‹å’Œç»´æŠ¤"><a href="#6-1-3-äº¤æ¢è¡¨å†…å®¹çš„å»ºç«‹å’Œç»´æŠ¤" class="headerlink" title="6.1.3 äº¤æ¢è¡¨å†…å®¹çš„å»ºç«‹å’Œç»´æŠ¤"></a>6.1.3 äº¤æ¢è¡¨å†…å®¹çš„å»ºç«‹å’Œç»´æŠ¤</h3><p>äº¤æ¢è¡¨çš„å†…å®¹ï¼š<strong>ç›®çš„MACåœ°å€</strong>ã€è¯¥åœ°å€æ‰€å¯¹åº”çš„<strong>äº¤æ¢æœºç«¯å£å·</strong>ä»¥åŠæ‰€åœ¨çš„<strong>è™šæ‹Ÿå­ç½‘</strong>ã€‚</p><p>äº¤æ¢è¡¨çš„å»ºç«‹ï¼Œåˆå§‹æ—¶æ˜¯ç©ºçš„ï¼Œé€šè¿‡å­¦ä¹ å»ºç«‹ã€‚</p><p>äº¤æ¢è¡¨çš„ç»´æŠ¤ï¼Œä¸€å®šæ—¶é—´åï¼Œè¡¨é¡¹æœªè¢«æ›´æ–°ï¼Œåˆ™è¢«åˆ é™¤</p><p>äº¤æ¢ç»“æ„ï¼š</p><ul><li>è½¯ä»¶äº¤æ¢ç»“æ„ï¼Œä¸²/å¹¶è½¬æ¢-&gt;RAM-&gt;å¹¶/ä¸²è½¬æ¢ï¼›</li><li>çŸ©é˜µäº¤æ¢ç»“æ„ï¼Œæ ¹æ®æºç«¯å£ä¸ç›®çš„ç«¯å£æ‰“å¼€äº¤æ¢çŸ©é˜µä¸­ç›¸åº”çš„å¼€å…³ï¼›</li><li>æ€»çº¿äº¤æ¢ç»“æ„ï¼Œæ•°æ®å¸§éƒ½æŒ‰æ—¶éš™åœ¨æ€»çº¿ä¸Šä¼ è¾“ï¼Œ</li></ul><p>äº¤æ¢æ¨¡å¼ï¼šå¿«é€Ÿè½¬å‘ã€ç¢ç‰‡ä¸¢å¼ƒã€å­˜å‚¨è½¬å‘</p><ul><li>å¿«é€Ÿè½¬å‘æ¨¡å¼ï¼Œä¸€æ—¦æ£€æµ‹åˆ°<strong>6ä¸ªå­—èŠ‚</strong>ï¼Œç›®çš„åœ°å€å°±ç«‹å³è¿›è¡Œè½¬å‘æ“ä½œã€‚æ— æ³•ç»è¿‡æ ¡éªŒã€çº é”™å³è¢«ç›´æ¥è½¬å‘ã€‚</li><li>å­˜å‚¨è½¬å‘æ¨¡å¼ï¼Œå…ˆå­˜å‚¨èµ·æ¥ï¼Œç„¶åè¿›è¡Œå¾ªç¯å†—ä½™ç æ ¡éªŒæ£€æŸ¥ï¼Œå†å¯¹é”™è¯¯å¸§è¿›è¡Œå¤„ç†ï¼Œæ‰å»é™¤æ•°æ®å¸§çš„ç›®çš„åœ°å€ï¼Œè¿›è¡Œè½¬å‘æ“ä½œã€‚å»¶æ—¶å¤§ï¼Œæ”¯æŒä¸åŒé€Ÿåº¦çš„ç«¯å£é—´è½¬å‘ã€‚</li><li>ç¢ç‰‡ä¸¢å¼ƒäº¤æ¢æ¨¡å¼ï¼Œæ£€æµ‹æ•°æ®å¸§æ˜¯å¦å†²çªç¢ç‰‡ï¼Œåˆ¤æ–­æ•°æ®å¸§æ˜¯å¦ä¸º64å­—èŠ‚</li></ul><h3 id="6-1-3-è™šæ‹Ÿå±€åŸŸç½‘VLANæŠ€æœ¯"><a href="#6-1-3-è™šæ‹Ÿå±€åŸŸç½‘VLANæŠ€æœ¯" class="headerlink" title="6.1.3 è™šæ‹Ÿå±€åŸŸç½‘VLANæŠ€æœ¯"></a>6.1.3 è™šæ‹Ÿå±€åŸŸç½‘VLANæŠ€æœ¯</h3><p>ä»¥äº¤æ¢å¼ç½‘ç»œä¸ºåŸºç¡€ï¼ŒæŠŠç½‘ç»œä¸Šçš„ç”¨æˆ·ç»ˆç«¯è¢«åˆ’åˆ†ä¸ºå¤šä¸ªé€»è¾‘å·¥ä½œç»„ã€‚é€»è¾‘ç»„è®¾ç«‹ä¸€ä¸ªç‹¬ç«‹çš„é€»è¾‘ç½‘æ®µå’Œå¹¿æ’­åŸŸã€‚ä¸å—ç”¨æˆ·æ‰€åœ¨çš„ç‰©ç†ä½ç½®å’Œç‰©ç†ç½‘æ®µçš„é™åˆ¶ã€‚é€šè¿‡è½¯ä»¶å®Œæˆã€‚</p><ul><li>VLANå·¥ä½œåœ¨OSiå‚è€ƒæ¨¡å‹çš„ç¬¬2å±‚ï¼Œæ•°æ®é“¾è·¯å±‚ã€‚</li><li>å…¶å¹¿æ’­çš„ä¿¡æ¯åªèƒ½å‘é€ç»™è¯¥VLANçš„èŠ‚ç‚¹</li><li>å”¯ä¸€ä¸åŒçš„å­ç½‘å·ï¼ŒVLANåªèƒ½é€šè¿‡ç¬¬ä¸‰å±‚è·¯ç”±æ‰èƒ½é€šä¿¡</li></ul><p>VLANçš„æ ‡è¯†ï¼šVLAN IDæˆ–VLAN name</p><p>VLAN IDç”±IEEE 802.1Qæ ‡å‡†è§„å®š<strong>12ä½äºŒè¿›åˆ¶</strong>ï¼Œ1~1000ç”¨äºä»¥å¤ªç½‘ã€‚</p><p>VLAN nameç”±32ä½å­—ç¬¦è¡¨ç¤ºï¼Œå¯ä»¥æ˜¯å­—æ¯æˆ–æ•°å­—</p><p>VLAN Trunkï¼ˆè™šæ‹Ÿä¸­ç»§ï¼‰ï¼šä¸»å¹²çº¿è·¯ä¸Šä¼ è¾“å¤šä¸ªVLANçš„ä¿¡æ¯ï¼Œè¿æ¥ä¸»å¹²çº¿è·¯çš„ä¸¤å°äº¤æ¢æœºç«¯å£ï¼Œåº”å…·æœ‰TrunkåŠŸèƒ½</p><h3 id="6-1-4-ç”Ÿæˆæ ‘åè®®STP"><a href="#6-1-4-ç”Ÿæˆæ ‘åè®®STP" class="headerlink" title="6.1.4 ç”Ÿæˆæ ‘åè®®STP"></a>6.1.4 ç”Ÿæˆæ ‘åè®®STP</h3><p>BPDUæŠ¥æ–‡ï¼Œæ¯ä¸¤ç§’æˆ–æ˜¯å†ç½‘ç»œå‘ç”Ÿæ•…éšœã€ç½‘ç»œæ‹“æ‰‘å˜åŒ–æ—¶ï¼Œå‘é€æ–°çš„BPDUã€‚</p><p>BPDUä¸¤ç§ç±»å‹ï¼Œé…ç½®BPDUï¼ˆä¸è¶…è¿‡35ä¸ªå­—èŠ‚ï¼‰ï¼Œæ‹“æ‰‘å˜åŒ–é€šçŸ¥BPDUï¼ˆä¸è¶…è¿‡4å­—èŠ‚ï¼‰</p><h2 id="6-2-å®è®­ä»»åŠ¡"><a href="#6-2-å®è®­ä»»åŠ¡" class="headerlink" title="6.2 å®è®­ä»»åŠ¡"></a>6.2 å®è®­ä»»åŠ¡</h2><ol><li>ä½¿ç”¨consoleé…ç½®äº¤æ¢æœºï¼Œè¶…çº§ç«¯å£è®¾ç½®å‚æ•°9600bpsï¼Œ8ä½æ•°å­—</li><li>telnetå‘½ä»¤é…ç½®ï¼Œå†windowsâ€œè¿è¡Œâ€è¾“å…¥æŒ‡ä»¤<code>telnet x.x.x.x:ç«¯å£å·</code></li><li>ä½¿ç”¨æµè§ˆå™¨é…ç½®äº¤æ¢æœºï¼Œè®¡ç®—æœºå·²å®‰è£…TCP/IPåè®®ï¼Œè®¡ç®—æœºå’Œäº¤æ¢æœºéƒ½æœ‰IPåœ°å€ï¼›è®¡ç®—æœºå®‰è£…æœ‰JAVAçš„WEBæµè§ˆå™¨ï¼›äº¤æ¢æœºæœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·å¯†ç ï¼›äº¤æ¢æœºæ”¯æŒhttpæœåŠ¡ï¼Œå¹¶å¯ç”¨ã€‚</li></ol><hr><h1 id="7ï¼šè·¯ç”±å™¨åŠå…¶é…ç½®"><a href="#7ï¼šè·¯ç”±å™¨åŠå…¶é…ç½®" class="headerlink" title="7ï¼šè·¯ç”±å™¨åŠå…¶é…ç½®"></a>7ï¼šè·¯ç”±å™¨åŠå…¶é…ç½®</h1><p>è€ƒç‚¹ï¼šè·¯ç”±å™¨åŸºç¡€ä¸åŸºæœ¬å‘½ä»¤ã€æ¥å£é…ç½®ã€Posæ¥å£é…ç½®ã€è®¿é—®æ§åˆ¶åˆ—è¡¨ã€é™æ€è·¯ç”±ã€RIPåè®®ã€OSPFåè®®é…ç½®</p><h2 id="7-1-åŸºç¡€çŸ¥è¯†"><a href="#7-1-åŸºç¡€çŸ¥è¯†" class="headerlink" title="7.1 åŸºç¡€çŸ¥è¯†"></a>7.1 åŸºç¡€çŸ¥è¯†</h2><h3 id="7-1-1-è·¯ç”±å™¨æ¦‚è¿°"><a href="#7-1-1-è·¯ç”±å™¨æ¦‚è¿°" class="headerlink" title="7.1.1 è·¯ç”±å™¨æ¦‚è¿°"></a>7.1.1 è·¯ç”±å™¨æ¦‚è¿°</h3><p>å·¥ä½œåœ¨<strong>ç½‘ç»œå±‚</strong>çš„è®¾å¤‡ï¼Œé€‰æ‹©<strong>æœ€ä½³è·¯å¾„</strong>ï¼Œå°†æ•°æ®ä»æºä¸»æœºä¼ é€åˆ°ç›®çš„ç«¯ä¸»æœºã€‚è·¯ç”±å™¨å…·æœ‰å¼‚æ„ç½‘ç»œã€å¹¿åŸŸç½‘äº’è”ã€<strong>éš”ç¦»å¹¿æ’­</strong>çš„èƒ½åŠ›ã€‚</p><h3 id="7-1-2-è·¯ç”±å™¨å·¥ä½œåŸç†"><a href="#7-1-2-è·¯ç”±å™¨å·¥ä½œåŸç†" class="headerlink" title="7.1.2 è·¯ç”±å™¨å·¥ä½œåŸç†"></a>7.1.2 è·¯ç”±å™¨å·¥ä½œåŸç†</h3><ol><li>è·¯ç”±é€‰æ‹©ï¼Œè·¯ç”±å™¨ä¾æ®ç›®çš„IPåœ°å€çš„ç½‘ç»œåœ°å€ï¼Œé€šè¿‡è·¯ç”±ç®—æ³•ï¼Œç¡®å®šä¸€æ¡æœ€ä½³è·¯å¾„ã€‚</li><li>åˆ†ç»„è½¬å‘ï¼Œæ ¹æ®æœ€ä½³è·¯å¾„ä¿¡æ¯ï¼Œå°†å…¶è½¬å‘ç»™ä¸‹ä¸€è·³è·¯ç”±å™¨ã€ç›®çš„ç«¯å£æˆ–æ˜¯ç¼ºçœè·¯ç”±å™¨ã€‚</li></ol><p>ç¼ºçœè·¯ç”±ä¹Ÿç§°ç¼ºçœç½‘å…³ã€‚<strong>åˆ†ç»„è½¬å‘çš„æ€æƒ³ï¼Œç›®çš„IPåœ°å€ä¸å˜ï¼Œç›®çš„MACåœ°å€ï¼Œé€è·³ä¿®æ”¹ã€‚</strong></p><ol start="3"><li>è·¯ç”±è¡¨ï¼Œç›®çš„ç½‘ç»œåœ°å€åŠå…¶å¯¹åº”ç«¯å£ï¼Œä¸‹ä¸€è·³è·¯ç”±å™¨çš„åå­—ï¼Œç¼ºçœè·¯ç”±ä¿¡æ¯</li></ol><h3 id="7-1-3-è·¯ç”±å™¨çš„ç»“æ„"><a href="#7-1-3-è·¯ç”±å™¨çš„ç»“æ„" class="headerlink" title="7.1.3 è·¯ç”±å™¨çš„ç»“æ„"></a>7.1.3 è·¯ç”±å™¨çš„ç»“æ„</h3><ol><li><p>ä¸­å¤®å¤„ç†å™¨</p></li><li><p>éæ˜“å¤±æ€§éšæœºå­˜å‚¨å™¨NVRAMï¼šå­˜å‚¨è·¯ç”±å™¨çš„å¯åŠ¨é…ç½®æ–‡ä»¶</p></li><li><p>é—ªå­˜FLASHï¼šä¿å­˜æ“ä½œç³»ç»Ÿçš„æ˜ åƒæ–‡ä»¶å’Œä¸€äº›å¾®ä»£ç </p></li><li><p>æ¥å£ï¼šå±€åŸŸç½‘æ¥å£ã€å¹¿åŸŸç½‘æ¥å£</p></li></ol><p>é…ç½®æ¥å£ï¼šconsoleæ§åˆ¶æ¥å£å’ŒAUXè¾…åŠ©æ¥å£ã€‚AUXé€šè¿‡æ‹¨å·æ–¹å¼å®ç°è¿œç¨‹è®¿é—®</p><p>è·¯ç”±å™¨æ¥å£åå­—å’Œç¼–å· f 0/5ï¼Œfï¼šFastEthernetï¼›mod/portï¼Œæ¨¡å—å·/ç«¯å£</p><h3 id="7-1-4-è·¯ç”±å™¨çš„å·¥ä½œæ¨¡å¼"><a href="#7-1-4-è·¯ç”±å™¨çš„å·¥ä½œæ¨¡å¼" class="headerlink" title="7.1.4 è·¯ç”±å™¨çš„å·¥ä½œæ¨¡å¼"></a>7.1.4 è·¯ç”±å™¨çš„å·¥ä½œæ¨¡å¼</h3><ol><li>ç”¨æˆ·æ¨¡å¼</li></ol><p>é€šè¿‡æ§åˆ¶å°æˆ–Telnetç™»é™†è·¯ç”±å™¨åï¼Œç”¨æˆ·å¯ä»¥æµè§ˆè·¯ç”±å™¨çš„æŸäº›ä¿¡æ¯ã€‚é»˜è®¤æç¤ºç¬¦ï¼šrouter&gt;</p><ol start="2"><li>ç‰¹æƒæ¨¡å¼</li></ol><p>ç”¨æˆ·æ¨¡å¼åè¾“å…¥enableã€‚å¯ä»¥ç®¡ç†ç³»ç»Ÿæ—¶é’Ÿã€é”™è¯¯æ£€æµ‹ã€æŸ¥çœ‹å’Œä¿å­˜é…ç½®æ–‡ä»¶ã€æ¸…é™¤å†…å­˜ã€é‡å¯ã€‚æç¤ºç¬¦ï¼šrouter#</p><ol start="3"><li>å…¨å±€é…ç½®æ¨¡å¼</li></ol><p>åœ¨ç‰¹æƒæ¨¡å¼ä¸‹ï¼Œè¾“å…¥configure terminalã€‚é…ç½®è·¯ç”±å™¨å…¨å±€æ€§å‚æ•°ï¼ˆä¸»æœºåã€å£ä»¤ã€TFTPæœåŠ¡å™¨ã€é™æ€è·¯ç”±ï¼‰ã€‚æç¤ºç¬¦ï¼šrouterï¼ˆconfigï¼‰#</p><ol start="4"><li>å…¶ä»–é…ç½®æ¨¡å¼</li></ol><p>åŒ…æ‹¬æ¥å£é…ç½®æ¨¡å¼ã€è™šæ‹Ÿç»ˆç«¯é…ç½®æ¨¡å¼ã€è·¯ç”±é…ç½®æ¨¡å¼ç­‰ã€‚</p><ol start="5"><li>è®¾ç½®æ¨¡å¼</li></ol><p>ç”¨æˆ·åˆ›å»ºç¬¬ä¸€æ¬¡çš„é…ç½®æ–‡ä»¶</p><ol start="6"><li>RXBOOTæ¨¡å¼</li></ol><p>è·¯ç”±å™¨çš„ç»´æŠ¤æ¨¡å¼ï¼Œ<strong>æ¢å¤å¯†ç </strong></p><h2 id="7-2-å®è®­ä»»åŠ¡"><a href="#7-2-å®è®­ä»»åŠ¡" class="headerlink" title="7.2 å®è®­ä»»åŠ¡"></a>7.2 å®è®­ä»»åŠ¡</h2><ol><li>è·¯ç”±å™¨çš„æ“ä½œ</li></ol><p>AUXé€šè¿‡è¿œç¨‹æ‹¨å·é…ç½®è·¯ç”±å™¨</p><ol start="2"><li>è·¯ç”±å™¨çš„é…ç½®</li></ol><p>router(config)#line vty 0 15</p><p>router(config-line)#password zzz ***</p><ol start="3"><li>ä½¿ç”¨TFTPé…ç½®è·¯ç”±å™¨</li></ol><p><strong>å¹¿åŸŸç½‘æ¥å£é…ç½®ï¼š</strong></p><ul><li>é…ç½®å¼‚æ­¥ä¸²è¡Œå£ï¼ˆä¸ºç”¨æˆ·æä¾›æ‹¨å·ä¸Šç½‘æœåŠ¡ï¼‰</li></ul><p>interface a1ã€‚å°è£…æ ¼å¼åªèƒ½ä¸ºppp</p><ul><li>é…ç½®åŒæ­¥ä¸²è¡Œå£</li></ul><p>ç”¨äºDDNä¸“çº¿ã€å¸§ä¸­ç»§ã€å«æ˜Ÿ</p><p>interface s1/1ï¼›Bandwidth 2048ï¼ˆå¸¦å®½2Mï¼Œå•ä½ä¸ºkbï¼‰ï¼›å°è£…hdlcæˆ–pppåè®®ï¼Œhdlcä¸ºç¼ºçœ</p><ul><li>é…ç½®POSæ¥å£</li></ul><p>interface POS3/0ï¼›Crc 32ï¼ˆæ ¡éªŒä½16å’Œ32ï¼‰ï¼›Posframing sdhï¼ˆå¯é€‰å¸§æ ¼å¼æ˜¯SDHå’ŒSONETï¼‰</p><ul><li>loopbackæ¥å£é…ç½®</li></ul><p>ä¸€ä¸ªè™šæ‹Ÿæ¥å£ï¼Œæ¥å£å·æœ‰æ•ˆå€¼ä¸º0~2147483647ï¼Œä¸»è¦ç”¨ä¸ºç®¡ç†åœ°å€ï¼Œæ°¸è¿œå¤„äºæ¿€æ´»çŠ¶æ€ã€‚å­ç½‘æ©ç ä¸º255.255.255.255ã€‚int loopback 0</p><p><strong>è·¯ç”±å™¨çš„é™æ€è·¯ç”±é…ç½®ï¼š</strong></p><ul><li>é™æ€è·¯ç”±çš„é…ç½®æ–¹æ³•ï¼š</li></ul><p>Router(config)#p route &lt;ç›®çš„ç½‘ç»œåœ°å€&gt;&lt;å­ç½‘æ©ç &gt;&lt;ä¸‹ä¸€è·³è·¯ç”±å™¨çš„IPåœ°å€&gt;</p><ul><li>é™æ€é»˜è®¤è·¯ç”±é…ç½®æ–¹æ³•</li></ul><p>å¦‚æœè·¯ç”±è¡¨ä¸­æ— åŒ¹é…è¡¨é¡¹ï¼Œä¸”è·¯ç”±è¡¨ä¸­æœ‰é»˜è®¤è·¯ç”±ï¼Œè·¯ç”±å™¨æŒ‰é»˜è®¤è·¯ç”±çš„å“ä¸€è·³åœ°å€å¦†å‘æ•°æ®</p><p>Router(config)#ip route 0.0.0.0 0.0.0.0 212.112.8.6</p><p><strong>åŠ¨æ€è·¯ç”±åè®®çš„é…ç½®</strong></p><ul><li>RIPåŠ¨æ€è·¯ç”±åè®®çš„é…ç½®</li></ul><p>RIPè·¯ç”±åè®®ä¾æ®è·¯ç”±å™¨çš„è·³æ•°(hopæ•°)ã€‚æœ€å¤§è·³æ•°ä¸º15ã€‚ä¸å¯å¸¦å­ç½‘æ©ç </p><ol><li>é…ç½®è¢«åŠ¨æ¥å£ï¼Œåªæ”¶ä¸å‘</li><li>é…ç½®è·¯ç”±è¿‡æ»¤</li><li>é…ç½®ç®¡ç†è·ç¦»</li><li>å®šä¹‰é‚»å±…è·¯ç”±å™¨</li></ol><ul><li>OSPFåŠ¨æ€è·¯ç”±åè®®çš„é…ç½®</li></ul><p>OSPFçš„åŸºæœ¬é…ç½®</p><ol><li><p>ä½¿ç”¨networkå®šä¹‰å‚ä¸OSPFçš„å­ç½‘åœ°å€</p><p>Router(config)# router ospf 63</p><p>Router(config-router)# network 131.107.25.1 0.0.0.0 area 0ï¼ˆ0.0.0.0ä¸ºåæ©ç æˆ–é€šé…ç¬¦ï¼‰</p><p>Router(config-router)# area 0 range 131.107.25.1 255.255.255.255</p></li><li><p>å‚æ•°é…ç½®</p></li></ol><p>é…ç½®è¢«åŠ¨æ¥å£ã€é…ç½®è·¯ç”±è¿‡æ»¤ã€é…ç½®ç®¡ç†åœ°å€ã€é…ç½®å¼•å…¥å¤–éƒ¨è·¯ç”±åˆ°OSPFçš„å‚æ•°</p><p><strong>è·¯ç”±å™¨çš„DHCPåŠŸèƒ½åŠå…¶é…ç½®</strong></p><p>IPåœ°å€åˆ†é…æœ‰åŠ¨æ€å’Œé™æ€ä¸¤ç§æ–¹å¼ã€‚</p><p>å·¥ä½œåŸç†ï¼šDHCPé‡‡ç”¨C/Så·¥ä½œæ¨¡å¼ï¼Œä¸€ï¼Œå»ºç«‹å’Œç®¡ç†IPåœ°å€æ± ï¼ŒäºŒï¼Œæ¥æ”¶å¹¶å¤„ç†DHCPå®¢æˆ·ç«¯æå‡ºçš„è¯·æ±‚ã€‚</p><ul><li>DHCPæœåŠ¡å™¨é…ç½®</li></ul><ol><li><p>é…ç½®IPåœ°å€æ± çš„åç§°ï¼Œå¹¶è¿›å…¥DHCP Poolé…ç½®æ¨¡å¼</p><p>Router(config)# ip dhcp pool ttt</p></li><li><p>é…ç½®IPåœ°å€æ± </p></li><li><p>é…ç½®ä¸ç”¨äºåŠ¨æ€åˆ†é…çš„IPåœ°å€</p></li><li><p>é…ç½®IPåœ°å€æ± çš„ç¼ºçœç½‘å…³</p></li><li><p>é…ç½®IPåœ°å€æ± çš„åŸŸåç³»ç»Ÿ</p></li><li><p>é…ç½®IPåœ°å€æ± çš„åœ°å€ç§Ÿçº¦æ—¶é—´</p></li><li><p>å–æ¶ˆåœ°å€å†²çªè®°å½•æ—¥å¿—</p></li></ol><ul><li>è·¯ç”±å™¨IPè®¿é—®æ§åˆ¶åˆ—è¡¨çš„åŠŸèƒ½</li></ul><p>ä¸»è¦åŠŸèƒ½ï¼šACLå¯ä»¥å½“ä½œä¸€ç§ç½‘ç»œæ§åˆ¶å·¥å…·ï¼Œç”¨æ¥è¿‡æ»¤æµå…¥å’Œæµå‡ºæ¥å£çš„æ•°æ®åŒ…</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œæŠ€æœ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°</title>
      <link href="/2020/04/07/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/04/07/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šç®€ä»‹"><a href="#1ï¼šç®€ä»‹" class="headerlink" title="1ï¼šç®€ä»‹"></a>1ï¼šç®€ä»‹</h1><ol><li>ç”¨æˆ·æ‰«ä¸€æ‰«æˆ–æœç´¢ä¸€ä¸‹å³å¯æ‰“å¼€åº”ç”¨ã€‚</li><li>å¾®ä¿¡æœ‰æµ·é‡ç”¨æˆ·ï¼Œç²˜æ€§é«˜</li><li>å¼€å‘é€‚é…æˆæœ¬ä½</li></ol><h1 id="2ï¼šç›®å½•ç»“æ„"><a href="#2ï¼šç›®å½•ç»“æ„" class="headerlink" title="2ï¼šç›®å½•ç»“æ„"></a>2ï¼šç›®å½•ç»“æ„</h1><p>å°ç¨‹åº<strong>ç»“æ„ç›®å½•</strong></p><ul><li><p>pages</p><ul><li>index</li><li>logs</li></ul></li><li><p>utils</p></li><li><p>app.js</p></li><li><p>app.json</p></li><li><p>project.config.json</p></li><li><p>sitemap.json  //æŸäº›é¡µé¢æ˜¯å¦èƒ½è¢«å¾®ä¿¡æ£€ç´¢</p></li></ul><p>å¼€å‘è€…æ–‡æ¡£ï¼š<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/structure.html">https://developers.weixin.qq.com/miniprogram/dev/framework/structure.html</a></p><ul><li>å…¨å±€é…ç½®app.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;pages&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span>,<span class="comment">//ç¬¬ä¸€ä¸ªé¡µé¢</span></span><br><span class="line">    <span class="string">&quot;pages/logs/logs&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;window&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;backgroundTextStyle&quot;</span>: <span class="string">&quot;light&quot;</span>,<span class="comment">//ä¸‹æ‹‰åˆ·æ–°æ–‡å­—ï¼Œéœ€å¼€é€šä¸‹æ‹‰åˆ·æ–°</span></span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span>: <span class="string">&quot;#fff&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;WeChat&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span>: <span class="string">&quot;black&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;tabBar&quot;</span>: &#123;  <span class="comment">//é¡µé¢ä¸‹é¢çš„èœå•</span></span><br><span class="line">    <span class="attr">&quot;list&quot;</span>: [&#123; <span class="comment">//listè‡³å°‘éœ€è¦ä¸¤é¡¹</span></span><br><span class="line">      <span class="attr">&quot;pagePath&quot;</span>: <span class="string">&quot;pagePath&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;iconPath&quot;</span>: <span class="string">&quot;iconPath&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;selectedIconPath&quot;</span>: <span class="string">&quot;selectedIconPath&quot;</span></span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;style&quot;</span>: <span class="string">&quot;v2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sitemapLocation&quot;</span>: <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-æ•°æ®ç»‘å®š"><a href="#3-æ•°æ®ç»‘å®š" class="headerlink" title="3:æ•°æ®ç»‘å®š"></a>3:æ•°æ®ç»‘å®š</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    data:&#123;</span><br><span class="line">        msg:<span class="string">&quot;hello world&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>4ï¼šæ•°ç»„å’Œå¯¹è±¡å¾ªç¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    data:&#123;</span><br><span class="line">        list:&#123;</span><br><span class="line">            id:<span class="number">0</span>,</span><br><span class="line">            name:<span class="string">&quot;çŒªå…«æˆ’&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;item&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">    ç´¢å¼•ï¼š&#123;&#123;index&#125;&#125;--&#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>wx:keyå¯ä»¥æé«˜å¾ªç¯æ£€ç´¢æ•ˆç‡ã€‚</p><ol><li>keyå¿…é¡»æ˜¯å”¯ä¸€çš„å€¼</li><li>wx:key =â€*thisâ€ è¡¨ç¤ºæ•°ç»„æ˜¯ä¸€ä¸ªæ™®é€šæ•°ç»„</li></ol><p><code>wx:for-item=&quot;item&quot; wx:for-index=&quot;index&quot;</code>å¯ä»¥çœç•¥</p><p><strong>å¯¹è±¡å¾ªç¯</strong><code>wx:for=&quot;&#123;&#123;å¯¹è±¡&#125;&#125;&quot; wx:for-item=&quot;å¯¹è±¡çš„å€¼ï¼ˆé”®å€¼ï¼‰&quot; wx:for-index=&quot;å¯¹è±¡çš„å±æ€§ï¼ˆé”®åï¼‰&quot;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person&#123;</span><br><span class="line">    name:<span class="string">&quot;èµ·é£&quot;</span>,</span><br><span class="line">    age:<span class="number">22</span>,</span><br><span class="line">    height:<span class="number">174</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5ï¼šblockæ ‡ç­¾</p><p>å ä½ç¬¦çš„æ ‡ç­¾</p><p>å†™ä»£ç çš„æ—¶å€™å¯ä»¥çœ‹åˆ°è¿™ä¸ªå­˜åœ¨</p><p>æ¸²æŸ“æ—¶ä¼šç§»é™¤æ‰</p><p>å°†viewæ¢æˆblockï¼Œå¯å°†æ ‡ç­¾å»æ‰ï¼Œæœ€ç»ˆ<strong>å¾ªç¯å˜é‡å¯åœ¨ä¸€è¡Œå±•ç¤º</strong></p><p>6ï¼šæ¡ä»¶æ¸²æŸ“</p><p><code>wx:if=&quot;&#123;&#123;ture/false&#125;&#125;&quot;</code></p><p><code>hidden</code></p><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li><p>å½“æ ‡ç­¾ä¸æ˜¯é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºï¼Œä¼˜å…ˆä½¿ç”¨wx:if</p><p>ç›´æ¥æŠŠæ ‡ç­¾ä»é¡µé¢ç»“æ„ä¸­åˆ é™¤</p></li><li><p>é¢‘ç¹åˆ‡æ¢ç”¨hidden</p><p>ä½¿ç”¨display:noneå±æ€§ã€‚</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>æ¡ä»¶<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>display<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>if<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:elis</span>=<span class="string">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>elif<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span>else<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">hidden</span>&gt;</span>hidden<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">hidden</span>=<span class="string">&quot;&quot;</span>&#123;&#123;<span class="attr">true</span>&#125;&#125;&quot;&quot;&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>7ï¼šäº‹ä»¶ç»‘å®š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;handelInput&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;handletap&quot;</span> <span class="attr">data-opt</span>=<span class="string">&quot;&#123;&#123;1&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    +</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;handletap&quot;</span> <span class="attr">data-opt</span>=<span class="string">&quot;&#123;&#123;-1&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    -</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Pages(&#123;</span><br><span class="line">    data:&#123;</span><br><span class="line">        num:<span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    handelInput(e)&#123;</span><br><span class="line">        <span class="built_in">this</span>.setDate(&#123;<span class="attr">num</span>:e.detail.value&#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">handletap(e)&#123;</span><br><span class="line">        e.currentTaget.opt</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>8ï¼šæ ·å¼</p><p>åœ¨750xå±å¹•ä¸­</p><p>750px=750rpx</p><p>æŠŠå±å¹•æ”¹ä¸º375</p><p>375px=750rpx</p><p>1rpx=0.5px.</p><ul><li>æ ·å¼å¯¼å…¥</li></ul><p>utilsä¸‹æ–°å»ºæ–‡ä»¶å¤¹<code>styles</code>ï¼Œæ–‡ä»¶å¤¹é‡Œæ–°å»ºcommon.wxss</p><p>å¼•ç”¨ï¼š<code>@import &quot;../../styles/common.wxss&quot;</code></p><ul><li>é€‰æ‹©å™¨</li></ul><p>å°ç¨‹åºä¸æ”¯æŒé€šé…ç¬¦</p><p>9ï¼šå¸¸è§ç»„ä»¶</p><ul><li>view</li><li>text<ul><li>æ–‡æœ¬æ ‡ç­¾</li><li>åªæœ‰æ­¤æ ‡ç­¾å¯é•¿æŒ‰å¤åˆ¶</li><li>è§£ç decode</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">selectable</span>&gt;</span>é•¿æŒ‰å¤åˆ¶ &amp;nbsp(è¿™æ˜¯ç©ºæ ¼)<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>å›¾ç‰‡</p><ul><li>æœ¬åœ°å›¾ç‰‡ä¸èƒ½è¶…è¿‡2Mï¼Œæ‰€ä»¥éƒ½ä½¿ç”¨å¤–é“¾å›¾ç‰‡</li><li>srcï¼šæ¥æº</li><li>modeï¼šå›¾ç‰‡è£å‰ªç¼©æ”¾æ ¼å¼//scaleToFill</li><li>lazy-loadï¼šæ‡’åŠ è½½ï¼Œå½“å›¾ç‰‡åœ¨ä¸Šä¸‹ä¸‰å±èŒƒå›´ç±»ï¼Œå›¾ç‰‡ä¼šé¢„åŠ è½½</li></ul></li><li><p>swiper</p><ul><li>è½®æ’­å›¾</li><li>autoplay:è‡ªåŠ¨æ’­æ”¾</li><li>circularï¼šè½®æ’­</li><li>intervaï¼šé—´éš”æ—¶é—´ã€‚å•ä½ms</li><li>indicator-dotsï¼šæ˜¾ç¤ºåˆ†é¡µæŒ‡ç¤ºå™¨</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">swiper</span> <span class="attr">autoplay</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span><span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span><span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span><span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span><span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span><span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span><span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>navigator<ul><li>å¯¼èˆªæ </li><li>å—çº§å…ƒç´ </li><li>urlï¼šè·³è½¬æŸä¸ªé¡µé¢</li><li>targetï¼šè·³è½¬åˆ°å…¶ä»–å°ç¨‹åº</li><li>open-typeï¼šnavigateï¼Œä¿ç•™å½“å‰é¡µé¢ï¼Œä¸èƒ½è·³è½¬tabbaré‡Œçš„é¡µé¢ï¼Œé»˜è®¤å€¼ï¼›redirectï¼Œä¸ä¿ç•™å½“å‰é¡µé¢ï¼›switchTabï¼šè·³è½¬tabbarï¼Œå…³é—­å…¶ä»–é¡µé¢ï¼›reLauchï¼šå…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åº”ç”¨æŸä¸ªé¡µé¢</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>rich-text<ul><li>å¯Œæ–‡æœ¬æ ‡ç­¾</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rich-text</span> <span class="attr">nodes</span>=<span class="string">&quot;&#123;&#123;html&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">rich-text</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    data:&#123;</span><br><span class="line">        html:[</span><br><span class="line">            name:<span class="string">&quot;div&quot;</span>,</span><br><span class="line">            attr:&#123;</span><br><span class="line">            class:&quot;my_div&quot;,</span><br><span class="line">            style:<span class="string">&quot;color:red&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">    children:[&#123;</span><br><span class="line">        name:<span class="string">&quot;p&quot;</span>,</span><br><span class="line">        attr:&#123;&#125;,</span><br><span class="line">        children:[&#123;</span><br><span class="line">            type:<span class="string">&quot;text&quot;</span>,</span><br><span class="line">            text:<span class="string">&quot;hellp&quot;</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li><p>button</p><ul><li>æŒ‰é’®</li><li>open-type:contactï¼šæ‰“å¼€å®¢æœï¼Œåœ¨å°ç¨‹åºå®˜ç½‘ï¼ŒåŠŸèƒ½-å®¢æœã€‚æ·»åŠ ï¼›shareï¼šåˆ†äº«å°ç¨‹åºï¼Œä¸èƒ½åˆ†äº«æœ‹å‹åœˆï¼›getPhonNumberï¼šè·å–ç”¨æˆ·æ‰‹æœºå·ç ï¼Œéœ€è¦ç»“åˆäº‹ä»¶ä½¿ç”¨ï¼Œåªæœ‰ä¼ä¸šå°ç¨‹åºæœ‰æƒé™ä½¿ç”¨ï¼Œç»‘å®šäº‹ä»¶bindgetphonenumberï¼Œè·å–å›è°ƒå‡½æ•°ï¼›getUserInofï¼šè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œéœ€ç»‘å®šäº‹ä»¶ï¼Œå¤„ç†å‡½æ•°ï¼›openSettingï¼šç”¨æˆ·æŸ¥çœ‹æ›´æ”¹å°ç¨‹åºèƒ½è·å¾—çš„æƒé™</li></ul></li><li><p>icon</p><ul><li>å›¾æ ‡</li><li>typeï¼šå›¾æ ‡ç±»å‹ï¼Œsucessã€warningç­‰å‚æ•°</li><li>sizeï¼šå¤§å°</li><li>colorï¼šé¢œè‰²</li></ul></li><li><p>radio</p><ul><li>å•é€‰æ¡†</li><li>å¿…é¡»å’Œçˆ¶å…ƒç´ radio-groupä¸€èµ·ä½¿ç”¨</li><li>valueé€‰ä¸­çš„å•é€‰æ¡†å€¼</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">radio-group</span> <span class="attr">bindchange</span>=<span class="string">&quot;handelchange&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">radio</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>ä½ é€‰ä¸­çš„å€¼æ˜¯ï¼š&#123;&#123;gender&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">data:&#123;</span><br><span class="line">gender:&quot;&quot;</span><br><span class="line">&#125;,</span><br><span class="line">handleChange(e)&#123;</span><br><span class="line">let gender=e.detail.value;</span><br><span class="line">this.setData(&#123;gender&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>checkbox<ul><li>å¤é€‰æ¡†</li><li>éœ€å’Œcheckbox-groupä¸€èµ·ä½¿ç”¨</li></ul></li></ul><p>10ï¼šè‡ªå®šä¹‰ç»„ä»¶</p><p>slotæ ‡ç­¾ï¼Œå ä½æ ‡ç­¾ï¼Œå†…å®¹ä¼ é€’è¿‡æ¥æ—¶ï¼Œæ›¿ä»£</p><p>è‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tabs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tabs</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tabs</span>&gt;</span></span><br><span class="line">  ä½ å¥½å•Š</span><br><span class="line"><span class="tag">&lt;/<span class="name">tabs</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å…¬ä¼—å·å¼€å‘</title>
      <link href="/2020/04/01/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91/"/>
      <url>/2020/04/01/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šå¾®ä¿¡å…¬ä¼—å·ç®€ä»‹"><a href="#1ï¼šå¾®ä¿¡å…¬ä¼—å·ç®€ä»‹" class="headerlink" title="1ï¼šå¾®ä¿¡å…¬ä¼—å·ç®€ä»‹"></a>1ï¼šå¾®ä¿¡å…¬ä¼—å·ç®€ä»‹</h1><p>ç»™ä¸ªäººã€ä¼ä¸šå’Œç»„ç»‡æä¾›æœåŠ¡å’Œç”¨æˆ·ç®¡ç†çš„å…¨æ–°æœåŠ¡å¹³å°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å…¬ä¼—å· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bootstrapå­¦ä¹ ç¬”è®°</title>
      <link href="/2020/03/01/Bootstrap%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/03/01/Bootstrap%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šå…¥é—¨ä¾‹å­"><a href="#0ï¼šå…¥é—¨ä¾‹å­" class="headerlink" title="0ï¼šå…¥é—¨ä¾‹å­"></a>0ï¼šå…¥é—¨ä¾‹å­</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Bootstrap<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç½‘ç«™å¤©ä¸‹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello-world<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>lang=&quot;zh-CN&quot;</code>ä¿®æ”¹ç½‘ç«™æ–‡å­—ä¸ºä¸­æ–‡æ–‡å­—ã€‚</p><p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</code>è®¾ç½®ç½‘ç«™ä¸ºè‡ªé€‚åº”å±å¹•å°ºå¯¸ç½‘ç«™ï¼Œç¼©æ”¾æ¯”ä¾‹ä¸ºä¸ç¼©æ”¾ã€‚</p><p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;css/bootstrap.min.css&quot;&gt;</code>å¯¼å…¥æœ¬åœ°bootstrap.cssæ ·å¼ã€‚</p><h1 id="1ï¼šå®¹å™¨"><a href="#1ï¼šå®¹å™¨" class="headerlink" title="1ï¼šå®¹å™¨"></a>1ï¼šå®¹å™¨</h1><p><code>.container</code>+<code>tab</code>=<code>&lt;div class=&quot;container&quot;&gt;&lt;/div&gt;</code>å›ºå®šå®½åº¦å±…ä¸­æ˜¾ç¤º</p><p><code>.container-fluid</code>å…¨å®½å®¹å™¨</p><p>å˜åŒ–å®¹å™¨ä¸­ä¸€è¡Œä¸€å…±åŒ…å«12ä¸ªæ ¼å­ã€‚å»ºç«‹ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸‰ä¸ªå°æ ¼ï¼ˆcol-xl-3ï¼‰ä¸ºä¸€å¤§æ ¼ï¼Œéœ€è¦ä¸€å…±4ä¸ªå¤§æ ¼å¯å°†å…¶å¡«æ»¡ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-xl-3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: #0c5460&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-xl-3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: #005cbf&quot;</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-xl-3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: #1e7e34&quot;</span>&gt;</span>333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-xl-3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: #6c757d&quot;</span>&gt;</span>444<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ …æ ¼ç­‰çº§ï¼š</strong><code>col</code>ç‰¹å°ã€<code>col-sm-*</code>å°ã€<code>col=md-*</code>ä¸­ã€<code>col-lg-*</code>å¤§ã€<code>col-xl-*</code>è¶…å®½ã€‚</p><p>å„å°ºå¯¸è¡¨ç¤ºåœ¨ä¸åŒå°ºå¯¸å±å¹•ä¸Šçš„æ˜¾ç¤ºæ–¹å¼ï¼Œæ¯”å¦‚ä½¿ç”¨ï¼Œ<code>col-xl</code>åˆ™åœ¨å±å¹•å®½åº¦å˜ä¸º1000åƒç´ å·¦å³æ—¶ï¼ŒåŸæ¥çš„æ …æ ¼å°±æ¢è¡Œæ˜¾ç¤ºï¼Œæ¯ä¸ªæ …æ ¼å æ®ä¸€è¡Œã€‚</p><p>è‹¥ç›´æ¥ä½¿ç”¨<code>col</code>æ¥ä¿®é¥°ï¼Œé‚£ä¹ˆï¼Œå³ä¾¿åœ¨å¾ˆå°çš„å±å¹•ä¸Šï¼Œæ …æ ¼ä¹Ÿä¸ä¼šæ¢è¡Œã€‚ç›¸å½“äºç½‘é¡µç›´æ¥ç¼©æ”¾ã€‚ä¸æ¨èä½¿ç”¨ã€‚</p><p>æ …æ ¼åçš„æ•°å­—éå¿…é¡»ã€‚ä¸æ·»åŠ æ•°å­—åˆ™é‡‡ç”¨<code>flexbox</code>å¸ƒå±€</p><ul><li>è®¾ç½®ä¸€åˆ—å®½åº¦</li></ul><p><code>col-6</code>å 6/12</p><p><code>col-auto</code>å¯å˜å®½åº¦ï¼Œéšå†…å®¹å˜åŒ–ï¼Œå˜åŒ–çš„å•ä½ä¸º1å°æ ¼</p><ul><li>æ··åˆå¸ƒå±€</li></ul><p><code>col-sm-6 col-lg-3</code>å¤§å±æ—¶æ¯è¡Œå››ä¸ªï¼Œä¸­å±æ¯è¡Œ2ä¸ªï¼Œå°å±æ¯è¡Œä¸€ä¸ªã€‚</p><ul><li>å¯¹é½</li></ul><p>å‚ç›´å¯¹é½<code>align-items-center</code>ã€<code>align-items-xl-end</code></p><p>æ°´å¹³å¯¹é½<code>justify-content-start/center/end/around/between</code></p><ul><li>æ¶ˆé™¤å†…è¾¹è·</li></ul><p><code>&lt;div class=&quot;row no-gutters&quot;&gt;</code></p><ul><li>æ’åº</li></ul><p><code>order-*</code>*å€¼è¶Šå°æ’åºè¶Šå‰ã€‚é»˜è®¤ä¸º0</p><ul><li>åç§»</li></ul><p><code>offset-*</code>åç§»*ä¸ªæ ¼å­ï¼Œä¹Ÿå¯åŠ æ–­ç‚¹</p><ul><li>marginç§»åŠ¨</li></ul><p><code>mr-auto``ml-auto</code></p><h1 id="2ï¼šæ’ç‰ˆ"><a href="#2ï¼šæ’ç‰ˆ" class="headerlink" title="2ï¼šæ’ç‰ˆ"></a>2ï¼šæ’ç‰ˆ</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    ä¸»æ ‡é¢˜<span class="tag">&lt;<span class="name">small</span>&gt;</span> å°å·å­—ä½“<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;display-1&quot;</span>&gt;</span>æ¯”æ ‡é¢˜å­—ä½“å¤§<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;leader&quot;</span>&gt;</span>å˜å¤§å¼ºè°ƒ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">mark</span>&gt;</span>é«˜äº®<span class="tag">&lt;/<span class="name">mark</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ™®é€š<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;mark&quot;</span>&gt;</span>é«˜äº®<span class="tag">&lt;/<span class="name">span</span>&gt;</span>æ–‡æœ¬<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">del</span>&gt;</span>åˆ é™¤çº¿<span class="tag">&lt;/<span class="name">del</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">s</span>&gt;</span>åˆ é™¤çº¿<span class="tag">&lt;/<span class="name">s</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">ins</span>&gt;</span>ä¸‹åˆ’çº¿<span class="tag">&lt;/<span class="name">ins</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">u</span>&gt;</span>ä¸‹åˆ’çº¿<span class="tag">&lt;/<span class="name">u</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>ç²—ä½“<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>ç²—ä½“<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>æ–œä½“<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>æ–œä½“<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;è¯·è¾“å…¥ä½ çš„é‚®ç®±&quot;</span> <span class="attr">class</span>=<span class="string">&quot;initialism&quot;</span>&gt;</span>email<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">class</span>=<span class="string">&quot;blockquote&quot;</span>&gt;</span></span><br><span class="line">    å¼•ç”¨åœ¨æ­¤</span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>ä»£ç å—<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">var</span>&gt;</span>å˜é‡æ–œä½“<span class="tag">&lt;/<span class="name">var</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span>ç”¨æˆ·è¾“å…¥ï¼Œé»‘è‰²èƒŒæ™¯ç™½è‰²å­—ä½“<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="3ï¼šå›¾ç‰‡å’Œå›¾ç‰‡æ¡†"><a href="#3ï¼šå›¾ç‰‡å’Œå›¾ç‰‡æ¡†" class="headerlink" title="3ï¼šå›¾ç‰‡å’Œå›¾ç‰‡æ¡†"></a>3ï¼šå›¾ç‰‡å’Œå›¾ç‰‡æ¡†</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../img/lg.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;img-fluid img-thumbnail w-100&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;rounded float-left&quot;</span>&gt;</span>//åœ†è§’</span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;rounded float-right&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;rounded d-block mx-auto&quot;</span>&gt;</span>//è½¬ä¸ºå—çº§å…ƒç´ ï¼Œç„¶åå±…ä¸­å¯¹é½</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">picture</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span> <span class="attr">srcset</span>=<span class="string">&quot;../images/lg.jpg&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(min-width:992px)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">srcset</span>=<span class="string">&quot;../images/md.jpg&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(min-width:576px)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../images/sm.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picture</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è®¾ç½®ä¸åŒå±å¹•æ˜¾ç¤ºä¸åŒå°ºå¯¸å›¾ç‰‡--&gt;</span></span><br></pre></td></tr></table></figure><h1 id="4ï¼šè¡¨æ ¼"><a href="#4ï¼šè¡¨æ ¼" class="headerlink" title="4ï¼šè¡¨æ ¼"></a>4ï¼šè¡¨æ ¼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table-responsive&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>HeadingHeadingHeading<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>HeadingHeadingHeading<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>HeadingHeadingHeading<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>CellCellCell<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>CellCellCell<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>CellCellCell<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ¡çº¹çŠ¶è¡¨æ ¼ï¼š</strong>ä½¿ç”¨<code>.table-striped</code>æ ·å¼å®šä¹‰<code>&lt;tbody&gt;</code>å¯ä»¥äº§ç”Ÿé€è¡Œäº¤æ›¿å˜åŒ–çš„èƒŒæ™¯è‰²ã€‚åŒ<code>.table-dark</code>ç»“åˆä½¿ç”¨æ”¹å˜å˜åŒ–èƒŒæ™¯è‰²ä¸ºé»‘å¤œä¸»é¢˜ã€‚</p><p><strong>è¡¨æ ¼è¾¹æ¡†ï¼š</strong>ä½¿ç”¨<code>ã€‚table-bordered</code>äº§ç”Ÿè¡¨æ ¼è¾¹æ¡†ä¸é—´éš™ã€‚<code>table-borderless</code>æ— è¾¹ç•Œè¡¨æ ¼ã€‚</p><p><strong>æ‚¬åœæ•ˆæœï¼š</strong><code>table-hover</code>æ‚¬åœæ—¶ï¼ŒèƒŒæ™¯é«˜äº®ã€‚</p><p><strong>ç¼©ç´§è¡¨æ ¼</strong>ï¼š<code>tableâ€”sm</code>å¯ä»¥å°†è¡¨æ ¼paddingå€¼ç¼©å‡ä¸ºåŸæ¥çš„ä¸€èˆ¬ã€‚</p><p><strong>Captionè¡¨æ ¼è¾…åŠ©æ ‡é¢˜ï¼š</strong><code>&lt;caption&gt;</code>é»˜è®¤æ˜¯éšè—çš„ï¼ŒååŠ©å±å¹•é˜…è¯»ç”¨æˆ·æ‰¾åˆ°è¡¨æ ¼ï¼Œäº†è§£è¡¨æ ¼å†…å®¹ï¼Œå¹¶å†³å®šæ˜¯å¦é˜…è¯»å®ƒã€‚</p><p><strong>å­—ä½“å’ŒèƒŒæ™¯è‰²ï¼š</strong><code>table-darkã€table-primaryã€table-secondaryã€table-warnungã€table-successã€table-dangerã€table-info</code>ä¸ºæµ…è‰²å­—ä½“è‰²ï¼Œå°†<code>table</code>æ›¿æ¢ä¸º<code>bg</code>åˆ™æ”¹ä¸ºèƒŒæ™¯è‰²ã€‚èƒ½åŠ åœ¨træˆ–tdä¸Šã€‚</p><p><strong>å“åº”å¼æ»šåŠ¨æ¡ï¼š</strong>åœ¨<code>table</code>ä¸Šå±‚æ·»åŠ <code>&lt;div class=&quot;table-responsive&quot;&gt;</code></p><h1 id="5ï¼šè¾¹æ¡†"><a href="#5ï¼šè¾¹æ¡†" class="headerlink" title="5ï¼šè¾¹æ¡†"></a>5ï¼šè¾¹æ¡†</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;border-top border-secondary rounded-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;rounded-circle&quot;</span>&gt;</span>åœ†å½¢æˆ–æ¤­åœ†è¾¹æ¡†<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;rounded-pill&quot;</span>&gt;</span>åœ†å½¢æˆ–èƒ¶å›Šå‹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>border-top-0</code>æ¸…é™¤è¾¹æ¡†ã€‚</p><h1 id="6ï¼šé¢œè‰²â€”Displayæ˜¾ç¤ºå±æ€§"><a href="#6ï¼šé¢œè‰²â€”Displayæ˜¾ç¤ºå±æ€§" class="headerlink" title="6ï¼šé¢œè‰²â€”Displayæ˜¾ç¤ºå±æ€§"></a>6ï¼šé¢œè‰²â€”Displayæ˜¾ç¤ºå±æ€§</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-inline&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-xl-none&quot;</span>&gt;</span>æ–­ç‚¹ï¼Œå½“å±å¹•è¿‡å¤§æ—¶ä¸æ˜¾ç¤º<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Bootstrap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ“ä½œç³»ç»Ÿ</title>
      <link href="/2020/02/20/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/02/20/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šLinuxç®€ä»‹"><a href="#1ï¼šLinuxç®€ä»‹" class="headerlink" title="1ï¼šLinuxç®€ä»‹"></a>1ï¼šLinuxç®€ä»‹</h1><p>å¼€æºè½¯ä»¶ï¼š</p><ul><li>ä½¿ç”¨è‡ªç”±</li><li>ç ”ç©¶è‡ªç”±</li><li>æ•£å¸ƒåŠæ”¹è‰¯çš„è‡ªç”±</li></ul><p>LAMPï¼šLinux+Apache+Mysql+PHP</p><p>ç½‘ç»œé…ç½®ï¼š</p><ul><li>æ¡¥æ¥ï¼šåƒä¸€å°çœŸå®ç”µè„‘ä¸€æ ·ç›´æ¥è¿æ¥äº’è”ç½‘</li><li>NATï¼šç±»ä¼¼äºä½¿ç”¨çœŸå®ç”µè„‘çš„çƒ­ç‚¹</li><li>host onlyï¼šåªå…è®¸å’ŒçœŸå®æœºé€šè¡Œ</li></ul><p><code>ifconfig eth0 192.168.118.2</code>//é…ç½®ç½‘å¡å’Œipï¼Œå¦‚æœé…ç½®ä¸ºæ¡¥æ¥ï¼Œéœ€è¦è®¾ç½®ä¸ºå±€åŸŸç½‘ç›¸åŒç½‘æ®µã€‚æ­¤è®¾ç½®é‡å¯åå¤±æ•ˆã€‚</p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>Linuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™</li><li>Linuxæ‰€æœ‰å†…å®¹ä»¥æ–‡ä»¶å½¢å¼ä¿å­˜ï¼ŒåŒ…æ‹¬ç¡¬ä»¶ã€‚</li></ul><p><strong>Linuxç›®å½•çš„ä½œç”¨</strong></p><table><thead><tr><th>ç›®å½•å</th><th>ç›®å½•çš„ä½œç”¨</th></tr></thead><tbody><tr><td>/bin/</td><td>å­˜æ”¾ç³»ç»Ÿå‘½ä»¤çš„ç›®å½•ï¼Œæ™®é€šå’Œè¶…çº§ç”¨æˆ·éƒ½å¯ä»¥æ‰§è¡Œ</td></tr><tr><td>/sbin/</td><td>ä¿å­˜å’Œç³»ç»Ÿç¯å¢ƒè®¾ç½®ç›¸å…³çš„æŒ‡ä»¤ï¼Œåªæœ‰è¶…çº§ç”¨æˆ·rootèƒ½ä½¿ç”¨ï¼Œä½†æ™®é€šç”¨æˆ·å¯ä»¥æŸ¥çœ‹</td></tr><tr><td>/usr/bin/</td><td>å•ç”¨æˆ·æ¨¡å¼ä¸‹ä¸èƒ½ä½¿ç”¨ï¼Œç±»ä¼¼äºwinçš„å®‰å…¨æ¨¡å¼</td></tr><tr><td>/usr/sbin/</td><td>è¶…çº§ç”¨æˆ·æ‰èƒ½ä½¿ç”¨</td></tr><tr><td>/boot/</td><td>ç³»ç»Ÿå¯åŠ¨ç›®å½•ï¼Œä¿å­˜ç³»ç»Ÿå¯åŠ¨ç›¸å…³æ–‡ä»¶ï¼Œå¦‚å†…æ ¸æ–‡ä»¶å’Œå¯åŠ¨å¼•å¯¼ç¨‹åº</td></tr><tr><td>/dev/</td><td>è®¾å¤‡æ–‡ä»¶ä¿å­˜ä½ç½®ï¼Œ</td></tr><tr><td>/etc/</td><td>é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä¿å­˜åœ¨è¿™</td></tr><tr><td>/home/</td><td>æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•</td></tr><tr><td>/lib/</td><td>ç³»ç»Ÿè°ƒç”¨çš„å‡½æ•°åº“</td></tr><tr><td>/lost+found/</td><td>å½“ç³»ç»Ÿæ„å¤–å´©æºƒæˆ–å…³æœºï¼Œäº§ç”Ÿä¸€äº›æ–‡ä»¶ç¢ç‰‡æ”¾åœ¨è¿™é‡Œã€‚ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œfsckå·¥å…·ä¼šæ£€æµ‹è¿™é‡Œã€‚æ¯ä¸ªåˆ†åŒºä¸‹éƒ½æœ‰è‡ªå·±çš„æ­¤æ–‡ä»¶</td></tr><tr><td>/media/</td><td>æŒ‚è½½ç›®å½•ï¼Œåª’ä½“è®¾å¤‡</td></tr><tr><td>/mnt/</td><td>æŒ‚åœ¨å¦‚ä¼˜ç›˜ã€ç§»åŠ¨ç¡¬ç›˜</td></tr><tr><td>/misc/</td><td>æŒ‚åœ¨NFSæœåŠ¡çš„å…±äº«ç›®å½•</td></tr><tr><td>/opt/</td><td>ç¬¬ä¸‰æ–¹å®‰è£…çš„è½¯ä»¶ä¿å­˜ä½ç½®ã€‚ç°åœ¨çš„ä¹ æƒ¯æ˜¯ï¼Œæ”¾åœ¨/usr/local/ï¼Œç±»ä¼¼äºwinä¸­çš„Program Filesæ–‡ä»¶å¤¹ã€‚</td></tr><tr><td>/proc/</td><td>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œä¿å­˜ç³»ç»Ÿçš„å†…æ ¸ã€ä»Šåæ›¾ã€å¤–éƒ¨è®¾å¤‡çŠ¶æ€ã€ç½‘ç»œçŠ¶æ€ã€‚ä¸è¦å†è¿™é‡Œé¢å†™ä¸œè¥¿</td></tr><tr><td>/sys/</td><td>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚å†…å­˜ä¸­ï¼Œä¿å­˜å†…æ ¸ç›¸å…³</td></tr><tr><td>/root/</td><td>è¶…çº§ç”¨æˆ·çš„å®¶ç›®å½•ã€‚æ™®é€šç”¨æˆ·åœ¨/home/</td></tr><tr><td>/srv/</td><td>æœåŠ¡æ•°æ®ç›®å½•ã€‚</td></tr><tr><td>/tmp/</td><td>ä¸´æ—¶ç›®å½•ã€‚å¯ä»¥æ¸…ç©º</td></tr><tr><td>/usr/</td><td>ç³»ç»Ÿè½¯ä»¶èµ„æºç›®å½•ã€‚unix software resource</td></tr><tr><td>/var/</td><td>åŠ¨æ€æ•°æ®ä¿å­˜ç›®å½•ã€‚ä¿å­˜ç¼“å­˜ã€æ—¥å¿—ä»¥åŠè½¯ä»¶è¿è¡Œäº§ç”Ÿçš„æ–‡ä»¶ã€‚</td></tr></tbody></table><h1 id="2ï¼šLinuxå¸¸ç”¨å‘½ä»¤"><a href="#2ï¼šLinuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="2ï¼šLinuxå¸¸ç”¨å‘½ä»¤"></a>2ï¼šLinuxå¸¸ç”¨å‘½ä»¤</h1><p><strong>å‘½ä»¤æ ¼å¼</strong></p><p>å‘½ä»¤ [-é€‰é¡¹] [å‚æ•°]</p><p>ä¾‹ï¼š ls -la /etc</p><p>è¯´æ˜ï¼š</p><ol><li><p>ä¸ªåˆ«å‘½ä»¤ä¸éµå®ˆæ­¤æ ¼å¼</p></li><li><p>å½“æœ‰å¤šä¸ªé€‰é¡¹æ—¶ï¼Œå¯ä»¥å†™åœ¨ä¸€èµ·</p></li><li><p>ç®€å†™é€‰é¡¹ä¸å®Œæ•´é€‰é¡¹</p><p>-a ç­‰äº â€“all</p></li></ol><h2 id="2-1-ç›®å½•å¤„ç†å‘½ä»¤"><a href="#2-1-ç›®å½•å¤„ç†å‘½ä»¤" class="headerlink" title="2.1 ç›®å½•å¤„ç†å‘½ä»¤"></a>2.1 ç›®å½•å¤„ç†å‘½ä»¤</h2><h3 id="2-1-1-å±•ç¤ºå­ç›®å½•ï¼šls"><a href="#2-1-1-å±•ç¤ºå­ç›®å½•ï¼šls" class="headerlink" title="2.1.1 å±•ç¤ºå­ç›®å½•ï¼šls"></a>2.1.1 å±•ç¤ºå­ç›®å½•ï¼šls</h3><p>å‘½ä»¤åç§°ï¼šls</p><p>å‘½ä»¤åŸæ„ï¼šlist</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ls#æ˜¾ç¤ºå½“å‰ç›®å½•çš„ééšè—æ–‡ä»¶</span><br><span class="line">ls -a#allï¼Œæ˜¾ç¤ºéšè—æ–‡ä»¶å’Œééšè—æ–‡ä»¶ï¼Œéšè—æ–‡ä»¶æ–‡ä»¶åæ ¼å¼ï¼š.abc</span><br><span class="line">ls /#æŸ¥çœ‹æ ¹ç›®å½•ï¼Œ/+æ–‡ä»¶è·¯å¾„å¯ä»¥æŸ¥çœ‹ä»»æ„ä½ç½®</span><br><span class="line">ls -l#longï¼Œé•¿æ ¼å¼æ˜¾ç¤ºï¼Œæ˜¾ç¤ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</span><br><span class="line">ls -h#human,æ¯”å¦‚å°†æ–‡ä»¶å¤§å°å•ä½åˆ—å‡ºæ¥ï¼Œäººæ€§åŒ–æ˜¾ç¤º</span><br><span class="line">ls -d#directï¼Œåªæ˜¾ç¤ºç›®å½•æœ¬èº«</span><br><span class="line">ls -i#inodeï¼Œå±•ç¤ºièŠ‚ç‚¹ï¼Œæ–‡ä»¶çš„å”¯ä¸€èº«ä»½æ ‡è¯†</span><br></pre></td></tr></table></figure><p>ls -lçš„ç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">total 31056</span><br><span class="line">-rwxr-xr-x  1 root root     3612 Jun 23 19:17 Aria2Drive.sh</span><br><span class="line">æƒé™ å¼•ç”¨æ¬¡æ•° æ–‡ä»¶æ‰€æœ‰è€… æ–‡ä»¶æ‰€å±ç»„ æ–‡ä»¶å¤§å°(å•ä½å­—èŠ‚) æ–‡ä»¶æœ€è¿‘ä¿®æ”¹æ—¶é—´ æ–‡ä»¶å</span><br></pre></td></tr></table></figure><p><strong>æƒé™ï¼š-rw-râ€“râ€“</strong></p><p>æƒé™ç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p><table><thead><tr><th>-</th><th>d</th><th>l</th></tr></thead><tbody><tr><td>æ–‡ä»¶</td><td>æ–‡ä»¶å¤¹</td><td>è½¯è¿æ¥</td></tr></tbody></table><p>å‰©ä½™ä¹ä¸ªå‚æ•°ï¼š</p><table><thead><tr><th>rw-</th><th>râ€“</th><th>râ€“</th></tr></thead><tbody><tr><td>uæ‰€æœ‰è€…æƒé™</td><td>gæ‰€å±ç»„æƒé™</td><td>oå…¶ä»–äºº</td></tr><tr><td>rè¯»</td><td>wå†™</td><td>xæ‰§è¡Œ</td></tr></tbody></table><h3 id="2-1-2-æ–°å»ºç›®å½•ï¼šmkdir"><a href="#2-1-2-æ–°å»ºç›®å½•ï¼šmkdir" class="headerlink" title="2.1.2 æ–°å»ºç›®å½•ï¼šmkdir"></a>2.1.2 æ–°å»ºç›®å½•ï¼šmkdir</h3><p>å‘½ä»¤åç§°ï¼šmkdir</p><p>å‘½ä»¤åŸæ„ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /tmp/123</span><br><span class="line">mkdir -p /tmp/japan/123#é€’å½’åˆ›å»ºç›®å½•ï¼Œjapanç›®å½•åŸæ¥ä¹Ÿæ²¡æœ‰</span><br><span class="line">mkdir -p /tmp/japan/123 /temp/japan/456#åˆ›å»ºå¤šä¸ªç›®å½•</span><br></pre></td></tr></table></figure><h3 id="2-1-3-åˆ‡æ¢ç›®å½•ï¼šcd"><a href="#2-1-3-åˆ‡æ¢ç›®å½•ï¼šcd" class="headerlink" title="2.1.3 åˆ‡æ¢ç›®å½•ï¼šcd"></a>2.1.3 åˆ‡æ¢ç›®å½•ï¼šcd</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp/japan/123#åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•</span><br><span class="line">cd .#è¡¨ç¤ºå½“å‰ç›®å½•</span><br><span class="line">cd ..#å›åˆ°ä¸Šçº§ç›®å½•</span><br></pre></td></tr></table></figure><h3 id="2-1-4-å±•ç¤ºå½“å‰å®Œæ•´è·¯å¾„ï¼špwd"><a href="#2-1-4-å±•ç¤ºå½“å‰å®Œæ•´è·¯å¾„ï¼špwd" class="headerlink" title="2.1.4 å±•ç¤ºå½“å‰å®Œæ•´è·¯å¾„ï¼špwd"></a>2.1.4 å±•ç¤ºå½“å‰å®Œæ•´è·¯å¾„ï¼špwd</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd#æ˜¾ç¤ºå½“å‰ä½ç½®çš„å®Œæ•´è·¯å¾„</span><br></pre></td></tr></table></figure><h3 id="2-1-5-åˆ é™¤ç©ºç›®å½•ï¼šrmdir"><a href="#2-1-5-åˆ é™¤ç©ºç›®å½•ï¼šrmdir" class="headerlink" title="2.1.5 åˆ é™¤ç©ºç›®å½•ï¼šrmdir"></a>2.1.5 åˆ é™¤ç©ºç›®å½•ï¼šrmdir</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir /tmp/japan/123</span><br></pre></td></tr></table></figure><h3 id="2-1-6-å¤åˆ¶ï¼šcp"><a href="#2-1-6-å¤åˆ¶ï¼šcp" class="headerlink" title="2.1.6 å¤åˆ¶ï¼šcp"></a>2.1.6 å¤åˆ¶ï¼šcp</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/grab.conf /root#å¤åˆ¶æ–‡ä»¶</span><br><span class="line">cp -r /tmp/japan/123 /root#å¤åˆ¶ç›®å½•</span><br><span class="line">cp /tmp/japan/123.log /tmp/japan/456.log /tmp#å¤åˆ¶å¤šä¸ªæ–‡ä»¶</span><br><span class="line">cp -p /tmp/abc.log /tmp#ä¿å­˜æ–‡ä»¶çš„å±æ€§ä¸å˜ï¼Œæ¯”å¦‚æœ€è¿‘ä¿®æ”¹çš„æ—¶é—´ã€‚</span><br><span class="line">cp /tmp/japan/abc.log /tmp/gaiming.log#æ‹·è´å¹¶æ”¹å</span><br></pre></td></tr></table></figure><h3 id="2-1-7-ç§»åŠ¨ã€å‰ªåˆ‡ï¼šmv"><a href="#2-1-7-ç§»åŠ¨ã€å‰ªåˆ‡ï¼šmv" class="headerlink" title="2.1.7 ç§»åŠ¨ã€å‰ªåˆ‡ï¼šmv"></a>2.1.7 ç§»åŠ¨ã€å‰ªåˆ‡ï¼šmv</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv /tmp/japan/123 /tmp#æŠŠ123ç§»åŠ¨åˆ°/tmpç›®å½•ä¸‹</span><br><span class="line">mv /tmp/japan/123 /tmp/us#ç§»åŠ¨å¹¶æ”¹å</span><br><span class="line">mv 123 456#å½“å‰ç›®å½•ä¸‹ç§»åŠ¨å¹¶æ”¹åï¼Œåˆ™æ˜¯é‡å‘½å</span><br></pre></td></tr></table></figure><h3 id="2-1-8-åˆ é™¤ï¼šrm"><a href="#2-1-8-åˆ é™¤ï¼šrm" class="headerlink" title="2.1.8 åˆ é™¤ï¼šrm"></a>2.1.8 åˆ é™¤ï¼šrm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rm grab.conf#åˆ é™¤æ–‡ä»¶</span><br><span class="line">rm -f grab.conf#å¼ºåˆ¶åˆ é™¤æ–‡ä»¶ï¼Œä¸ä¼šè¯¢é—®æ˜¯å¦ç¡®è®¤ã€‚</span><br><span class="line">rm -r /tmp/japan#åˆ é™¤ç›®å½•</span><br></pre></td></tr></table></figure><h2 id="2-2-æ–‡ä»¶å¤„ç†å‘½ä»¤"><a href="#2-2-æ–‡ä»¶å¤„ç†å‘½ä»¤" class="headerlink" title="2.2 æ–‡ä»¶å¤„ç†å‘½ä»¤"></a>2.2 æ–‡ä»¶å¤„ç†å‘½ä»¤</h2><h3 id="2-2-1-æ–°å»ºæ–‡ä»¶ï¼štouch"><a href="#2-2-1-æ–°å»ºæ–‡ä»¶ï¼štouch" class="headerlink" title="2.2.1 æ–°å»ºæ–‡ä»¶ï¼štouch"></a>2.2.1 æ–°å»ºæ–‡ä»¶ï¼štouch</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch japanlovestory.list#æ–°å»ºæ–‡ä»¶</span><br><span class="line">touch &quot;program files&quot; #åˆ›å»ºå¸¦ç©ºæ ¼æ–‡ä»¶ï¼Œä¸æ¨èå¸¦ç©ºæ ¼æ–‡ä»¶å</span><br></pre></td></tr></table></figure><h3 id="2-2-2-æµè§ˆçŸ­æ–‡ä»¶ï¼šcat"><a href="#2-2-2-æµè§ˆçŸ­æ–‡ä»¶ï¼šcat" class="headerlink" title="2.2.2 æµè§ˆçŸ­æ–‡ä»¶ï¼šcat"></a>2.2.2 æµè§ˆçŸ­æ–‡ä»¶ï¼šcat</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/issue#æ˜¾ç¤ºå†…å®¹</span><br><span class="line">cat -n /etc/issue#æ˜¾ç¤ºè¡Œå·</span><br></pre></td></tr></table></figure><h3 id="2-2-3-æŒ‰è¡Œåå‘æ˜¾ç¤ºæµè§ˆï¼štac"><a href="#2-2-3-æŒ‰è¡Œåå‘æ˜¾ç¤ºæµè§ˆï¼štac" class="headerlink" title="2.2.3 æŒ‰è¡Œåå‘æ˜¾ç¤ºæµè§ˆï¼štac"></a>2.2.3 æŒ‰è¡Œåå‘æ˜¾ç¤ºæµè§ˆï¼štac</h3><h3 id="2-2-4-åˆ†é¡µæµè§ˆé•¿æ–‡ä»¶ï¼šmore"><a href="#2-2-4-åˆ†é¡µæµè§ˆé•¿æ–‡ä»¶ï¼šmore" class="headerlink" title="2.2.4 åˆ†é¡µæµè§ˆé•¿æ–‡ä»¶ï¼šmore"></a>2.2.4 åˆ†é¡µæµè§ˆé•¿æ–‡ä»¶ï¼šmore</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more /etc/services#ç©ºæ ¼æˆ–få‘ä¸‹ç¿»é¡µï¼ŒæŒ‰è¡Œå‘ä¸‹ç¿»ï¼ŒæŒ‰qé€€å‡ºï¼Œå¸®åŠ©ä¿¡æ¯éƒ½æ˜¯è°ƒç”¨moreå‘½ä»¤ã€‚</span><br></pre></td></tr></table></figure><p>ä¸èƒ½å¾€ä¸Šç¿»ã€‚</p><h3 id="2-2-5-å¯å‘ä¸Šåˆ†é¡µæµè§ˆï¼šless"><a href="#2-2-5-å¯å‘ä¸Šåˆ†é¡µæµè§ˆï¼šless" class="headerlink" title="2.2.5 å¯å‘ä¸Šåˆ†é¡µæµè§ˆï¼šless"></a>2.2.5 å¯å‘ä¸Šåˆ†é¡µæµè§ˆï¼šless</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">less /etc/services#å‘ä¸‹ç¿»é¡µå’Œmoreç›¸åŒï¼ŒæŒ‰pgupå‘ä¸Šç¿»é¡µï¼Œä¸Šç®­å¤´å‘ä¸Šä¸€è¡Œã€‚</span><br><span class="line"><span class="meta">#</span><span class="bash">æœç´¢åŠŸèƒ½ï¼Œæµè§ˆçŠ¶æ€ï¼Œè¾“å…¥â€œ/serviceâ€ï¼ŒæŒ‰â€œnâ€å‘ä¸‹æ‰¾æœç´¢ç»“æœã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-2-6-æµè§ˆæ–‡ä»¶å‰å‡ è¡Œï¼šhead"><a href="#2-2-6-æµè§ˆæ–‡ä»¶å‰å‡ è¡Œï¼šhead" class="headerlink" title="2.2.6 æµè§ˆæ–‡ä»¶å‰å‡ è¡Œï¼šhead"></a>2.2.6 æµè§ˆæ–‡ä»¶å‰å‡ è¡Œï¼šhead</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">head /etc/services#é»˜è®¤æ˜¾ç¤ºå‰åè¡Œ</span><br><span class="line">head -n 7 /etc/services#æ˜¾ç¤ºå‰ä¸ƒè¡Œ</span><br></pre></td></tr></table></figure><h3 id="2-2-7-æµè§ˆæ–‡ä»¶æœ«å°¾å‡ è¡Œï¼štail"><a href="#2-2-7-æµè§ˆæ–‡ä»¶æœ«å°¾å‡ è¡Œï¼štail" class="headerlink" title="2.2.7 æµè§ˆæ–‡ä»¶æœ«å°¾å‡ è¡Œï¼štail"></a>2.2.7 æµè§ˆæ–‡ä»¶æœ«å°¾å‡ è¡Œï¼štail</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tail /etc/services#æ˜¾ç¤ºæœ«å°¾å‡ è¡Œ</span><br><span class="line">tail -n 7 /etc/services#æ˜¾ç¤ºæŒ‡å®šè¡Œ</span><br><span class="line">tail -f /var/log/messages#åŠ¨æ€æ˜¾ç¤ºæ–‡ä»¶æœ«å°¾å‡ è¡Œ</span><br></pre></td></tr></table></figure><h2 id="2-3-é“¾æ¥å‘½ä»¤"><a href="#2-3-é“¾æ¥å‘½ä»¤" class="headerlink" title="2.3 é“¾æ¥å‘½ä»¤"></a>2.3 é“¾æ¥å‘½ä»¤</h2><p><strong>ç”Ÿæˆé“¾æ¥æ–‡ä»¶ï¼šln</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /etc/issue /tmp/issue.soft#åˆ›å»ºæ–‡ä»¶çš„è½¯è¿æ¥</span><br><span class="line">ln /etc/issue /tmp/issue.hard#åˆ›å»ºæ–‡ä»¶çš„ç¡¬é“¾æ¥</span><br></pre></td></tr></table></figure><p>è½¯è¿æ¥ï¼šç±»ä¼¼windowsçš„å¿«æ·æ–¹å¼</p><p>ç¡¬é“¾æ¥ï¼šç¡¬é“¾æ¥å’Œæºæ–‡ä»¶å±æ€§ç›¸åŒï¼Œä¸”åŒæ­¥æ›´æ–°ï¼Œå¯ä»¥å‘ç¡¬é“¾æ¥ä¸­å†™å…¥å†…å®¹ï¼Œåˆ é™¤æºæ–‡ä»¶åï¼Œç¡¬é“¾æ¥ä»»ç„¶å­˜åœ¨ã€‚ç¡¬é“¾æ¥çš„ièŠ‚ç‚¹ä¸æºæ–‡ä»¶ç›¸åŒã€‚</p><p>ç¡¬é“¾æ¥ä¸èƒ½è·¨åˆ†åŒºï¼Œç”Ÿæˆå¯¹è±¡ä¸èƒ½æ˜¯ç›®å½•</p><h2 id="2-4-æƒé™ç®¡ç†å‘½ä»¤"><a href="#2-4-æƒé™ç®¡ç†å‘½ä»¤" class="headerlink" title="2.4 æƒé™ç®¡ç†å‘½ä»¤"></a>2.4 æƒé™ç®¡ç†å‘½ä»¤</h2><h2 id="2-4-1-æ–‡ä»¶æƒé™å˜æ›´ï¼šchmod"><a href="#2-4-1-æ–‡ä»¶æƒé™å˜æ›´ï¼šchmod" class="headerlink" title="2.4.1 æ–‡ä»¶æƒé™å˜æ›´ï¼šchmod"></a>2.4.1 æ–‡ä»¶æƒé™å˜æ›´ï¼šchmod</h2><p>å‘½ä»¤åç§°ï¼šchmodï¼ˆchange the permissions mode of a fileï¼‰</p><p>è¯­æ³•ï¼š chmod [{ugoa}]{+-=}[æ–‡ä»¶æˆ–ç›®å½•]</p><p>â€‹                            [mode=421][æ–‡ä»¶æˆ–ç›®å½•]</p><p>â€‹                            -R é€’å½’ä¿®æ”¹</p><p>æƒé™åªæœ‰ç®¡ç†å‘˜rootå’Œæ‰€æœ‰è€…å¯ä»¥ä¿®æ”¹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod g+w,o-r japan.list#æ‰€å±ç»„åŠ è¯»æƒé™ï¼Œå…¶ä»–äººå‡å°‘è¯»æƒé™</span><br><span class="line">chmod g=rwx japn.list</span><br></pre></td></tr></table></figure><p>æ•°å­—è¡¨è¿°æ³•ï¼š</p><table><thead><tr><th align="center">r</th><th align="center">w</th><th align="center">x</th></tr></thead><tbody><tr><td align="center">4</td><td align="center">2</td><td align="center">1</td></tr></tbody></table><p>rwxrw-râ€“å¯¹åº”æƒé™ï¼š(4+2+1)(4+2)(4)=764</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 /tmp/abc#ä¿®æ”¹/tmp/abcåŠå…¶ä¸‹é¢çš„çš„æ‰€æœ‰æ–‡ä»¶çš„æƒé™ä¸º777</span><br></pre></td></tr></table></figure><blockquote><p>rootç”¨æˆ·åˆ›å»ºçš„644æƒé™æ–‡ä»¶ï¼Œå…¶ä»–ç”¨æˆ·èƒ½å¦åˆ é™¤ï¼Ÿ</p><p>ç­”æ¡ˆå–å†³äºç”¨æˆ·æ˜¯å¦å…·æœ‰æ–‡ä»¶æ‰€å±çš„ç›®å½•çš„å†™æƒé™ã€‚</p></blockquote><p>æ¯”å¦‚ï¼š<br>ä¸€ä¸ªç›®å½•/tempæƒé™ä¸º777</p><p>æ–‡ä»¶/temp/testfileçš„æƒé™ä¸º644ã€‚</p><p>é‚£ä¹ˆæ™®é€šç”¨æˆ·ä»»ç„¶å¯ä»¥åˆ é™¤/temp/testfileï¼Œå› ä¸ºæ‰€æœ‰äººéƒ½æœ‰/tmpç›®å½•çš„å†™æƒé™ï¼Œæ‰€ä»¥å¯ä»¥å†/tempç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ã€ç›®å½•ã€åˆ é™¤ç›®å½•å’Œåˆ é™¤æ–‡ä»¶ã€‚</p><table><thead><tr><th></th><th>rè¯»æƒé™</th><th>wå†™æƒé™</th><th>xæ‰§è¡Œæƒé™</th></tr></thead><tbody><tr><td>file</td><td>cat/more/less/head/tail</td><td>vim</td><td>script command</td></tr><tr><td>directory</td><td>ls</td><td>touch/mkdir/rmdir/rm</td><td>cd</td></tr></tbody></table><h2 id="2-4-2-æ–‡ä»¶æ‰€æœ‰è€…å˜æ›´ï¼šchown"><a href="#2-4-2-æ–‡ä»¶æ‰€æœ‰è€…å˜æ›´ï¼šchown" class="headerlink" title="2.4.2 æ–‡ä»¶æ‰€æœ‰è€…å˜æ›´ï¼šchown"></a>2.4.2 æ–‡ä»¶æ‰€æœ‰è€…å˜æ›´ï¼šchown</h2><p>è¯­æ³•ï¼š chown [ç”¨æˆ·] [æ–‡ä»¶æˆ–ç›®å½•]</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd shenchao#æ·»åŠ ä¸€ä¸ªç”¨æˆ·</span><br><span class="line">chown shenchao /tmp/japan#æ”¹å˜æ‰€æœ‰è€…</span><br></pre></td></tr></table></figure><h2 id="2-4-3-æ–‡ä»¶æ‰€å±ç»„å˜æ›´ï¼šchgrp"><a href="#2-4-3-æ–‡ä»¶æ‰€å±ç»„å˜æ›´ï¼šchgrp" class="headerlink" title="2.4.3 æ–‡ä»¶æ‰€å±ç»„å˜æ›´ï¼šchgrp"></a>2.4.3 æ–‡ä»¶æ‰€å±ç»„å˜æ›´ï¼šchgrp</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd lampbrother#æ–°å»ºç»„</span><br><span class="line">chgrp lampbrother /tmp/japan#æ›´æ”¹æ‰€å±ç»„</span><br></pre></td></tr></table></figure><h3 id="2-4-4-æ˜¾ç¤ºæ–°å»ºæ–‡ä»¶çš„ç¼ºçœæƒé™ï¼šumask"><a href="#2-4-4-æ˜¾ç¤ºæ–°å»ºæ–‡ä»¶çš„ç¼ºçœæƒé™ï¼šumask" class="headerlink" title="2.4.4 æ˜¾ç¤ºæ–°å»ºæ–‡ä»¶çš„ç¼ºçœæƒé™ï¼šumask"></a>2.4.4 æ˜¾ç¤ºæ–°å»ºæ–‡ä»¶çš„ç¼ºçœæƒé™ï¼šumask</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">umask -S#æ˜¾ç¤ºæ–°å»ºç›®å½•ç¼ºçœæƒé™</span><br><span class="line">umask#æ˜¾ç¤ºæ–°å»ºç›®å½•ç¼ºçœæƒé™çš„ä¸å€¼</span><br><span class="line">umask 077#ä¿®æ”¹æ–°å»ºæ–‡ä»¶çš„ç¼ºçœæƒé™ä¸º700.åŸç†ä¸ºï¼Œ777ä¸077å¾—700</span><br></pre></td></tr></table></figure><p>0022</p><p>0ï¼šç‰¹æ®Šæƒé™</p><p>022ï¼šâ€” -w- -w-</p><p>åˆ™ç›®å½•çš„æƒé™ä¸ºï¼š777å’Œ022é€»è¾‘ä¸çš„ç»“æœï¼Œç­‰äº755</p><h2 id="2-5-æ–‡ä»¶æœç´¢å‘½ä»¤"><a href="#2-5-æ–‡ä»¶æœç´¢å‘½ä»¤" class="headerlink" title="2.5 æ–‡ä»¶æœç´¢å‘½ä»¤"></a>2.5 æ–‡ä»¶æœç´¢å‘½ä»¤</h2><h3 id="2-5-1-æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šfind"><a href="#2-5-1-æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šfind" class="headerlink" title="2.5.1 æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šfind"></a>2.5.1 æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šfind</h3><p>è¯­æ³•ï¼šfind [æœç´¢èŒƒå›´] [åŒ¹é…æ¡ä»¶]</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name init#åœ¨/etcç›®å½•ä¸‹æœç´¢åä¸ºinitçš„æ–‡ä»¶ï¼Œinitabä¸èƒ½è¢«æœç´¢åˆ°ã€‚</span><br><span class="line">find /etc -name *init*#åå­—åŒ…å«initå°±ä¼šè¢«æœç´¢ï¼Œ*ä½œä¸ºé€šé…ç¬¦</span><br><span class="line">find /etc -name int???#?</span><br><span class="line">find /etc -iname init???#æœç´¢åå­—ä¸åŒºåˆ†å¤§å°å†™ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -size +204800#æŸ¥æ‰¾å¤§äº100MBæ–‡ä»¶ï¼ŒæŒ‰æ•°æ®å—ç®—ï¼Œä¸€ä¸ªæ•°æ®å—=0.5Kã€‚204800ä¸ªæ•°æ®å—=100MB</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -user shenchao#æ ¹æ®æ‰€æœ‰è€…æŸ¥æ‰¾</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find /etc -cmin -5#æ ¹æ®æ–‡ä»¶å±æ€§5åˆ†é’Ÿå†…è¢«æ”¹çš„æ–‡ä»¶æŸ¥æ‰¾ change</span><br><span class="line">find /etc -amin -5#æ ¹æ®è®¿é—®æ—¶é—´ access</span><br><span class="line">find /etc -mmin -5#æ ¹æ®æ–‡ä»¶å†…å®¹è¢«æ”¹å˜ modify</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /etc -size +163840 -a -size -204800#æŸ¥æ‰¾å¤§äº80MBå¹¶ä¸”å°äº100MBçš„æ–‡ä»¶</span><br><span class="line">find /etc -size +163840 -o -size -204800#æŸ¥æ‰¾å¤§äº80MBæˆ–è€…å°äº100MBçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name init* -a -type f#æŸ¥æ‰¾ç±»å‹ä¸ºæ–‡ä»¶çš„init*å¯¹è±¡</span><br></pre></td></tr></table></figure><p>-exec/-ok å¯¹æœç´¢ç»“æœè¿›è¡Œå¤„ç†ã€‚-okæ¯”-execå¤šäº†è¯¢é—®æ˜¯å¦æ“ä½œè¿‡ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name inittab -exec ls -l &#123;&#125; \;#-exec å‘½ä»¤ &#123;&#125; \;ä¸ºå›ºå®šæ ¼å¼</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /etc -inum 3442#æ ¹æ®ièŠ‚ç‚¹æŸ¥æ‰¾æ–‡ä»¶</span><br><span class="line">find /etc -inum 3442 -exec rm &#123;&#125; \;#åˆ é™¤ièŠ‚ç‚¹ä¸º3442çš„æ–‡ä»¶ã€‚å¯ç”¨äºåå­—å¥‡æ€ªçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="2-5-2-å…¶ä»–æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šlocate"><a href="#2-5-2-å…¶ä»–æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šlocate" class="headerlink" title="2.5.2 å…¶ä»–æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šlocate"></a>2.5.2 å…¶ä»–æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šlocate</h3><p>åœ¨æ–‡ä»¶èµ„æ–™åº“ä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚ä½†æ˜¯ä¸èƒ½åŠæ—¶æ›´æ–°ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">locate inittab#æŸ¥æ‰¾inittabçš„ä½ç½®</span><br><span class="line">locate -i inittab#æŸ¥æ‰¾æ—¶ä¸åŒºåˆ†å¤§å°å†™</span><br></pre></td></tr></table></figure><p>æ›´æ–°èµ„æ–™åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updatedb</span><br></pre></td></tr></table></figure><blockquote><p>locateæ— æ³•æ”¶å½•/tmpç›®å½•ä¸‹çš„æ–‡ä»¶</p></blockquote><h3 id="2-5-3-å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhich"><a href="#2-5-3-å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhich" class="headerlink" title="2.5.3 å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhich"></a>2.5.3 å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhich</h3><p>å¯¹å‘½ä»¤ä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which cp#æŸ¥æ‰¾å‘½ä»¤ç»å¯¹è·¯å¾„çš„ä½ç½®ï¼Œå¹¶ä¸”å¾—åˆ°å‘½ä»¤æ˜¯å¦æœ‰åˆ«å‘½</span><br></pre></td></tr></table></figure><h3 id="2-5-4-å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhereis"><a href="#2-5-4-å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhereis" class="headerlink" title="2.5.4 å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhereis"></a>2.5.4 å‘½ä»¤æ–‡ä»¶æœç´¢å‘½ä»¤ï¼šwhereis</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis rm#æ‰¾åˆ°å‘½ä»¤ç»å¯¹è·¯å¾„ï¼Œå’Œå‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£æ‰€åœ¨ä½ç½®</span><br></pre></td></tr></table></figure><h3 id="2-5-5-æ–‡ä»¶å†…å®¹æœç´¢å‘½ä»¤ï¼šgrep"><a href="#2-5-5-æ–‡ä»¶å†…å®¹æœç´¢å‘½ä»¤ï¼šgrep" class="headerlink" title="2.5.5 æ–‡ä»¶å†…å®¹æœç´¢å‘½ä»¤ï¼šgrep"></a>2.5.5 æ–‡ä»¶å†…å®¹æœç´¢å‘½ä»¤ï¼šgrep</h3><table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-i</td><td>ä¸åŒºåˆ†å¤§å°å†™</td></tr><tr><td>-v</td><td>æ’é™¤æŒ‡å®šå­—ä¸²</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep multiuser /etc/inittab#æŸ¥æ‰¾æ–‡ä»¶ä¸­multiuseræ‰€åœ¨çš„è¡Œã€‚</span><br><span class="line">grep -v ^# /etc/inittab#æ’é™¤æŒ‡å®šå­—ä¸²æ‰€åœ¨çš„è¡Œï¼Œå³ä»¥#å¼€å¤´çš„è¡Œï¼Œä¸å¸Œæ˜¾ç¤ºã€‚</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kali Linuxçš„å­¦ä¹ å’Œä½¿ç”¨</title>
      <link href="/2020/02/19/Kali-Linux%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
      <url>/2020/02/19/Kali-Linux%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šKaliç®€ä»‹"><a href="#0ï¼šKaliç®€ä»‹" class="headerlink" title="0ï¼šKaliç®€ä»‹"></a>0ï¼šKaliç®€ä»‹</h1><p>Kaliä½œä¸ºæœ€å¸¸ç”¨çš„ç½‘ç»œæ¸—é€ç³»ç»Ÿï¼Œå†…ç½®äº†ç½‘ç»œå®‰å…¨äººå‘˜å’Œé»‘å®¢æœ€å¸¸ç”¨çš„å„ç±»å·¥å…·ã€‚</p><h1 id="1ï¼šKaliå®‰è£…"><a href="#1ï¼šKaliå®‰è£…" class="headerlink" title="1ï¼šKaliå®‰è£…"></a>1ï¼šKaliå®‰è£…</h1><p><strong>å®‰è£…é€”å¾„ï¼š</strong></p><ol><li><p>åœ¨VMWareè™šæ‹Ÿæœºä¸Šå®‰è£…Kaliï¼Œ<a href="https://blog.csdn.net/xfyangle/article/details/81045116">Kali Linux ç³»ç»Ÿå®‰è£…è¯¦ç»†æ•™ç¨‹</a></p></li><li><p>åœ¨Vulträ¸Šä¸Šä¼ è‡ªå®šä¹‰çš„IOSã€‚å°†Kaliéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚</p></li></ol><p><strong>å¸¸è§é—®é¢˜ï¼š</strong></p><ul><li>åˆ‡æ¢å›¾å½¢ç•Œé¢å’Œå‘½ä»¤ç•Œé¢ï¼Œå½“ä¸»æœºå†…å­˜å°äº2gæ—¶ï¼Œä½¿ç”¨å›¾å½¢ç•Œé¢ä½“éªŒæ›´å¥½ã€‚</li></ul><ol><li><p>åˆ‡æ¢å‘½ä»¤ç•Œé¢ï¼šCtrl+Alt+F3</p></li><li><p>åˆ‡æ¢å›¾å½¢ç•Œé¢ï¼šCtrl+Alt+F1</p></li></ol><ul><li>åœ¨æ–°ç‰ˆæœ¬Kali Linux2020ä¸­é»˜è®¤ç³»ç»Ÿç™»é™†ä¸ºéè¶…çº§ç®¡ç†å‘˜æƒé™ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸æ˜¯rootæƒé™ã€‚åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œåªæœ‰æ™®é€šç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç è®¾ç½®ã€‚ä¸ä¼šæ¶‰åŠrootå¯†ç çš„è®¾ç½®ã€‚ç°åœ¨ä¸ºrootè®¾ç½®å¯†ç ã€‚</li></ul><ol><li><p>å‘½ä»¤ç•Œé¢è¾“å…¥<code>sudo passwd root</code></p></li><li><p>è¾“å…¥æ–°å¯†ç ï¼Œé‡å¤è¾“å…¥æ–°å¯†ç ã€‚å¯†ç è®¾ç½®å®Œæˆã€‚</p></li></ol><ul><li>å¼€å¯SSHï¼Œå¦‚æœä½ åœ¨æœåŠ¡å™¨ä¸­å®‰è£…äº†Kaliï¼Œè¿™ä¸ªæ“ä½œæ˜¯å¿…é¡»çš„ï¼Œä»–èƒ½è®©ä½ ä½¿ç”¨å…¶ä»–ç»ˆç«¯ï¼Œç™»é™†Kaliã€‚</li></ul><ol><li><p>å‘½ä»¤ç•Œé¢è¾“å…¥<code>sudo vim /etc/ssh/sshd_config</code>ã€‚</p></li><li><p>ä¿®æ”¹éƒ¨åˆ†å†…å®¹ä¸ºå¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#Authentication</span><br><span class="line">LoginGraceTime 2m</span><br><span class="line">PermitRoootLogin yes</span><br><span class="line">StrictModes yes</span><br><span class="line">MaxAuthTries 0</span><br><span class="line">MaxSessions 10</span><br></pre></td></tr></table></figure><ol start="3"><li><p>ä¿å­˜é€€å‡º</p></li><li><p>é‡å¯ssh <code>service ssh restart</code></p></li><li><p>æŸ¥çœ‹sshæ˜¯å¦å¯åŠ¨ï¼Œ<code>service ssh status</code></p></li><li><p>å¦‚æœæ˜¾ç¤ºactiveåˆ™å·²ç”Ÿæ•ˆï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨sshç™»é™†äº†ã€‚</p></li></ol><h1 id="3ï¼šè¢«åŠ¨ä¿¡æ¯æ”¶é›†"><a href="#3ï¼šè¢«åŠ¨ä¿¡æ¯æ”¶é›†" class="headerlink" title="3ï¼šè¢«åŠ¨ä¿¡æ¯æ”¶é›†"></a>3ï¼šè¢«åŠ¨ä¿¡æ¯æ”¶é›†</h1><h2 id="3-1-å¸¸ç”¨æŸ¥è¯¢æŒ‡ä»¤å’Œå·¥å…·"><a href="#3-1-å¸¸ç”¨æŸ¥è¯¢æŒ‡ä»¤å’Œå·¥å…·" class="headerlink" title="3.1 å¸¸ç”¨æŸ¥è¯¢æŒ‡ä»¤å’Œå·¥å…·"></a>3.1 å¸¸ç”¨æŸ¥è¯¢æŒ‡ä»¤å’Œå·¥å…·</h2><p><code>Ctrl+L</code>:æ¸…å±</p><p><code>ping sci.ci</code>:æŸ¥çœ‹åŸŸåçš„è®¿é—®é€Ÿåº¦</p><p><code>nslookup baidu.com</code>:åŸŸåæœåŠ¡å™¨æŸ¥è¯¢ã€‚</p><p><code>dig @8.8.8.8 baidu.com any</code>:æŸ¥è¯¢ï¼Œ@8.8.8.8åŸŸåæœåŠ¡å™¨è®°å½•çš„baidu.comåŸŸåè§£æè®°å½•ã€‚any:æŸ¥è¯¢æ‰€æœ‰è®°å½•ã€‚ä¸åŠ åªæŸ¥Aè®°å½•ã€‚+noall +answeråªè¾“å‡ºåŸŸåè®°å½•ç»“æœã€‚</p><p><code>dig -x 35.201.203.235</code>ï¼šæŸ¥è¯¢åå‘è§£æï¼Œptrè®°å½•ï¼Œéœ€è¦æœ‰è§£æè®°å½•æ‰è¡Œ</p><p><code>dig txt chaos VERSION.BIND @ns3.dnsv4.com</code>:æŸ¥è¯¢DnsæœåŠ¡å™¨ç‰ˆæœ¬ã€‚é€šè¿‡ç‰ˆæœ¬ä¿¡æ¯æŸ¥æ‰¾æ¼æ´</p><p><code>whois baidu.com</code>:æŸ¥è¯¢æ³¨å†Œä¿¡æ¯</p><p>æŸ¥è¯¢æ¥å£ï¼š</p><ul><li><p>å¤‡æ¡ˆä¿¡æ¯ï¼š<code>http://www.beianbeian.com</code></p></li><li><p>å¤©çœ¼æŸ¥ï¼š<code>https://www.tianyancha.com</code></p></li></ul><h2 id="3-2-å­åŸŸåæŒ–æ˜"><a href="#3-2-å­åŸŸåæŒ–æ˜" class="headerlink" title="3.2 å­åŸŸåæŒ–æ˜"></a>3.2 å­åŸŸåæŒ–æ˜</h2><ol><li>å­åŸŸåæŒ–æ˜å·¥å…·ï¼šMaltegoå­åŸŸåæŒ–æ˜æœº</li><li>æœç´¢å¼•æ“ï¼š<code>site:qq.com</code></li><li>ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼š<code>http://tool.chinaz.com/subdomainã€https://dnsdumpster.com</code></li></ol><h2 id="3-3-Maltegoä½¿ç”¨"><a href="#3-3-Maltegoä½¿ç”¨" class="headerlink" title="3.3 Maltegoä½¿ç”¨"></a>3.3 Maltegoä½¿ç”¨</h2><h2 id="3-4-Shodanæœç´¢æŠ€å·§"><a href="#3-4-Shodanæœç´¢æŠ€å·§" class="headerlink" title="3.4 Shodanæœç´¢æŠ€å·§"></a>3.4 Shodanæœç´¢æŠ€å·§</h2><p><code>https://www.shodan.io</code></p><p>æœç´¢æŠ€å·§ï¼š</p><p><code>webcam</code>//ç½‘ç»œæ‘„åƒå¤´</p><p><code>city:beijing webcam</code>//ä½äºåŒ—äº¬çš„æ‘„åƒå¤´</p><p><code>net:35.201.203.235</code>//æŸ¥è¯¢åˆ°ipç»‘å®šçš„åŸŸåç­‰ä¿¡æ¯</p><p><code>port:9200</code>//æœç´¢å¼€å¯9200ç«¯å£çš„æœåŠ¡å™¨</p><h2 id="3-5-Googleæœç´¢å¼•æ“çš„ä½¿ç”¨æŠ€å·§"><a href="#3-5-Googleæœç´¢å¼•æ“çš„ä½¿ç”¨æŠ€å·§" class="headerlink" title="3.5 Googleæœç´¢å¼•æ“çš„ä½¿ç”¨æŠ€å·§"></a>3.5 Googleæœç´¢å¼•æ“çš„ä½¿ç”¨æŠ€å·§</h2><ul><li><p><code>inurl:qq.txt</code>æ–‡ä»¶</p></li><li><p><code>inurl:admin_login.asp</code>ç™»é™†ç•Œé¢</p></li><li><p><code>intitle:index.of .bash_history</code>è¡¨ç¤ºç½‘ç«™ç›®å½•å¯¹æˆ‘ä»¬å¼€æ”¾ï¼Œæˆ‘iä»¬å¯ä»¥çœ‹åˆ°è¯¥ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„ä¿¡æ¯ã€‚<code>.æ–‡ä»¶å</code>è¡¨ç¤ºéšè—ç›®å½•ã€‚</p><ul><li>æŸ¥æ‰¾mysqlçš„é…ç½®æ–‡ä»¶ï¼Œmy.cnf</li><li>æŸ¥æ‰¾discuzè®ºå›ä¸­å‚¨å­˜mysqlå¯†ç çš„é…ç½®æ–‡ä»¶confg_global.php</li></ul></li><li><p><code>cache:baidu.com</code>æœç´¢ç¼“å­˜çš„é¡µé¢ï¼Œè™½ç„¶æŸäº›é¡µé¢è¢«åˆ äº†</p></li><li><p><code>Kali filetype:torrent</code>Kaliæ—¶å…³é”®è¯ï¼Œæœç´¢Kaliç›¸å…³çš„æŒ‡å®šæ–‡ä»¶ç±»å‹</p></li><li><p><code>apache site:baidu.com </code>æŸç½‘ç«™ä¸‹çš„å…³é”®è¯</p></li><li><p><code>intext:user.sql intitle:index.of</code>æŸ¥è¯¢åŒ…å«user.sqlç”¨æˆ·ä¿¡æ¯æ•°æ®çš„ç½‘ç«™ï¼Œå¹¶ä¸”ç½‘ç«™ç›®å½•å¯è§</p></li><li><p><code>s3 site:amazonaws.com filetype:xls password</code>s3å…³é”®å­—ï¼Œäºšé©¬é€Šçš„ä¸€ç§æœåŠ¡å™¨ç±»å‹ã€‚</p></li></ul><p><strong>æ€»ç»“ï¼šè°·æ­Œé»‘å®¢æ•°æ®åº“ï¼š<a href="https://www.exploit-db.com/google-hacking-database">https://www.exploit-db.com/google-hacking-database</a></strong></p><h1 id="4-ä¿¡æ¯æ”¶é›†"><a href="#4-ä¿¡æ¯æ”¶é›†" class="headerlink" title="4: ä¿¡æ¯æ”¶é›†"></a>4: ä¿¡æ¯æ”¶é›†</h1><h2 id="4-1-ä¸»åŠ¨é‡‡é›†"><a href="#4-1-ä¸»åŠ¨é‡‡é›†" class="headerlink" title="4.1 ä¸»åŠ¨é‡‡é›†"></a>4.1 ä¸»åŠ¨é‡‡é›†</h2><ul><li><p><code>ping 192.168.1. -c 1</code>-c 1å‘ä¸€ä¸ªpingåŒ…å°±åœæ­¢ï¼Œé»˜è®¤ä¸€ç›´å‘</p></li><li><p><code>traceroute baidu.com</code>æ£€æµ‹è·¯ç”±</p></li></ul><p><strong>ARPï¼šå°†ipè§£æä¸ºMACç‰©ç†åœ°å€</strong></p><ul><li>ä½¿ç”¨<code>apring</code>å‘½ä»¤æŸ¥çœ‹å±€åŸŸç½‘ä¸­çš„IPæ˜¯å¦æœ‰å†²çª</li></ul><p>å¦‚ä½•åœ¨Kaliä¸­æ’æŸ¥é»‘å®¢æ˜¯å¦å†’å……ç½‘å…³è¿›è¡Œä¸­é—´æ”»å‡»ï¼Ÿ</p><p>ä¼ªè£…æœºé…ç½®ï¼š<code>ifconfig ens33 192.168.1.1</code></p><p>Kaliæ¢æµ‹ï¼š<code>arping 192.168.1.1 -c 1</code>//æŸ¥çœ‹å±€åŸŸç½‘ä¸­æ˜¯å¦å­˜åœ¨arpæ”»å‡»ï¼Œå‡ºç°ä¸¤ä¸ªMACåœ°å€å¯¹åº”IPåœ°å€ï¼Œå°±æœ‰ARPæ”»å‡»äº†ã€‚</p><ul><li><code>netdiscover -i eth0 -r 192.168.1.0/27</code>æŸ¥çœ‹å±€åŸŸç½‘ä¸­å­˜æ´»çš„è®¾å¤‡ã€‚</li></ul><p>-i æ˜¯ç½‘ç»œè®¾å¤‡ï¼Œç½‘å¡ã€‚-r è¡¨ç¤ºæ‰«æèŒƒå›´</p><h2 id="4-2-è¢«åŠ¨é‡‡é›†"><a href="#4-2-è¢«åŠ¨é‡‡é›†" class="headerlink" title="4.2 è¢«åŠ¨é‡‡é›†"></a>4.2 è¢«åŠ¨é‡‡é›†</h2><p><code>netdiscover -p</code>æ‰«æå±€åŸŸç½‘ä¸­çš„è®¾å¤‡ï¼Œä¸å®¹æ˜“è¢«ç®¡ç†å‘˜å‘ç°</p><h2 id="4-3-ç”¨Hping3å¯¹æœåŠ¡å™¨è¿›è¡ŒDOSæ”»å‡»"><a href="#4-3-ç”¨Hping3å¯¹æœåŠ¡å™¨è¿›è¡ŒDOSæ”»å‡»" class="headerlink" title="4.3 ç”¨Hping3å¯¹æœåŠ¡å™¨è¿›è¡ŒDOSæ”»å‡»"></a>4.3 ç”¨Hping3å¯¹æœåŠ¡å™¨è¿›è¡ŒDOSæ”»å‡»</h2><p><code>hping3 -c 1000 -d 120 -s -w 64 -p 80 --flood --rand-source baidu.com</code></p><p>-c å‘é€åŒ…çš„æ•°é‡</p><p>-d å‘é€åˆ°ç›®æ ‡æœºå™¨çš„æ¯ä¸ªæ•°æ®åŒ…çš„å¤§å°ã€‚å•ä½æ˜¯å­—èŠ‚</p><p>-s åªå‘é€SYNæ•°æ®åŒ…</p><p>-w TCPçª—å£å¤§å°</p><p>-p ç›®çš„åœ°ç«¯å£ï¼ˆ80æ˜¯webç«¯å£ï¼‰</p><p>â€“flood æ´ªæ°´æ”»å‡»æ¨¡å¼ï¼Œå°½å¯èƒ½å¿«åœ°å‘é€æ•°æ®åŒ…</p><p>â€“rand-source ä½¿ç”¨éšæœºæ€§çš„æºå¤´ipåœ°å€ã€‚åªæ˜¯åœ¨å±€åŸŸä¸­ä¼ªé€ </p><h2 id="4-4-ä½¿ç”¨Nmapè¿›è¡ŒåŠè¿æ¥æ‰«æ"><a href="#4-4-ä½¿ç”¨Nmapè¿›è¡ŒåŠè¿æ¥æ‰«æ" class="headerlink" title="4.4 ä½¿ç”¨Nmapè¿›è¡ŒåŠè¿æ¥æ‰«æ"></a>4.4 ä½¿ç”¨Nmapè¿›è¡ŒåŠè¿æ¥æ‰«æ</h2><p><code>nmap -sS 101.200.128.35 -p 80,81,21,25,110,443</code>çœ‹æŸä¸ªç«¯å£æ˜¯å¦å¼€å¯</p><p><code>nmap -sS 101.200.128.35</code>æŸ¥çœ‹å…¶æ‰“å¼€çš„ç«¯å£ï¼Œä½†ä¸ä¼šå®Œå…¨æ‰«æ65535ä¸ªç«¯å£</p><p><code>nmap -sS 101.200.128.35 -p 1-1024</code>æŒ‡å®šç«¯å£èŒƒå›´</p><h2 id="4-5ä½¿ç”¨ncæ‰«æç«¯å£"><a href="#4-5ä½¿ç”¨ncæ‰«æç«¯å£" class="headerlink" title="4.5ä½¿ç”¨ncæ‰«æç«¯å£"></a>4.5ä½¿ç”¨ncæ‰«æç«¯å£</h2><p><code>nc -nv -w 1 -z 192.168.1.1 1-100</code></p><ol><li>å®ç°ä»»æ„TCP/UDPç«¯å£çš„ç›‘å¬ï¼Œncå¯ä»¥ä½œä¸ºserverä»¥TCPæˆ–UDPæ–¹å¼ç›‘å¬æŒ‡å®šç«¯å£ã€‚</li><li>ç«¯å£çš„æ‰«æï¼Œncå¯ä»¥ä½œä¸ºclientå‘èµ·TCOPæˆ–UDPè¿æ¥ã€‚</li><li>æœºå™¨ä¹‹é—´ä¼ è¾“æ–‡ä»¶ã€‚</li><li>æœºå™¨ä¹‹é—´ç½‘ç»œæµ‹é€Ÿ</li></ol><p>ncå‚æ•°ï¼š</p><p>-nv è¡¨ç¤ºæ‰«æçš„ç›®æ ‡æ˜¯ä¸ªIPåœ°å€ä¸åšåŸŸåè§£æ</p><p>-w è¡¨ç¤ºè¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡æ—¶é—´åˆ™ä¸å†æ‰«æ</p><p>-z è¡¨ç¤ºè¿›è¡Œç«¯å£æ‰«æ</p><h2 id="4-6-Scapyå®šåˆ¶ARPå’ŒICMPåè®®æ•°æ®åŒ…"><a href="#4-6-Scapyå®šåˆ¶ARPå’ŒICMPåè®®æ•°æ®åŒ…" class="headerlink" title="4.6 Scapyå®šåˆ¶ARPå’ŒICMPåè®®æ•°æ®åŒ…"></a>4.6 Scapyå®šåˆ¶ARPå’ŒICMPåè®®æ•°æ®åŒ…</h2><p>ä¼ªè£…ç½‘ç»œæŠ¥æ–‡</p><p><code>scapy</code>å¦‚æœæŠ¥é”™å¼¹å‡ºï¼š<code>Wont be able to plot</code></p><p><code>apt install python-matplotlib</code></p><p><code>exti()</code>//é€€å‡ºScapy</p><p><code>ARP().display()</code>//åˆ—å‡ºarpç›¸å…³å‚æ•°</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kali Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterå­¦ä¹ è®°å½•</title>
      <link href="/2020/02/15/Flutter%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/02/15/Flutter%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="1ï¼šFlutterä»‹ç»"><a href="#1ï¼šFlutterä»‹ç»" class="headerlink" title="1ï¼šFlutterä»‹ç»"></a>1ï¼šFlutterä»‹ç»</h1><ul><li><p>å¸‚é¢ä¸Šæœ‰å¾ˆå¤šæ··åˆå¼€å‘æ¡†æ¶ï¼Œæ¯”å¦‚ReactNativeã€lonicï¼Œä½†éƒ½æ˜¯é’ˆå¯¹å‰ç«¯å¼€å‘ã€‚</p></li><li><p>Flutteré’ˆå¯¹å…¨éƒ¨å¼€å‘è€…çš„æ··åˆæ¡†æ¶ã€‚</p></li><li><p>éœ€è¦Dartè¯­è¨€åŸºç¡€ã€‚</p></li></ul><h1 id="2ï¼šFlutterç›®å½•ç»“æ„ã€å…¥å£ã€è‡ªå®šä¹‰Widgetã€Centerç­‰ç»„ä»¶"><a href="#2ï¼šFlutterç›®å½•ç»“æ„ã€å…¥å£ã€è‡ªå®šä¹‰Widgetã€Centerç­‰ç»„ä»¶" class="headerlink" title="2ï¼šFlutterç›®å½•ç»“æ„ã€å…¥å£ã€è‡ªå®šä¹‰Widgetã€Centerç­‰ç»„ä»¶"></a>2ï¼šFlutterç›®å½•ç»“æ„ã€å…¥å£ã€è‡ªå®šä¹‰Widgetã€Centerç­‰ç»„ä»¶</h1><ul><li><p>ç›®å½•ï¼šiosï¼Œandroidï¼Œbuildï¼Œlibï¼Œtextï¼Œpubspec.yamlï¼ˆé…ç½®ä¾èµ–ï¼‰ï¼Œmain.dart</p></li><li><p>å…¥å£æ–‡ä»¶ã€æ–¹æ³•ï¼šå†main.dartä¸­</p></li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main()&#123;</span><br><span class="line">    runApp(<span class="keyword">new</span> MyApp())<span class="comment">//new å†Dartä¸­å¯ä»¥çœç•¥</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//void main()=&gt;runApp(MyApp());</span></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰ç»„ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    Widget build(BuildContext context)&#123;</span><br><span class="line">        <span class="keyword">return</span> MaterialApp(</span><br><span class="line">        home:Scaffold(</span><br><span class="line">        appBar:AppBar(</span><br><span class="line">                title:Text(<span class="string">&#x27;Flutter Demo&#x27;</span>)</span><br><span class="line">                ),</span><br><span class="line">                body:HomeContent(),</span><br><span class="line">        ),</span><br><span class="line">            theme:ThemeData(</span><br><span class="line">            primarySwatch:Colors.blue</span><br><span class="line">            ),</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    Widget build(BuildContext context)&#123;</span><br><span class="line">        <span class="keyword">return</span> Center(<span class="comment">//å†…å®¹å±…ä¸­çš„LinearLayout</span></span><br><span class="line">    child:Text(</span><br><span class="line">            <span class="string">&#x27;Hello Flutter&#x27;</span>ï¼Œ</span><br><span class="line">            textDirection:TextDirection.ltr,<span class="comment">//æ–‡å­—æ–¹å‘ä»å·¦åˆ°å³</span></span><br><span class="line">                style:TextStyle(</span><br><span class="line">                fontSize:<span class="number">40.0</span>,</span><br><span class="line">                    color:Colors.yellow,</span><br><span class="line">                    <span class="comment">//color:Color.formRGBO(244,233,121,0.5),</span></span><br><span class="line">                ),</span><br><span class="line">        )</span><br><span class="line">    );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3ï¼šContainerç»„ä»¶ã€Textç»„ä»¶"><a href="#3ï¼šContainerç»„ä»¶ã€Textç»„ä»¶" class="headerlink" title="3ï¼šContainerç»„ä»¶ã€Textç»„ä»¶"></a>3ï¼šContainerç»„ä»¶ã€Textç»„ä»¶</h1><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="comment">// This widget is the root of your application.</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      home:Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(<span class="string">&quot;flutter demo&quot;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: HomeContent(),</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Container(</span><br><span class="line">        child: Text(<span class="string">&#x27;å„ä½åŒå­¦å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç æ±Ÿè€å¸ˆé˜¿å‘æ˜¯å¦ä½ å¥½å—&#x27;</span>,</span><br><span class="line">        textAlign: TextAlign.left,</span><br><span class="line">        style: TextStyle(</span><br><span class="line">          fontSize: <span class="number">16</span>,</span><br><span class="line">          color: Colors.red,</span><br><span class="line">          fontWeight: FontWeight.w800,<span class="comment">//åŠ ç²—</span></span><br><span class="line">          fontStyle: FontStyle.italic,<span class="comment">//æ–œçº¿</span></span><br><span class="line">          decoration: TextDecoration.lineThrough,</span><br><span class="line">          decorationColor: Colors.white,</span><br><span class="line">          decorationStyle: TextDecorationStyle.dashed,</span><br><span class="line">          letterSpacing: <span class="number">5</span></span><br><span class="line">        ),</span><br><span class="line">        overflow: TextOverflow.ellipsis,</span><br><span class="line">        maxLines: <span class="number">2</span>,</span><br><span class="line">        textScaleFactor: <span class="number">1.2</span>,<span class="comment">//size scale 2 times</span></span><br><span class="line">        ),</span><br><span class="line">        height: <span class="number">300</span>,</span><br><span class="line">        width: <span class="number">300</span>,</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          color: Colors.yellow,</span><br><span class="line">          border: Border.all(</span><br><span class="line">            color: Colors.blue,</span><br><span class="line">            width: <span class="number">2</span></span><br><span class="line">          ),</span><br><span class="line">          borderRadius: BorderRadius.all(</span><br><span class="line">            Radius.circular(<span class="number">20</span>)</span><br><span class="line">          )</span><br><span class="line">        ),</span><br><span class="line">        padding: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">        margin: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">        <span class="comment">//transform: Matrix4.translationValues(100, 0, 0),</span></span><br><span class="line">        transform: Matrix4.rotationZ(<span class="number">0.3</span>),</span><br><span class="line">        alignment: Alignment.bottomLeft,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4ï¼šå›¾ç‰‡ç»„ä»¶Imageã€æœ¬åœ°å›¾ç‰‡ã€è¿œç¨‹å›¾ç‰‡ã€å›¾ç‰‡è£å‰ª"><a href="#4ï¼šå›¾ç‰‡ç»„ä»¶Imageã€æœ¬åœ°å›¾ç‰‡ã€è¿œç¨‹å›¾ç‰‡ã€å›¾ç‰‡è£å‰ª" class="headerlink" title="4ï¼šå›¾ç‰‡ç»„ä»¶Imageã€æœ¬åœ°å›¾ç‰‡ã€è¿œç¨‹å›¾ç‰‡ã€å›¾ç‰‡è£å‰ª"></a>4ï¼šå›¾ç‰‡ç»„ä»¶Imageã€æœ¬åœ°å›¾ç‰‡ã€è¿œç¨‹å›¾ç‰‡ã€å›¾ç‰‡è£å‰ª</h1><h2 id="4-1-ç½‘ç»œå›¾ç‰‡å’Œæ ·å¼"><a href="#4-1-ç½‘ç»œå›¾ç‰‡å’Œæ ·å¼" class="headerlink" title="4.1 ç½‘ç»œå›¾ç‰‡å’Œæ ·å¼"></a>4.1 ç½‘ç»œå›¾ç‰‡å’Œæ ·å¼</h2><ul><li>ç½‘ç»œå›¾ç‰‡ï¼š</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Container(</span><br><span class="line">        child: Image.network(<span class="string">&quot;https://i0.hdslb.com/bfs/archive/9377fda78c8a873085bd133e4fc54699ab56746d.jpg@336w_190h.webp&quot;</span>,</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          <span class="comment">//color: Colors.yellow,</span></span><br><span class="line">          <span class="comment">//colorBlendMode: BlendMode.screen,</span></span><br><span class="line">          fit: BoxFit.cover,<span class="comment">//coverï¼šæ‹‰ä¼¸å‰ªåˆ‡ï¼Œä½†ä¸å˜å½¢ã€‚æœ€å¸¸ç”¨</span></span><br><span class="line">          <span class="comment">//repeat: ImageRepeat.repeatX,//Xè½´å¹³é“º</span></span><br><span class="line">        ),</span><br><span class="line">        width: <span class="number">300</span>,</span><br><span class="line">        height: <span class="number">300</span>,</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          color: Colors.lightBlue</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>å®¹å™¨è£…é¥°å›¾ç‰‡</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Container(</span><br><span class="line">        width: <span class="number">300</span>,</span><br><span class="line">        height: <span class="number">300</span>,</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          borderRadius: BorderRadius.circular(<span class="number">150</span>),</span><br><span class="line">          image: DecorationImage(</span><br><span class="line">            image: NetworkImage(<span class="string">&quot;https://i0.hdslb.com/bfs/archive/b13bfd82fdea672001554eca19c6bf7135e2f692.jpg@336w_190h.webp&quot;</span>),</span><br><span class="line">            fit: BoxFit.cover</span><br><span class="line">          )</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>ClipOval</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Container(</span><br><span class="line">        child: ClipOval(</span><br><span class="line">          child: Image.network(<span class="string">&quot;https://i0.hdslb.com/bfs/archive/b13bfd82fdea672001554eca19c6bf7135e2f692.jpg@336w_190h.webp&quot;</span>,</span><br><span class="line">            height: <span class="number">100</span>,</span><br><span class="line">            width: <span class="number">100</span>,</span><br><span class="line">            fit: BoxFit.cover,</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-2-å¼•å…¥æœ¬åœ°å›¾ç‰‡"><a href="#4-2-å¼•å…¥æœ¬åœ°å›¾ç‰‡" class="headerlink" title="4.2 å¼•å…¥æœ¬åœ°å›¾ç‰‡"></a>4.2 å¼•å…¥æœ¬åœ°å›¾ç‰‡</h2><ol><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹images</li></ol><ul><li>build</li><li>images<ul><li>2.0x</li><li>3.0x</li><li>4.0x</li></ul></li></ul><ol start="2"><li>åœ¨æ–‡ä»¶å¤¹é‡Œæ”¾å…¥å›¾ç‰‡ï¼Œä¼šæ ¹æ®å±å¹•åˆ†è¾¨ç‡é…ç½®ä¸åŒå›¾ç‰‡</li><li>åœ¨pubspec.yamlä¸­é…ç½®</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">assets:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">images/2.0x/a.jpeg</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">images/3.0x/a.jpeg</span></span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨ä»£ç ä¸­ä½¿ç”¨</li></ol><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Container(</span><br><span class="line">        child: Image.asset(<span class="string">&#x27;images/a.jpeg&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h1 id="5ï¼šListViewç»„ä»¶"><a href="#5ï¼šListViewç»„ä»¶" class="headerlink" title="5ï¼šListViewç»„ä»¶"></a>5ï¼šListViewç»„ä»¶</h1><h2 id="5-1-åŸºæœ¬åˆ—è¡¨"><a href="#5-1-åŸºæœ¬åˆ—è¡¨" class="headerlink" title="5.1 åŸºæœ¬åˆ—è¡¨"></a>5.1 åŸºæœ¬åˆ—è¡¨</h2><ul><li>å‚ç›´åˆ—è¡¨ ListTileç»„ä»¶</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      padding: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        ListTile(</span><br><span class="line">          leading: Icon(Icons.settings,color: Colors.red,),<span class="comment">//å‰ç½®å›¾æ ‡</span></span><br><span class="line">          title: Text(<span class="string">&quot;1ä½ å¥½åˆ—è¡¨ç»„ä»¶&quot;</span>,style: TextStyle(</span><br><span class="line">            fontSize: <span class="number">24</span></span><br><span class="line">          ),),</span><br><span class="line">          subtitle: Text(<span class="string">&quot;1ä½ å¥½æˆ‘æ˜¯äºŒçº§æ ‡é¢˜&quot;</span>),</span><br><span class="line">        ),</span><br><span class="line">        ListTile(</span><br><span class="line">          title: Text(<span class="string">&quot;1ä½ å¥½åˆ—è¡¨ç»„ä»¶&quot;</span>),</span><br><span class="line">          subtitle: Text(<span class="string">&quot;1ä½ å¥½æˆ‘æ˜¯äºŒçº§æ ‡é¢˜&quot;</span>),</span><br><span class="line">          trailing: Icon(Icons.home,size: <span class="number">30</span>,),<span class="comment">//åç½®å›¾æ ‡</span></span><br><span class="line">        ),</span><br><span class="line">        ListTile(</span><br><span class="line">          leading: Image.network(<span class="string">&quot;https://i0.hdslb.com/bfs/sycp/creative_img/202002/849753c8234f501092c0b8ae6af5b679.jpg&quot;</span>),</span><br><span class="line">          title: Text(<span class="string">&quot;ä½ å¥½åˆ—è¡¨ç»„ä»¶&quot;</span>),</span><br><span class="line">          subtitle: Text(<span class="string">&quot;ä½ å¥½æˆ‘æ˜¯äºŒçº§æ ‡é¢˜&quot;</span>),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å‚ç›´å›¾æ–‡åˆ—è¡¨</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      padding: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        Image.network(<span class="string">&quot;https://i0.hdslb.com/bfs/sycp/creative_img/202002/849753c8234f501092c0b8ae6af5b679.jpg&quot;</span>),</span><br><span class="line">        Container(</span><br><span class="line">          child: Text(<span class="string">&quot;i am title&quot;</span>,textAlign: TextAlign.center,style: TextStyle(fontSize: <span class="number">18</span>),),</span><br><span class="line">          height: <span class="number">40</span>,</span><br><span class="line">          padding: EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">10</span>),</span><br><span class="line">        ),</span><br><span class="line">        Image.network(<span class="string">&quot;https://i0.hdslb.com/bfs/sycp/creative_img/202002/849753c8234f501092c0b8ae6af5b679.jpg&quot;</span>),</span><br><span class="line">        Container(</span><br><span class="line">          child: Text(<span class="string">&quot;i am title&quot;</span>,textAlign: TextAlign.center,style: TextStyle(fontSize: <span class="number">18</span>),),</span><br><span class="line">          height: <span class="number">40</span>,</span><br><span class="line">          padding: EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">10</span>),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ°´å¹³åˆ—è¡¨</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      height: <span class="number">180</span>,</span><br><span class="line">      child: ListView(</span><br><span class="line">        padding: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">        scrollDirection: Axis.horizontal,</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">180</span>,</span><br><span class="line">            height: <span class="number">180</span>,</span><br><span class="line">            color: Colors.red,</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">180</span>,</span><br><span class="line">            height: <span class="number">180</span>,</span><br><span class="line">            color: Colors.orange,</span><br><span class="line">            child: ListView(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Image.network(<span class="string">&quot;https://i0.hdslb.com/bfs/sycp/creative_img/202002/849753c8234f501092c0b8ae6af5b679.jpg&quot;</span>),</span><br><span class="line">                Text(<span class="string">&quot;i am text&quot;</span>)</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">180</span>,</span><br><span class="line">            height: <span class="number">180</span>,</span><br><span class="line">            color: Colors.blue,</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>scrollDirection</strong></p><h2 id="5-2-ListViewåˆ—è¡¨ç»„ä»¶ã€åŠ¨æ€åˆ—è¡¨"><a href="#5-2-ListViewåˆ—è¡¨ç»„ä»¶ã€åŠ¨æ€åˆ—è¡¨" class="headerlink" title="5.2 ListViewåˆ—è¡¨ç»„ä»¶ã€åŠ¨æ€åˆ—è¡¨"></a>5.2 ListViewåˆ—è¡¨ç»„ä»¶ã€åŠ¨æ€åˆ—è¡¨</h2><ul><li>å±•ç¤ºä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ•°æ®</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line">  <span class="comment">//è‡ªå®šä¹‰æ–¹æ³•</span></span><br><span class="line">  <span class="built_in">List</span>&lt;Widget&gt; _getData()&#123;</span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; list=<span class="keyword">new</span> <span class="built_in">List</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line">      list.add(ListTile(</span><br><span class="line">        title: Text(<span class="string">&quot;iam <span class="subst">$i</span> list&quot;</span>),</span><br><span class="line">      ));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      children: _getData()</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ListView.builder</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeContent</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span> list=<span class="keyword">new</span> <span class="built_in">List</span>();</span><br><span class="line">  HomeContent()&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">      list.add(ListTile(</span><br><span class="line">        title: Text(<span class="string">&quot;iam <span class="subst">$i</span> list&quot;</span>),</span><br><span class="line">      ));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> ListView.builder(</span><br><span class="line">        itemCount: <span class="keyword">this</span>.list.length,</span><br><span class="line">        itemBuilder: (context,index)&#123;</span><br><span class="line">          <span class="keyword">return</span> ListTile(</span><br><span class="line">            title: Text(<span class="keyword">this</span>.list[index]),</span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueã€Vuejså­¦ä¹ è®°å½•</title>
      <link href="/2020/02/15/Vue%E3%80%81Vuejs%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/02/15/Vue%E3%80%81Vuejs%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šES6è¡¥å……"><a href="#0ï¼šES6è¡¥å……" class="headerlink" title="0ï¼šES6è¡¥å……"></a>0ï¼šES6è¡¥å……</h1><h2 id="0-1-å—çº§ä½œç”¨åŸŸ"><a href="#0-1-å—çº§ä½œç”¨åŸŸ" class="headerlink" title="0.1 å—çº§ä½œç”¨åŸŸ"></a>0.1 å—çº§ä½œç”¨åŸŸ</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">//å˜é‡ä½œç”¨åŸŸï¼šå˜é‡åœ¨ä»€ä¹ˆèŒƒå›´å†…å¯ç”¨</span></span></span><br><span class="line">    &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> name = <span class="string">&#x27;why&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(name);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(name);<span class="comment">//åœ¨å¤§æ‹¬å·å¤–ä¹Ÿèƒ½æ‰“å¼€ã€‚</span></span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//æ²¡æœ‰å—çº§ä½œç”¨åŸŸä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;btns.length;i++)&#123;</span></span><br><span class="line"><span class="javascript">        btns[i].addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;ç¬¬&#x27;</span>+i+<span class="string">&#x27;ä¸ªæŒ‰é’®è¢«ç‚¹å‡»&#x27;</span>)</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//æ˜¾ç¤ºçš„æŒ‰é’®è¢«ç‚¹å‡»ä¸å‡†ç¡®ã€‚ä½¿ç”¨é—­åŒ…è§£å†³æ­¤é—®é¢˜    </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;btns.length;i++)&#123;</span></span><br><span class="line"><span class="javascript">        (<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            btns[num].addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;ç¬¬&#x27;</span>+num+<span class="string">&#x27;ä¸ªæŒ‰é’®è¢«ç‚¹å‡»&#x27;</span>)</span></span><br><span class="line">        &#125;)</span><br><span class="line">        &#125;)(i)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="1ï¼šVueåˆä½“éªŒ"><a href="#1ï¼šVueåˆä½“éªŒ" class="headerlink" title="1ï¼šVueåˆä½“éªŒ"></a>1ï¼šVueåˆä½“éªŒ</h1><h2 id="1-1-è®¤è¯†Vuejs"><a href="#1-1-è®¤è¯†Vuejs" class="headerlink" title="1.1 è®¤è¯†Vuejs"></a>1.1 è®¤è¯†Vuejs</h2><p>ä½œä¸ºæ—¶ä¸‹æµè¡Œçš„å‰ç«¯æ¡†æ¶ï¼ŒVuejsæ˜¯å¾ˆå¤šä¸­å°å‹ä¼ä¸šå¼€å‘é¡¹ç›®çš„é¦–é€‰æ¡†æ¶ã€‚</p><ul><li><p>Vueæ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„æ¡†æ¶ã€‚</p><ul><li>æ¸è¿›å¼æ„å‘³ç€å¯ä»¥å°†Vueä½œä¸ºåº”ç”¨çš„ä¸€éƒ¨åˆ†åµŒå…¥è¿›å»ï¼Œå¸¦æ¥æ›´ä¸°å¯Œçš„äº¤äº’ä½“éªŒã€‚</li></ul></li><li><p>Vueç‰¹ç‚¹å’ŒWebå¼€å‘ä¸­çš„é«˜çº§åŠŸèƒ½</p><ul><li>è§£è€¦è§†å›¾å’Œæ•°æ®</li><li>å¯å¤ç”¨çš„ç»„ä»¶</li><li>å‰ç«¯è·¯ç”±</li><li>çŠ¶æ€ç®¡ç†</li><li>è™šæ‹ŸDOM</li></ul></li><li><p>å­¦ä¹ å‰æ</p><ul><li>ä¸éœ€è¦Angularã€Reactã€jQuery</li><li>éœ€è¦HTMLã€CSSã€JavaScriptåŸºç¡€</li></ul></li></ul><h2 id="1-2-Vue-jså®‰è£…"><a href="#1-2-Vue-jså®‰è£…" class="headerlink" title="1.2 Vue.jså®‰è£…"></a>1.2 Vue.jså®‰è£…</h2><p>æ–¹å¼ä¸€ï¼šç›´æ¥CDNå¼•å…¥</p><p>æ–¹å¼äºŒï¼šä¸‹è½½å’Œå¼•å…¥</p><ul><li><p>å®‰è£…æ•™ç¨‹ <a href="https://cn.vuejs.org/">https://cn.vuejs.org</a></p></li><li><p>å¼€å‘ç¯å¢ƒ <a href="https://vuejs.org/js/vue.js">https://vuejs.org/js/vue.js</a></p></li><li><p>ç”Ÿäº§ç¯å¢ƒ <a href="https://vuejs.org/js/vue.min.js">https://vuejs.org/js/vue.min.js</a></p></li></ul><p>æ–¹å¼ä¸‰ï¼šNPMå®‰è£…</p><ul><li>é€šè¿‡webpackå’ŒCLI</li></ul><h2 id="1-3-Hello-Vuejs"><a href="#1-3-Hello-Vuejs" class="headerlink" title="1.3 Hello Vuejs"></a>1.3 Hello Vuejs</h2><p>Vueçš„å“åº”å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">            &#123;&#123;name&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//let(å˜é‡)/const(å¸¸é‡)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//ç¼–ç¨‹èŒƒå¼ï¼šå£°æ˜å¼ç¼–ç¨‹</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,<span class="comment">//ç”¨äºæŒ‚åœ¨è¦ç®¡ç†çš„å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            data:&#123;<span class="comment">//å®šä¹‰æ•°æ®</span></span></span><br><span class="line"><span class="javascript">                message:<span class="string">&#x27;ä½ å¥½å•Šï¼&#x27;</span>,<span class="comment">//åœ¨divä¸­æ˜¾ç¤ºmessageå†…å®¹</span></span></span><br><span class="line"><span class="javascript">                name:<span class="string">&#x27;coderwhy&#x27;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)        </span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//åŸå§‹jsçš„åšæ³•ï¼ˆç¼–ç¨‹èŒƒå¼ï¼šå‘½ä»¤å¼ç¼–ç¨‹ï¼‰</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1.åˆ›å»ºdivå…ƒç´ ï¼Œè®¾ç½®idå±æ€§</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2.å®šä¹‰ä¸€ä¸ªå˜é‡å«message</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//3.å°†messageå˜é‡æ”¾åœ¨divå…ƒç´ ä¸­æ˜¾ç¤º</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//4.ä¿®æ”¹messgeçš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//5.å°†ä¿®æ”¹åçš„æ•°æ®æ›¿æ¢åˆ°divå…ƒç´ </span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-4-Vueåˆ—è¡¨æ˜¾ç¤º"><a href="#1-4-Vueåˆ—è¡¨æ˜¾ç¤º" class="headerlink" title="1.4 Vueåˆ—è¡¨æ˜¾ç¤º"></a>1.4 Vueåˆ—è¡¨æ˜¾ç¤º</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in movies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line"><span class="javascript">                message:<span class="string">&#x27;ä½ å¥½å•Š&#x27;</span>ï¼Œ</span></span><br><span class="line"><span class="javascript">                movies:[<span class="string">&#x27;æµ·ç‹&#x27;</span>,<span class="string">&#x27;å¤§è¯è¥¿æ¸¸&#x27;</span>,<span class="string">&#x27;æ˜Ÿé™…ç©¿è¶Š&#x27;</span>,<span class="string">&#x27;å°‘å¹´æ´¾&#x27;</span>]</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>app.movies.push(&#39;ç›—æ¢¦ç©ºé—´&#39;)//æ·»åŠ æ•°æ®</code></p><ul><li>ä½¿ç”¨v-foræŒ‡ä»¤éå†æ•°ç»„å…ƒç´ </li></ul><p><strong>æ¡ˆä¾‹å±•ç¤ºï¼šè®¡æ•°å™¨</strong></p><script src="/js/vue.min.js"></script><div id="app">    å½“å‰è®¡æ•°ï¼š0</br>        <button v-on:click="counter++">+</button>        <button v-on:click="counter--">-</button></div><script>        //è¯­æ³•ç³–ï¼šç®€å†™        const app = new Vue({            el:'#app',            data:{                counter:0            }        })</script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">            å½“å‰è®¡æ•°ï¼š&#123;&#123;counter&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;button v-on:click=&quot;counter++&quot;&gt;+&lt;/button&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;button v-on:click=&quot;counter--&quot;&gt;-&lt;/button&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;min&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¯­æ³•ç³–ï¼šç®€å†™</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line">                counter:0</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line"><span class="javascript">                add:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">&#x27;addè¢«æ‰§è¡Œ&#x27;</span>)ï¼›</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.counter++;</span></span><br><span class="line">                &#125;,</span><br><span class="line"><span class="javascript">                min:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;minè¢«æ‰§è¡Œ&#x27;</span>)ï¼›</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.counter--;</span></span><br><span class="line">        &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//åŸå§‹js</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1.æ‹¿buttomå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2.æ·»åŠ ç›‘å¬æ—¶é—´</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>æ–°å±æ€§ï¼šmethodsï¼Œè¯¥å±æ€§ç”¨äºVueå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³•ã€‚</p></li><li><p>æ–°æŒ‡ä»¤ï¼š@clickï¼Œè¯¥æŒ‡ä»¤ç”¨äºç›‘å¬æŸä¸ªå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚</p></li></ul><h2 id="1-5-Vueä¸­çš„MVVM"><a href="#1-5-Vueä¸­çš„MVVM" class="headerlink" title="1.5 Vueä¸­çš„MVVM"></a>1.5 Vueä¸­çš„MVVM</h2><p>ä»€ä¹ˆæ˜¯MVVMï¼Ÿ</p><ul><li>Model View ViewModel</li></ul><h2 id="1-6-åˆ›å»ºVueå®ä¾‹ä¼ å…¥çš„options"><a href="#1-6-åˆ›å»ºVueå®ä¾‹ä¼ å…¥çš„options" class="headerlink" title="1.6 åˆ›å»ºVueå®ä¾‹ä¼ å…¥çš„options"></a>1.6 åˆ›å»ºVueå®ä¾‹ä¼ å…¥çš„options</h2><p>ç›®å‰æŒæ¡çš„é€‰é¡¹</p><ul><li><p>elï¼š</p><ul><li>å­—ç¬¦å‹String|HTMLElement</li><li>å†³å®šVueç®¡ç†å“ªä¸€ä¸ªDOM</li></ul></li><li><p>dataï¼š</p><ul><li>Object|Funtion()<strong>ï¼ˆç»„ä»¶å½“ä¸­å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰</strong></li><li>Vueå®ä¾‹å¯¹åº”çš„æ•°æ®å¯¹è±¡ã€‚</li></ul></li><li><p>methodsï¼š</p><ul><li>{[key:string] Function}</li><li>å®šä¹‰å±äºVueçš„ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨æŒ‡ä»¤ä¸­ä½¿ç”¨</li></ul></li></ul><h2 id="1-7-Vueçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#1-7-Vueçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.7 Vueçš„ç”Ÿå‘½å‘¨æœŸ"></a>1.7 Vueçš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ç”Ÿå‘½å‘¨æœŸï¼šäº‹ç‰©ä»è¯ç”Ÿåˆ°æ¶ˆäº¡çš„æ•´ä¸ªè¿‡ç¨‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:obj,</span><br><span class="line">        methods:&#123;&#125;,</span><br><span class="line"><span class="javascript">        created:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</span></span><br><span class="line"><span class="javascript">        mounted:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-8-Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#1-8-Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="1.8 Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>1.8 Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:obj,</span><br><span class="line">        methods:&#123;&#125;,</span><br><span class="line"><span class="javascript">        beforeCreate:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="comment">//Hook:é’©å­å‡½æ•°</span></span></span><br><span class="line"><span class="javascript">        created:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</span></span><br><span class="line"><span class="javascript">        mounted:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</strong><code>beforeCreate,create,beforeMounte,mounted,beforeUpdate,updated,beforDestroy,destroyed</code></p><h1 id="2ï¼šæ’å€¼çš„æ“ä½œ"><a href="#2ï¼šæ’å€¼çš„æ“ä½œ" class="headerlink" title="2ï¼šæ’å€¼çš„æ“ä½œ"></a>2ï¼šæ’å€¼çš„æ“ä½œ</h1><h2 id="2-1-Mustacheè¯­æ³•ï¼Œæ’å€¼çš„æ“ä½œ"><a href="#2-1-Mustacheè¯­æ³•ï¼Œæ’å€¼çš„æ“ä½œ" class="headerlink" title="2.1 Mustacheè¯­æ³•ï¼Œæ’å€¼çš„æ“ä½œ"></a>2.1 Mustacheè¯­æ³•ï¼Œæ’å€¼çš„æ“ä½œ</h2><p>Mustacheè¯­æ³•ï¼šåŒå¤§æ‹¬å·//mustacheèƒ¡é¡»</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;firstName+&#x27; &#x27;+lastName&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter*2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&#x27;nihao&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            firstName:<span class="string">&#x27;kobe&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            lastName:<span class="string">&#x27;bryant&#x27;</span>,</span></span><br><span class="line">            counter:100</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>mustacheè¯­æ³•ä¸ä»…å¯ä»¥ç›´æ¥å†™å˜é‡ï¼Œè¿˜å¯ä»¥å†™è¯­æ³•ã€‚</p><h2 id="2-2-æ’å€¼æ“ä½œâ€“å…¶ä»–æŒ‡ä»¤ä½¿ç”¨"><a href="#2-2-æ’å€¼æ“ä½œâ€“å…¶ä»–æŒ‡ä»¤ä½¿ç”¨" class="headerlink" title="2.2 æ’å€¼æ“ä½œâ€“å…¶ä»–æŒ‡ä»¤ä½¿ç”¨"></a>2.2 æ’å€¼æ“ä½œâ€“å…¶ä»–æŒ‡ä»¤ä½¿ç”¨</h2><ul><li><strong>v-once</strong>: ä¸æƒ³æ”¹å˜DOMå€¼ï¼Œä½¿DOMå˜æˆéå“åº”å¼ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span></span><br><span class="line">    &#123;&#123;message&#125;&#125;<span class="comment">&lt;!--messageä¸ä¼šéšæ•°æ®æ›´æ–°è€Œæ”¹å˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>v-html</strong>:ç›´æ¥å±•ç¤ºhtmlä»£ç ï¼Œè€Œä¸æ˜¯å±•ç¤ºå…¶å­—ç¬¦ä¸²</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line"><span class="handlebars"><span class="xml">                url=&#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦ä¸€ä¸‹<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š<a href="https://www.baidu.com/">ç™¾åº¦ä¸€ä¸‹</a></p><ul><li><strong>v-text</strong>ï¼šå’Œä½œç”¨ç›¸åŒï¼Œä½†ä¼šè¦†ç›–<code>&lt;h2&gt;</code>ä»£ç å—ä¸­çš„å­—ç¬¦ä¼šè¢«è¦†ç›–æ‰ï¼Œä¸çµæ´»ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,<span class="comment">//ç”¨äºæŒ‚åœ¨è¦ç®¡ç†çš„å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            data:&#123;<span class="comment">//å®šä¹‰æ•°æ®</span></span></span><br><span class="line"><span class="javascript">                message:<span class="string">&#x27;ä½ å¥½å•Šï¼&#x27;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>v-pre</strong>ï¼šå°†ä¾‹å¦‚å¤§æ‹¬å·æ˜¾ç¤ºå‡ºæ¥ï¼Œä¸æ¸²æŸ“æ•°æ®</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span></span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><ul><li><strong>v-cloak</strong>ï¼šå½“jså»¶è¿ŸåŠ è½½å‡ºæ¥æ—¶ï¼Œä¸æ˜¾ç¤ºdomæ¸²æŸ“ä¹‹å‰çš„å€¼ã€‚ä¸ä¼šåœ¨æ¸²æŸ“ä¹‹å‰å‡ºç°//cloakæ–—ç¯·</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--&lt;head&gt;</span></span><br><span class="line"><span class="comment">    &lt;style&gt;</span></span><br><span class="line"><span class="comment">        [v-cloak]&#123;</span></span><br><span class="line"><span class="comment">            display:none;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &lt;/style&gt;</span></span><br><span class="line"><span class="comment">&lt;/head&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="3ï¼šåŠ¨æ€ç»‘å®šå±æ€§"><a href="#3ï¼šåŠ¨æ€ç»‘å®šå±æ€§" class="headerlink" title="3ï¼šåŠ¨æ€ç»‘å®šå±æ€§"></a>3ï¼šåŠ¨æ€ç»‘å®šå±æ€§</h1><h2 id="3-1-v-bindï¼ŒåŠ¨æ€ç»‘å®šDOMå±æ€§"><a href="#3-1-v-bindï¼ŒåŠ¨æ€ç»‘å®šDOMå±æ€§" class="headerlink" title="3.1 v-bindï¼ŒåŠ¨æ€ç»‘å®šDOMå±æ€§"></a>3.1 v-bindï¼ŒåŠ¨æ€ç»‘å®šDOMå±æ€§</h2><ul><li>v-bindçš„åŸºæœ¬ä½¿ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;imgURL&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;aHref&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--è¯­æ³•ç³–çš„å†™æ³•--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgURL&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;aHref&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,<span class="comment">//ç”¨äºæŒ‚åœ¨è¦ç®¡ç†çš„å…ƒç´ </span></span></span><br><span class="line">            data:&#123;</span><br><span class="line"><span class="javascript">                aHref=<span class="string">&quot;https://www.baidu.com&quot;</span>,</span></span><br><span class="line"><span class="javascript">imgURL:<span class="string">&#x27;https://i0.hdslb.com/bfs/sycp/creative_img/202002/1e9bfa663a93374c8e10c3933cfc78f8.jpg&#x27;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>v-bindç®€å†™/è¯­æ³•ç³–ï¼š<code>:</code></li><li>v-bindå¯¹è±¡ç”¨æ³•ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;class1:isClass1,class2:isClass2&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&quot;showClassExample&quot;</span></span></span><br><span class="line"><span class="javascript">            isClass1:<span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">            isClass2:<span class="literal">false</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>//titleç±»å›ºå®šï¼ŒåŠ¨æ€æ›´æ”¹class1å’Œclass2</strong></p><p><code>&#123;ç±»å:å¸ƒå°”å€¼,ç±»åï¼šå¸ƒå°”å€¼&#125;</code></p><ul><li>v-bindæ•°ç»„è¯­æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;getClasses()&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&quot;showClassExample&quot;</span>,</span></span><br><span class="line"><span class="javascript">            isClass1:<span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">            isClass2:<span class="literal">false</span></span></span><br><span class="line">        &#125;</span><br><span class="line">        methods:&#123;</span><br><span class="line"><span class="javascript">        getClasses:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span>&#123;<span class="attr">class1</span>:<span class="built_in">this</span>.isClass1,<span class="attr">class2</span>:<span class="built_in">this</span>.isClass2&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šv-onä¸­å‡½æ•°çœç•¥äº†()ï¼Œä½†v-bindéœ€è¦æ·»åŠ ()</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;[class1,class2]&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&quot;showClassExample&quot;</span>,</span></span><br><span class="line"><span class="javascript">            class1:<span class="string">&#x27;class1&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            class2:<span class="string">&#x27;class2&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-2-ä½œä¸šï¼Œç»“åˆv-forå’Œv-bind"><a href="#3-2-ä½œä¸šï¼Œç»“åˆv-forå’Œv-bind" class="headerlink" title="3.2 ä½œä¸šï¼Œç»“åˆv-forå’Œv-bind"></a>3.2 ä½œä¸šï¼Œç»“åˆv-forå’Œv-bind</h2><p>ä½œä¸šï¼šä½¿ç”¨v-foræ˜¾ç¤ºä¸€ä¸ªç”µå½±åç§°åˆ—è¡¨ï¼Œè®¾ç½®ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œå½“æŸä¸ªç”µå½±è¢«ç‚¹å‡»ï¼Œæ”¹å˜æ­¤ç”µå½±åç§°å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ã€‚</p><p>ç­”æ¡ˆï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.red</span>&#123;<span class="attribute">color</span>:red&#125;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(m, index) in movies&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickItem=index&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;red:clickItem==index&#125;&quot;</span>&gt;</span>&#123;&#123;m&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="javascript">                movies: [<span class="string">&#x27;å¤ä»‡è€…è”ç›Ÿ&#x27;</span>, <span class="string">&#x27;ç”ŸåŒ–å±æœº&#x27;</span>, <span class="string">&#x27;æ˜Ÿé™…å¤§æˆ˜&#x27;</span>, <span class="string">&#x27;é’¢é“ä¾ &#x27;</span>],</span></span><br><span class="line">                clickItem:99,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-3-v-bindåŠ¨æ€ç»‘å®šæ ·å¼"><a href="#3-3-v-bindåŠ¨æ€ç»‘å®šæ ·å¼" class="headerlink" title="3.3 v-bindåŠ¨æ€ç»‘å®šæ ·å¼"></a>3.3 v-bindåŠ¨æ€ç»‘å®šæ ·å¼</h2><ul><li>æ ·å¼çš„å¯¹è±¡ç”¨æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:&#x27;50px&#x27;,color:finalColor&#125;&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&#x27;abc&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        finalColor:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š{fontSize:50px}ä¸ºé”™è¯¯è¡¨è¾¾ï¼Œ50pxä¼šè¢«è§£æä¸ºä¸€ä¸ªå˜é‡ï¼Œ50pxå¿…é¡»åŠ å•å¼•å·</p></blockquote><ul><li>æ ·å¼çš„æ•°ç»„ç”¨æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[style1,style2]&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&#x27;abc&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        style1:&#123;<span class="attr">fontSize</span>:<span class="string">&#x27;100px&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">            style2:&#123;<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="4ï¼šè®¡ç®—å±æ€§"><a href="#4ï¼šè®¡ç®—å±æ€§" class="headerlink" title="4ï¼šè®¡ç®—å±æ€§"></a>4ï¼šè®¡ç®—å±æ€§</h1><h2 id="4-1-è®¡ç®—å±æ€§çš„åŸºæœ¬ç”¨æ³•"><a href="#4-1-è®¡ç®—å±æ€§çš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="4.1 è®¡ç®—å±æ€§çš„åŸºæœ¬ç”¨æ³•"></a>4.1 è®¡ç®—å±æ€§çš„åŸºæœ¬ç”¨æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;firstName+&quot; &quot;+lastName&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;getFullName()&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;fullName&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">        firstName:<span class="string">&#x27;Lebron&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            lastName:<span class="string">&#x27;James&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        computed:&#123;</span><br><span class="line"><span class="javascript">            fullName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="built_in">this</span>.fistName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">        &#125;,<span class="comment">//è®¡ç®—å±æ€§</span></span></span><br><span class="line">        methods:&#123;</span><br><span class="line">        getFullName()&#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="built_in">this</span>.fistName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>computed:è®¡ç®—å±æ€§çš„ä½¿ç”¨</strong></p><h2 id="4-2-è®¡ç®—å±æ€§çš„å¤æ‚ä½¿ç”¨"><a href="#4-2-è®¡ç®—å±æ€§çš„å¤æ‚ä½¿ç”¨" class="headerlink" title="4.2 è®¡ç®—å±æ€§çš„å¤æ‚ä½¿ç”¨"></a>4.2 è®¡ç®—å±æ€§çš„å¤æ‚ä½¿ç”¨</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        æ€»ä»·æ ¼ï¼š&#123;&#123;totalPrice&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line">            books:&#123;</span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="number">110</span>,<span class="attr">name</span>:<span class="string">&#x27;Unixç¼–ç¨‹&#x27;</span>,<span class="attr">price</span>:<span class="number">119</span>&#125;,</span></span><br><span class="line"><span class="javascript">            &#123;<span class="attr">id</span>:<span class="number">111</span>,<span class="attr">name</span>:<span class="string">&#x27;ä»£ç å¤§å…¨&#x27;</span>,<span class="attr">price</span>:<span class="number">89</span>&#125;,</span></span><br><span class="line"><span class="javascript">        &#123;<span class="attr">id</span>:<span class="number">112</span>,<span class="attr">name</span>:<span class="string">&#x27;ç°ä»£æ“ä½œç³»ç»Ÿ&#x27;</span>,<span class="attr">price</span>:<span class="number">81</span>&#125;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed:&#123;</span><br><span class="line"><span class="javascript">            totalPrice:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.books.length;i++)&#123;</span></span><br><span class="line"><span class="javascript">                    result += <span class="built_in">this</span>.books[i].price;</span></span><br><span class="line">                &#125;</span><br><span class="line">                /*</span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> <span class="built_in">this</span>.books)&#123;</span></span><br><span class="line"><span class="javascript">                    result += <span class="built_in">this</span>.books[i].price;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">let</span> book <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span></span><br><span class="line">                    result += book.price;</span><br><span class="line">                &#125;</span><br><span class="line">                */</span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> result;</span></span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">        &#125;,<span class="comment">//è®¡ç®—å±æ€§</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-3-è®¡ç®—å±æ€§setterå’Œgetter"><a href="#4-3-è®¡ç®—å±æ€§setterå’Œgetter" class="headerlink" title="4.3 è®¡ç®—å±æ€§setterå’Œgetter"></a>4.3 è®¡ç®—å±æ€§setterå’Œgetter</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        &#123;&#123;fullName&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            firstName:<span class="string">&#x27;Kobe&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            lastName:<span class="string">&#x27;Bryant&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        computed:&#123;</span><br><span class="line">            /*</span><br><span class="line"><span class="javascript">            fullName:&#123;<span class="comment">//fullNameä¸ºä¸€ä¸ªå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//ä¸€èˆ¬å±æ€§æ²¡æœ‰setæ–¹æ³•ï¼Œä¸ºåªè¯»å±æ€§</span></span></span><br><span class="line"><span class="javascript">                set:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="comment">//é€šè¿‡æ§åˆ¶æ¿ï¼Œapp.fullName=&#x27;ABC&#x27;ä¼šè°ƒç”¨æ­¤æ–¹æ³•</span></span></span><br><span class="line"><span class="javascript">                get:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            */</span><br><span class="line"><span class="javascript">            <span class="comment">//ä¸Šè¿°æ–¹æ³•ç®€å†™ä¸º</span></span></span><br><span class="line"><span class="javascript">            fullName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName; </span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">        &#125;,<span class="comment">//è®¡ç®—å±æ€§</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-4-è®¡ç®—å±æ€§å’Œmethodså¯¹æ¯”"><a href="#4-4-è®¡ç®—å±æ€§å’Œmethodså¯¹æ¯”" class="headerlink" title="4.4 è®¡ç®—å±æ€§å’Œmethodså¯¹æ¯”"></a>4.4 è®¡ç®—å±æ€§å’Œmethodså¯¹æ¯”</h2><p>æ–¹æ³•æ¯æ¬¡è°ƒç”¨ï¼Œç¨‹åºéƒ½ä¼šé‡å¤æ‰§è¡Œï¼›è®¡ç®—å±æ€§ç¬¬ä¸€æ¬¡è®¡ç®—å‡ºæ¥ï¼Œç»“æœå°±ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚ä¸‹æ¬¡å†è°ƒç”¨ï¼Œç¨‹åºä¸ä¼šé‡å¤æ‰§è¡Œã€‚</p><blockquote><p>éœ€è¦å¤šæ¬¡è°ƒç”¨çš„è®¡ç®—ç»“æœï¼Œé‡‡ç”¨è®¡ç®—å±æ€§æ€§èƒ½ä¼šæ›´ä½ã€‚</p></blockquote><h2 id="4-5-è·‘é©¬ç¯é¡¹ç›®"><a href="#4-5-è·‘é©¬ç¯é¡¹ç›®" class="headerlink" title="4.5 è·‘é©¬ç¯é¡¹ç›®"></a>4.5 è·‘é©¬ç¯é¡¹ç›®</h2><p>ä¸€å¥æ–‡å­—å®ç°ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œæ–‡å­—æ»šåŠ¨æ’­æ”¾ï¼Œå†ç‚¹å‡»æ–‡å­—åœæ­¢æ»šåŠ¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;lang&quot;</span>&gt;</span>æµªèµ·æ¥<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;di&quot;</span>&gt;</span>ä½è°ƒ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¯­æ³•ç³–ï¼šç®€å†™</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="javascript">                msg:<span class="string">&#x27;çŒ¥çå‘è‚²ã€‚åˆ«æµª~~ï¼&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                intervalId:<span class="literal">null</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                lang()&#123;</span><br><span class="line"><span class="javascript">                    <span class="comment">//å‡½æ•°é‡Œçš„this.å˜é‡æ— æ³•æŒ‡å‘å‡½æ•°å¤–éƒ¨çš„å˜é‡</span></span></span><br><span class="line">                    /*</span><br><span class="line"><span class="javascript">                    <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> start = <span class="built_in">this</span>.msg.substring(<span class="number">0</span>,<span class="number">1</span>);<span class="comment">//è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> end = <span class="built_in">this</span>.msg.substring(<span class="number">1</span>);<span class="comment">//è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦åçš„æ‰€æœ‰å­—ç¬¦</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.msg=end+start;<span class="comment">//å°†ç¬¬ä¸€ä¸ªå­—ç¬¦æ”¾åˆ°æœ€åï¼Œå®ç°è·‘é©¬ç¯æ•ˆæœ</span></span></span><br><span class="line">                    &#125;,400)</span><br><span class="line">                     */</span><br><span class="line"><span class="javascript">                   <span class="comment">//ä½¿ç”¨ç®­å¤´å‡½æ•°è§£å†³å‡½æ•°å†…éƒ¨thisé—®é¢˜</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(<span class="built_in">this</span>.intervalId!=<span class="literal">null</span>) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.intervalId = <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> start = <span class="built_in">this</span>.msg.substring(<span class="number">0</span>,<span class="number">1</span>);<span class="comment">//è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> end = <span class="built_in">this</span>.msg.substring(<span class="number">1</span>);<span class="comment">//è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦åçš„æ‰€æœ‰å­—ç¬¦</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.msg=end+start;<span class="comment">//å°†ç¬¬ä¸€ä¸ªå­—ç¬¦æ”¾åˆ°æœ€åï¼Œå®ç°è·‘é©¬ç¯æ•ˆæœ</span></span></span><br><span class="line">                    &#125;,400)</span><br><span class="line"></span><br><span class="line">                &#125;,</span><br><span class="line">                di()&#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">clearInterval</span>(<span class="built_in">this</span>.intervalId);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.intervalId=<span class="literal">null</span>;<span class="comment">//æ¸…æ¥šå®šæ—¶å™¨åéœ€è¦é‡æ–°æŠŠinternalIdè®¾ä¸ºnull</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="5-å¸¸ç”¨æŒ‡ä»¤"><a href="#5-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="5: å¸¸ç”¨æŒ‡ä»¤"></a>5: å¸¸ç”¨æŒ‡ä»¤</h1><h2 id="5-1-v-forçš„å››ç§ä½¿ç”¨æ–¹å¼"><a href="#5-1-v-forçš„å››ç§ä½¿ç”¨æ–¹å¼" class="headerlink" title="5.1 v-forçš„å››ç§ä½¿ç”¨æ–¹å¼"></a>5.1 v-forçš„å››ç§ä½¿ç”¨æ–¹å¼</h2><ul><li>å¾ªç¯æ•°ç»„</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item+&quot;-----&quot;+index&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line">            list:[1,2,3,4,5]</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å¾ªç¯å¯¹è±¡æ•°ç»„</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item.id&#125;&#125;--&#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line">            list:[</span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span> :<span class="string">&#x27;zs1&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span> :<span class="string">&#x27;zs2&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span> :<span class="string">&#x27;zs3&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span> :<span class="string">&#x27;zs4&#x27;</span>&#125;,</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å¾ªç¯å¯¹è±¡</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;(val,key,index) in user&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;val&#125;&#125;--&#123;&#123;key&#125;&#125;--&#123;&#123;index&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line">            user:&#123;</span><br><span class="line">                id:1,</span><br><span class="line"><span class="javascript">                name:<span class="string">&#x27;tuoni&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                gender:<span class="string">&#x27;nan&#x27;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>è¿­ä»£æ•°å­—</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--inåé¢å¯ä»¥ä½¿æ•°ç»„ï¼Œå¯¹è±¡æ•°ç»„ï¼Œå¯¹è±¡ï¼Œè¿˜å¯ä»¥ä½¿æ•°å­—ã€‚è‹¥ä¸ºæ•°å­—ï¼Œcountä»1å¼€å§‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;count in 10&quot;</span>&gt;</span></span><br><span class="line">        ç¬¬&#123;&#123;count&#125;&#125;æ¬¡å¾ªç¯</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;&#125;,   </span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šcountä»1å¼€å§‹è®¡æ•°</strong></p><ul><li>v-forå¾ªç¯ä¸­keyå±æ€§çš„ä½¿ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>Id:</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>Name:</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>æ·»åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span> = <span class="string">&quot;checkbox&quot;</span> &gt;</span></span><br><span class="line">       &#123;&#123;item.id&#125;&#125;--&#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            id:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            name:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line">            list:[</span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;lisi&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;yinzheng&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&#x27;zhaogao&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="number">4</span>,<span class="attr">name</span>:<span class="string">&#x27;hanfei&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="number">5</span>,<span class="attr">name</span>:<span class="string">&#x27;kongzi&#x27;</span>&#125;,</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            add()&#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.list.push(&#123;<span class="attr">id</span>:<span class="built_in">this</span>.id,<span class="attr">name</span>:<span class="built_in">this</span>.name&#125;);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//this.list.unshift(&#123;id:this.id,name:this.name&#125;);</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-2-v-onæŒ‡ä»¤"><a href="#5-2-v-onæŒ‡ä»¤" class="headerlink" title="5.2 v-onæŒ‡ä»¤"></a>5.2 v-onæŒ‡ä»¤</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;show&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¯­æ³•ç³–ï¼šç®€å†™</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line">                counter:0</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                show()&#123;</span><br><span class="line"><span class="javascript">                    alert(<span class="string">&#x27;Hello&#x27;</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//åŸå§‹js</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1.æ‹¿buttomå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2.æ·»åŠ ç›‘å¬æ—¶é—´</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>äº‹ä»¶ä¿®é¥°ç¬¦<ul><li>.stop é˜»æ­¢å†’æ³¡//@click.stopè®¾ç½®å†å†…éƒ¨DOMã€‚ä¸ä¼šè§¦å‘@click.stopå¤–éƒ¨DOMçš„ç‚¹å‡»äº‹ä»¶</li><li>.prevent é˜»æ­¢é»˜è®¤è¡Œä¸º//@click.preventã€‚æ¯”å¦‚é˜»æ­¢aæ ‡ç­¾è·³è½¬åˆ°hrefåœ°å€</li><li>.capture æ·»åŠ äº‹ä»¶å€¾å¬å™¨å®ç°æ•è·æ¨¡å¼//ç»™å¤–å±‚DOM æ·»åŠ @click.captureï¼Œä¼šå…ˆå¤„ç†å¤–éƒ¨ç‚¹å‡»äº‹ä»¶ã€‚</li><li>.self åªå½“è‡ªèº«è¢«ç‚¹å‡»æ‰è§¦å‘äº‹ä»¶//ç»™å¤–éƒ¨DOMæ·»åŠ @click.selfï¼Œåªæœ‰ç‚¹å‡»å¤–éƒ¨DOMæ—¶æ‰èƒ½è§¦å‘å®ƒã€‚ä¹Ÿå¯é˜»æ­¢å†’æ³¡</li><li>.once åªè§¦å‘ä¸€æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</li></ul></li></ul><p>äº‹ä»¶ä¿®é¥°ç¬¦å¯ä»¥å åŠ ä½¿ç”¨ @click.prevent.onceå…ˆåé¡ºåºæ— åŒºåˆ«ã€‚</p><h2 id="5-3-v-model"><a href="#5-3-v-model" class="headerlink" title="5.3 v-model"></a>5.3 v-model</h2><p>å¯ä»¥å®ç°è¡¨å•å…ƒç´ çš„modelä¸­çš„æ•°æ®åŒå‘ç»‘å®šã€‚<strong>v-modelåªèƒ½ç”¨åœ¨è¡¨å•å…ƒç´ ä¸­</strong>ï¼Œinput(redio, text, address, emailâ€¦),select , checkbox, textarea</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ç®€æ˜“è®¡ç®—å™¨æ¡ˆä¾‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;n1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;opt&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;+&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;-&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;*&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;/&quot;</span>&gt;</span>/<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;n2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;calculate&quot;</span>&gt;</span>=<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;result&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line">            n1:0,</span><br><span class="line">            n2:0,</span><br><span class="line">            result:0,</span><br><span class="line"><span class="javascript">            opt:<span class="string">&#x27;+&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">        methods:&#123;</span><br><span class="line">        calculate()&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span>(<span class="built_in">this</span>.opt)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) + <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) - <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) * <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) / <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">         <span class="comment">//this.result = eval(this.n1+this.opt+this.n2)</span></span></span><br><span class="line"><span class="javascript">         <span class="comment">//evalä¼šè§£æå­—ç¬¦ä¸²å¹¶æ‰§è¡Œ</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-4-v-ifå’Œv-showçš„ä½¿ç”¨"><a href="#5-4-v-ifå’Œv-showçš„ä½¿ç”¨" class="headerlink" title="5.4 v-ifå’Œv-showçš„ä½¿ç”¨"></a>5.4 v-ifå’Œv-showçš„ä½¿ç”¨</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag=!flag&quot;</span>&gt;</span></span><br><span class="line">            åˆ‡æ¢</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span></span><br><span class="line">            è¿™æ˜¯v-ifæ§åˆ¶çš„å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-show</span>=<span class="string">&quot;flag&quot;</span>&gt;</span></span><br><span class="line">            è¿™æ˜¯v-showæ§åˆ¶çš„å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¯­æ³•ç³–ï¼šç®€å†™</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line"><span class="javascript">                flag:<span class="literal">true</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//åŸå§‹js</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//1.æ‹¿buttomå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2.æ·»åŠ ç›‘å¬æ—¶é—´</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>v-if:ä¼šåˆ é™¤æˆ–åˆ›å»ºå…ƒç´   //v-ifæ¶ˆè€—åˆ‡æ¢æ€§èƒ½ï¼Œå¦‚æœå…ƒç´ è®¾è®¡é¢‘ç¹çš„åˆ‡æ¢ä¸è¦ä½¿ç”¨ã€‚</p></li><li><p>v-showï¼šä¸ä¼šåˆ é™¤DOMï¼Œè€Œæ˜¯ä¿®æ”¹å…¶å¯è§å±æ€§dispaly:none //å¦‚æœå…ƒç´ å¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œæœ€å¥½ä½¿ç”¨v-if</p></li></ul><h1 id="6ï¼šè¿‡æ»¤å™¨"><a href="#6ï¼šè¿‡æ»¤å™¨" class="headerlink" title="6ï¼šè¿‡æ»¤å™¨"></a>6ï¼šè¿‡æ»¤å™¨</h1><p><strong>æ¦‚å¿µ</strong>ï¼šVue.jsä¸­å…è®¸è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œå¯ä»¥ç”¨ä½œä¸€äº›å¸¸è§çš„æ–‡æœ¬æ ¼å¼åŒ–ã€‚è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼šmustacheæ’å€¼å’Œv-bind</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è¿‡æ»¤å™¨è°ƒç”¨æ ¼å¼     &#123;&#123;name | nameope&#125;&#125;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//è¿‡æ»¤å™¨å®šä¹‰è¯­æ³•</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//è¿‡æ»¤å™¨ä¸­çš„functionï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ°¸è¿œæ˜¯è¿‡æ»¤å™¨ç®¡é“ç¬¦ï¼ˆ|ï¼‰å‰é¢ä¼ è¿‡æ¥çš„å‚æ•°</span></span></span><br><span class="line"><span class="javascript">Vue.filter(<span class="string">&#x27;è¿‡æ»¤å™¨åç§°&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;&#125;)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„:å½“å…¨å±€å’Œç§æœ‰è¿‡æ»¤å™¨ï¼Œä½¿ç”¨ç›¸åŒåç§°æ—¶ï¼Œä¼˜å…ˆè°ƒç”¨ç§æœ‰è¿‡æ»¤å™¨</strong></p><h2 id="6-1-å®šä¹‰å…¨å±€è¿‡æ»¤å™¨"><a href="#6-1-å®šä¹‰å…¨å±€è¿‡æ»¤å™¨" class="headerlink" title="6.1 å®šä¹‰å…¨å±€è¿‡æ»¤å™¨"></a>6.1 å®šä¹‰å…¨å±€è¿‡æ»¤å™¨</h2><p>å…¨å±€è¿‡æ»¤å™¨ï¼Œå°±æ˜¯æ‰€æœ‰çš„vmå®ä¾‹éƒ½èƒ½ç”¨</p><p>è¿‡æ»¤å™¨çš„<strong>åŸºæœ¬ä½¿ç”¨</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;&#123; msg | msgFormat(&#x27;ç‰›é€¼&#x27;) | test&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//å®šä¹‰ä¸€ä¸ªVueå…¨å±€è¿‡æ»¤å™¨</span></span></span><br><span class="line"><span class="javascript">    Vue.filter(<span class="string">&#x27;msgFormat&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">msg, arg</span>)</span>&#123;<span class="comment">//argæ˜¯msgFormatè¾“å…¥çš„å‚æ•°ã€‚ç¬¬ä¸€ä¸ªä¸ºå‚æ•°msgä¸ºé»˜è®¤çš„æ’å€¼</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> msg.replace(<span class="regexp">/å‚»å­/g</span>,arg)<span class="comment">//æ­£åˆ™æ›¿æ¢ï¼Œgè¡¨ç¤ºå…¨éƒ¨æ›¿æ¢</span></span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//å®šä¹‰å¤šä¸ªè¿‡æ»¤å™¨</span></span></span><br><span class="line"><span class="javascript">    Vue.filter(<span class="string">&#x27;test&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> msg+<span class="string">&quot;è¿™æ˜¯ç¬¬äºŒä¸ªè¿‡æ»¤å™¨&quot;</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="comment">//è¯­æ³•ç³–ï¼šç®€å†™</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            msg:<span class="string">&#x27;ä½ æ˜¯çœŸçš„å‚»å­å“¦,äººæ˜¯å‚»å­ï¼Œè„‘è¢‹ç¬¨&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-2-å®šä¹‰ç§æœ‰è¿‡æ»¤å™¨"><a href="#6-2-å®šä¹‰ç§æœ‰è¿‡æ»¤å™¨" class="headerlink" title="6.2 å®šä¹‰ç§æœ‰è¿‡æ»¤å™¨"></a>6.2 å®šä¹‰ç§æœ‰è¿‡æ»¤å™¨</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;&#123; msg | msgFormat(&#x27;ç‰›é€¼&#x27;) | test&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//è¯­æ³•ç³–ï¼šç®€å†™</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            msg:<span class="string">&#x27;ä½ æ˜¯çœŸçš„å‚»å­å“¦,äººæ˜¯å‚»å­ï¼Œè„‘è¢‹ç¬¨&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;&#125;,</span><br><span class="line">        filters:&#123;</span><br><span class="line"><span class="javascript">            msgFormat:<span class="function"><span class="keyword">function</span>(<span class="params">msg, arg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> msg.replace(<span class="regexp">/å‚»å­/g</span>,arg)<span class="comment">//æ­£åˆ™æ›¿æ¢ï¼Œgè¡¨ç¤ºå…¨éƒ¨æ›¿æ¢</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="7ï¼šè‡ªå®šä¹‰"><a href="#7ï¼šè‡ªå®šä¹‰" class="headerlink" title="7ï¼šè‡ªå®šä¹‰"></a>7ï¼šè‡ªå®šä¹‰</h1><h2 id="7-1-è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#7-1-è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="7.1 è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦"></a>7.1 è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Nameï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;add&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>@keyup</strong>:ç»‘å®šé”®ç›˜</p><ol><li><p>å†…ç½®ä¿®é¥°ç¬¦.enter .tab .delete .esc .space .up .down .left .right</p></li><li><p>å…¶ä»–çš„é”®å¯ä½¿ç”¨jså®šä¹‰çš„é”®ç›˜ç ã€‚æ¯”å¦‚**@keyup.113**è¡¨ç¤ºF12 ã€‚</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Nameï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> @<span class="attr">keyup.f12</span>=<span class="string">&quot;add&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">//è‡ªå®šä¹‰å…¨å±€æŒ‰é”®ä¿®é¥°ç¬¦</span></span></span><br><span class="line">    Vue.config.keyCode.f12 = 113</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="7-2-è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#7-2-è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="7.2 è‡ªå®šä¹‰æŒ‡ä»¤"></a>7.2 è‡ªå®šä¹‰æŒ‡ä»¤</h2><ol><li>å®šä¹‰å…¨å±€æŒ‡ä»¤</li></ol><p>æ¯”å¦‚è‡ªå®šä¸€ä¸ªæŒ‡ä»¤v-focus</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//ä½¿ç”¨Vue.directive()å®šä¹‰å…¨å±€çš„æŒ‡ä»¤</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//å…¶ä¸­ï¼šå‚æ•°1ï¼šæŒ‡ä»¤çš„åç§°ï¼Œå®šä¹‰çš„æ—¶å€™ï¼Œä¸è¦åŠ v-å‰ç¼€ã€‚ä½†åœ¨è°ƒç”¨çš„æ—¶å€™å¿…é¡»åœ¨æŒ‡ä»¤åç§°å‰åŠ v-å‰ç¼€</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//å‚æ•°2æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡èº«ä¸Šæœ‰ä¸€äº›æŒ‡ä»¤ç›¸å…³çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯ä»¥åœ¨ç‰¹å®šçš„é˜¶æ®µæ‰§è¡Œç›¸å…³æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">Vue.directive(<span class="string">&#x27;focus&#x27;</span>,&#123;</span></span><br><span class="line"><span class="javascript">        bind:<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//æ¯å½“æŒ‡ä»¤è¢«ç»‘å®šåˆ°å…ƒç´ ä¸Šæ—¶ï¼Œä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚åªæ‰§è¡Œä¸€æ¬¡</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ—¶elï¼Œè¡¨ç¤ºè¢«ç»‘å®šäº†æŒ‡ä»¤çš„é‚£ä¸ªå…ƒç´ ï¼Œelæ˜¯ä¸€ä¸ªåŸç”Ÿçš„JSå¯¹è±¡ã€‚</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//åœ¨å…ƒç´ åˆšç»‘å®šäº†æŒ‡ä»¤çš„æ—¶å€™ï¼Œè¿˜æ²¡æœ‰æ’å…¥åˆ°DOMä¸­å»ï¼Œè¿™æ—¶è°ƒç”¨focusæ–¹æ³•æ²¡æœ‰ä½œç”¨ã€‚</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//el.focus</span></span></span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        inserted:<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">           <span class="comment">//insertedè¡¨ç¤ºå…ƒç´ æ’å…¥åˆ°domä¸­æ—¶æ‰§è¡Œï¼Œåªæ‰§è¡Œä¸€æ¬¡</span></span></span><br><span class="line">            el.focus</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        updated:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="comment">//å½“vNodeæ›´æ–°çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œã€‚å¯èƒ½å¤šæ¬¡è§¦å‘</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>.focus</strong>ï¼šJSæ–¹æ³•ï¼Œå¯ä»¥å°†ç„¦ç‚¹é›†ä¸­åˆ°DOMå¯¹è±¡ä¸Šï¼Œç±»ä¼¼äºï¼Œé¼ æ ‡å•å‡»ä¸€æ¬¡è¾“å…¥æ¡†ã€‚</p><p>ä½¿ç”¨é’©å­å‡½æ•°å‚æ•°</p><ul><li>elï¼šæŒ‡ä»¤ç»‘å®šçš„å…ƒç´ ï¼Œç”¨æ¥ç›´æ¥æ“ä½œDOM</li><li>bindingï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š<ul><li>name:æŒ‡ä»¤åç§°â€”â€”color</li><li>value:æŒ‡ä»¤çš„ç»‘å®šå€¼ã€‚ä¼šè®¡ç®—æ¯”å¦‚v-color=â€1+1â€ï¼Œbinding.value=2</li><li>expression:æŒ‡ä»¤ç»‘å®šå€¼ï¼Œä¸ä¼šè®¡ç®—, binding.expression=â€™1+1â€™</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-color</span>=<span class="string">&quot;&#x27;red&#x27;&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">Vue.directive(<span class="string">&#x27;color&#x27;</span>,&#123;</span></span><br><span class="line"><span class="javascript">        bind:<span class="function"><span class="keyword">function</span>(<span class="params">el,binding</span>)</span>&#123;</span></span><br><span class="line">            el.style.color = binding.value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ç§æœ‰æŒ‡ä»¤</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"> <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            msg:<span class="string">&#x27;ä½ æ˜¯çœŸçš„å‚»å­å“¦,äººæ˜¯å‚»å­ï¼Œè„‘è¢‹ç¬¨&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;&#125;,</span><br><span class="line">        filters:&#123;&#125;,</span><br><span class="line">        directives:&#123;</span><br><span class="line"><span class="javascript">            <span class="string">&#x27;color&#x27;</span>:&#123;</span></span><br><span class="line"><span class="javascript">                bind:<span class="function"><span class="keyword">function</span>(<span class="params">el,binding</span>)</span>&#123;</span></span><br><span class="line">                     el.style.color = binding.value</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç®€å†™ï¼š</strong></p><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ—¨åœ¨<code>bind</code>å’Œ<code>update</code>é’©å­ä¸Šåšé‡å¤åŠ¨ä½œï¼Œå¯ä»¥ç®€å†™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    directives:&#123;</span><br><span class="line"><span class="javascript">                <span class="string">&#x27;color&#x27;</span>:<span class="function"><span class="keyword">function</span>(<span class="params">el,binding</span>)</span>&#123;<span class="comment">//ç­‰åŒäºæŠŠæ–¹æ³•åŒæ—¶å†™åˆ°bindå’Œupdateä¸­</span></span></span><br><span class="line">                         el.style.color = binding.value</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="8ï¼švue-resourceå®ç°getï¼Œpostï¼Œjsonpè¯·æ±‚"><a href="#8ï¼švue-resourceå®ç°getï¼Œpostï¼Œjsonpè¯·æ±‚" class="headerlink" title="8ï¼švue-resourceå®ç°getï¼Œpostï¼Œjsonpè¯·æ±‚"></a>8ï¼švue-resourceå®ç°getï¼Œpostï¼Œjsonpè¯·æ±‚</h1><p>vue-resourceä¾èµ–äºvueï¼Œéœ€è¦åœ¨vue.jsåå¯¼å…¥vue-resource.jsåŒ…ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue-resource.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getInfo&quot;</span>&gt;</span></span><br><span class="line">            getInfo</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;postInfo&quot;</span>&gt;</span></span><br><span class="line">            getInfo</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;jsonpInfo&quot;</span>&gt;</span></span><br><span class="line">            getInfo</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            msg:<span class="string">&#x27;ä½ æ˜¯çœŸçš„å‚»å­å“¦,äººæ˜¯å‚»å­ï¼Œè„‘è¢‹ç¬¨&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line"><span class="javascript">            getInfo()&#123;      <span class="built_in">this</span>.$http.get(<span class="string">&#x27;http://vue.studyit.io/api/getlunbo&#x27;</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//resultæ˜¯è¿”å›çš„ç»“æœï¼ŒåŒ…æ‹¬å¤´éƒ¨ã€æ•°æ®ç­‰</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(result.body)</span></span><br><span class="line">                &#125;),</span><br><span class="line">             postInfo()&#123;</span><br><span class="line"><span class="javascript">                 <span class="comment">//æ‰‹åŠ¨å‘èµ·çš„postè¯·æ±‚æ²¡æœ‰è¡¨å•æ•°æ®</span></span></span><br><span class="line"><span class="javascript">                 <span class="comment">//é€šè¿‡postæ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè®¾ç½®æäº¤å†…å®¹ç±»å‹ä¸ºæ™®é€šè¡¨å•æ ¼å¼ã€‚</span></span></span><br><span class="line"><span class="javascript">                 <span class="built_in">this</span>.$http.post(<span class="string">&#x27;http://vue.studyit.io/api/post&#x27;</span>,&#123;&#125;,&#123;<span class="attr">emulateJSON</span>:<span class="literal">true</span>&#125;).then(<span class="function"><span class="params">result</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                     <span class="built_in">console</span>.log(result.body)</span></span><br><span class="line">                 &#125;),</span><br><span class="line">              jsonpInfo()&#123;</span><br><span class="line"><span class="javascript">                     <span class="built_in">this</span>.$http.jsonp(<span class="string">&#x27;http://vue.studyit.io/api/jsonp&#x27;</span>).then(<span class="function"><span class="params">result</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                         <span class="built_in">console</span>.log(result.body)</span></span><br><span class="line">                     &#125;)</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;     </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ªäººæ¨èçš„ä¸€äº›ä¼˜ç§€çš„å®‰å“å¼€æºåº“</title>
      <link href="/2020/02/01/%E6%94%B6%E9%9B%86%E4%B8%80%E4%BA%9B%E4%BC%98%E7%A7%80%E7%9A%84%E5%AE%89%E5%8D%93%E5%BC%80%E6%BA%90%E5%BA%93/"/>
      <url>/2020/02/01/%E6%94%B6%E9%9B%86%E4%B8%80%E4%BA%9B%E4%BC%98%E7%A7%80%E7%9A%84%E5%AE%89%E5%8D%93%E5%BC%80%E6%BA%90%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šå¼•è¨€"><a href="#0ï¼šå¼•è¨€" class="headerlink" title="0ï¼šå¼•è¨€"></a>0ï¼šå¼•è¨€</h1><p>æœ€è¿‘è‡ªå·±åœ¨å†™ä¸€ä¸ªå®‰å“è½¯ä»¶ï¼ŒæŠŠæˆ‘åšçš„sci.ciè¿™ä¸ªç½‘ç«™æ¥å…¥åˆ°ç§»åŠ¨ç«¯æ¥ã€‚åœ¨å†™è¿™ä¸ªè½¯ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†éå¸¸å¤šä¼˜ç§€çš„å¼€æºåº“ï¼Œè¿™äº›åº“ç®€åŒ–äº†æˆ‘å¾ˆå¤šå·¥ä½œï¼Œåœ¨æ­¤å°†ä»–ä»¬åˆ†äº«å‡ºæ¥ã€‚</p><h1 id="1ï¼šKongzue-Dialog-V3"><a href="#1ï¼šKongzue-Dialog-V3" class="headerlink" title="1ï¼šKongzue Dialog V3"></a>1ï¼šKongzue Dialog V3</h1><p><strong>è‡ªå®šä¹‰Toastå¯¹è¯æ¡†ï¼Œä»¿IOSè®¾è®¡</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/kongzue/DialogV3">https://github.com/kongzue/DialogV3</a></p><h2 id="1-1-å¼•å…¥"><a href="#1-1-å¼•å…¥" class="headerlink" title="1.1 å¼•å…¥"></a>1.1 å¼•å…¥</h2><h3 id="1-1-1Support-ç‰ˆæœ¬"><a href="#1-1-1Support-ç‰ˆæœ¬" class="headerlink" title="1.1.1Support ç‰ˆæœ¬"></a>1.1.1Support ç‰ˆæœ¬</h3><p>Mavenä»“åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;com.kongzue.dialog_v3&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;dialog&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;3.1.8&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;type&gt;pom&lt;&#x2F;type&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure><p>Gradleï¼š åœ¨dependencies{}ä¸­æ·»åŠ å¼•ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation &#39;com.kongzue.dialog_v3:dialog:3.1.8&#39;</span><br></pre></td></tr></table></figure><h2 id="1-2-åŠŸèƒ½"><a href="#1-2-åŠŸèƒ½" class="headerlink" title="1.2 åŠŸèƒ½"></a>1.2 åŠŸèƒ½</h2><h3 id="1-2-1-åŸºæœ¬å¯¹è¯æ¡†"><a href="#1-2-1-åŸºæœ¬å¯¹è¯æ¡†" class="headerlink" title="1.2.1 åŸºæœ¬å¯¹è¯æ¡†"></a>1.2.1 åŸºæœ¬å¯¹è¯æ¡†</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_messagedialog.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_messagedialog.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h3 id="1-2-2-è¾“å…¥å¯¹è¯æ¡†"><a href="#1-2-2-è¾“å…¥å¯¹è¯æ¡†" class="headerlink" title="1.2.2 è¾“å…¥å¯¹è¯æ¡†"></a>1.2.2 è¾“å…¥å¯¹è¯æ¡†</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_input.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_input.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="è¾“å…¥å¯¹è¯æ¡†"></p><h3 id="1-2-3ç­‰å¾…æç¤ºå¯¹è¯æ¡†"><a href="#1-2-3ç­‰å¾…æç¤ºå¯¹è¯æ¡†" class="headerlink" title="1.2.3ç­‰å¾…æç¤ºå¯¹è¯æ¡†"></a>1.2.3ç­‰å¾…æç¤ºå¯¹è¯æ¡†</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_tip.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_tip.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="ç­‰å¾…æç¤ºæ¡†"></p><h3 id="1-2-4åº•éƒ¨èœå•"><a href="#1-2-4åº•éƒ¨èœå•" class="headerlink" title="1.2.4åº•éƒ¨èœå•"></a>1.2.4åº•éƒ¨èœå•</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_bottomdialog.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_bottomdialog.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="åº•éƒ¨èœå•    "></p><h3 id="1-2-5é€šçŸ¥"><a href="#1-2-5é€šçŸ¥" class="headerlink" title="1.2.5é€šçŸ¥"></a>1.2.5é€šçŸ¥</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_notify.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_notify.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="é€šçŸ¥"></p><h3 id="1-2-6åˆ†äº«å¯¹è¯æ¡†"><a href="#1-2-6åˆ†äº«å¯¹è¯æ¡†" class="headerlink" title="1.2.6åˆ†äº«å¯¹è¯æ¡†"></a>1.2.6åˆ†äº«å¯¹è¯æ¡†</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_share.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_share.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="åˆ†äº«"></p><h3 id="1-2-7å…¨å±"><a href="#1-2-7å…¨å±" class="headerlink" title="1.2.7å…¨å±"></a>1.2.7å…¨å±</h3><p><img src="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_fullscreen.png" class="lazyload" data-srcset="https://github.com/kongzue/Res/raw/master/app/src/main/res/mipmap-xxxhdpi/img_dialog_v3_fullscreen.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="å…¨å±"></p><h1 id="2ï¼šYCVideoPlayer"><a href="#2ï¼šYCVideoPlayer" class="headerlink" title="2ï¼šYCVideoPlayer"></a>2ï¼šYCVideoPlayer</h1><p><strong>è§†é¢‘æ’­æ”¾å™¨å°è£…åº“ï¼Œä»¿çˆ±å¥‡è‰ºã€ä¼˜é…·ã€‚</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/yangchong211/YCVideoPlayer">https://github.com/yangchong211/YCVideoPlayer</a></p><h2 id="2-1-å¼•ç”¨"><a href="#2-1-å¼•ç”¨" class="headerlink" title="2.1 å¼•ç”¨"></a>2.1 å¼•ç”¨</h2><p>åº”ç”¨build.gradleä¸­å¼•å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#39;cn.yc:YCVideoPlayerLib:2.4.9&#39; </span><br></pre></td></tr></table></figure><h2 id="2-2-åŠŸèƒ½"><a href="#2-2-åŠŸèƒ½" class="headerlink" title="2.2 åŠŸèƒ½"></a>2.2 åŠŸèƒ½</h2><h5 id="AåŸºç¡€åŠŸèƒ½"><a href="#AåŸºç¡€åŠŸèƒ½" class="headerlink" title="AåŸºç¡€åŠŸèƒ½"></a>AåŸºç¡€åŠŸèƒ½</h5><ul><li>A.1.1 èƒ½å¤Ÿè‡ªå®šä¹‰è§†é¢‘åŠ è½½loadingç±»å‹ï¼Œè®¾ç½®è§†é¢‘æ ‡é¢˜ï¼Œè®¾ç½®è§†é¢‘åº•éƒ¨å›¾ç‰‡ï¼Œè®¾ç½®æ’­æ”¾æ—¶é•¿ç­‰åŸºç¡€åŠŸèƒ½</li><li>A.1.2 å¯ä»¥åˆ‡æ¢æ’­æ”¾å™¨çš„è§†é¢‘æ’­æ”¾çŠ¶æ€ï¼Œæ’­æ”¾é”™è¯¯ï¼Œæ’­æ”¾æœªå¼€å§‹ï¼Œæ’­æ”¾å¼€å§‹ï¼Œæ’­æ”¾å‡†å¤‡ä¸­ï¼Œæ­£åœ¨æ’­æ”¾ï¼Œæš‚åœæ’­æ”¾ï¼Œæ­£åœ¨ç¼“å†²ç­‰ç­‰çŠ¶æ€</li><li>A.1.3 å¯ä»¥è‡ªç”±è®¾ç½®æ’­æ”¾å™¨çš„æ’­æ”¾æ¨¡å¼ï¼Œæ¯”å¦‚ï¼Œæ­£å¸¸æ’­æ”¾ï¼Œå…¨å±æ’­æ”¾ï¼Œå’Œå°å±å¹•æ’­æ”¾ã€‚å…¶ä¸­å…¨å±æ’­æ”¾æ”¯æŒæ—‹è½¬å±å¹•ã€‚</li><li>A.1.4 å¯ä»¥æ”¯æŒå¤šç§è§†é¢‘æ’­æ”¾ç±»å‹ï¼Œæ¯”å¦‚ï¼ŒåŸç”Ÿå°è£…è§†é¢‘æ’­æ”¾å™¨ï¼Œè¿˜æœ‰åŸºäºijkPlayerå°è£…çš„æ’­æ”¾å™¨ã€‚</li><li>A.1.5 å¯ä»¥è®¾ç½®æ˜¯å¦éšè—æ’­æ”¾éŸ³é‡ï¼Œæ’­æ”¾è¿›åº¦ï¼Œæ’­æ”¾äº®åº¦ç­‰ï¼Œå¯ä»¥é€šè¿‡æ‹–åŠ¨seekBaræ”¹å˜è§†é¢‘è¿›åº¦ã€‚è¿˜æ”¯æŒè®¾ç½®nç§’åä¸æ“ä½œåˆ™éšè—å¤´éƒ¨å’Œé¡¶éƒ¨å¸ƒå±€åŠŸèƒ½</li><li>A.1.6 å¯ä»¥è®¾ç½®ç«–å±æ¨¡å¼ä¸‹å…¨å±æ¨¡å¼å’Œæ¨ªå±æ¨¡å¼ä¸‹çš„å…¨å±æ¨¡å¼ï¼Œæ–¹ä¾¿å¤šç§ä½¿ç”¨åœºæ™¯</li><li>A.1.7 topå’Œbottomé¢ç‰ˆæ¶ˆå¤±å’Œæ˜¾ç¤ºï¼šç‚¹å‡»è§†é¢‘ç”»é¢ä¼šæ˜¾ç¤ºã€éšè—æ“ä½œé¢æ¿ï¼›æ˜¾ç¤ºåä¸æ“ä½œä¼š5ç§’åè‡ªåŠ¨æ¶ˆå¤±ã€ä¹Ÿå¯ä»¥è®¾ç½®ã€‘</li></ul><h5 id="Bé«˜çº§åŠŸèƒ½"><a href="#Bé«˜çº§åŠŸèƒ½" class="headerlink" title="Bé«˜çº§åŠŸèƒ½"></a>Bé«˜çº§åŠŸèƒ½</h5><ul><li>B.1.1 æ”¯æŒä¸€éæ’­æ”¾ä¸€éç¼“å†²çš„åŠŸèƒ½ï¼Œå…¶ä¸­ç¼“å†²åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€ç§æ˜¯æ’­æ”¾è¿‡ç¨‹ä¸­ç¼“å†²ï¼Œç¬¬äºŒç§æ˜¯æš‚åœè¿‡ç¨‹ä¸­ç¼“å†²</li><li>B.1.2 åŸºäºijkPlayerçš„å°è£…æ’­æ”¾å™¨ï¼Œæ”¯æŒå¤šç§æ ¼å¼è§†é¢‘æ’­æ”¾</li><li>B.1.3 å¯ä»¥è®¾ç½®æ˜¯å¦è®°å½•æ’­æ”¾ä½ç½®ï¼Œè®¾ç½®æ’­æ”¾é€Ÿåº¦ï¼Œè®¾ç½®å±å¹•æ¯”ä¾‹</li><li>B.1.4 æ”¯æŒæ»‘åŠ¨æ”¹å˜éŸ³é‡ã€å±å¹•å³è¾¹ã€‘ï¼Œæ”¹å˜å±å¹•äº®åº¦ã€å±å¹•å·¦è¾¹ã€‘ï¼Œå±å¹•åº•æµ‹å·¦å³æ»‘åŠ¨è°ƒèŠ‚è¿›åº¦</li><li>B.1.5 æ”¯æŒlisté¡µé¢ä¸­è§†é¢‘æ’­æ”¾ï¼Œæ»šåŠ¨åæš‚åœæ’­æ”¾ï¼Œæ’­æ”¾å¯ä»¥è‡ªç”±è®¾ç½®æ˜¯å¦è®°å½•çŠ¶æ€ã€‚å¹¶ä¸”è¿˜æ”¯æŒåˆ é™¤è§†é¢‘æ’­æ”¾ä½ç½®çŠ¶æ€ã€‚</li><li>B.1.6 åˆ‡æ¢æ¨ªç«–å±ï¼šåˆ‡æ¢å…¨å±æ—¶ï¼Œéšè—çŠ¶æ€æ ï¼Œæ˜¾ç¤ºè‡ªå®šä¹‰top(æ˜¾ç¤ºç”µé‡)ï¼›ç«–å±æ—¶æ¢å¤åŸæœ‰çŠ¶æ€</li><li>B.1.7 æ”¯æŒåˆ‡æ¢è§†é¢‘æ¸…æ™°åº¦æ¨¡å¼</li><li>B.1.8 æ·»åŠ é”å±åŠŸèƒ½ï¼Œç«–å±ä¸æä¾›é”å±æŒ‰é’®ï¼Œæ¨ªå±å…¨å±æ—¶æ˜¾ç¤ºï¼Œå¹¶ä¸”é”å±æ—¶ï¼Œå±è”½æ‰‹åŠ¿å¤„ç†</li></ul><h5 id="Cæ‹“å±•åŠŸèƒ½ã€è¿™å—æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©æ˜¯å¦éœ€è¦ä½¿ç”¨ï¼Œä¸€èˆ¬è§†é¢‘ä»˜è´¹Appä¼šæœ‰è¿™ä¸ªå·¥é¥ã€‘"><a href="#Cæ‹“å±•åŠŸèƒ½ã€è¿™å—æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©æ˜¯å¦éœ€è¦ä½¿ç”¨ï¼Œä¸€èˆ¬è§†é¢‘ä»˜è´¹Appä¼šæœ‰è¿™ä¸ªå·¥é¥ã€‘" class="headerlink" title="Cæ‹“å±•åŠŸèƒ½ã€è¿™å—æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©æ˜¯å¦éœ€è¦ä½¿ç”¨ï¼Œä¸€èˆ¬è§†é¢‘ä»˜è´¹Appä¼šæœ‰è¿™ä¸ªå·¥é¥ã€‘"></a>Cæ‹“å±•åŠŸèƒ½ã€è¿™å—æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©æ˜¯å¦éœ€è¦ä½¿ç”¨ï¼Œä¸€èˆ¬è§†é¢‘ä»˜è´¹Appä¼šæœ‰è¿™ä¸ªå·¥é¥ã€‘</h5><ul><li><strong>C1äº§å“éœ€æ±‚ï¼šç±»ä¼¼ä¼˜é…·ï¼Œçˆ±å¥‡è‰ºè§†é¢‘æ’­æ”¾å™¨éƒ¨åˆ†é€»è¾‘ã€‚æ¯”å¦‚å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ä¹Ÿæ²¡æœ‰çœ‹è§†é¢‘æƒé™ï¼Œåˆ™æç¤ºè¯•çœ‹è§†é¢‘[è‡ªå®šä¹‰å¸ƒå±€]ï¼›å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ä½†æ˜¯æœ‰çœ‹è§†é¢‘æƒé™ï¼Œåˆ™æ­£å¸¸è§‚çœ‹ï¼›å¦‚æœç”¨æˆ·ç™»å½•ï¼Œä½†æ˜¯æ²¡æœ‰å……å€¼ä¼šå‘˜ï¼Œéƒ¨åˆ†éœ€è¦æƒé™è§†é¢‘åˆ™è¿›å…¥è¯•çœ‹æ¨¡å¼ï¼Œè¯•çœ‹ç»“æŸåå¼¹å‡ºå……å€¼ä¼šå‘˜ç•Œé¢ï¼›å¦‚æœç”¨æˆ·ä½™é¢ä¸è¶³ï¼Œæ¯”å¦‚ä½™é¢åªæœ‰99å…ƒï¼Œä½†æ˜¯è§†é¢‘è§‚çœ‹è¦199å…ƒï¼Œåˆ™åˆæœ‰å…¶ä»–æç¤ºã€‚</strong></li><li>C2è‡ªèº«éœ€æ±‚ï¼šæ¯”å¦‚å°è£…å¥½äº†è§†é¢‘æ’­æ”¾åº“ï¼Œé‚£ä¹ˆç‚¹å‡»è§†é¢‘ä¸Šç™»å½•æŒ‰é’®åˆ™è·³åˆ°ç™»å½•é¡µé¢ï¼›ç‚¹å‡»å……å€¼ä¼šå‘˜é¡µé¢ä¹Ÿè·³åˆ°å……å€¼é¡µé¢ã€‚è¿™ä¸ªé€šè¿‡å®šä¹‰æ¥å£ï¼Œå¯ä»¥è®©ä½¿ç”¨è€…é€šè¿‡æ–¹æ³•è°ƒç”¨ï¼Œçµæ´»å¤„ç†ç‚¹å‡»äº‹ä»¶ã€‚</li><li>C.1.1 å¯ä»¥è®¾ç½®è¯•çœ‹æ¨¡å¼ï¼Œè®¾ç½®è¯•çœ‹æ—¶é•¿ã€‚è¯•çœ‹ç»“æŸåå°±æç¤ºç™»å½•æˆ–è€…å……å€¼â€¦â€¦</li><li>C.1.2 å¯¹äºè®¾ç½®è§†é¢‘çš„å®½é«˜ï¼Œå»ºè®®è®¾ç½®æˆ4ï¼š3æˆ–è€…16ï¼š9æˆ–è€…å¸¸ç”¨æ¯”ä¾‹ï¼Œå¦‚æœä¸æ˜¯å¸¸ç”¨æ¯”ä¾‹ï¼Œåˆ™å¯èƒ½ä¼šæœ‰é»‘è¾¹ã€‚å…¶ä¸­é»‘è¾¹çš„èƒŒæ™¯å¯ä»¥è®¾ç½®</li><li>C.1.3 å¯ä»¥è®¾ç½®æ’­æ”¾æœ‰æƒé™çš„è§†é¢‘æ—¶çš„å„ç§æ–‡å­—æè¿°ï¼Œè€Œæ²¡æœ‰æŠŠå®ƒå†™åœ¨å°è£…åº“ä¸­ï¼Œä½¿ç”¨è€…è‡ªå·±è®¾å®š</li><li>C.1.4 é”å®šå±å¹•åŠŸèƒ½</li></ul><h5 id="Då¾…æ·»åŠ åŠŸèƒ½"><a href="#Då¾…æ·»åŠ åŠŸèƒ½" class="headerlink" title="Då¾…æ·»åŠ åŠŸèƒ½"></a>Då¾…æ·»åŠ åŠŸèƒ½</h5><ul><li><p>D.1.1 å¯ä»¥æ”¯æŒå±å¹•æˆªå›¾åŠŸèƒ½ï¼Œè§†é¢‘æ·»åŠ æ°´å°æ•ˆæœ</p></li><li><p>D.1.2 æ”¯æŒå¼¹å¹•åŠŸèƒ½</p></li><li><p>D.1.3 åæœŸå¾…å®šï¼Œè§†é¢‘æ‹–æ‹½</p></li></ul><h1 id="3ï¼šAndroid-SpinKit"><a href="#3ï¼šAndroid-SpinKit" class="headerlink" title="3ï¼šAndroid-SpinKit"></a>3ï¼šAndroid-SpinKit</h1><p><strong>åŠ è½½ä¸­æ ·å¼ã€‚</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://ybq.github.io/Android-SpinKit">https://ybq.github.io/Android-SpinKit</a></p><p>å¦‚æœç¬¬ä¸€ç« çš„kongzueç­‰å¾…å¯¹è¯æ¡†è¿˜ä¸è¶³ä»¥æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œé‚£è¿™ä¸ªåŠ è½½åº“åº”è¯¥è¶³å¤Ÿäº†ã€‚</p><h2 id="3-1-å¼•ç”¨"><a href="#3-1-å¼•ç”¨" class="headerlink" title="3.1 å¼•ç”¨"></a>3.1 å¼•ç”¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">   implementation &#39;com.github.ybq:Android-SpinKit:1.4.0&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-2-æ ·å¼"><a href="#3-2-æ ·å¼" class="headerlink" title="3.2 æ ·å¼"></a>3.2 æ ·å¼</h2><p><img src="https://raw.githubusercontent.com/ybq/AndroidSpinKit/master/art/screen.gif" class="lazyload" data-srcset="https://raw.githubusercontent.com/ybq/AndroidSpinKit/master/art/screen.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="æ ·å¼"></p><p><img src="https://raw.githubusercontent.com/ybq/AndroidSpinKit/master/art/screen2.gif" class="lazyload" data-srcset="https://raw.githubusercontent.com/ybq/AndroidSpinKit/master/art/screen2.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="æ ·å¼2"></p><h1 id="4ï¼šAgentWeb"><a href="#4ï¼šAgentWeb" class="headerlink" title="4ï¼šAgentWeb"></a>4ï¼šAgentWeb</h1><p><strong>åŸºäºå®‰å“åŸç”ŸWebviewçš„æµè§ˆå™¨ï¼Œè‡ªåŠ¨å®ç°è§†é¢‘å…¨å±æ’­æ”¾ï¼ŒåŠ å…¥äº†ç½‘é¡µåŠ è½½è¿›åº¦æ¡</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Justson/AgentWeb">https://github.com/Justson/AgentWeb</a></p><h2 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h2><p>Gradle</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">api &#39;com.just.agentweb:agentweb:4.1.2&#39; &#x2F;&#x2F; (å¿…é€‰)</span><br><span class="line">api &#39;com.just.agentweb:filechooser:4.1.2&#39;&#x2F;&#x2F; (å¯é€‰)</span><br><span class="line">api &#39;com.download.library:Downloader:4.1.2&#39;&#x2F;&#x2F; (å¯é€‰)</span><br></pre></td></tr></table></figure><h2 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h2><p><img src="https://github.com/Justson/AgentWeb/raw/master/img/img-function-list.png" class="lazyload" data-srcset="https://github.com/Justson/AgentWeb/raw/master/img/img-function-list.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="https://github.com/Justson/AgentWeb/raw/master/img/custom%20setting.png" class="lazyload" data-srcset="https://github.com/Justson/AgentWeb/raw/master/img/custom%20setting.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="https://github.com/Justson/AgentWeb/raw/master/img/alipay.png" class="lazyload" data-srcset="https://github.com/Justson/AgentWeb/raw/master/img/alipay.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>]]></content>
      
      
      <categories>
          
          <category> å®‰å“ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å“å¼€æºåº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ›å»ºä¸€ä¸ªç®€å•çš„APIé¡¹ç›®</title>
      <link href="/2020/01/26/%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84API%E9%A1%B9%E7%9B%AE/"/>
      <url>/2020/01/26/%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84API%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šç®€ä»‹"><a href="#0ï¼šç®€ä»‹" class="headerlink" title="0ï¼šç®€ä»‹"></a>0ï¼šç®€ä»‹</h1><p>APIï¼ˆåº”ç”¨ç¨‹åºæ¥å£ï¼‰ï¼Œæˆ‘ç°åœ¨æ­£åœ¨åšä¸€ä¸ªå®‰å“é¡¹ç›®ï¼Œéœ€è¦å°†mysqlæ•°æ®åº“é‡Œçš„æ•°æ®ï¼Œé€šè¿‡apiæ¥å£ä»¥jsonæ ¼å¼å¯¼å‡ºï¼Œç„¶åå†å®‰å“ä¸Šè§£æå’Œä½¿ç”¨ã€‚</p><p>APIé¡¹ç›®åŸºäºphpæœåŠ¡å™¨å’Œlaravelæ¡†æ¶ï¼Œè¿™ä¸ªæ¡†æ¶å¬è¯´æ¯”è¾ƒé€‚åˆåšapiï¼Œå½“ç„¶ç”±äºé¡¹ç›®ç®€å•ï¼Œæˆ‘åšçš„APIçœå»äº†å¾ˆå¤šéªŒè¯ç›¸å…³çš„å†…å®¹ï¼Œæ™®é€šçš„æ¡†æ¶ç±»ä¼¼thinkphpä¹Ÿèƒ½åšï¼Œè¿™é‡Œç”¨laravelä¸ºäº†æ–¹ä¾¿åæœŸè¡¥è¶³APIçš„ç›¸å…³å†…å®¹ã€‚</p><h1 id="1ï¼šåŸŸåå’ŒLAMP"><a href="#1ï¼šåŸŸåå’ŒLAMP" class="headerlink" title="1ï¼šåŸŸåå’ŒLAMP"></a>1ï¼šåŸŸåå’ŒLAMP</h1><p>ä¸“ç”¨äºapiçš„åŸŸåå»ºè®®é‡‡ç”¨ç±»ä¼¼äºapi.example.comè¿™æ ·çš„ä¸‰çº§åŸŸåï¼ŒLAMPè¿™å››ä¸ªç½‘ç«™æœåŠ¡å™¨æ˜¯å¿…é¡»çš„ã€‚</p><h1 id="2ï¼šlaravelå®‰è£…"><a href="#2ï¼šlaravelå®‰è£…" class="headerlink" title="2ï¼šlaravelå®‰è£…"></a>2ï¼šlaravelå®‰è£…</h1><p>ä½¿ç”¨å®å¡”é¢æ¿å®‰è£…å¥½çš„phpï¼Œå·²ç»è‡ªå¸¦composerï¼Œè‹¥æ²¡æœ‰composeréœ€è¦å…ˆå®‰è£…ã€‚</p><p>æ²¡æœ‰æ•°æ®åº“éœ€è¦å…ˆåˆ›å»ºæ•°æ®åº“ã€‚</p><p>ç„¶ååœ¨ç½‘ç«™ç›®å½•ä¸‹ä¾‹å¦‚/var/wwwï¼Œè¿è¡ŒæŒ‡ä»¤</p><p><code>composer create-project laravel/laravel MyProject  &quot;5.1.*&quot;</code> </p><p>å®‰è£…laravelã€‚æ ¹æ®æç¤ºè¿æ¥æ•°æ®åº“ã€‚</p><h1 id="3ï¼šæ–°å»ºlaravelæ§åˆ¶å™¨"><a href="#3ï¼šæ–°å»ºlaravelæ§åˆ¶å™¨" class="headerlink" title="3ï¼šæ–°å»ºlaravelæ§åˆ¶å™¨"></a>3ï¼šæ–°å»ºlaravelæ§åˆ¶å™¨</h1><p>æ§åˆ¶å™¨å°±æ˜¯å½“æˆ‘ä»¬è®¿é—®urlæ—¶ï¼ŒæœåŠ¡å™¨å°†è¿è¡Œæ§åˆ¶å™¨å†…çš„ç¨‹åºï¼Œç„¶åè¿”å›ç»™æµè§ˆå™¨ä¸€ä¸ªå†…å®¹ï¼Œè¿™ä¸ªå†…å®¹å¯ä»¥æ˜¯htmlä»£ç ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ—¶xmlæˆ–è€…jsonã€‚</p><p>åœ¨laravelå®‰è£…ç›®å½•è¿è¡Œ<code>php artisan make:controller Api/LinkController</code></p><p>æ–°å»ºä¸€ä¸ªåå«LinkControlleræ§åˆ¶å™¨ï¼Œæ­¤æ—¶åœ¨å°†åœ¨<code>app/Http/Controllers/Api</code>ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªLinkController.php`æ–‡ä»¶ã€‚æ‰“å¼€æ–‡ä»¶ç¼–è¾‘æˆ‘ä»¬æƒ³è¦çš„ç¨‹åºã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>]()</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Api</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">DB</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//æ–¹æ³•ä¸€ï¼Œä»æ•°æ®åº“è·å–æŸä¸€æ•°æ®</span></span><br><span class="line">    <span class="comment">//urlä¸­æœ‰å‚æ•°æƒ…å†µï¼Œä¾‹å¦‚https://api.example.com/linkcontroller/searchlinks?type=ç”µå½±&amp;kw=ä¸­å›½æœºé•¿</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">searchlinks</span>(<span class="params">Request $request</span>)</span>&#123;</span><br><span class="line">    $type=$request-&gt;input(<span class="string">&#x27;type&#x27;</span>);<span class="comment">//ä½¿ç”¨requestè·å–urlä¸­å‚æ•°</span></span><br><span class="line">    $kw=$request-&gt;input(<span class="string">&#x27;kw&#x27;</span>);</span><br><span class="line">$linksresult = DB::table(<span class="string">&#x27;my_zhlinks&#x27;</span>)-&gt;where(<span class="string">&#x27;type&#x27;</span>, $type)-&gt;get();<span class="comment">//ä»å·²è¿æ¥çš„æ•°æ®åº“ï¼Œæ‰¾åˆ°è¡¨å•â€œmy_zhlinksâ€ï¼Œè·å–typeå’Œå¸¦å…¥å‚æ•°typeç›¸åŒçš„é¡¹ã€‚å°†è¿™äº›æ•°æ®ä¿å­˜åˆ°linkresultå˜é‡ä¸­ã€‚</span></span><br><span class="line">        <span class="comment">//æ•°æ®åº“è¡¨å•my_zhlinksæ˜¯æˆ‘è‡ªå·±åˆ›å»ºçš„ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> json_encode($linksresult);<span class="comment">//è¿”å›ä¸€ä¸ªjsonæ•°ç»„ï¼Œä¸æ˜¯jsonå¯¹è±¡ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒï¼Œurlä¸­ä¸å¸¦å‚æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">alltype</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $alltypes=DB::table(<span class="string">&#x27;my_zhpreg&#x27;</span>)-&gt;select(<span class="string">&#x27;type&#x27;</span>)-&gt;get();</span><br><span class="line">    <span class="keyword">return</span> json_encode($alltypes);</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4ï¼šä¿®æ”¹è·¯ç”±"><a href="#4ï¼šä¿®æ”¹è·¯ç”±" class="headerlink" title="4ï¼šä¿®æ”¹è·¯ç”±"></a>4ï¼šä¿®æ”¹è·¯ç”±</h1><p>åœ¨ä¸Šé¢æ³¨é‡Šä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œè¦é€šè¿‡searchlinksæ–¹æ³•è¿”å›ä¸€ä¸ªjsonæ•°ç»„ï¼Œurlä¸º<code>https://api.example.com/linkcontroller/searchlinks?type=ç”µå½±&amp;kw=ä¸­å›½æœºé•¿</code>éå¸¸çš„é•¿ï¼Œè€Œä¸”ä¸åˆ©äºæˆ‘ä»¬åæœŸç®¡ç†apiç‰ˆæœ¬ã€‚</p><p>åœ¨<code>routes</code>ç›®å½•ä¸‹çš„<code>api.php</code>æ˜¯ä¸“é—¨ç”¨æ¥å†™Apiæ¥å£çš„è·¯ç”±ï¼Œæ‰“å¼€å®ƒ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>]()</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| API Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register API routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| is assigned the &quot;api&quot; middleware group. Enjoy building your API!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Route::namespace(<span class="string">&#x27;Api&#x27;</span>)-&gt;prefix(<span class="string">&#x27;v1&#x27;</span>)-&gt;group(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Route::get(<span class="string">&#x27;search&#x27;</span>,<span class="string">&#x27;LinkController@searchlinks&#x27;</span>)-&gt;name(<span class="string">&#x27;search.links&#x27;</span>);</span><br><span class="line">Route::get(<span class="string">&#x27;type&#x27;</span>,<span class="string">&#x27;LinkController@alltype&#x27;</span>)-&gt;name(<span class="string">&#x27;type.all&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>namespace(&#39;Api&#39;)</code>æŒ‡å®šäº†å‘½åç©ºé—´ï¼Œæ§åˆ¶å™¨å‘½åç©ºé—´åªè¦ä¸æ˜¯åœ¨<code>App\Http\Controllers</code>ä¸‹ï¼Œéƒ½éœ€è¦è¿›ä¸€æ­¥æŒ‡æ˜å…¶å‘½åç©ºé—´ï¼Œæ¯”å¦‚LinkControllerå‘½åç©ºé—´ä¸º<code>App\Http\Controllers\Api</code>ã€‚prefixä¸ºå‰ç¼€ï¼Œæˆ‘ä»¬ç”¨æ¥æ§åˆ¶ç‰ˆæœ¬ï¼Œgroupè¡¨ç¤ºï¼Œåé¢çš„åœ°å€æ‹¥æœ‰ç›¸åŒçš„å‘½åç©ºé—´å’Œå‰ç¼€ã€‚<br>ä¿®æ”¹åçš„å¸¦å‚æ•°urlå˜ä¸º<code>https://api.example.com/api/v1/search?type=ç”µå½±&amp;kw=ä¸­å›½æœºé•¿</code></p><p>ä¸å¸¦å‚æ•°çš„urlå˜ä¸º<code>https://api.example.com/api/v1/type</code></p><h1 id="5ï¼šæ€»ç»“"><a href="#5ï¼šæ€»ç»“" class="headerlink" title="5ï¼šæ€»ç»“"></a>5ï¼šæ€»ç»“</h1><p>ä¿®æ”¹è·¯ç”±åï¼Œé€šè¿‡è®¿é—®é“¾æ¥<code>https://api.example.com/api/v1/search?type=ç”µå½±&amp;kw=ä¸­å›½æœºé•¿</code>å°±å¯ä»¥è·å¾—ä»æ•°æ®åº“è·å–çš„å€¼äº†ã€‚</p><p>ä¸‹ç¯‡è®²è§£ä½¿ç”¨okhttpå’Œgsonè·å–å¹¶è§£æapié‡Œçš„jsonæ•°ç»„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Magentoåˆ›å»ºç”µå•†ç½‘ç«™è®°å½•</title>
      <link href="/2020/01/24/%E4%BD%BF%E7%94%A8Magento%E5%88%9B%E5%BB%BA%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E8%AE%B0%E5%BD%95/"/>
      <url>/2020/01/24/%E4%BD%BF%E7%94%A8Magento%E5%88%9B%E5%BB%BA%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="0ï¼šç»ªè®º"><a href="#0ï¼šç»ªè®º" class="headerlink" title="0ï¼šç»ªè®º"></a>0ï¼šç»ªè®º</h1><p>å®‰è£…æ•™ç¨‹ä½¿ç”¨magentoä¸­å›½å®˜ç½‘çš„æç¤ºï¼Œæ•™ç¨‹åŸåœ°å€ä¸º<a href="https://www.magentochina.org/blog/magento-guide/install-magento-2-1-with-composer.html">https://www.magentochina.org/blog/magento-guide/install-magento-2-1-with-composer.html</a></p><p>æˆ‘æ˜¯ç”¨composerå®‰è£…magentoï¼Œcomposeråœ¨å®å¡”é¢æ¿å®‰è£…phpæ—¶å·²é»˜è®¤å®‰è£…äº†ï¼Œæ‰€ä»¥èƒ½ç›´æ¥ç”¨ã€‚è‹¥æœªä½¿ç”¨å®å¡”é¢æ¿éœ€ä¼˜å…ˆå®‰è£…composerã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½è¿è¡Œcomposerã€‚è‹¥å·²æœ‰åˆ™è·³è¿‡ã€‚</p><p><code>curl -sS https://getcomposer.org/installer | php</code></p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†composeræ·»åŠ è‡³å…¨å±€ï¼Œä»¥ä¾¿åœ¨ä»»æ„ç›®å½•ä¸‹ä½¿ç”¨composeræŒ‡ä»¤</p><p><code>mv composer.phar /usr/local/bin/composer</code></p><h1 id="1ï¼šphpç¯å¢ƒé…ç½®"><a href="#1ï¼šphpç¯å¢ƒé…ç½®" class="headerlink" title="1ï¼šphpç¯å¢ƒé…ç½®"></a>1ï¼šphpç¯å¢ƒé…ç½®</h1><p>ä¸€ä¸‹å†…å®¹çš„æ“ä½œï¼Œåœ¨å®å¡”æ§åˆ¶é¢æ¿ï¼Œè½¯ä»¶å•†åº—ï¼Œè¿è¡Œç¯å¢ƒï¼Œphpè®¾ç½®é‡Œèƒ½æ‰¾åˆ°</p><p><strong>Magentoå®‰è£…æ—¶PHPç¯å¢ƒéœ€è¦æ£€æŸ¥ä»¥ä¸‹æ‰©å±•ï¼š</strong></p><ul><li><p>PHP Extension curl.</p></li><li><p>PHP Extension iconv.</p></li><li><p>PHP Extension mbstring.</p></li><li><p>PHP Extension dom.</p></li><li><p>PHP Extension hash.</p></li><li><p>PHP Extension openssl.</p></li><li><p>PHP Extension xmlwriter.</p></li><li><p>PHP Extension pcre.</p></li><li><p>PHP Extension gd.</p></li><li><p>PHP Extension bcmath.</p></li><li><p>PHP Extension simplexml.</p></li><li><p>PHP Extension spl.</p></li><li><p>PHP Extension xsl.</p></li><li><p>PHP Extension intl.</p></li><li><p>PHP Extension ctype.</p></li><li><p>PHP Extension pdo_mysql.</p></li><li><p>PHP Extension soap.</p></li><li><p>PHP Extension zip.</p></li><li><p>PHP Extension phar.</p></li><li><p>PHP Extension libxml.</p><p><strong>å–æ¶ˆå‡½æ•°ç¦ç”¨</strong></p></li><li><p>openlogã€syslogã€symlinkã€execç­‰</p></li><li><p>è¿˜æœ‰äº›å‡½æ•°éœ€è¦å–æ¶ˆç¦ç”¨ï¼Œå¯æ ¹æ®å®‰è£…æ—¶çš„é”™è¯¯æç¤ºæ“ä½œ</p></li></ul><h1 id="2ï¼šå¼€å§‹å®‰è£…"><a href="#2ï¼šå¼€å§‹å®‰è£…" class="headerlink" title="2ï¼šå¼€å§‹å®‰è£…"></a>2ï¼šå¼€å§‹å®‰è£…</h1><p>æ‰“å¼€xshellæˆ–å…¶ä»–sshé¢æ¿ï¼Œåœ¨ä½¿ç”¨cdæŒ‡ä»¤ï¼Œè¿›å…¥ç½‘ç«™æ ¹ç›®å½•ï¼Œä¾‹å¦‚/var/wwwï¼Œè¾“å…¥æŒ‡ä»¤</p><p><code>composer create-project --repository-url=https://repo.magento.com/ magento/project-community-edition  magento2</code></p><p>å…¶ä¸­magento2æŒ‡ï¼Œç½‘ç«™å°†è¢«æ”¾åœ¨/var/www/magento2ç›®å½•ä¸‹ï¼Œåˆ é™¤æ­¤å­—æ®µï¼Œmagentoä¼šæ”¾åœ¨/var/wwwç›®å½•ä¸‹ã€‚</p><p>æç¤ºè¾“å…¥usernameå’Œpasswordã€‚</p><ol><li>é¦–å…ˆæ‚¨å…ˆç™»å½•<a href="https://marketplace.magento.com/">Magentoçš„å®˜æ–¹å•†åº—</a>ã€‚</li><li>ç‚¹å‡»â€œSign Inâ€ç™»å½•åˆ°æ‚¨çš„è´¦å·ï¼Œå¦‚æœè¿˜æ²¡æœ‰è´¦å·,éœ€è¦å…ˆæ³¨å†Œã€‚</li><li>å½“ç™»å½•ä¹‹åï¼Œç‚¹å‡»â€My Access Keysâ€.å¦‚æœæ‰¾ä¸åˆ°ï¼Œå¯ä»¥ä½¿ç”¨CTRL+Fé”®è¿›è¡Œæœç´¢.</li><li>ç‚¹å‡»â€œCreate a New Access Keyâ€åï¼Œæ‰¾åˆ°â€œGenerate Newâ€,ä¸ºè‡ªå·±çš„Magento2ç”Ÿæˆä¸€ä¸ªKey.</li><li>è®°å½•ä¸‹ç”Ÿæˆçš„Public keyåŠPrivate key</li></ol><p>å…¶ä¸­public keyæ˜¯ç”¨æˆ·åï¼Œprivate keyæ˜¯å¯†ç ã€‚</p><p>å®Œæˆå®‰è£…ååœ¨ç½‘ç«™ç›®å½•ä¸‹å°±æ²¡èƒ½çœ‹åˆ°magento2ç›®å½•äº†ï¼Œç”±äºmagentoéœ€è¦æ–‡ä»¶å†™æƒé™ã€‚ä½¿ç”¨composerå®‰è£…æ—¶ï¼Œmagetnoæ–‡ä»¶çš„æ‰€æœ‰è€…æ˜¯è¿è¡ŒæŒ‡ä»¤æ—¶çš„ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯è¯´é€šå¸¸æ˜¯rootã€‚é‚£ä¹ˆå‡å®šç½‘ç«™ç”¨æˆ·æ˜¯wwwï¼Œåˆ™åœ¨è¿è¡Œå®‰è£…ç¨‹åºæ—¶ï¼Œwwwå°†æ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œå†™æ“ä½œï¼Œå› æ­¤ï¼Œéœ€è¦æ›´æ”¹æ–‡ä»¶æƒé™ï¼Œæˆ–è€…æ‰€æœ‰è€…ã€‚ã€‚ä¸å»ºè®®å°†æ–‡ä»¶æƒé™ä¿®æ”¹ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…å³å¯ã€‚ã€‚</p><p>ä½¿ç”¨å®å¡”é¢æ¿å¯ç›´æ¥åœ¨æ–‡ä»¶é‡Œä¿®æ”¹æ‰€æœ‰è€…ã€‚xshellä½¿ç”¨chmodæŒ‡ä»¤ï¼Œè¯¦ç»†æ–¹æ³•è¯·è‡ªè¡ŒæŸ¥é˜…ã€‚<strong>è¯·æ³¨æ„ï¼šæ–‡ä»¶æ‰€æœ‰è€…ä¸æ›´æ”¹ï¼Œæ‰“å¼€http://åŸŸå/magento2ï¼Œæ— æ³•è¿›å…¥å®‰è£…ç•Œé¢</strong></p><p>ä¿®æ”¹å®Œæ¯•åå°±å¯ä»¥ç›´æ¥è¾“å…¥http://åŸŸå/magento2/setupè¿›è¡Œå®‰è£…äº†ã€‚å¦‚æœä½ é‡åˆ°è¿™ä¸ªé—®é¢˜</p><p><strong>é•¿æ—¶é—´å®‰è£…ä¸ä¸Šï¼ŒæœåŠ¡å™¨cpuè¿‡è½½é—®é¢˜</strong></p><p>è¯·å°è¯•ä½¿ç”¨æŒ‡ä»¤å®‰è£…</p><p>é¦–å…ˆå°†magentoæ·»åŠ åˆ°ç¯å¢ƒå˜é‡,è¯·è‡ªè¡Œä¿®æ”¹è‡ªå·±çš„magento2æ–‡ä»¶å¤¹ä½ç½®ã€‚</p><p><code>export PATH=$PATH:/var/www/html/magento2/bin</code></p><p>ç„¶åcdåˆ°magento2å®‰è£…ç›®å½•ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">php setup&#x2F;index.php</span><br><span class="line">--db_host&#x3D;localhost \</span><br><span class="line">--db_name&#x3D;magento2 \</span><br><span class="line">--db_user&#x3D;root \</span><br><span class="line">--db_pass&#x3D;canbempty \</span><br><span class="line">--backend_frontname&#x3D;admin \</span><br><span class="line">--admin_username&#x3D;username \</span><br><span class="line">--admin_password&#x3D;password \</span><br><span class="line">--admin_email&#x3D;admin@email.local \</span><br><span class="line">--admin_firstname&#x3D;First \</span><br><span class="line">--admin_lastname&#x3D;Last \</span><br><span class="line">--base_url&#x3D;http:&#x2F;&#x2F;magento2.local&#x2F; \</span><br><span class="line">--base_url_secure&#x3D;http:&#x2F;&#x2F;magento2.local&#x2F; \</span><br><span class="line">--language&#x3D;en_US \</span><br><span class="line">--currency&#x3D;USD \</span><br><span class="line">--use_rewrites&#x3D;true \</span><br><span class="line">--use_secure&#x3D;false \</span><br><span class="line">--use_secure_admin&#x3D;false \</span><br><span class="line">--cleanup_database</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‚æ•°è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹,æ¯”å¦‚base_urlå°±æ˜¯æ‚¨çš„ç½‘å€,admin_*å°†æ˜¯æ‚¨åå°ç®¡ç†å‘˜ç”¨æˆ·åæˆ–å¯†ç .</p><p>ç­‰å¾…å®‰è£…å¦‚æœé‡åˆ°æç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1419 (HY000): You do not have the SUPER privilege and</span><br><span class="line">binary logging is enabled (you *might* want to use the less safe</span><br><span class="line">log_bin_trust_routine_creators variable)</span><br></pre></td></tr></table></figure><p>è¯·åœ¨ä½ çš„ç³»ç»Ÿä¸­æŸ¥æ‰¾my.cnfæ–‡ä»¶ï¼Œé€šå¸¸åœ¨/etc/my.cnfä¸‹ï¼Œæ–‡ä»¶ä¸­ <strong>[mysqld]</strong> æ ‡è®°ååŠ ä¸€è¡Œå†…å®¹ä¸º<strong>log-bin-trust-function-creators=1</strong></p><p>ç„¶åè¿è¡Œ</p><p><code>service mysql restart</code></p><p>é‡å¯mysqlã€‚ç„¶åé‡æ–°<strong>php setup/index.php</strong>ä»¥åŠå…¶åæŒ‡ä»¤ã€‚å®Œæˆå®‰è£…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[SUCCESS]: Magento installation complete.</span><br><span class="line">[SUCCESS]: Magento Admin URI: &#x2F;admin_xgswzt</span><br><span class="line">Nothing to import.</span><br></pre></td></tr></table></figure><p>å‡ºç°æ­¤æç¤ºï¼Œåˆ™å®Œæˆå®‰è£…ã€‚</p><p>ç„¶åä¿®æ”¹ç½‘ç«™ä¼ªé™æ€è§„åˆ™ï¼ŒNginxï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F; &#123;</span><br><span class="line">        index index.html index.php; ## Allow a static html file to be shown first</span><br><span class="line">        try_files $uri $uri&#x2F; @handler; </span><br><span class="line">        expires 30d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">location &#x2F;var&#x2F;export&#x2F; &#123; ## Allow admins only to view export folder</span><br><span class="line">    auth_basic           &quot;Restricted&quot;; ## Message shown in login window</span><br><span class="line">    auth_basic_user_file htpasswd; ## See &#x2F;etc&#x2F;nginx&#x2F;htpassword</span><br><span class="line">    autoindex            on;</span><br><span class="line">&#125;</span><br><span class="line">  location  &#x2F;. &#123; ## Disable .htaccess and other hidden files</span><br><span class="line">    return 404;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location @handler &#123; ## Magento uses a common front handler</span><br><span class="line">    rewrite &#x2F; &#x2F;index.php;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ .php&#x2F; &#123; ## Forward paths like &#x2F;js&#x2F;index.php&#x2F;x.js to relevant handler</span><br><span class="line">    rewrite ^(.*.php)&#x2F; $1 last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3ï¼š-å®å¡”é¢æ¿å®‰è£…å¤±è´¥"><a href="#3ï¼š-å®å¡”é¢æ¿å®‰è£…å¤±è´¥" class="headerlink" title="3ï¼š å®å¡”é¢æ¿å®‰è£…å¤±è´¥"></a>3ï¼š å®å¡”é¢æ¿å®‰è£…å¤±è´¥</h1><p>å»ºè®®ä¸è¦é‡‡ç”¨å®å¡”é¢æ¿å®‰è£…ï¼Œåœ¨ä½¿ç”¨å®å¡”é¢æ¿è¿›è¡Œå®‰è£…åï¼Œç½‘ç«™æ— æ³•è¿è¡Œï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼Œæç¤º<strong>http://åŸŸå/magento2/magento2æ–‡ä»¶ä¸å­˜åœ¨</strong></p><p>ä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•è¿˜æ˜¯æ— æ³•è¿›å…¥ï¼Œæç¤º</p><p><code>An error has happened during application run. See exception log for details.</code></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Magento </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è‡ªå·±å¼€å‘ä¸€ä¸ªVPN App</title>
      <link href="/2019/12/12/%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AAVPN%E7%A8%8B%E5%BA%8F/"/>
      <url>/2019/12/12/%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AAVPN%E7%A8%8B%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -ç®€ä»‹"><a href="#ç¬¬ä¸€ç« -ç®€ä»‹" class="headerlink" title="ç¬¬ä¸€ç«  ç®€ä»‹"></a>ç¬¬ä¸€ç«  ç®€ä»‹</h1><h2 id="1-1-å­¦ä¹ æ¡ä»¶å’Œè¦æ±‚"><a href="#1-1-å­¦ä¹ æ¡ä»¶å’Œè¦æ±‚" class="headerlink" title="1.1 å­¦ä¹ æ¡ä»¶å’Œè¦æ±‚"></a>1.1 å­¦ä¹ æ¡ä»¶å’Œè¦æ±‚</h2><p>å­¦ä¹ æ¡ä»¶ï¼š</p><ul><li>ä½ ä¸ç”¨ä¸€å®šå­¦ä¹ è¿‡JAVAæˆ–å…¶ä»–ç¼–ç¨‹è¯­è¨€ã€‚</li><li>ä½ ä¸ç”¨ä¸€å®šäº†è§£æˆ–ç²¾é€šå®‰å“ç¼–ç¨‹ã€‚</li><li>ä½ ä¸ç”¨ä¸€å®šæ‡‚å¾—Linuxç¼–ç¨‹ã€‚</li><li>ä½ éœ€è¦è‡ªè´¹æ”¯ä»˜æœåŠ¡å™¨è´¹ç”¨ï¼Œå›½å¤–æœåŠ¡å™¨å¤§æ¦‚ä¸€ä¸ªæœˆ30å…ƒï¼Œä¹Ÿå¯èƒ½æœ‰ä¾¿å®œçš„æˆ–æ›´è´µä½†æ€§èƒ½æ›´å¥½çš„ï¼Œä½ å¯è‡ªè¡Œé€‰æ‹©ï¼Œå½“ç„¶å¦‚æœæ„¿æ„ç”¨å›½å†…æœåŠ¡å™¨ç»ƒæ‰‹ï¼Œè…¾è®¯é˜¿é‡Œçš„å­¦ç”ŸæœåŠ¡å™¨ä¸€å¹´åªè¦120ï¼Œå½“ç„¶è¿™ä¸ªæœåŠ¡å™¨åšå‡ºçš„VPNæ— æ³•ç¿»å¢™ã€‚</li><li>ä½ éœ€è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´å’Œè€å¿ƒã€‚</li></ul><p>å¦‚æœä½ å·²ç»æ»¡è¶³ä»¥ä¸Šæ¡ä»¶äº†ï¼Œé‚£ä¹ˆæˆ‘å¸Œæœ›ä½ åœ¨æµè§ˆä»¥ä¸‹æ–‡ç« æ—¶ï¼ŒåŒæ„æˆ‘çš„ä»¥ä¸‹è¦æ±‚ï¼š</p><ul><li>ä½ ä¿è¯ä¸ä½¿ç”¨æœ¬æ•™ç¨‹åˆ¶ä½œçš„VPNè¿›è¡Œç‰Ÿåˆ©ã€‚</li><li>ä½ ä¿è¯ä¸åœ¨ä¸­å›½å¤§é™†åœ°åŒºæ•£æ’­å’Œåˆ†äº«åˆ¶ä½œçš„VPNã€‚</li><li>ä½ ä¿è¯ä¸ä½¿ç”¨æ­¤VPNè¿›è¡Œå…¶ä»–è¿æ³•çŠ¯ç½ªæ´»åŠ¨æˆ–åœ¨å¤–ç½‘å‘è¡¨å¯¹å›½å®¶ä¸åˆ©çš„è¨€è®ºã€‚</li></ul><blockquote><p>è‹¥ä½ å·²åŒæ„ä»¥ä¸Šè¦æ±‚ï¼Œè¯·ç»§ç»­å‘ä¸‹æµè§ˆï¼Œè‹¥ä½ æ— æ³•åšåˆ°ä¸Šè¿°è¦æ±‚ï¼Œè¯·åœæ­¢ç»§ç»­æµè§ˆã€‚</p></blockquote><h2 id="1-2-åŠŸèƒ½ä»‹ç»"><a href="#1-2-åŠŸèƒ½ä»‹ç»" class="headerlink" title="1.2 åŠŸèƒ½ä»‹ç»"></a>1.2 åŠŸèƒ½ä»‹ç»</h2><p>è½¯ä»¶çš„å®ç°åŸç†ï¼Œæˆ‘ä¸åšä»‹ç»ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯è‡ªè¡Œå­¦ä¹ ã€‚</p><p>è¿™é‡Œåªæ•™å¤§å®¶å¦‚ä½•åœ¨æˆ‘çš„è½¯ä»¶åŸºç¡€ä¸Šé€šè¿‡ç®€å•ä¿®æ”¹ï¼Œåˆ¶ä½œä¸€ä¸ªè‡ªç”¨VPNå®¢æˆ·ç«¯ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨SSã€SSRæˆ–V2rayç­‰ç°æˆè½¯ä»¶ï¼Œå¹¶é…ç½®æœåŠ¡å™¨åç¿»å¢™ã€‚</p><p>VPNåŠŸèƒ½ï¼š</p><ul><li>å¯é…ç½®å¤šæ¡çº¿è·¯ï¼Œä»¥é€‚ç”¨ä¸åŒçš„æœåŠ¡å™¨ï¼Œæˆ–åŒä¸€æœåŠ¡å™¨ä¸Šçš„ä¸åŒç”¨æˆ·ã€‚</li><li>å®¢æˆ·ç«¯ä¸»åŠ¨æ›´æ”¹ä¸»é¢˜é¢œè‰²ã€‚</li><li>æ¨é€æ›´æ–°é€šçŸ¥ï¼Œå’Œæ¨é€å¹¿å‘Šã€‚å¯åœ¨æœåŠ¡ç«¯æ›´æ”¹æ˜¯å¦æ¨é€å¹¿å‘Šã€‚</li></ul><p>æœ¬è½¯ä»¶æ²¡æœ‰è´¦æˆ·ç™»é™†ç­‰é™å®šæ¡ä»¶ã€‚åªè¦å®‰è£…è½¯ä»¶ï¼Œå³å¯ç¿»å¢™ï¼Œå½“ç„¶å‰ææ¡ä»¶æ˜¯ï¼Œä½ é…ç½®å¥½äº†æœåŠ¡å™¨ã€‚</p><p>ä¸‹é¢å±•ç¤ºæˆ‘å·²ç»åˆ¶ä½œå¥½çš„VPNç¨‹åºæˆªå›¾ï¼Œæµ‹è¯•å·²èƒ½ç¿»å¢™ã€‚</p><img src="http://qn.xieqifei.com/static/images/ecaoovpn1.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/ecaoovpn1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" style="zoom:25%;" /><img src="http://qn.xieqifei.com/static/images/ecaoovpn2.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/ecaoovpn2.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" style="zoom: 25%;" /><img src="http://qn.xieqifei.com/static/images/ecaoovpn3.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/ecaoovpn3.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" style="zoom:25%;" /><img src="http://qn.xieqifei.com/static/images/ecaoovpn4.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/ecaoovpn4.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" style="zoom:25%;" /><p>å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¾¿å¼€å§‹åˆ¶ä½œè‡ªå·±çš„VPNå§ã€‚</p><h1 id="ç¬¬äºŒç« -æœåŠ¡ç«¯é…ç½®"><a href="#ç¬¬äºŒç« -æœåŠ¡ç«¯é…ç½®" class="headerlink" title="ç¬¬äºŒç«  æœåŠ¡ç«¯é…ç½®"></a>ç¬¬äºŒç«  æœåŠ¡ç«¯é…ç½®</h1><h2 id="2-1-VPSæœåŠ¡å™¨è´­ä¹°"><a href="#2-1-VPSæœåŠ¡å™¨è´­ä¹°" class="headerlink" title="2.1 VPSæœåŠ¡å™¨è´­ä¹°"></a>2.1 VPSæœåŠ¡å™¨è´­ä¹°</h2><p>è¿™é‡Œæˆ‘æ¨èç»™å¤§å®¶çš„æ˜¯<a href="https://www.vultr.com/?ref=8345070">vultr.com</a>ã€‚ä¸ºä»€ä¹ˆè¿™å®¶æœåŠ¡å™¨å‘¢ï¼Ÿè¿™å®¶æœåŠ¡å™¨å¯ä»¥æŒ‰å°æ—¶æ”¶è´¹ï¼Œå¦‚æœä½ ä¸å«Œéº»çƒ¦ï¼Œå¯ä»¥åœ¨éœ€è¦çš„ä½¿ç”¨VPNçš„æ—¶å€™ï¼Œå†å¼€å¯ä¸€å°VPSã€‚ä¸éœ€è¦çš„æ—¶å€™å…³é—­ï¼Œå½“ç„¶é‡æ–°å¼€å¯éœ€è¦é‡æ–°é…ç½®æœåŠ¡å™¨ç­‰æ“ä½œã€‚åªæ˜¯æˆ‘è§‰å¾—æ€§ä»·æ¯”æŒºé«˜ã€‚æœ€é‡è¦çš„æ˜¯æ”¯æŒæ”¯ä»˜å®å¾®ä¿¡ä»˜æ¬¾ï¼</p><p>ä¸‹é¢æ•™å¤§å®¶è´­ä¹°VPSæœåŠ¡å™¨ã€‚ä¸»è¦æ˜¯æ²¡çœ‹åˆ°ä¸­æ–‡ç¿»è¯‘ï¼Œæ‰€ä»¥å†³å®šä¸€æ­¥æ­¥æ•™å¤§å®¶ï¼Œæ¯•ç«Ÿæœ‰çš„äººå¯èƒ½å¹¶ä¸ä¼šã€‚</p><ol><li><p>ç‚¹å‡»é“¾æ¥æ‰“å¼€vultrç½‘ç«™ï¼Œ<a href="https://www.vultr.com/?ref=8345070">www.vultr.com</a>é¢å¤–è¯´æ˜ä¸€å¥ï¼Œé€šè¿‡æˆ‘çš„é“¾æ¥æ‰“å¼€æ³¨å†Œï¼Œæˆ‘å’Œä½ éƒ½å¯ä»¥è·å¾—10ç¾å…ƒçš„å¥–åŠ±è´¹ç”¨ï¼Œå½“ç„¶è¿™ç¬”é’±ï¼Œéœ€è¦ä½ è´­ä¹°æœåŠ¡å™¨ä¹‹åæ‰ä¼šå‘æ”¾ã€‚åªæ˜¯ç»™å¤§å®¶è¯´æ˜è¿™ç‚¹ï¼Œå½“ç„¶å¦‚æœå¤§å®¶æœ‰å…¶ä»–é€‰æ‹©ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p></li><li><p>åˆ›å»ºè´¦æˆ·ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step1.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å¡«å†™é‚®ç®±ï¼ŒæŒ‰è¦æ±‚è®¾ç½®å¯†ç ï¼Œå¯†ç è¦æ±‚è‡³å°‘ä¸€ä¸ªå¤§å†™å­—æ¯ï¼Œä¸€ä¸ªå°å†™å­—æ¯ï¼Œä¸€ä¸ªæ•°å­—ï¼Œå’Œè‡³å°‘åä¸ªå­—ç¬¦ã€‚ç‚¹å‡»â€œcreate acounntâ€å³å¯ã€‚</p></li><li><p>Vultrå……å€¼ã€‚</p><p>æ³¨å†Œç™»å½•åä¼šè¿›å…¥ä¸ªäººé¢æ¿ï¼Œå·¦è¾¹æ é€‰æ‹© <strong>â€œBillingâ€</strong> ï¼Œé€‰æ‹©æ”¯ä»˜æ–¹å¼å’Œé‡‘é¢ï¼Œä»˜æ¬¾å³å¯ã€‚</p><p>Vultr æ”¯æŒæ”¯ä»˜å®ä»˜æ¬¾ï¼Œå¾ˆæ–¹ä¾¿ã€‚ä½†æ˜¯ä¸ªäººæ›´æ¨èæœ‰ Paypal çš„ä½¿ç”¨ Paypalã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step2.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step2.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p></li><li><p>åˆ›å»ºVPS</p><p>é€‰æ‹© <strong>â€œServersâ€</strong> ï¼Œç‚¹å‡»å³è¾¹è“è‰²çš„ â€œ**+**â€ æ·»åŠ  VPSã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step3.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step3.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>a.é€‰æ‹©èŠ‚ç‚¹</strong></p><p>æ—¥æœ¬è·ç¦»æœ€è¿‘ï¼Œå»¶è¿Ÿæœ€ä½ï¼Œä½†å¤ªçƒ­é—¨äº†ï¼Œç™½å¤©è¿˜å¥½ï¼Œæ™šä¸Šæœ‰æ—¶å¾ˆæ…¢ï¼›æ´›æ‰çŸ¶æ¯”æ—¥æœ¬ç¨³äº›ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step4.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step4.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>b.é€‰æ‹©ç³»ç»Ÿ</strong></p><p>é€‰æ‹©ç³»ç»Ÿã€‚æ”¯æŒ Windows å’Œè‡ªå·±ä¸Šä¼  ISO ç³»ç»Ÿé•œåƒã€‚è¿™é‡Œè¯·å¤§å®¶é€‰æ‹©<strong>CentOSç³»ç»Ÿ7x64</strong></p><p><img src="http://qn.xieqifei.com/static/images/vultr-step5.png" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step5.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>c.é€‰æ‹©å¥—é¤</strong></p><p>ä»·æ ¼ä» $2.5/mo åˆ° $640/moï¼Œå„ç§é…ç½®éƒ½æœ‰ï¼Œæœ€ä½ $2.5/mo çš„å¥—é¤ç°åœ¨åŸºæœ¬ä¹°ä¸åˆ°äº†ã€‚è¦æ±‚å¿…é¡»<strong>æœ‰IPv4åœ°å€</strong>ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step6.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step6.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>d.å…¶ä»–é€‰é¡¹</strong></p><p>æœ‰ IPv6ï¼Œç§å¯†ï¼Œä¸»æœºåã€æ ‡ç­¾ç­‰ï¼Œ<strong>æ— ç‰¹æ®Šéœ€è¦å…¨éƒ¨é»˜è®¤å³å¯ã€‚</strong></p><p>é€‰å¥½åç‚¹å‡»å³ä¸‹è§’çš„ <strong>â€œDeploy Nowâ€</strong> ï¼Œå¼€å§‹å®‰è£… VPSã€‚</p><p><strong>e.æŸ¥çœ‹VPS</strong></p><p>å·²è´­ä¹°çš„ VPS éƒ½ä¼šæ˜¾ç¤ºåœ¨ â€œServersâ€ é¢æ¿ä¸­ï¼Œå½“æ˜¾ç¤º â€œRunningâ€ æ—¶å³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚ç‚¹å‡» <strong>â€œManageâ€</strong> è¿›å…¥ VPS ç®¡ç†é¢æ¿ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step7.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step7.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>VPS ç®¡ç†é¢æ¿ï¼Œè¿™é‡Œéœ€è¦è®°å½•ä¸‹ IP åœ°å€ï¼ˆIP Addressï¼‰ã€ç”¨æˆ·åï¼ˆUsernameï¼‰ã€å¯†ç ï¼ˆPasswordï¼‰ä¾›ç¨åè¿æ¥ VPS æ—¶ä½¿ç”¨ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vultr-step8.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vultr-step8.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p></li><li><p>è¿æ¥VPS</p><p>ä½¿ç”¨ ssh å·¥å…·è¿æ¥æˆ‘ä»¬çš„ VPSï¼ŒWindows æ¨è xshellï¼ŒMac å¯ä½¿ç”¨è‡ªå¸¦çš„ç»ˆç«¯ã€‚</p><p>Xshell ç½‘ç›˜é“¾æ¥ï¼š<a href="https://link.zhihu.com/?target=https://pan.baidu.com/s/1pMbKLMb">https://pan.baidu.com/s/1pMbKLMb</a> å¯†ç ï¼šlwir</p><p><strong>Windows</strong></p><p>å®‰è£… xshellï¼Œæ‰“å¼€è½¯ä»¶ã€‚</p><p>ç‚¹å‡» â€œæ–‡ä»¶â€ â€”&gt; â€œæ–°å»ºâ€ â€”&gt; â€œè¿æ¥â€ï¼Œè¾“å…¥ â€œåç§°â€ å’Œ â€œä¸»æœºâ€ ï¼ˆå³VPS ipï¼‰ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vps-step1.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>ç‚¹å‡» â€œç”¨æˆ·èº«ä»½éªŒè¯â€ï¼Œè¾“å…¥ç”¨æˆ·åï¼ˆé»˜è®¤rootï¼‰å’Œå¯†ç ã€‚ç¡®è®¤ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vps-step2.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step2.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>è¿æ¥ VPSï¼Œæ¥å—å¹¶ä¿å­˜å¯†åŒ™ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vps-step3.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step3.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><img src="http://qn.xieqifei.com/static/images/vps-step4.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step4.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>å‡ºç° <code>root@vultr:~#</code> å³è¿æ¥æˆåŠŸï¼Œå¯ä»¥è¾“å…¥ä»£ç äº†è¿›è¡Œæ“ä½œäº†ã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vps-step5.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step5.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><blockquote><p>å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰çš„VPSåœ¨å›½å†…éƒ½èƒ½pingé€šï¼Œæœ‰çš„IPåœ°å€å·²ç»è¢«å›½å†…ç½‘ç»œå±è”½äº†ï¼Œæ‰€ä»¥å¦‚æœVPSè¿æ¥ä¸ä¸Šï¼Œè¯·ä½ åˆ° [ping.chinaz.com]è¾“å…¥ä½ çš„IPåœ°å€æµ‹è¯•ï¼Œè‹¥å›½å†…è¿æ¥å‡æç¤ºè¶…æ—¶ä¸”ä¸ºçº¢è‰²ï¼Œè¯·ä½ åœ¨vulträ¸­åˆ é™¤vpså¹¶é‡æ–°åˆ›å»ºä¸€ä¸ªå¯ç”¨çš„ipåœ°å€ã€‚</p></blockquote><p><img src="http://qn.xieqifei.com/static/images/vps-step7.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step7.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>Mac</strong></p><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ç™»å½• VPSï¼Œå…¶ä¸­ root å³ç”¨æˆ·åï¼Œå°† ip æ›´æ”¹ä¸º VPS çš„ IP åœ°å€ï¼Œå›è½¦ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root<span class="meta">@ip</span></span><br></pre></td></tr></table></figure><p>è¾“å…¥ <code>yes</code> ç¡®è®¤ï¼Œç²˜è´´å¯†ç ï¼Œå›è½¦ã€‚éœ€è¦æé†’çš„æ˜¯ï¼Œå¯†ç è¾“å…¥æ—¶å¹¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´ï¼Œå›è½¦å³å¯ã€‚å‡ºç° <code>root@vultr:~#</code> å³è¿æ¥æˆåŠŸã€‚</p><p><img src="http://qn.xieqifei.com/static/images/vps-step6.jpg" class="lazyload" data-srcset="http://qn.xieqifei.com/static/images/vps-step6.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p></li></ol><p>   <strong>æœ€è¿‘å¾ˆå¿™ï¼Œæ²¡æ—¶é—´æ›´æ–°äº†</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/xieqifei/openvpn%E3%80%82%E7%84%B6%E5%90%8E%E6%9C%89%E8%8B%B1%E8%AF%AD%E7%89%88%E6%9C%AC%E7%9A%84readme%E3%80%82">https://github.com/xieqifei/openvpnã€‚ç„¶åæœ‰è‹±è¯­ç‰ˆæœ¬çš„readmeã€‚</a></p>]]></content>
      
      
      <categories>
          
          <category> å®‰å“ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VPN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JAVAå®‰å“ç¼–ç¨‹ç¬”è®°</title>
      <link href="/2019/11/18/%E9%87%8D%E6%B8%A9%E5%AE%89%E5%8D%93%E7%BC%96%E7%A8%8B/"/>
      <url>/2019/11/18/%E9%87%8D%E6%B8%A9%E5%AE%89%E5%8D%93%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -å‰è¨€"><a href="#ç¬¬ä¸€ç« -å‰è¨€" class="headerlink" title="ç¬¬ä¸€ç«  å‰è¨€"></a>ç¬¬ä¸€ç«  å‰è¨€</h1><p>å¤§æ¦‚åœ¨ä¸¤å¹´å‰ï¼Œæˆ‘ç¬¬ä¸€æ¬¡å†³å®šå­¦ä¹ å®‰å“ç¼–ç¨‹ï¼Œåœ¨å¤§çº¦ä¸¤ä¸‰å‘¨çš„å­¦ä¹ ä¹‹åï¼Œç”±äºç¼ºä¹JAVAå¼€å‘åŸºç¡€å’Œç»éªŒï¼Œå•çº¯çš„è§†é¢‘æ•™ç¨‹çœ‹å¾—æˆ‘äº‘é‡Œé›¾é‡Œï¼Œä¸è¿‡åœ¨æ­¤æœŸé—´å­¦ä¼šäº†ä½¿ç”¨ä»£ç è¿›è¡Œé¡µé¢å¸ƒå±€ï¼Œè¿™ç»™æˆ‘æ­¤åå­¦ä¹ Webç¼–ç¨‹ï¼Œä½¿ç”¨htmlã€cssè¿›è¡Œé¡µé¢å¸ƒå±€æ‰“ä¸‹äº†åŸºç¡€ã€‚</p><p>ä¸¤å¹´å‰ï¼Œæˆ‘ä½¿ç”¨çš„è¿˜æ˜¯è”æƒ³çš„i5äº”ç³»åˆ—cpuã€æœºæ¢°ç¡¬ç›˜ã€4gå†…å­˜ï¼Œè¿™ä¸ªç”µè„‘é…ç½®ä½¿å¾—æˆ‘å½“æ—¶ç”¨epliseå¼€å‘å®‰å“ç¨‹åºéå¸¸éº»çƒ¦ï¼Œæ‰“å¼€ä¸€ä¸ªå®‰å“è™šæ‹Ÿæœºéœ€è¦èŠ±å¾ˆé•¿çš„æ—¶é—´ã€‚åŠå¹´å‰ï¼Œæˆ‘æ›´æ¢äº†Surfaceï¼Œç”¨ä¸Šäº†8+128Gå†…å­˜+å›ºæ€ç¡¬ç›˜ã€‚ä¹Ÿæ›´æ–°äº†æœ€æ–°çš„i5å…«ç³»åˆ—cpuï¼Œç”µè„‘é…ç½®æœ‰äº†æ˜¾è‘—æé«˜ï¼Œè¿è¡Œå®‰å“å¼€å‘ç¨‹åºä¹Ÿæ¸¸åˆƒæœ‰ä½™äº†ã€‚</p><p>è€Œè¿™æ¬¡é‡å¯å®‰å“å­¦ä¹ ä¹‹æ—…ï¼Œæˆ‘å°†ä½¿ç”¨ASè¿›è¡Œå®‰å“å¼€å‘ã€‚è™½ç„¶ASç›®å‰å·²æ”¯æŒC/C++åšç¨‹åºå¼€å‘ï¼Œä½†æˆ‘ä»å°†é€‰æ‹©JAVAä½œä¸ºå¼€å‘è¯­è¨€ï¼Œä»¥æé«˜æˆ‘çš„JAVAæ°´å¹³ã€‚</p><h1 id="ç¬¬äºŒç« -å®‰è£…Android-Studio"><a href="#ç¬¬äºŒç« -å®‰è£…Android-Studio" class="headerlink" title="ç¬¬äºŒç«  å®‰è£…Android Studio"></a>ç¬¬äºŒç«  å®‰è£…Android Studio</h1><p>ä» <a href="https://developer.android.com/studio">https://developer.android.com/studio</a> ä¸‹è½½IDEå’ŒSDKåï¼Œè¿›è¡Œç›¸åº”å®‰è£…å’Œé…ç½®ã€‚å®‰è£…æ•™ç¨‹ï¼Œä»ç½‘è¯¾å’ŒCDSNè®ºå›å‡å¯æ‰¾åˆ°ã€‚ä¸å†èµ˜è¿°ã€‚</p><p>æ­¤å¤„è¯´æ˜å®‰è£…æ—¶é‡åˆ°çš„å‘ã€‚</p><ol><li><p>SDKå®‰è£…åï¼Œåœ¨SDKç®¡ç†å·¥å…·ä¸­æ·»åŠ SDKç›®å½•å³andriod-sdkæç¤º<code>android sdk location should not contain whitespace</code></p></li><li><p>é—®é¢˜1è§£å†³åç´§æ¥ç€å‡ºç°æç¤º<code>Target folder is neither empty nor does it point to an existing SDK installtion.</code></p></li></ol><p>é—®é¢˜åˆ†æå’Œè§£å†³åŠæ³•ï¼š</p><ol><li>æç¤ºæ„æ€ä¸ºSDKçš„ç›®å½•è·¯å¾„ä¸­å‡ºç°ç©ºæ ¼ã€‚åœ¨æˆ‘çš„é—®é¢˜ä¸­æ˜¯ï¼ŒProgram Filesæ–‡ä»¶å¤¹åç§°ä¸­é—´æœ‰ç©ºæ ¼ï¼Œäºæ˜¯æˆ‘åœ¨æ ¹è·¯å¾„é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªä»¥Andriodä¸ºåçš„æ–‡ä»¶å¤¹ï¼Œå¹¶å°†andriod-sdkç§»åˆ°æ­¤è·¯å¾„ä¸‹ã€‚</li><li>æç¤ºä¸ºï¼Œé€‰æ‹©çš„æ–‡ä»¶å¤¹æ—¢ä¸æ˜¯ç©ºçš„ä¹Ÿä¸æ˜¯sdkçš„æ–‡ä»¶å¤¹ï¼ŒåŸå› æ˜¯æˆ‘å°†sdkç›®å½•æŒ‡å‘äº†Andriodä¸ºåçš„æ–‡ä»¶å¤¹ï¼Œæ­£ç¡®çš„è·¯å¾„æ˜¯ä¸Šæ­¥åˆ›å»ºAndriodæ–‡ä»¶ä¸‹çš„andriod-sdkã€‚</li></ol><p>å®‰è£…å¥½SDKåï¼Œè¿˜è¦ç»™ASå®‰è£…è™šæ‹Ÿæœºï¼Œè¿è¡ŒASåï¼Œåœ¨Toolsèœå•ä¸‹æ‰¾åˆ°AVD Managerï¼ˆè™šæ‹Ÿæœºç®¡ç†å™¨ï¼‰ï¼Œæ·»åŠ åˆé€‚åˆ†è¾¨ç‡ã€Andriodç‰ˆæœ¬çš„è™šæ‹Ÿæœºå³å¯ã€‚</p><h1 id="ç¬¬ä¸‰ç« -åº”ç”¨çš„èµ„æºè®¿é—®"><a href="#ç¬¬ä¸‰ç« -åº”ç”¨çš„èµ„æºè®¿é—®" class="headerlink" title="ç¬¬ä¸‰ç«  åº”ç”¨çš„èµ„æºè®¿é—®"></a>ç¬¬ä¸‰ç«  åº”ç”¨çš„èµ„æºè®¿é—®</h1><h2 id="3-1-è®¤è¯†Androidç›®å½•"><a href="#3-1-è®¤è¯†Androidç›®å½•" class="headerlink" title="3.1 è®¤è¯†Androidç›®å½•"></a>3.1 è®¤è¯†Androidç›®å½•</h2><ol><li><p>resèµ„æº</p><ul><li>drawable-ï¼Ÿdpiï¼ˆl,h,m,xï¼‰ï¼šä¸åŒåˆ†è¾¨ç‡ä¸‹çš„èµ„æºæ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡çš„å¤§å°ã€‚</li><li>valuesï¼šå®‰å“åº”ç”¨ç•Œé¢ä¸Šéœ€è¦æ˜¾ç¤ºçš„å„ç±»æ–‡æœ¬æ ‡ç­¾æ–‡å­—ã€‚</li><li>layoutï¼šç•Œé¢å¸ƒå±€æ–‡ä»¶ã€‚</li><li>menuï¼šå­˜æ”¾èœå•</li></ul></li><li><p>genï¼ˆADTä¸­ï¼‰æˆ–JAVAï¼ˆASä¸­ï¼‰</p><p>ç”±IDEè‡ªåŠ¨ç”Ÿæˆçš„åŒ…æ–‡ä»¶</p></li></ol><h2 id="3-2-é€šç”¨èµ„æºè®¿é—®"><a href="#3-2-é€šç”¨èµ„æºè®¿é—®" class="headerlink" title="3.2 é€šç”¨èµ„æºè®¿é—®"></a>3.2 é€šç”¨èµ„æºè®¿é—®</h2><ol><li><p>åŸºäºJavaä»£ç è®¿é—®èµ„æº</p><ul><li>Javaä»£ç è®¿é—®æ–¹å¼:</li></ul></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[\&lt;packge-name&gt;.]R.   <span class="comment">//Rç±»æ‰€åœ¨åŒ…è·¯å¾„å¯çœç•¥</span></span><br><span class="line">&lt;resource_type&gt;.&lt;resource_name&gt;  <span class="comment">//resource_typeï¼šèµ„æºç±»å‹å¦‚colorç­‰ã€‚</span></span><br></pre></td></tr></table></figure><ul><li><p>Javaè®¿é—®ç¤ºä¾‹</p></li><li><p>//ä»drawableç›®å½•ä¸­åŠ è½½å›¾ç‰‡ï¼Œè®¾ç½®ä¸ºèƒŒæ™¯å›¾ç‰‡</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getWindow().setBackgroundDrawableResource(R.drawable.back)</span><br></pre></td></tr></table></figure><ul><li>//ä»stringè®¾ç½®å­—ç¬¦ä¸²èµ„æºï¼Œè®¾ç½®ä¸ºæ–‡æœ¬æ¡†çš„æ˜¾ç¤ºå†…å®¹</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TextView title=(TextView)findViewById(R.id.title);  </span><br><span class="line">title.setText(R.string.titleinfo);</span><br></pre></td></tr></table></figure><ol start="2"><li><p>åœ¨XMLé…ç½®æ–‡ä»¶ä¸­è®¿é—®èµ„æº</p><ul><li>XMLèµ„æºè®¿é—®æ–¹å¼:</li></ul></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@[<span class="tag">&lt;<span class="name">package_name</span>&gt;</span>:]</span><br><span class="line"><span class="tag">&lt;<span class="name">resource_type</span>&gt;</span>/<span class="tag">&lt;<span class="name">resource_name</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>XMLèµ„æºå®šä¹‰ç¤ºä¾‹</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">&quot; blue &quot;</span> &gt;</span>#ff00ff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot; title &quot;</span> &gt;</span></span><br><span class="line">Confirmation<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>åœ¨XMLä¸­ä½¿ç”¨èµ„æºç¤ºä¾‹</p><ul><li>XMLèµ„æºä½¿ç”¨å®ä¾‹ç‰‡æ®µ</li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span> <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:text</span>=<span class="string">&quot; @string/title&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:textColor</span>=<span class="string">&quot; @color/blue&quot;</span> </span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">EditText</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-3-å®‰å“ä¸­å­—ç¬¦ä¸²ã€é¢œè‰²å’Œå°ºå¯¸åº”ç”¨"><a href="#3-3-å®‰å“ä¸­å­—ç¬¦ä¸²ã€é¢œè‰²å’Œå°ºå¯¸åº”ç”¨" class="headerlink" title="3.3 å®‰å“ä¸­å­—ç¬¦ä¸²ã€é¢œè‰²å’Œå°ºå¯¸åº”ç”¨"></a>3.3 å®‰å“ä¸­å­—ç¬¦ä¸²ã€é¢œè‰²å’Œå°ºå¯¸åº”ç”¨</h2><ol><li><p>èµ„æºåˆ—è¡¨</p><p>å­—ç¬¦ä¸²ã€é¢œè‰²ã€å°ºå¯¸èµ„æºï¼Œå­˜æ”¾åœ¨XMLæ–‡ä»¶å†…ï¼Œä½äº/res/valuesç›®å½•ä¸‹ã€‚</p><p>å¦‚å­—ç¬¦ä¸²èµ„æºï¼š/res/values/strings.xmlã€‚Rç±»ä¸­åç§°ï¼šR.string</p></li><li><p>é¢œè‰²è¡¨ç¤ºæ–¹æ³•</p><ul><li><p>ä½¿ç”¨Colorç±»çš„å¸¸é‡</p><p>å¦‚ï¼š<code>int color = Color.BLUE;//åˆ›å»ºä¸€ä¸ªè“è‰²</code></p></li><li><p>ä½¿ç”¨Colorç±»çš„é™æ€æ–¹æ³•argbåˆ›å»ºé¢œè‰²</p><p><code>int color = Color.argb\(127.255.0.255\);//åŠé€æ˜ç´«è‰²</code></p></li><li><p>åœ¨XMLèµ„æºæ–‡ä»¶å®šä¹‰é¢œè‰²å€¼</p></li></ul></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">&quot; blue &quot;</span> &gt;</span>#ff00ff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot; title &quot;</span> &gt;</span></span><br><span class="line">Confirmation<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li><p>ä½¿ç”¨ç¤ºä¾‹</p></li><li><p>reså’ŒassetsåŒºåˆ«</p><ul><li><p>reså†…çš„æ–‡ä»¶è¢«æ˜ å°„åˆ°R.javaï¼ŒåŸºäºèµ„æºIDç›´æ¥è®¿é—®ã€‚</p></li><li><p>assetséœ€é€šè¿‡èµ„æºç®¡ç†å™¨è®¿é—®ã€‚</p></li><li><p>resä¸‹ä¸å¯ä»¥åˆ›å»ºå­ç›®å½•ï¼Œassetså¯ä»¥æœ‰ç›®å½•ç»“æ„ã€‚</p></li><li><p>è¯»å–æ–‡ä»¶èµ„æºçš„æ–¹å¼ä¸åŒ</p><ul><li>è¯»å–res/rawä¸‹çš„æ–‡ä»¶èµ„æºï¼Œé€šè¿‡å½“å‰Activityä¸­çš„<code>getResources()</code>æ–¹æ³•ï¼š</li></ul></li></ul></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">InputStream is = getResources().</span><br><span class="line">openRawResource(R.id.filename);</span><br></pre></td></tr></table></figure><ul><li>è¯»å–assetsä¸‹çš„æ–‡ä»¶èµ„æºï¼Œé€šè¿‡å½“å‰æ´»åŠ¨çš„èµ„æºç®¡ç†å™¨assetmanagerè¯»å–ç›¸åº”çš„èµ„æºæ–‡ä»¶ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AssetManager am = getAssets();<span class="comment">//é€šè¿‡å½“å‰çš„Activityçš„getAsset()æ–¹æ³•ã€‚</span></span><br><span class="line">InputStream is = am.open(<span class="string">&quot;filename&quot;</span>);<span class="comment">//åŸºäºæ–‡ä»¶åè¯»å–èµ„æºã€‚</span></span><br></pre></td></tr></table></figure><h2 id="3-4-Drawableèµ„æº"><a href="#3-4-Drawableèµ„æº" class="headerlink" title="3.4 Drawableèµ„æº"></a>3.4 Drawableèµ„æº</h2><ol><li><p>Drawableèµ„æº</p><ul><li><p>ä¸»è¦æ˜¯éœ€è¦ç»˜åˆ¶çš„èµ„æºï¼Œæ¯”å¦‚å›¾ç‰‡èµ„æºã€‚</p></li><li><p>ä¸»è¦æ ¼å¼æœ‰*.pngã€*.jpgç­‰ã€‚</p></li><li><p>å›¾ç‰‡æ”¾å…¥/res/drawable-xxxç›®å½•ä¸‹ã€‚</p></li><li><p>å®‰å“SDKä¼šåœ¨ç¼–è¯‘åº”ç”¨è‡ªåŠ¨åŠ è½½å›¾ç‰‡ã€‚</p></li><li><p>èµ„æºæ–‡ä»¶åœ¨R.javaèµ„æºç±»ä¸­ç”Ÿæˆè¯¥èµ„æºçš„ç´¢å¼•ã€‚</p></li></ul></li><li><p>Drawableèµ„æºç±»å‹</p><ul><li>StateListDrawableèµ„æºï¼ˆåŠ¨æ€åˆ‡æ¢èƒŒæ™¯ï¼‰</li><li>LayerDrawableèµ„æºï¼ˆå›¾å±‚å åŠ ï¼‰</li><li>ShapeDrawableèµ„æºï¼ˆç»˜å›¾ï¼‰</li><li>ClipDrawableèµ„æº</li><li>AnimationDrawableèµ„æºï¼ˆåŠ¨ç”»ï¼‰</li></ul></li></ol><h2 id="3-5-å®‰å“é¡¹ç›®å¸ƒå±€æ–‡ä»¶"><a href="#3-5-å®‰å“é¡¹ç›®å¸ƒå±€æ–‡ä»¶" class="headerlink" title="3.5 å®‰å“é¡¹ç›®å¸ƒå±€æ–‡ä»¶"></a>3.5 å®‰å“é¡¹ç›®å¸ƒå±€æ–‡ä»¶</h2><ol><li><p>ä»€ä¹ˆæ˜¯å®‰å“å¸ƒå±€æ–‡ä»¶ï¼Ÿ</p><ul><li>å®šä¹‰ç”¨æˆ·ç•Œé¢ä¸Šå„ä¸ªç»„å»ºä¹‹é—´çš„ç»„ç»‡ç»“æ„ã€‚</li><li>XMLæ ¼å¼æ–‡ä»¶ï¼Œå®‰å“ç³»ç»Ÿè´Ÿè´£åˆå§‹åŒ–ã€‚</li><li>å®ç°ç•Œé¢å¸ƒå±€å’Œé€»è¾‘ä»£ç çš„åˆ†ç¦»ã€‚</li><li>ä¿®æ”¹å’Œæ›´æ–°ç•Œé¢éå¸¸ç®€ä¾¿ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚</li><li>å¸ƒå±€æ–‡ä»¶æ˜¯æ ‘å½¢ç»“æ„ï¼Œä½¿ç”¨æ ¹èŠ‚ç‚¹ã€‚</li><li>ä¸€èˆ¬åœ¨å¸ƒå±€æ§ä»¶ä¸­æ”¾ç½®ç•Œé¢æ˜¾ç¤ºç»„å»ºLinearLayoutä¸­æ”¾å…¥textviewæ–‡æœ¬æ ‡ç­¾</li><li>é€šè¿‡èŠ‚ç‚¹å±æ€§è®¾ç½®æ˜¾ç¤ºç•Œé¢ç»„å»ºçš„å±æ€§ï¼šå¤§å°ã€é¢œè‰²å’Œè¾¹è·ç­‰ã€‚</li></ul></li><li><p>å¸ƒå±€ç¤ºä¾‹</p></li><li><p>å¸ƒå±€æ–‡ä»¶èŠ‚ç‚¹å±æ€§ç¤ºä¾‹</p><p><code>android:id=&quot;@+id/button_id&quot;</code></p><ul><li>@è¡¨ç¤ºXMLè§£æå™¨åº”è¯¥è§£æIDå­—ç¬¦ä¸²æŠŠå®ƒä½œä¸ºIDèµ„æºã€‚</li><li>+ç¬¦å·è¡¨ç¤ºä¸€ä¸ªæ–°çš„èµ„æºåå­—ï¼Œä¼šè¢«åˆ›å»ºä¸”åŠ å…¥åˆ°èµ„æºåˆ—è¡¨ä¸­ï¼ˆR.javaï¼‰</li><li>@string/@colorç­‰å¯ç”¨äºè®¿é—®å…¶ä»–èµ„æºã€‚</li><li>ç»„å»ºidåœ¨androidåº”ç”¨ä¸­æ˜¯å”¯ä¸€çš„ã€‚</li></ul></li></ol><table><thead><tr><th>ä¸»é¢˜</th><th align="left">å†…å®¹</th></tr></thead><tbody><tr><td>èµ„æºä½ç½®</td><td align="left">res/layout/my_layout.xml</td></tr><tr><td>å¸ƒå±€XMLæ–‡ä»¶æ ¼å¼</td><td align="left">ä½¿ç”¨&lt;?xml version= â€œ1.0â€encoding=â€utf-8â€ ?&gt;<br>&lt;å¸ƒå±€ç±»xmlns:android=â€<a href="http://schemas.android/">http://schemas.android</a>.<br>Com/apk/res/androidâ€ id= â€œ@id+/string_na<code>&lt;br&gt;</code>meâ€(å±æ€§)&gt;<br>&lt;è§†å›¾ç»„ä»¶æˆ–è€…å…¶ä»–åµŒå¥—å¸ƒå±€ç±»&gt;<br>&lt;requestFocus/&gt;<br>&lt;/å¸ƒå±€ç±»&gt;</td></tr><tr><td>è·å¾—XMLèµ„æºçš„æ–¹æ³•</td><td align="left">Activity.setContentView()</td></tr><tr><td>å¼•ç”¨XMLèµ„æºçš„æ ¼å¼</td><td align="left">Javaä»£ç ä¸­ï¼šR.layout.my_layoutã€‚<br>XMLæ–‡ä»¶ä¸­ï¼š@[package:]layout/my_layout</td></tr><tr><td>èµ„æºä½ç½®</td><td align="left">res/layout/my_layout.xml</td></tr></tbody></table><h2 id="3-6-AndroidManifest-xmlé¡¹ç›®é…ç½®æ–‡ä»¶"><a href="#3-6-AndroidManifest-xmlé¡¹ç›®é…ç½®æ–‡ä»¶" class="headerlink" title="3.6 AndroidManifest.xmlé¡¹ç›®é…ç½®æ–‡ä»¶"></a>3.6 AndroidManifest.xmlé¡¹ç›®é…ç½®æ–‡ä»¶</h2><ol><li><p>ä»€ä¹ˆæ˜¯AndroidManifest.xml</p><p>ä½äºæ ¹ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸å¯ä¿®æ”¹ã€‚</p><p>è¯¥æ–‡ä»¶ä¸­ &lt;manifest&gt;å’Œ &lt;application&gt;æ˜¯å¿…éœ€çš„ä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</p></li><li><p>æè¿°Androidåº”ç”¨ä½¿ç”¨çš„ç»„å»ºå’Œç³»ç»Ÿé…ç½®ä¿¡æ¯</p><ul><li>åº”ç”¨ä½¿ç”¨çš„ç»„å»ºåŠå…¶å®ç°ç±»ï¼ˆActivity/Serviceç­‰ï¼‰</li><li>éœ€è¦ä½¿ç”¨çš„å®‰å“ç³»ç»Ÿæƒé™ã€‚</li><li>å£°æ˜å…¶ä»–åº”ç”¨ç¨‹åºä¸è¯¥åº”ç”¨ç¨‹åºäº¤äº’éœ€è¦çš„æƒé™</li><li>è¯¥åº”ç”¨ç¨‹åºæ‰€éœ€çš„å®‰å“APIç‰ˆæœ¬ã€‚</li><li>åˆ—å‡ºè¯¥åº”ç”¨ç¨‹åºæ‰€éœ€ç±»åº“ã€‚</li></ul></li></ol><h1 id="ç¬¬å››ç« -ç•Œé¢ç¼–ç¨‹ä»»åŠ¡åˆ†æä¸è®¾è®¡"><a href="#ç¬¬å››ç« -ç•Œé¢ç¼–ç¨‹ä»»åŠ¡åˆ†æä¸è®¾è®¡" class="headerlink" title="ç¬¬å››ç«  ç•Œé¢ç¼–ç¨‹ä»»åŠ¡åˆ†æä¸è®¾è®¡"></a>ç¬¬å››ç«  ç•Œé¢ç¼–ç¨‹ä»»åŠ¡åˆ†æä¸è®¾è®¡</h1><h2 id="4-1-å¾ªåºæ¸è¿›"><a href="#4-1-å¾ªåºæ¸è¿›" class="headerlink" title="4.1 å¾ªåºæ¸è¿›"></a>4.1 å¾ªåºæ¸è¿›</h2><ol><li><p>Activityç®€ä»‹</p><ul><li>å®‰å“çš„è§†å›¾ç»„ä»¶ï¼Œå››å¤§ç»„ä»¶ä¹‹ä¸€ã€‚</li><li>å®šä¹‰ç”¨æˆ·å¯ä»¥çœ‹åˆ°è§¦æ‘¸åˆ°çš„ç•Œé¢ã€‚</li><li>æ´»åŠ¨å†…ä½¿ç”¨å„ç§ç•Œé¢ç»„ä»¶ï¼Œå®ç°äº¤äº’åŠ¨ä½œã€‚</li><li>é€šè¿‡æ´»åŠ¨ï¼Œç”¨æˆ·ç•Œé¢ä¹‹é—´åˆ‡æ¢è·³è½¬ã€è¿›è¡Œæ•°æ®ä¼ é€’ã€‚</li></ul></li><li><p>Activityæ¦‚å¿µ</p></li></ol><ul><li>ç”¨æ¥åŒ…è£…ç”¨æˆ·ç•Œé¢ç»„ä»¶çš„å®¹å™¨ï¼Œå®ç°ç”¨æˆ·å’Œç•Œé¢ç»„ä»¶ä¹‹é—´çš„äº¤äº’ã€‚</li></ul><ol start="3"><li><p>æ¡ˆåˆ—åˆ†ææ•™å­¦ç‰¹ç‚¹å’Œæ³¨æ„äº‹é¡¹</p><ul><li>ç•Œé¢ç¼–ç¨‹æ¡ˆä¾‹åˆ†ææ•™å­¦ç‰¹ç‚¹<ul><li>æ¡ˆä¾‹ï¼šåŸºäºå®‰å“ç³»ç»Ÿçš„è®¡ç®—å™¨</li><li>ç‰¹ç‚¹ï¼šæ¡ˆä¾‹é©±åŠ¨ï¼Œå®è·µå…ˆè¡Œ</li><li>ä¼˜åŠ¿ï¼šåœ¨å®è·µä¸­å­¦ä¹ æŠ½è±¡çš„æ¦‚å¿µ</li></ul></li><li>ç•Œé¢ç¼–ç¨‹æ¡ˆä¾‹åˆ†ææ³¨æ„äº‹é¡¹<ul><li>çŸ¥è¯†è¦ç‚¹ï¼šæ´»åŠ¨çš„æ¦‚å¿µå’Œä½¿ç”¨</li><li>åˆ†ææŠ€å·§ï¼šå¦‚ä½•å°†å®é™…ä¸­çš„é—®é¢˜è¿›è¡Œåˆ†æï¼›åˆ†æé—®é¢˜å’Œè§£å†³é—®é¢˜çš„æ–¹æ³•</li><li>ç¼–ç æŠ€å·§ï¼šåœ¨æ¡ˆä¾‹ä¸­å­¦ä¹ ç¼–ç æŠ€å·§</li></ul></li></ul></li><li><p>è®¡ç®—å™¨æ¡ˆä¾‹</p><ul><li><p>æ“ä½œè¿‡ç¨‹ï¼š</p><ol><li><p>ç”¨æˆ·è¾“å…¥ä¸¤ä¸ªè®¡ç®—æ•°ï¼›</p></li><li><p>é€‰æ‹©è®¡ç®—ç±»å‹ï¼›</p></li><li><p>ç‚¹å‡»è®¡ç®—æŒ‰é’®ï¼Œè¿›è¡Œè®¡ç®—</p></li><li><p>å°†ç»“æœå±•ç¤ºç»™ç”¨æˆ·</p></li></ol></li></ul></li></ol><h2 id="4-2-æ´»åŠ¨çš„åˆ›å»ºå’Œä½¿ç”¨"><a href="#4-2-æ´»åŠ¨çš„åˆ›å»ºå’Œä½¿ç”¨" class="headerlink" title="4.2 æ´»åŠ¨çš„åˆ›å»ºå’Œä½¿ç”¨"></a>4.2 æ´»åŠ¨çš„åˆ›å»ºå’Œä½¿ç”¨</h2><ol><li><p>åˆ›å»ºæ´»åŠ¨åº”ç”¨ç¨‹åº</p><ul><li>åº”ç”¨ç¨‹åºé€šå¸¸ç”±å¤šä¸ªæ´»åŠ¨æ¾è€¦åˆçš„ç»„æˆ</li><li>æ´»åŠ¨æ˜¯ç•Œé¢ä¸Šçš„ç»„ä»¶åœ¨å±å¹•ä¸Šå±•ç¤ºçš„å®¹å™¨</li><li>æ´»åŠ¨é€šè¿‡å¸ƒå±€æ–‡ä»¶å±•ç¤ºç•Œé¢å¸ƒå±€çš„å†…å®¹</li><li>æ´»åŠ¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œåˆ©ç”¨å‘¨æœŸçš„æ–¹æ³•æ‰©å±•</li></ul></li><li><p>åˆ›å»ºæ´»åŠ¨æ­¥éª¤</p><ul><li>å£°æ˜æ´»åŠ¨ç±»åï¼Œç»§æ‰¿äºæ´»åŠ¨</li><li>å®ç°<code>onCreate(Bundle bundle)</code>æ–¹æ³•ï¼Œåœ¨ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆæ´»åŠ¨å¯¹è±¡ä¹‹åï¼Œè¿›è¡Œç”¨æˆ·è‡ªå®šä¹‰çš„åˆå§‹åŒ–æ´»åŠ¨</li><li>åœ¨<code>onCreate(View view)</code>è®¾ç½®ç”¨æˆ·ç•Œé¢çš„å¸ƒå±€æ–‡ä»¶</li><li>é€šè¿‡æ´»åŠ¨ä¸­çš„<code>findViewById(int id)</code>è·å–å„ä¸ªç•Œé¢ç»„ä»¶ï¼Œå¹¶åŸºäºå…¶å±æ€§å’Œæ–¹æ³•è¿›è¡Œç›¸åº”çš„æ“ä½œ</li><li>å¦‚æœéœ€è¦åœ¨é”€æ¯æ´»åŠ¨è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥å®ç°<code>onDestroy()</code>çš„æ–¹æ³•ã€‚</li></ul></li></ol><h2 id="4-3-æ´»åŠ¨çš„å£°æ˜å’Œé…ç½®"><a href="#4-3-æ´»åŠ¨çš„å£°æ˜å’Œé…ç½®" class="headerlink" title="4.3 æ´»åŠ¨çš„å£°æ˜å’Œé…ç½®"></a>4.3 æ´»åŠ¨çš„å£°æ˜å’Œé…ç½®</h2><ol><li><p>æ´»åŠ¨çš„å£°æ˜å’Œé…ç½®</p><ul><li><p>æ´»åŠ¨å®šä¹‰åéœ€åœ¨AndroidManifest.xmlä¸­å£°æ˜</p></li><li><p>`&lt;applicationâ€¦/&gt;Â·èŠ‚ç‚¹å†…æ·»åŠ Â·&lt;activityâ€¦/&gt;Â·å­å…ƒç´ </p></li><li><p>åœ¨<code>&lt;activity&gt;</code>å­èŠ‚ç‚¹å†…å®šä¹‰Activityçš„ç±»å‹ï¼ˆå…¥å£æ´»åŠ¨ï¼‰</p></li></ul></li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;activity android:name=<span class="string">&quot;com.quck.android.calculator&quot;</span></span><br><span class="line">android:icon=<span class="string">&quot;@drawable/pic.png&quot;</span></span><br><span class="line">android:label=<span class="string">&quot;@string/app_name&quot;</span> &gt;</span><br><span class="line"><span class="comment">//ç•¥å»å…¶ä¸­å†…å®¹</span></span><br><span class="line">&lt;/activity&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>é…ç½®æ´»åŠ¨â€”â€”ç¤ºä¾‹åˆ†æ</p><p>æ´»åŠ¨çš„ä¸»è¦é…ç½®å±æ€§æœ‰å¦‚ä¸‹ä¸‰ä¸ªï¼š</p><ul><li><p>nameï¼šæŒ‡å®šè¯¥æ´»åŠ¨çš„ç±»å</p></li><li><p>iconï¼šæ˜¯å®šè¯¥æ´»åŠ¨å¯¹è±¡çš„å›¾æ ‡ï¼ˆå¯é€‰ï¼‰</p></li><li><p>labelï¼šæŒ‡å®šè¯¥æ´»åŠ¨çš„æ ‡ç­¾</p></li><li><p>åœ¨<code>&lt;activity&gt;</code>èŠ‚ç‚¹ä¸­æŒ‡å®šä¸€ä¸ªæˆ–è€…å¤šä¸ª<code>&lt;intent-filter.../&gt;</code>å…ƒç´ Intentçš„ç±»å‹å’ŒActionå†³å®šæ´»åŠ¨æ˜¯å¦ä¼šæ¥æ”¶æ¶ˆæ¯ã€‚</p></li></ul></li></ol><h2 id="4-4-æ´»åŠ¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å’Œè°ƒç”¨"><a href="#4-4-æ´»åŠ¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å’Œè°ƒç”¨" class="headerlink" title="4.4 æ´»åŠ¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å’Œè°ƒç”¨"></a>4.4 æ´»åŠ¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å’Œè°ƒç”¨</h2><ol><li><p>æ´»åŠ¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å’Œè°ƒç”¨</p><ul><li>æ´»åŠ¨ä¹‹é—´è·³è½¬ï¼Œéœ€ä¼ é€’æ•°æ®ä¿¡æ¯</li><li>é€šè¿‡Intentæ¥è¿›è¡Œæ•°æ®ä¼ é€’</li><li>æ•°æ®éœ€è¦æ”¾å…¥Intentæˆ–è€…Bundleä¹‹å†…</li></ul></li><li><p>ä»€ä¹ˆæ˜¯Bundleï¼Ÿ</p></li></ol><ul><li>Bundleç±»æ˜¯ä¸€ä¸ªkey-valueå¯¹ï¼Œä¸€ä¸ªæ˜ å°„ï¼ŒæŠŠå­—ç¬¦ä¸²æ˜ å°„ä¸ºå„ç§ç±»å‹ã€‚</li></ul><ol start="3"><li><p>æ•°æ®äº¤æ¢</p><ul><li>å†™å…¥æ•°æ®<ul><li><code>putExtras(Bundle data)</code>å‘Intentä¸­æ”¾å…¥éœ€è¦æºå¸¦çš„Bundleæ•°æ®</li><li><code>putXXX(String key, Xxx data)</code>å‘Bundleæ”¾å…¥Int,Long,Stringç­‰å„ç§ç±»å‹çš„æ•°æ®</li><li><code>putSerializable(String key, Serialzable data)</code>:å‘Bundleä¸­æ”¾å…¥ä¸€ä»½å¯åºåˆ—åŒ–å¯¹è±¡</li></ul></li><li>è¯»å–æ•°æ®<ul><li><code>getExtras()</code>ä»Intentä¸­è¯»å–éœ€è¦æºå¸¦çš„Bundleæ•°æ®</li><li><code>getXXX(String key)</code>ä»Bundleï¼ŒIntentè¯»å–int,Long,Stringç­‰å„ç§ç±»å‹çš„æ•°æ®</li><li><code>getSerializable(String key)</code>ä»Bundleï¼ŒIntentä¸­è¯»å–ä¸€ä¸ªå¯åºåˆ—åŒ–çš„å¯¹è±¡</li></ul></li><li>æ´»åŠ¨äº¤æ¢ç¤ºä¾‹</li><li>Intent vs Bundle<ul><li>ç›¸åŒç‚¹ï¼šä¼ é€’æ•°æ®æ—¶ï¼Œä½œç”¨ç›¸åŒ</li><li>ä¸åŒç‚¹ï¼šåœ¨å¤šä¸ªæ´»åŠ¨ä¹‹é—´ä¼ é€’ç›¸åŒæ•°æ®æ—¶ï¼Œæ¨èä½¿ç”¨Bundleæ¥å‚¨å­˜å’Œä¼ é€’æ•°æ®ï¼Œå‡å°‘é‡å¤çš„è¯»å†™æ“ä½œ</li><li>ä¾‹ï¼šæ´»åŠ¨è·³è½¬A-&gt;B-&gt;Cä¼ é€’ç›¸åŒæ•°æ®<ul><li>å¦‚æœä½¿ç”¨Intentï¼Œåˆ™éœ€è¦åœ¨Aã€Bã€Cçš„Intentä¹‹é—´è¿›è¡Œæ•°æ®çš„å¤åˆ¶</li><li>å¦‚æœä½¿ç”¨Bundleï¼Œåˆ™å¯ç›´æ¥ä¼ é€’Bundleå¯¹è±¡å³å¯</li></ul></li></ul></li></ul></li><li><p>è¿”å›æ•°æ®</p><ul><li><p><code>startActivityForResult(Intent intent, int requestCode)</code></p><p>è·³è½¬åˆ°æŒ‡å®šçš„æ´»åŠ¨</p><p>å‚æ•°intentï¼šæŒ‡å®šç›®çš„æ´»åŠ¨ç±»å</p><p>å‚æ•°requestCodeï¼šç”±ç¨‹åºä¸­è‡ªå®šä¹‰çš„è¯†åˆ«ç ï¼Œç”¨ä»¥åŒºåˆ†ä¸åŒçš„ä¸ƒç‚¹æ´»åŠ¨</p></li><li><p><code>setResult(int resultCode, Intent data)</code></p><p>è®¾ç½®resultCodeè¡¨ç¤ºç»“æœçš„Activityï¼Œç¬¬äºŒä¸ªå‚æ•°ä¿å­˜ä¼ é€’çš„ç»“æœæ•°æ®</p></li><li><p><code>onActivityResult(int requestCode, int resultCode, Intent data)</code></p><p>å‚æ•°requestCodeï¼šèµ·ç‚¹æ´»åŠ¨å®šä¹‰å”¯ä¸€å€¼</p><p>å‚æ•°resultCodeï¼šç›®çš„æ´»åŠ¨å®šä¹‰çš„å”¯ä¸€æ ‡è¯†å€¼</p><p>å‚æ•°dataï¼šä»å¢“åœ°æ´»åŠ¨è¿”å›çš„æ•°æ®</p></li></ul></li><li><p>æ•°æ®ä½¿ç”¨æ­¥éª¤</p><ul><li>èµ·ç‚¹æ´»åŠ¨ï¼Œè°ƒç”¨<code>startActivityForResult()</code>è·³è½¬ç›®çš„æ´»åŠ¨</li><li>åœ¨ç›®çš„æ´»åŠ¨ä¸­è°ƒç”¨<code>setResult()</code></li><li>åœ¨èµ·ç‚¹æ´»åŠ¨è¦†å†™<code>onActivityResult()</code>åœ¨æ–¹æ³•å†…è·å–ç›®çš„æ´»åŠ¨è¿”å›çš„æ•°æ®</li></ul></li></ol><h1 id="ç¬¬äº”ç« -æœåŠ¡å¼€å‘å’Œå¹¿æ’­äº‹ä»¶"><a href="#ç¬¬äº”ç« -æœåŠ¡å¼€å‘å’Œå¹¿æ’­äº‹ä»¶" class="headerlink" title="ç¬¬äº”ç«  æœåŠ¡å¼€å‘å’Œå¹¿æ’­äº‹ä»¶"></a>ç¬¬äº”ç«  æœåŠ¡å¼€å‘å’Œå¹¿æ’­äº‹ä»¶</h1><h2 id="5-1-å¾ªåºæ¸è¿›"><a href="#5-1-å¾ªåºæ¸è¿›" class="headerlink" title="5.1 å¾ªåºæ¸è¿›"></a>5.1 å¾ªåºæ¸è¿›</h2><ul><li><p>æ¡ˆåˆ—ï¼šéŸ³ä¹æ’­æ”¾å™¨</p><ul><li><p>ä»»åŠ¡æ¦‚è¿°</p></li><li><p>åŠŸèƒ½åˆ†æ</p><p>ç•Œé¢è®¾è®¡</p><p>å®ç°æš‚åœã€æ’­æ”¾å’Œåœæ­¢</p><p>æ’­æ”¾åŒæ—¶ï¼Œæ˜¾ç¤ºæ­Œæ‰‹å’ŒéŸ³ä¹åç§°</p></li><li><p>ç”¨æˆ·ç•Œé¢è®¾è®¡</p><p>ä¸»ç•Œé¢</p></li><li><p>æŠ€æœ¯è¦ç‚¹</p><p>æœåŠ¡çš„åˆ›å»ºã€è°ƒç”¨</p><p>æœåŠ¡å’Œæ´»åŠ¨ä¹‹é—´çš„é€šä¿¡</p><p>Intentå¯¹è±¡çš„ä½¿ç”¨</p></li><li><p>æ¡ˆä¾‹æ¼”ç¤º</p></li></ul></li><li><p>æ¡ˆä¾‹ä»»åŠ¡åˆ†æå’Œè®¾è®¡</p><p>éŸ³ä¹æ’­æ”¾å™¨ç•Œé¢åˆ†æ</p></li><li><p>æ ¸å¿ƒä»£ç è®¾è®¡å’Œå®ç°</p><p>æ ¸å¿ƒä»£ç ç¼–å†™æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºå®‰å“é¡¹ç›®MusicBox</li><li>åœ¨res/loyoutç›®å½•ï¼Œåˆ›å»ºæ’­æ”¾å™¨çš„ä¸»ç•Œé¢å¸ƒå±€æ–‡ä»¶</li><li>å®šä¹‰ä¸€ä¸ªMusicBoxContantçš„å¸¸é‡ç±»å­˜æ”¾ç¨‹åºä¸­ç”¨åˆ°çš„é™æ€æˆ–ä¸å˜çš„ä¿¡æ¯</li><li>åˆ›å»ºéŸ³ä¹æ’­æ”¾å™¨çš„æœåŠ¡ç±»</li><li>åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜æœåŠ¡ç±»</li><li>å®šä¹‰å®ç°éŸ³ä¹æ’­æ”¾å™¨çš„ä¸»ç•Œé¢</li><li>å®šä¹‰äº‹é¡¹ActicityReciveräº‹ä»¶æ¥æ”¶å™¨ï¼Œæ¥å—éŸ³ä¹æœåŠ¡çŠ¶æ€å˜åŒ–å¹¿æ’­äº‹ä»¶çš„æ¥æ”¶å™¨</li><li>å®šä¹‰å®ç°æŒ‰é’®äº‹ä»¶æ¥æ”¶å™¨ï¼Œæ’­æ”¾å’Œåœæ­¢æŒ‰é’®ï¼Œå‘é€å¹¿æ’­äº‹ä»¶</li></ol></li></ul><h2 id="5-2-å®‰å“ä¸­çš„ç³»ç»ŸæœåŠ¡"><a href="#5-2-å®‰å“ä¸­çš„ç³»ç»ŸæœåŠ¡" class="headerlink" title="5.2 å®‰å“ä¸­çš„ç³»ç»ŸæœåŠ¡"></a>5.2 å®‰å“ä¸­çš„ç³»ç»ŸæœåŠ¡</h2><ul><li><p>å®‰å“å°†è¯¸å¤šå¸¸ç”¨åŠŸèƒ½å†…ç½®ä¸ºç³»ç»ŸæœåŠ¡</p></li><li><p>æä¾›ç®€å•çš„è·å–ç³»ç»ŸæœåŠ¡çš„æ–¹å¼</p></li><li><p>ç³»ç»ŸæœåŠ¡æ¶µç›–äº†å®‰å“ç»å¤§éƒ¨åˆ†å¸¸ç”¨åŠŸèƒ½ï¼Œå¦‚ï¼Œæ‹¨æ‰“ç”µè¯ï¼Œå‘é€çŸ­ä¿¡</p></li></ul><ol><li><p>å®‰å“ä¸­è·å–ç³»ç»ŸæœåŠ¡</p><ul><li><p>è·å–ç³»ç»ŸæœåŠ¡ä»£ç ç¤ºä¾‹</p><p><code>TelephonyManager phoneManager=(TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);</code></p></li><li><p>å¼ºåˆ¶ç±»å‹è½¬åŒ–</p><ul><li>åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå°†çˆ¶ç±»å‹å¯¹è±¡è½¬åŒ–ä¸ºå­ç±»å‹å¯¹è±¡ã€‚</li><li>ç”±äºå­ç±»å‹ç›¸æ¯”çˆ¶ç±»å‹çš„å†…æ¶µä¸°å¯Œï¼Œå±æ€§æ–¹æ³•æ›´å¤šï¼Œæ‰€ä»¥è¦æŠŠçˆ¶ç±»å‹è½¬åŒ–ä¸ºå­ç±»å‹æ—¶ï¼Œéœ€è¦å¼ºåˆ¶è½¬åŒ–ï¼Œæˆä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</li><li>å¹¶ä¸æ˜¯æ‰€æœ‰çˆ¶ç±»å‹éƒ½å¯ä»¥è½¬åŒ–ä¸ºå­ç±»å‹ï¼Œè¦æ ¹æ®å…·ä½“çš„ä½¿ç”¨æƒ…å†µæ¥åšå…·ä½“çš„åˆ¤æ–­ã€‚</li></ul></li></ul></li></ol><h2 id="5-3-å¹¿æ’­æ¥æ”¶æœºåˆ¶"><a href="#5-3-å¹¿æ’­æ¥æ”¶æœºåˆ¶" class="headerlink" title="5.3 å¹¿æ’­æ¥æ”¶æœºåˆ¶"></a>5.3 å¹¿æ’­æ¥æ”¶æœºåˆ¶</h2><ol><li><p>å¹¿æ’­æ¶ˆæ¯</p><ul><li>å¹¿æ’­æ˜¯ä¸€ç§åœ¨åº”ç”¨ç¨‹åºä¹‹é—´ä¼ è¾“ä¿¡æ¯çš„è®¡æŒ‡</li><li>BroadcastReceiverå¹¿æ’­æ¥æ”¶è€…</li><li>å¹¿æ’­æ¶ˆæ¯Intentï¼ˆæ¶ˆæ¯è½½ä½“ï¼‰</li><li>è¢«è®¢é˜…å¹¿æ’­çš„å¤šä¸ªå¹¿æ’­æ¥æ”¶è€…æ¥æ”¶</li><li>æ¶ˆæ¯è®¢é˜…è€…ä¸äº†è§£å‘é€è€…</li></ul></li><li><p>å¹¿æ’­æ¥æ”¶è€…</p><ul><li>BroadcastReceiverå¯¹å‘å‡ºçš„å¹¿æ’­äº‹ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œåº”ç”¨ç¨‹åºé€šçŸ¥å…¶ä»–åº”ç”¨ç¨‹åºæŸäº›æ•°æ®å·²ç»ä¸‹è½½å®Œæ¯•ã€‚</li><li>å¹¿æ’­æ¥æ”¶è€…æ²¡æœ‰å›¾å½¢ç•Œé¢</li><li>å¹¿æ’­å¯ä»¥æœ‰å¤šä¸ªæ¥æ”¶è€…ï¼Œå½¼æ­¤ä¸çŸ¥æ™“ã€‚å¹¿æ’­æ¥æ”¶è€…ä¹‹é—´åŒ¿å</li></ul></li><li><p>ç›‘å¬å¹¿æ’­æœºåˆ¶</p><ul><li>å¹¿æ’­å’Œäº‹ä»¶ç›‘å¬å™¨æ˜¯åˆ†ç¦»çš„</li><li>é€šè¿‡å®‰å“ç³»ç»Ÿè¿›è¡Œå¹¿æ’­ã€æ¥æ”¶å¹¿æ’­äº‹ä»¶</li><li>æ³¨å†Œå’Œç§»é™¤ç›‘å¬é€šè¿‡å®‰å“ç³»ç»Ÿæ¥å®Œæˆ</li><li>å®‰å“ç³»ç»Ÿæä¾›å¾ˆå¤šå¹¿æ’­å®šä¹‰åœ¨<code>android.content.Intent</code>ç±»ä¸­</li></ul></li><li><p>å¹¿æ’­æ–¹æ³•</p><p><code>sendBroadcast()</code>:æ™®é€šæ¨¡å¼</p><ul><li>æ‰€æœ‰æ³¨å†Œäº†å¹¿æ’­çš„æ¥æ”¶è€…ä¼šè·å¾—äº‹ä»¶é€šçŸ¥</li><li>æ¥æ”¶è€…æ¥å—é¡ºåºä¸ç¡®å®šå¹¶å‘åœ°åœ¨å„è‡ªçš„åº”ç”¨è¿›ç¨‹ä¸­æ‰§è¡Œ</li><li>æ¥æ”¶è€…å’Œå‘é€è€…ä¸çŸ¥æ™“</li></ul><p><code>sendOrderedBroadcast()</code>:æœ‰åºå¹¿æ’­æ¨¡å¼</p><ul><li><p>æ¥æ”¶è€…ä¾ç…§è®¾å®šçš„ä¼˜å…ˆçº§é«˜ä½ä¾æ¬¡æ¥å—</p></li><li><p>é«˜ä¼˜å…ˆçº§æ¥æ”¶è€…å¯ä»¥ä¸­æ–­åç»­å¹¿æ’­çš„æ¥æ”¶ï¼Œ<code>BroadcastReceiver.abortBroadcast()</code>ç»ˆæ­¢è¿™ä¸ªå¹¿æ’­äº‹ä»¶çš„ä¼ æ’­ï¼Œä½ä¼˜å…ˆçº§çš„è§¦å‘å™¨ç»„ä»¶ä¸å†æœ‰æœºä¼šæ¥æ”¶</p></li><li><p>é«˜ä¼˜å…ˆçº§æ¥æ”¶è€…å¯æ·»åŠ é¢å¤–ä¿¡æ¯ç»™åç»­æ¥æ”¶è€…</p><p><code>BroadcastReceiver.setResult()</code></p></li></ul></li><li><p>ç›‘å¬å¹¿æ’­å®ç°</p><ul><li>è·å–å¹¿æ’­äº‹ä»¶çš„æ¶ˆæ¯æ¥å£åç§°</li><li>äº‹ä»¶å®šåˆ¶çš„å¹¿æ’­æ¥æ”¶å™¨ï¼Œæ·»åŠ ç›¸åº”çš„å¤„ç†é€»è¾‘</li><li>æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨åˆ°å®‰å“ç³»ç»Ÿä¸­</li></ul></li><li><p>ç›‘å¬å¹¿æ’­å®ç°ç¤ºä¾‹</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBroadcastReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span></span>&#123;</span><br><span class="line"><span class="comment">//actionåç§°ï¼Œæ­¤ä¸ºå›ºå®šçš„å­—ç¬¦</span></span><br><span class="line">String SMS_RECEIVED=<span class="string">&quot;android.provider.Telephony.SMS_RECEIVED&quot;</span>;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(COntext context, Intent intent)</span></span>&#123;</span><br><span class="line"><span class="comment">//å¦‚äº‹ä»¶æœ‰çŸ­ä¿¡æ¥æ”¶ï¼Œåˆ™æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">if</span>(intent.getAction().quals(SMS_RECEIVED))&#123;</span><br><span class="line"><span class="comment">//è¿›è¡ŒçŸ­ä¿¡æ¥æ”¶åˆ°ä¹‹åçš„é€»è¾‘å¤„ç†</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="7"><li><p>ç›‘å¬å¹¿æ’­æ³¨å†Œ</p><p>åœ¨manifestä¸­æ³¨å†Œç›‘å¬å™¨</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--å£°æ˜æ¥æ”¶å™¨--&gt;</span><br><span class="line">&lt;receiver android:name = <span class="string">&quot;.MyBroadReceiver&quot;</span>&gt;</span><br><span class="line">&lt;!--æ¥æ”¶äº‹ä»¶çš„è¿‡æ»¤æ¡ä»¶å£°æ˜å’Œä¼˜å…ˆçº§--&gt;</span><br><span class="line">&lt;intent-filter android:priority=<span class="string">&quot;1000&quot;</span>&gt;</span><br><span class="line">&lt;!--æ”¯æŒæ¥æ”¶çš„äº‹ä»¶ç±»å‹--&gt;</span><br><span class="line">&lt;action android:name=<span class="string">&quot;android.provider.Telephony.SMS_RECEIVED&quot;</span>/&gt;</span><br><span class="line">     &lt;/intent-filter&gt;</span><br><span class="line">&lt;/receiver&gt;</span><br><span class="line">&lt;!--ç›‘å¬ç³»ç»Ÿçº§äº‹ä»¶ï¼Œéœ€è¦ç›¸åº”çš„æƒé™ï¼šæ¥æ”¶è€…å’Œå‘é€çŸ­ä¿¡çš„æƒé™--&gt;</span><br><span class="line">&lt;uses-permission android:name=<span class="string">&quot;android.permission.RECEIVE_SMS&quot;</span>/&gt;</span><br><span class="line">    &lt;uses-permission android:name=<span class="string">&quot;android.permission.SEND_SMS&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><p>   åœ¨è¿è¡Œä»£ç ä¸­æ³¨å†Œå¹¿æ’­ç›‘å¬å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºç›‘å¬å™¨å¯¹è±¡</span></span><br><span class="line">MyBroadcastReceiver myMsgInfoReceiver=<span class="keyword">new</span> MyBroadcastReceiver();</span><br><span class="line"><span class="comment">//å£°æ˜IntentFilterï¼Œæè¿°å¯ä»¥æ¥æ”¶çš„å¹¿æ’­æ¶ˆæ¯</span></span><br><span class="line">IntentFilter intentFilter=<span class="keyword">new</span> IntentFilter(<span class="string">&quot;android.provider.Telephony.SMS_RECEIED&quot;</span>);</span><br><span class="line"><span class="comment">//è°ƒç”¨Activityçš„æ–¹æ³•ï¼Œæ³¨å†Œç›‘å¬å™¨</span></span><br><span class="line">registerReceiver(mBatteryInfoReceiver,intentFilter)</span><br></pre></td></tr></table></figure><ol start="8"><li><p>å¹¿æ’­äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ</p><ul><li>å¹¿æ’­æ¶ˆæ¯åˆ°æ¥ï¼Œæ–°å»ºBroadcastReceiverå¯¹è±¡</li><li>è°ƒç”¨<code>onReceive()</code>æ–¹æ³•ï¼Œæ‰§è¡Œæ“ä½œ</li><li>æ“ä½œå®Œæˆåï¼Œå¯¹è±¡è¢«é”€æ¯</li><li>äº‹ä»¶å‡ºå‘â€”&gt;åˆ›å»ºäº‹ä»¶ç›‘å¬å™¨å¯¹è±¡â€”&gt;è°ƒç”¨ç›‘å¬å™¨çš„<code>onReceiver()</code>â€”&gt;é”€æ¯äº‹ä»¶ç›‘å¬å™¨çš„å¯¹è±¡â€”&gt;ç»“æŸæ“ä½œï¼Œè¿”å›</li></ul></li><li><p>å¹¿æ’­äº‹ä»¶æ³¨æ„äº‹é¡¹</p><ul><li>åœ¨å¹¿æ’­æ¥æ”¶å™¨ä¸­å“åº”é€»è¾‘ä¸­ä¸èƒ½æ‰§è¡Œæ¯”è¾ƒè€—æ—¶çš„æ“ä½œ</li><li>åœ¨onReceive()æ–¹æ³•ä¸­æ‰§è¡Œè¶…è¿‡10ç§’ï¼Œå°±ä¼šå¼¹å‡ºæ— å“åº”å¯¹è¯æ¡†ã€‚</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å“ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
